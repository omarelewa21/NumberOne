var hQ=Object.defineProperty,yQ=Object.defineProperties;var bQ=Object.getOwnPropertyDescriptors;var DL=Object.getOwnPropertySymbols;var qY=Object.prototype.hasOwnProperty,GY=Object.prototype.propertyIsEnumerable;var kT=(p,v)=>(v=Symbol[p])?v:Symbol.for("Symbol."+p),vQ=p=>{throw TypeError(p)};var ZY=(p,v,E)=>v in p?hQ(p,v,{enumerable:!0,configurable:!0,writable:!0,value:E}):p[v]=E,ie=(p,v)=>{for(var E in v||(v={}))qY.call(v,E)&&ZY(p,E,v[E]);if(DL)for(var E of DL(v))GY.call(v,E)&&ZY(p,E,v[E]);return p},Pt=(p,v)=>yQ(p,bQ(v));var sC=(p,v)=>{var E={};for(var z in p)qY.call(p,z)&&v.indexOf(z)<0&&(E[z]=p[z]);if(p!=null&&DL)for(var z of DL(p))v.indexOf(z)<0&&GY.call(p,z)&&(E[z]=p[z]);return E};var wQ=(p,v)=>()=>(v||p((v={exports:{}}).exports,v),v.exports);var Nf=(p,v,E)=>new Promise((z,F)=>{var H=Re=>{try{Y(E.next(Re))}catch(Ue){F(Ue)}},q=Re=>{try{Y(E.throw(Re))}catch(Ue){F(Ue)}},Y=Re=>Re.done?z(Re.value):Promise.resolve(Re.value).then(H,q);Y((E=E.apply(p,v)).next())}),rC=function(p,v){this[0]=p,this[1]=v},uG=(p,v,E)=>{var z=(q,Y,Re,Ue)=>{try{var Xe=E[q](Y),$t=(Y=Xe.value)instanceof rC,zt=Xe.done;Promise.resolve($t?Y[0]:Y).then(Bt=>$t?z(q==="return"?q:"next",Y[1]?{done:Bt.done,value:Bt.value}:Bt,Re,Ue):Re({value:Bt,done:zt})).catch(Bt=>z("throw",Bt,Re,Ue))}catch(Bt){Ue(Bt)}},F=q=>H[q]=Y=>new Promise((Re,Ue)=>z(q,Y,Re,Ue)),H={};return E=E.apply(p,v),H[kT("asyncIterator")]=()=>H,F("next"),F("throw"),F("return"),H},dG=p=>{var v=p[kT("asyncIterator")],E=!1,z,F={};return v==null?(v=p[kT("iterator")](),z=H=>F[H]=q=>v[H](q)):(v=v.call(p),z=H=>F[H]=q=>{if(E){if(E=!1,H==="throw")throw q;return q}return E=!0,{done:!1,value:new rC(new Promise(Y=>{var Re=v[H](q);Re instanceof Object||vQ("Object expected"),Y(Re)}),1)}}),F[kT("iterator")]=()=>F,z("next"),"throw"in v?z("throw"):F.throw=H=>{throw H},"return"in v&&z("return"),F},KY=(p,v,E)=>(v=p[kT("asyncIterator")])?v.call(p):(p=p[kT("iterator")](),v={},E=(z,F)=>(F=p[z])&&(v[z]=H=>new Promise((q,Y,Re)=>(H=F.call(p,H),Re=H.done,Promise.resolve(H.value).then(Ue=>q({value:Ue,done:Re}),Y)))),E("next"),E("return"),v);var roe=wQ(Fz=>{function SX(p,v){return function(){return p.apply(v,arguments)}}const{toString:kQ}=Object.prototype,{getPrototypeOf:WG}=Object,ZL=(p=>v=>{const E=kQ.call(v);return p[E]||(p[E]=E.slice(8,-1).toLowerCase())})(Object.create(null)),Wp=p=>(p=p.toLowerCase(),v=>ZL(v)===p),qL=p=>v=>typeof v===p,{isArray:ST}=Array,Dz=qL("undefined");function _Q(p){return p!==null&&!Dz(p)&&p.constructor!==null&&!Dz(p.constructor)&&Cm(p.constructor.isBuffer)&&p.constructor.isBuffer(p)}const xX=Wp("ArrayBuffer");function CQ(p){let v;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?v=ArrayBuffer.isView(p):v=p&&p.buffer&&xX(p.buffer),v}const SQ=qL("string"),Cm=qL("function"),EX=qL("number"),GL=p=>p!==null&&typeof p=="object",xQ=p=>p===!0||p===!1,BL=p=>{if(ZL(p)!=="object")return!1;const v=WG(p);return(v===null||v===Object.prototype||Object.getPrototypeOf(v)===null)&&!(Symbol.toStringTag in p)&&!(Symbol.iterator in p)},EQ=Wp("Date"),TQ=Wp("File"),AQ=Wp("Blob"),OQ=Wp("FileList"),DQ=p=>GL(p)&&Cm(p.pipe),RQ=p=>{let v;return p&&(typeof FormData=="function"&&p instanceof FormData||Cm(p.append)&&((v=ZL(p))==="formdata"||v==="object"&&Cm(p.toString)&&p.toString()==="[object FormData]"))},zQ=Wp("URLSearchParams"),[NQ,MQ,PQ,BQ]=["ReadableStream","Request","Response","Headers"].map(Wp),$Q=p=>p.trim?p.trim():p.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zz(p,v,{allOwnKeys:E=!1}={}){if(p===null||typeof p=="undefined")return;let z,F;if(typeof p!="object"&&(p=[p]),ST(p))for(z=0,F=p.length;z<F;z++)v.call(null,p[z],z,p);else{const H=E?Object.getOwnPropertyNames(p):Object.keys(p),q=H.length;let Y;for(z=0;z<q;z++)Y=H[z],v.call(null,p[Y],Y,p)}}function TX(p,v){v=v.toLowerCase();const E=Object.keys(p);let z=E.length,F;for(;z-- >0;)if(F=E[z],v===F.toLowerCase())return F;return null}const cC=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,AX=p=>!Dz(p)&&p!==cC;function kG(){const{caseless:p}=AX(this)&&this||{},v={},E=(z,F)=>{const H=p&&TX(v,F)||F;BL(v[H])&&BL(z)?v[H]=kG(v[H],z):BL(z)?v[H]=kG({},z):ST(z)?v[H]=z.slice():v[H]=z};for(let z=0,F=arguments.length;z<F;z++)arguments[z]&&zz(arguments[z],E);return v}const FQ=(p,v,E,{allOwnKeys:z}={})=>(zz(v,(F,H)=>{E&&Cm(F)?p[H]=SX(F,E):p[H]=F},{allOwnKeys:z}),p),IQ=p=>(p.charCodeAt(0)===65279&&(p=p.slice(1)),p),LQ=(p,v,E,z)=>{p.prototype=Object.create(v.prototype,z),p.prototype.constructor=p,Object.defineProperty(p,"super",{value:v.prototype}),E&&Object.assign(p.prototype,E)},HQ=(p,v,E,z)=>{let F,H,q;const Y={};if(v=v||{},p==null)return v;do{for(F=Object.getOwnPropertyNames(p),H=F.length;H-- >0;)q=F[H],(!z||z(q,p,v))&&!Y[q]&&(v[q]=p[q],Y[q]=!0);p=E!==!1&&WG(p)}while(p&&(!E||E(p,v))&&p!==Object.prototype);return v},VQ=(p,v,E)=>{p=String(p),(E===void 0||E>p.length)&&(E=p.length),E-=v.length;const z=p.indexOf(v,E);return z!==-1&&z===E},UQ=p=>{if(!p)return null;if(ST(p))return p;let v=p.length;if(!EX(v))return null;const E=new Array(v);for(;v-- >0;)E[v]=p[v];return E},jQ=(p=>v=>p&&v instanceof p)(typeof Uint8Array!="undefined"&&WG(Uint8Array)),WQ=(p,v)=>{const z=(p&&p[Symbol.iterator]).call(p);let F;for(;(F=z.next())&&!F.done;){const H=F.value;v.call(p,H[0],H[1])}},ZQ=(p,v)=>{let E;const z=[];for(;(E=p.exec(v))!==null;)z.push(E);return z},qQ=Wp("HTMLFormElement"),GQ=p=>p.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(E,z,F){return z.toUpperCase()+F}),YY=(({hasOwnProperty:p})=>(v,E)=>p.call(v,E))(Object.prototype),KQ=Wp("RegExp"),OX=(p,v)=>{const E=Object.getOwnPropertyDescriptors(p),z={};zz(E,(F,H)=>{let q;(q=v(F,H,p))!==!1&&(z[H]=q||F)}),Object.defineProperties(p,z)},YQ=p=>{OX(p,(v,E)=>{if(Cm(p)&&["arguments","caller","callee"].indexOf(E)!==-1)return!1;const z=p[E];if(Cm(z)){if(v.enumerable=!1,"writable"in v){v.writable=!1;return}v.set||(v.set=()=>{throw Error("Can not rewrite read-only method '"+E+"'")})}})},XQ=(p,v)=>{const E={},z=F=>{F.forEach(H=>{E[H]=!0})};return ST(p)?z(p):z(String(p).split(v)),E},JQ=()=>{},QQ=(p,v)=>p!=null&&Number.isFinite(p=+p)?p:v,fG="abcdefghijklmnopqrstuvwxyz",XY="0123456789",DX={DIGIT:XY,ALPHA:fG,ALPHA_DIGIT:fG+fG.toUpperCase()+XY},eee=(p=16,v=DX.ALPHA_DIGIT)=>{let E="";const{length:z}=v;for(;p--;)E+=v[Math.random()*z|0];return E};function tee(p){return!!(p&&Cm(p.append)&&p[Symbol.toStringTag]==="FormData"&&p[Symbol.iterator])}const nee=p=>{const v=new Array(10),E=(z,F)=>{if(GL(z)){if(v.indexOf(z)>=0)return;if(!("toJSON"in z)){v[F]=z;const H=ST(z)?[]:{};return zz(z,(q,Y)=>{const Re=E(q,F+1);!Dz(Re)&&(H[Y]=Re)}),v[F]=void 0,H}}return z};return E(p,0)},oee=Wp("AsyncFunction"),see=p=>p&&(GL(p)||Cm(p))&&Cm(p.then)&&Cm(p.catch),RX=((p,v)=>p?setImmediate:v?((E,z)=>(cC.addEventListener("message",({source:F,data:H})=>{F===cC&&H===E&&z.length&&z.shift()()},!1),F=>{z.push(F),cC.postMessage(E,"*")}))(`axios@${Math.random()}`,[]):E=>setTimeout(E))(typeof setImmediate=="function",Cm(cC.postMessage)),ree=typeof queueMicrotask!="undefined"?queueMicrotask.bind(cC):typeof process!="undefined"&&process.nextTick||RX,wn={isArray:ST,isArrayBuffer:xX,isBuffer:_Q,isFormData:RQ,isArrayBufferView:CQ,isString:SQ,isNumber:EX,isBoolean:xQ,isObject:GL,isPlainObject:BL,isReadableStream:NQ,isRequest:MQ,isResponse:PQ,isHeaders:BQ,isUndefined:Dz,isDate:EQ,isFile:TQ,isBlob:AQ,isRegExp:KQ,isFunction:Cm,isStream:DQ,isURLSearchParams:zQ,isTypedArray:jQ,isFileList:OQ,forEach:zz,merge:kG,extend:FQ,trim:$Q,stripBOM:IQ,inherits:LQ,toFlatObject:HQ,kindOf:ZL,kindOfTest:Wp,endsWith:VQ,toArray:UQ,forEachEntry:WQ,matchAll:ZQ,isHTMLForm:qQ,hasOwnProperty:YY,hasOwnProp:YY,reduceDescriptors:OX,freezeMethods:YQ,toObjectSet:XQ,toCamelCase:GQ,noop:JQ,toFiniteNumber:QQ,findKey:TX,global:cC,isContextDefined:AX,ALPHABET:DX,generateString:eee,isSpecCompliantForm:tee,toJSONObject:nee,isAsyncFn:oee,isThenable:see,setImmediate:RX,asap:ree};function hr(p,v,E,z,F){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=p,this.name="AxiosError",v&&(this.code=v),E&&(this.config=E),z&&(this.request=z),F&&(this.response=F,this.status=F.status?F.status:null)}wn.inherits(hr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:wn.toJSONObject(this.config),code:this.code,status:this.status}}});const zX=hr.prototype,NX={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(p=>{NX[p]={value:p}});Object.defineProperties(hr,NX);Object.defineProperty(zX,"isAxiosError",{value:!0});hr.from=(p,v,E,z,F,H)=>{const q=Object.create(zX);return wn.toFlatObject(p,q,function(Re){return Re!==Error.prototype},Y=>Y!=="isAxiosError"),hr.call(q,p.message,v,E,z,F),q.cause=p,q.name=p.name,H&&Object.assign(q,H),q};const aee=null;function _G(p){return wn.isPlainObject(p)||wn.isArray(p)}function MX(p){return wn.endsWith(p,"[]")?p.slice(0,-2):p}function JY(p,v,E){return p?p.concat(v).map(function(F,H){return F=MX(F),!E&&H?"["+F+"]":F}).join(E?".":""):v}function cee(p){return wn.isArray(p)&&!p.some(_G)}const iee=wn.toFlatObject(wn,{},null,function(v){return/^is[A-Z]/.test(v)});function KL(p,v,E){if(!wn.isObject(p))throw new TypeError("target must be an object");v=v||new FormData,E=wn.toFlatObject(E,{metaTokens:!0,dots:!1,indexes:!1},!1,function(It,Me){return!wn.isUndefined(Me[It])});const z=E.metaTokens,F=E.visitor||Xe,H=E.dots,q=E.indexes,Re=(E.Blob||typeof Blob!="undefined"&&Blob)&&wn.isSpecCompliantForm(v);if(!wn.isFunction(F))throw new TypeError("visitor must be a function");function Ue(lt){if(lt===null)return"";if(wn.isDate(lt))return lt.toISOString();if(!Re&&wn.isBlob(lt))throw new hr("Blob is not supported. Use a Buffer instead.");return wn.isArrayBuffer(lt)||wn.isTypedArray(lt)?Re&&typeof Blob=="function"?new Blob([lt]):Buffer.from(lt):lt}function Xe(lt,It,Me){let tt=lt;if(lt&&!Me&&typeof lt=="object"){if(wn.endsWith(It,"{}"))It=z?It:It.slice(0,-2),lt=JSON.stringify(lt);else if(wn.isArray(lt)&&cee(lt)||(wn.isFileList(lt)||wn.endsWith(It,"[]"))&&(tt=wn.toArray(lt)))return It=MX(It),tt.forEach(function(ae,vt){!(wn.isUndefined(ae)||ae===null)&&v.append(q===!0?JY([It],vt,H):q===null?It:It+"[]",Ue(ae))}),!1}return _G(lt)?!0:(v.append(JY(Me,It,H),Ue(lt)),!1)}const $t=[],zt=Object.assign(iee,{defaultVisitor:Xe,convertValue:Ue,isVisitable:_G});function Bt(lt,It){if(!wn.isUndefined(lt)){if($t.indexOf(lt)!==-1)throw Error("Circular reference detected in "+It.join("."));$t.push(lt),wn.forEach(lt,function(tt,qe){(!(wn.isUndefined(tt)||tt===null)&&F.call(v,tt,wn.isString(qe)?qe.trim():qe,It,zt))===!0&&Bt(tt,It?It.concat(qe):[qe])}),$t.pop()}}if(!wn.isObject(p))throw new TypeError("data must be an object");return Bt(p),v}function QY(p){const v={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(p).replace(/[!'()~]|%20|%00/g,function(z){return v[z]})}function ZG(p,v){this._pairs=[],p&&KL(p,this,v)}const PX=ZG.prototype;PX.append=function(v,E){this._pairs.push([v,E])};PX.toString=function(v){const E=v?function(z){return v.call(this,z,QY)}:QY;return this._pairs.map(function(F){return E(F[0])+"="+E(F[1])},"").join("&")};function lee(p){return encodeURIComponent(p).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function BX(p,v,E){if(!v)return p;const z=E&&E.encode||lee,F=E&&E.serialize;let H;if(F?H=F(v,E):H=wn.isURLSearchParams(v)?v.toString():new ZG(v,E).toString(z),H){const q=p.indexOf("#");q!==-1&&(p=p.slice(0,q)),p+=(p.indexOf("?")===-1?"?":"&")+H}return p}class eX{constructor(){this.handlers=[]}use(v,E,z){return this.handlers.push({fulfilled:v,rejected:E,synchronous:z?z.synchronous:!1,runWhen:z?z.runWhen:null}),this.handlers.length-1}eject(v){this.handlers[v]&&(this.handlers[v]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(v){wn.forEach(this.handlers,function(z){z!==null&&v(z)})}}const $X={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uee=typeof URLSearchParams!="undefined"?URLSearchParams:ZG,dee=typeof FormData!="undefined"?FormData:null,fee=typeof Blob!="undefined"?Blob:null,mee={isBrowser:!0,classes:{URLSearchParams:uee,FormData:dee,Blob:fee},protocols:["http","https","file","blob","url","data"]},qG=typeof window!="undefined"&&typeof document!="undefined",CG=typeof navigator=="object"&&navigator||void 0,gee=qG&&(!CG||["ReactNative","NativeScript","NS"].indexOf(CG.product)<0),pee=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",hee=qG&&window.location.href||"http://localhost",yee=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qG,hasStandardBrowserEnv:gee,hasStandardBrowserWebWorkerEnv:pee,navigator:CG,origin:hee},Symbol.toStringTag,{value:"Module"})),Mf=ie(ie({},yee),mee);function bee(p,v){return KL(p,new Mf.classes.URLSearchParams,Object.assign({visitor:function(E,z,F,H){return Mf.isNode&&wn.isBuffer(E)?(this.append(z,E.toString("base64")),!1):H.defaultVisitor.apply(this,arguments)}},v))}function vee(p){return wn.matchAll(/\w+|\[(\w*)]/g,p).map(v=>v[0]==="[]"?"":v[1]||v[0])}function wee(p){const v={},E=Object.keys(p);let z;const F=E.length;let H;for(z=0;z<F;z++)H=E[z],v[H]=p[H];return v}function FX(p){function v(E,z,F,H){let q=E[H++];if(q==="__proto__")return!0;const Y=Number.isFinite(+q),Re=H>=E.length;return q=!q&&wn.isArray(F)?F.length:q,Re?(wn.hasOwnProp(F,q)?F[q]=[F[q],z]:F[q]=z,!Y):((!F[q]||!wn.isObject(F[q]))&&(F[q]=[]),v(E,z,F[q],H)&&wn.isArray(F[q])&&(F[q]=wee(F[q])),!Y)}if(wn.isFormData(p)&&wn.isFunction(p.entries)){const E={};return wn.forEachEntry(p,(z,F)=>{v(vee(z),F,E,0)}),E}return null}function kee(p,v,E){if(wn.isString(p))try{return(v||JSON.parse)(p),wn.trim(p)}catch(z){if(z.name!=="SyntaxError")throw z}return(0,JSON.stringify)(p)}const Nz={transitional:$X,adapter:["xhr","http","fetch"],transformRequest:[function(v,E){const z=E.getContentType()||"",F=z.indexOf("application/json")>-1,H=wn.isObject(v);if(H&&wn.isHTMLForm(v)&&(v=new FormData(v)),wn.isFormData(v))return F?JSON.stringify(FX(v)):v;if(wn.isArrayBuffer(v)||wn.isBuffer(v)||wn.isStream(v)||wn.isFile(v)||wn.isBlob(v)||wn.isReadableStream(v))return v;if(wn.isArrayBufferView(v))return v.buffer;if(wn.isURLSearchParams(v))return E.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),v.toString();let Y;if(H){if(z.indexOf("application/x-www-form-urlencoded")>-1)return bee(v,this.formSerializer).toString();if((Y=wn.isFileList(v))||z.indexOf("multipart/form-data")>-1){const Re=this.env&&this.env.FormData;return KL(Y?{"files[]":v}:v,Re&&new Re,this.formSerializer)}}return H||F?(E.setContentType("application/json",!1),kee(v)):v}],transformResponse:[function(v){const E=this.transitional||Nz.transitional,z=E&&E.forcedJSONParsing,F=this.responseType==="json";if(wn.isResponse(v)||wn.isReadableStream(v))return v;if(v&&wn.isString(v)&&(z&&!this.responseType||F)){const q=!(E&&E.silentJSONParsing)&&F;try{return JSON.parse(v)}catch(Y){if(q)throw Y.name==="SyntaxError"?hr.from(Y,hr.ERR_BAD_RESPONSE,this,null,this.response):Y}}return v}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mf.classes.FormData,Blob:Mf.classes.Blob},validateStatus:function(v){return v>=200&&v<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};wn.forEach(["delete","get","head","post","put","patch"],p=>{Nz.headers[p]={}});const _ee=wn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cee=p=>{const v={};let E,z,F;return p&&p.split(`
`).forEach(function(q){F=q.indexOf(":"),E=q.substring(0,F).trim().toLowerCase(),z=q.substring(F+1).trim(),!(!E||v[E]&&_ee[E])&&(E==="set-cookie"?v[E]?v[E].push(z):v[E]=[z]:v[E]=v[E]?v[E]+", "+z:z)}),v},tX=Symbol("internals");function Cz(p){return p&&String(p).trim().toLowerCase()}function $L(p){return p===!1||p==null?p:wn.isArray(p)?p.map($L):String(p)}function See(p){const v=Object.create(null),E=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let z;for(;z=E.exec(p);)v[z[1]]=z[2];return v}const xee=p=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(p.trim());function mG(p,v,E,z,F){if(wn.isFunction(z))return z.call(this,v,E);if(F&&(v=E),!!wn.isString(v)){if(wn.isString(z))return v.indexOf(z)!==-1;if(wn.isRegExp(z))return z.test(v)}}function Eee(p){return p.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(v,E,z)=>E.toUpperCase()+z)}function Tee(p,v){const E=wn.toCamelCase(" "+v);["get","set","has"].forEach(z=>{Object.defineProperty(p,z+E,{value:function(F,H,q){return this[z].call(this,v,F,H,q)},configurable:!0})})}class Pf{constructor(v){v&&this.set(v)}set(v,E,z){const F=this;function H(Y,Re,Ue){const Xe=Cz(Re);if(!Xe)throw new Error("header name must be a non-empty string");const $t=wn.findKey(F,Xe);(!$t||F[$t]===void 0||Ue===!0||Ue===void 0&&F[$t]!==!1)&&(F[$t||Re]=$L(Y))}const q=(Y,Re)=>wn.forEach(Y,(Ue,Xe)=>H(Ue,Xe,Re));if(wn.isPlainObject(v)||v instanceof this.constructor)q(v,E);else if(wn.isString(v)&&(v=v.trim())&&!xee(v))q(Cee(v),E);else if(wn.isHeaders(v))for(const[Y,Re]of v.entries())H(Re,Y,z);else v!=null&&H(E,v,z);return this}get(v,E){if(v=Cz(v),v){const z=wn.findKey(this,v);if(z){const F=this[z];if(!E)return F;if(E===!0)return See(F);if(wn.isFunction(E))return E.call(this,F,z);if(wn.isRegExp(E))return E.exec(F);throw new TypeError("parser must be boolean|regexp|function")}}}has(v,E){if(v=Cz(v),v){const z=wn.findKey(this,v);return!!(z&&this[z]!==void 0&&(!E||mG(this,this[z],z,E)))}return!1}delete(v,E){const z=this;let F=!1;function H(q){if(q=Cz(q),q){const Y=wn.findKey(z,q);Y&&(!E||mG(z,z[Y],Y,E))&&(delete z[Y],F=!0)}}return wn.isArray(v)?v.forEach(H):H(v),F}clear(v){const E=Object.keys(this);let z=E.length,F=!1;for(;z--;){const H=E[z];(!v||mG(this,this[H],H,v,!0))&&(delete this[H],F=!0)}return F}normalize(v){const E=this,z={};return wn.forEach(this,(F,H)=>{const q=wn.findKey(z,H);if(q){E[q]=$L(F),delete E[H];return}const Y=v?Eee(H):String(H).trim();Y!==H&&delete E[H],E[Y]=$L(F),z[Y]=!0}),this}concat(...v){return this.constructor.concat(this,...v)}toJSON(v){const E=Object.create(null);return wn.forEach(this,(z,F)=>{z!=null&&z!==!1&&(E[F]=v&&wn.isArray(z)?z.join(", "):z)}),E}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([v,E])=>v+": "+E).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(v){return v instanceof this?v:new this(v)}static concat(v,...E){const z=new this(v);return E.forEach(F=>z.set(F)),z}static accessor(v){const z=(this[tX]=this[tX]={accessors:{}}).accessors,F=this.prototype;function H(q){const Y=Cz(q);z[Y]||(Tee(F,q),z[Y]=!0)}return wn.isArray(v)?v.forEach(H):H(v),this}}Pf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);wn.reduceDescriptors(Pf.prototype,({value:p},v)=>{let E=v[0].toUpperCase()+v.slice(1);return{get:()=>p,set(z){this[E]=z}}});wn.freezeMethods(Pf);function gG(p,v){const E=this||Nz,z=v||E,F=Pf.from(z.headers);let H=z.data;return wn.forEach(p,function(Y){H=Y.call(E,H,F.normalize(),v?v.status:void 0)}),F.normalize(),H}function IX(p){return!!(p&&p.__CANCEL__)}function xT(p,v,E){hr.call(this,p==null?"canceled":p,hr.ERR_CANCELED,v,E),this.name="CanceledError"}wn.inherits(xT,hr,{__CANCEL__:!0});function LX(p,v,E){const z=E.config.validateStatus;!E.status||!z||z(E.status)?p(E):v(new hr("Request failed with status code "+E.status,[hr.ERR_BAD_REQUEST,hr.ERR_BAD_RESPONSE][Math.floor(E.status/100)-4],E.config,E.request,E))}function Aee(p){const v=/^([-+\w]{1,25})(:?\/\/|:)/.exec(p);return v&&v[1]||""}function Oee(p,v){p=p||10;const E=new Array(p),z=new Array(p);let F=0,H=0,q;return v=v!==void 0?v:1e3,function(Re){const Ue=Date.now(),Xe=z[H];q||(q=Ue),E[F]=Re,z[F]=Ue;let $t=H,zt=0;for(;$t!==F;)zt+=E[$t++],$t=$t%p;if(F=(F+1)%p,F===H&&(H=(H+1)%p),Ue-q<v)return;const Bt=Xe&&Ue-Xe;return Bt?Math.round(zt*1e3/Bt):void 0}}function Dee(p,v){let E=0,z=1e3/v,F,H;const q=(Ue,Xe=Date.now())=>{E=Xe,F=null,H&&(clearTimeout(H),H=null),p.apply(null,Ue)};return[(...Ue)=>{const Xe=Date.now(),$t=Xe-E;$t>=z?q(Ue,Xe):(F=Ue,H||(H=setTimeout(()=>{H=null,q(F)},z-$t)))},()=>F&&q(F)]}const LL=(p,v,E=3)=>{let z=0;const F=Oee(50,250);return Dee(H=>{const q=H.loaded,Y=H.lengthComputable?H.total:void 0,Re=q-z,Ue=F(Re),Xe=q<=Y;z=q;const $t={loaded:q,total:Y,progress:Y?q/Y:void 0,bytes:Re,rate:Ue||void 0,estimated:Ue&&Y&&Xe?(Y-q)/Ue:void 0,event:H,lengthComputable:Y!=null,[v?"download":"upload"]:!0};p($t)},E)},nX=(p,v)=>{const E=p!=null;return[z=>v[0]({lengthComputable:E,total:p,loaded:z}),v[1]]},oX=p=>(...v)=>wn.asap(()=>p(...v)),Ree=Mf.hasStandardBrowserEnv?function(){const v=Mf.navigator&&/(msie|trident)/i.test(Mf.navigator.userAgent),E=document.createElement("a");let z;function F(H){let q=H;return v&&(E.setAttribute("href",q),q=E.href),E.setAttribute("href",q),{href:E.href,protocol:E.protocol?E.protocol.replace(/:$/,""):"",host:E.host,search:E.search?E.search.replace(/^\?/,""):"",hash:E.hash?E.hash.replace(/^#/,""):"",hostname:E.hostname,port:E.port,pathname:E.pathname.charAt(0)==="/"?E.pathname:"/"+E.pathname}}return z=F(window.location.href),function(q){const Y=wn.isString(q)?F(q):q;return Y.protocol===z.protocol&&Y.host===z.host}}():function(){return function(){return!0}}(),zee=Mf.hasStandardBrowserEnv?{write(p,v,E,z,F,H){const q=[p+"="+encodeURIComponent(v)];wn.isNumber(E)&&q.push("expires="+new Date(E).toGMTString()),wn.isString(z)&&q.push("path="+z),wn.isString(F)&&q.push("domain="+F),H===!0&&q.push("secure"),document.cookie=q.join("; ")},read(p){const v=document.cookie.match(new RegExp("(^|;\\s*)("+p+")=([^;]*)"));return v?decodeURIComponent(v[3]):null},remove(p){this.write(p,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Nee(p){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(p)}function Mee(p,v){return v?p.replace(/\/?\/$/,"")+"/"+v.replace(/^\/+/,""):p}function HX(p,v){return p&&!Nee(v)?Mee(p,v):v}const sX=p=>p instanceof Pf?ie({},p):p;function gC(p,v){v=v||{};const E={};function z(Ue,Xe,$t){return wn.isPlainObject(Ue)&&wn.isPlainObject(Xe)?wn.merge.call({caseless:$t},Ue,Xe):wn.isPlainObject(Xe)?wn.merge({},Xe):wn.isArray(Xe)?Xe.slice():Xe}function F(Ue,Xe,$t){if(wn.isUndefined(Xe)){if(!wn.isUndefined(Ue))return z(void 0,Ue,$t)}else return z(Ue,Xe,$t)}function H(Ue,Xe){if(!wn.isUndefined(Xe))return z(void 0,Xe)}function q(Ue,Xe){if(wn.isUndefined(Xe)){if(!wn.isUndefined(Ue))return z(void 0,Ue)}else return z(void 0,Xe)}function Y(Ue,Xe,$t){if($t in v)return z(Ue,Xe);if($t in p)return z(void 0,Ue)}const Re={url:H,method:H,data:H,baseURL:q,transformRequest:q,transformResponse:q,paramsSerializer:q,timeout:q,timeoutMessage:q,withCredentials:q,withXSRFToken:q,adapter:q,responseType:q,xsrfCookieName:q,xsrfHeaderName:q,onUploadProgress:q,onDownloadProgress:q,decompress:q,maxContentLength:q,maxBodyLength:q,beforeRedirect:q,transport:q,httpAgent:q,httpsAgent:q,cancelToken:q,socketPath:q,responseEncoding:q,validateStatus:Y,headers:(Ue,Xe)=>F(sX(Ue),sX(Xe),!0)};return wn.forEach(Object.keys(Object.assign({},p,v)),function(Xe){const $t=Re[Xe]||F,zt=$t(p[Xe],v[Xe],Xe);wn.isUndefined(zt)&&$t!==Y||(E[Xe]=zt)}),E}const VX=p=>{const v=gC({},p);let{data:E,withXSRFToken:z,xsrfHeaderName:F,xsrfCookieName:H,headers:q,auth:Y}=v;v.headers=q=Pf.from(q),v.url=BX(HX(v.baseURL,v.url),p.params,p.paramsSerializer),Y&&q.set("Authorization","Basic "+btoa((Y.username||"")+":"+(Y.password?unescape(encodeURIComponent(Y.password)):"")));let Re;if(wn.isFormData(E)){if(Mf.hasStandardBrowserEnv||Mf.hasStandardBrowserWebWorkerEnv)q.setContentType(void 0);else if((Re=q.getContentType())!==!1){const[Ue,...Xe]=Re?Re.split(";").map($t=>$t.trim()).filter(Boolean):[];q.setContentType([Ue||"multipart/form-data",...Xe].join("; "))}}if(Mf.hasStandardBrowserEnv&&(z&&wn.isFunction(z)&&(z=z(v)),z||z!==!1&&Ree(v.url))){const Ue=F&&H&&zee.read(H);Ue&&q.set(F,Ue)}return v},Pee=typeof XMLHttpRequest!="undefined",Bee=Pee&&function(p){return new Promise(function(E,z){const F=VX(p);let H=F.data;const q=Pf.from(F.headers).normalize();let{responseType:Y,onUploadProgress:Re,onDownloadProgress:Ue}=F,Xe,$t,zt,Bt,lt;function It(){Bt&&Bt(),lt&&lt(),F.cancelToken&&F.cancelToken.unsubscribe(Xe),F.signal&&F.signal.removeEventListener("abort",Xe)}let Me=new XMLHttpRequest;Me.open(F.method.toUpperCase(),F.url,!0),Me.timeout=F.timeout;function tt(){if(!Me)return;const ae=Pf.from("getAllResponseHeaders"in Me&&Me.getAllResponseHeaders()),Pn={data:!Y||Y==="text"||Y==="json"?Me.responseText:Me.response,status:Me.status,statusText:Me.statusText,headers:ae,config:p,request:Me};LX(function(J){E(J),It()},function(J){z(J),It()},Pn),Me=null}"onloadend"in Me?Me.onloadend=tt:Me.onreadystatechange=function(){!Me||Me.readyState!==4||Me.status===0&&!(Me.responseURL&&Me.responseURL.indexOf("file:")===0)||setTimeout(tt)},Me.onabort=function(){Me&&(z(new hr("Request aborted",hr.ECONNABORTED,p,Me)),Me=null)},Me.onerror=function(){z(new hr("Network Error",hr.ERR_NETWORK,p,Me)),Me=null},Me.ontimeout=function(){let vt=F.timeout?"timeout of "+F.timeout+"ms exceeded":"timeout exceeded";const Pn=F.transitional||$X;F.timeoutErrorMessage&&(vt=F.timeoutErrorMessage),z(new hr(vt,Pn.clarifyTimeoutError?hr.ETIMEDOUT:hr.ECONNABORTED,p,Me)),Me=null},H===void 0&&q.setContentType(null),"setRequestHeader"in Me&&wn.forEach(q.toJSON(),function(vt,Pn){Me.setRequestHeader(Pn,vt)}),wn.isUndefined(F.withCredentials)||(Me.withCredentials=!!F.withCredentials),Y&&Y!=="json"&&(Me.responseType=F.responseType),Ue&&([zt,lt]=LL(Ue,!0),Me.addEventListener("progress",zt)),Re&&Me.upload&&([$t,Bt]=LL(Re),Me.upload.addEventListener("progress",$t),Me.upload.addEventListener("loadend",Bt)),(F.cancelToken||F.signal)&&(Xe=ae=>{Me&&(z(!ae||ae.type?new xT(null,p,Me):ae),Me.abort(),Me=null)},F.cancelToken&&F.cancelToken.subscribe(Xe),F.signal&&(F.signal.aborted?Xe():F.signal.addEventListener("abort",Xe)));const qe=Aee(F.url);if(qe&&Mf.protocols.indexOf(qe)===-1){z(new hr("Unsupported protocol "+qe+":",hr.ERR_BAD_REQUEST,p));return}Me.send(H||null)})},$ee=(p,v)=>{const{length:E}=p=p?p.filter(Boolean):[];if(v||E){let z=new AbortController,F;const H=function(Ue){if(!F){F=!0,Y();const Xe=Ue instanceof Error?Ue:this.reason;z.abort(Xe instanceof hr?Xe:new xT(Xe instanceof Error?Xe.message:Xe))}};let q=v&&setTimeout(()=>{q=null,H(new hr(`timeout ${v} of ms exceeded`,hr.ETIMEDOUT))},v);const Y=()=>{p&&(q&&clearTimeout(q),q=null,p.forEach(Ue=>{Ue.unsubscribe?Ue.unsubscribe(H):Ue.removeEventListener("abort",H)}),p=null)};p.forEach(Ue=>Ue.addEventListener("abort",H));const{signal:Re}=z;return Re.unsubscribe=()=>wn.asap(Y),Re}},Fee=function*(p,v){let E=p.byteLength;if(E<v){yield p;return}let z=0,F;for(;z<E;)F=z+v,yield p.slice(z,F),z=F},Iee=function(p,v){return uG(this,null,function*(){try{for(var E=KY(Lee(p)),z,F,H;z=!(F=yield new rC(E.next())).done;z=!1){const q=F.value;yield*dG(Fee(q,v))}}catch(F){H=[F]}finally{try{z&&(F=E.return)&&(yield new rC(F.call(E)))}finally{if(H)throw H[0]}}})},Lee=function(p){return uG(this,null,function*(){if(p[Symbol.asyncIterator]){yield*dG(p);return}const v=p.getReader();try{for(;;){const{done:E,value:z}=yield new rC(v.read());if(E)break;yield z}}finally{yield new rC(v.cancel())}})},rX=(p,v,E,z)=>{const F=Iee(p,v);let H=0,q,Y=Ue=>{q||(q=!0,z&&z(Ue))};return new ReadableStream({pull(Ue){return Nf(this,null,function*(){try{const{done:Xe,value:$t}=yield F.next();if(Xe){Y(),Ue.close();return}let zt=$t.byteLength;if(E){let Bt=H+=zt;E(Bt)}Ue.enqueue(new Uint8Array($t))}catch(Xe){throw Y(Xe),Xe}})},cancel(Ue){return Y(Ue),F.return()}},{highWaterMark:2})},YL=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",UX=YL&&typeof ReadableStream=="function",Hee=YL&&(typeof TextEncoder=="function"?(p=>v=>p.encode(v))(new TextEncoder):p=>Nf(Fz,null,function*(){return new Uint8Array(yield new Response(p).arrayBuffer())})),jX=(p,...v)=>{try{return!!p(...v)}catch(E){return!1}},Vee=UX&&jX(()=>{let p=!1;const v=new Request(Mf.origin,{body:new ReadableStream,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!v}),aX=64*1024,SG=UX&&jX(()=>wn.isReadableStream(new Response("").body)),HL={stream:SG&&(p=>p.body)};YL&&(p=>{["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!HL[v]&&(HL[v]=wn.isFunction(p[v])?E=>E[v]():(E,z)=>{throw new hr(`Response type '${v}' is not supported`,hr.ERR_NOT_SUPPORT,z)})})})(new Response);const Uee=p=>Nf(Fz,null,function*(){if(p==null)return 0;if(wn.isBlob(p))return p.size;if(wn.isSpecCompliantForm(p))return(yield new Request(Mf.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(wn.isArrayBufferView(p)||wn.isArrayBuffer(p))return p.byteLength;if(wn.isURLSearchParams(p)&&(p=p+""),wn.isString(p))return(yield Hee(p)).byteLength}),jee=(p,v)=>Nf(Fz,null,function*(){const E=wn.toFiniteNumber(p.getContentLength());return E==null?Uee(v):E}),Wee=YL&&(p=>Nf(Fz,null,function*(){let{url:v,method:E,data:z,signal:F,cancelToken:H,timeout:q,onDownloadProgress:Y,onUploadProgress:Re,responseType:Ue,headers:Xe,withCredentials:$t="same-origin",fetchOptions:zt}=VX(p);Ue=Ue?(Ue+"").toLowerCase():"text";let Bt=$ee([F,H&&H.toAbortSignal()],q),lt;const It=Bt&&Bt.unsubscribe&&(()=>{Bt.unsubscribe()});let Me;try{if(Re&&Vee&&E!=="get"&&E!=="head"&&(Me=yield jee(Xe,z))!==0){let Pn=new Request(v,{method:"POST",body:z,duplex:"half"}),Nt;if(wn.isFormData(z)&&(Nt=Pn.headers.get("content-type"))&&Xe.setContentType(Nt),Pn.body){const[J,Zt]=nX(Me,LL(oX(Re)));z=rX(Pn.body,aX,J,Zt)}}wn.isString($t)||($t=$t?"include":"omit");const tt="credentials"in Request.prototype;lt=new Request(v,Pt(ie({},zt),{signal:Bt,method:E.toUpperCase(),headers:Xe.normalize().toJSON(),body:z,duplex:"half",credentials:tt?$t:void 0}));let qe=yield fetch(lt);const ae=SG&&(Ue==="stream"||Ue==="response");if(SG&&(Y||ae&&It)){const Pn={};["status","statusText","headers"].forEach(Tn=>{Pn[Tn]=qe[Tn]});const Nt=wn.toFiniteNumber(qe.headers.get("content-length")),[J,Zt]=Y&&nX(Nt,LL(oX(Y),!0))||[];qe=new Response(rX(qe.body,aX,J,()=>{Zt&&Zt(),It&&It()}),Pn)}Ue=Ue||"text";let vt=yield HL[wn.findKey(HL,Ue)||"text"](qe,p);return!ae&&It&&It(),yield new Promise((Pn,Nt)=>{LX(Pn,Nt,{data:vt,headers:Pf.from(qe.headers),status:qe.status,statusText:qe.statusText,config:p,request:lt})})}catch(tt){throw It&&It(),tt&&tt.name==="TypeError"&&/fetch/i.test(tt.message)?Object.assign(new hr("Network Error",hr.ERR_NETWORK,p,lt),{cause:tt.cause||tt}):hr.from(tt,tt&&tt.code,p,lt)}})),xG={http:aee,xhr:Bee,fetch:Wee};wn.forEach(xG,(p,v)=>{if(p){try{Object.defineProperty(p,"name",{value:v})}catch(E){}Object.defineProperty(p,"adapterName",{value:v})}});const cX=p=>`- ${p}`,Zee=p=>wn.isFunction(p)||p===null||p===!1,WX={getAdapter:p=>{p=wn.isArray(p)?p:[p];const{length:v}=p;let E,z;const F={};for(let H=0;H<v;H++){E=p[H];let q;if(z=E,!Zee(E)&&(z=xG[(q=String(E)).toLowerCase()],z===void 0))throw new hr(`Unknown adapter '${q}'`);if(z)break;F[q||"#"+H]=z}if(!z){const H=Object.entries(F).map(([Y,Re])=>`adapter ${Y} `+(Re===!1?"is not supported by the environment":"is not available in the build"));let q=v?H.length>1?`since :
`+H.map(cX).join(`
`):" "+cX(H[0]):"as no adapter specified";throw new hr("There is no suitable adapter to dispatch the request "+q,"ERR_NOT_SUPPORT")}return z},adapters:xG};function pG(p){if(p.cancelToken&&p.cancelToken.throwIfRequested(),p.signal&&p.signal.aborted)throw new xT(null,p)}function iX(p){return pG(p),p.headers=Pf.from(p.headers),p.data=gG.call(p,p.transformRequest),["post","put","patch"].indexOf(p.method)!==-1&&p.headers.setContentType("application/x-www-form-urlencoded",!1),WX.getAdapter(p.adapter||Nz.adapter)(p).then(function(z){return pG(p),z.data=gG.call(p,p.transformResponse,z),z.headers=Pf.from(z.headers),z},function(z){return IX(z)||(pG(p),z&&z.response&&(z.response.data=gG.call(p,p.transformResponse,z.response),z.response.headers=Pf.from(z.response.headers))),Promise.reject(z)})}const ZX="1.7.7",GG={};["object","boolean","number","function","string","symbol"].forEach((p,v)=>{GG[p]=function(z){return typeof z===p||"a"+(v<1?"n ":" ")+p}});const lX={};GG.transitional=function(v,E,z){function F(H,q){return"[Axios v"+ZX+"] Transitional option '"+H+"'"+q+(z?". "+z:"")}return(H,q,Y)=>{if(v===!1)throw new hr(F(q," has been removed"+(E?" in "+E:"")),hr.ERR_DEPRECATED);return E&&!lX[q]&&(lX[q]=!0,console.warn(F(q," has been deprecated since v"+E+" and will be removed in the near future"))),v?v(H,q,Y):!0}};function qee(p,v,E){if(typeof p!="object")throw new hr("options must be an object",hr.ERR_BAD_OPTION_VALUE);const z=Object.keys(p);let F=z.length;for(;F-- >0;){const H=z[F],q=v[H];if(q){const Y=p[H],Re=Y===void 0||q(Y,H,p);if(Re!==!0)throw new hr("option "+H+" must be "+Re,hr.ERR_BAD_OPTION_VALUE);continue}if(E!==!0)throw new hr("Unknown option "+H,hr.ERR_BAD_OPTION)}}const EG={assertOptions:qee,validators:GG},V0=EG.validators;class lC{constructor(v){this.defaults=v,this.interceptors={request:new eX,response:new eX}}request(v,E){return Nf(this,null,function*(){try{return yield this._request(v,E)}catch(z){if(z instanceof Error){let F;Error.captureStackTrace?Error.captureStackTrace(F={}):F=new Error;const H=F.stack?F.stack.replace(/^.+\n/,""):"";try{z.stack?H&&!String(z.stack).endsWith(H.replace(/^.+\n.+\n/,""))&&(z.stack+=`
`+H):z.stack=H}catch(q){}}throw z}})}_request(v,E){typeof v=="string"?(E=E||{},E.url=v):E=v||{},E=gC(this.defaults,E);const{transitional:z,paramsSerializer:F,headers:H}=E;z!==void 0&&EG.assertOptions(z,{silentJSONParsing:V0.transitional(V0.boolean),forcedJSONParsing:V0.transitional(V0.boolean),clarifyTimeoutError:V0.transitional(V0.boolean)},!1),F!=null&&(wn.isFunction(F)?E.paramsSerializer={serialize:F}:EG.assertOptions(F,{encode:V0.function,serialize:V0.function},!0)),E.method=(E.method||this.defaults.method||"get").toLowerCase();let q=H&&wn.merge(H.common,H[E.method]);H&&wn.forEach(["delete","get","head","post","put","patch","common"],lt=>{delete H[lt]}),E.headers=Pf.concat(q,H);const Y=[];let Re=!0;this.interceptors.request.forEach(function(It){typeof It.runWhen=="function"&&It.runWhen(E)===!1||(Re=Re&&It.synchronous,Y.unshift(It.fulfilled,It.rejected))});const Ue=[];this.interceptors.response.forEach(function(It){Ue.push(It.fulfilled,It.rejected)});let Xe,$t=0,zt;if(!Re){const lt=[iX.bind(this),void 0];for(lt.unshift.apply(lt,Y),lt.push.apply(lt,Ue),zt=lt.length,Xe=Promise.resolve(E);$t<zt;)Xe=Xe.then(lt[$t++],lt[$t++]);return Xe}zt=Y.length;let Bt=E;for($t=0;$t<zt;){const lt=Y[$t++],It=Y[$t++];try{Bt=lt(Bt)}catch(Me){It.call(this,Me);break}}try{Xe=iX.call(this,Bt)}catch(lt){return Promise.reject(lt)}for($t=0,zt=Ue.length;$t<zt;)Xe=Xe.then(Ue[$t++],Ue[$t++]);return Xe}getUri(v){v=gC(this.defaults,v);const E=HX(v.baseURL,v.url);return BX(E,v.params,v.paramsSerializer)}}wn.forEach(["delete","get","head","options"],function(v){lC.prototype[v]=function(E,z){return this.request(gC(z||{},{method:v,url:E,data:(z||{}).data}))}});wn.forEach(["post","put","patch"],function(v){function E(z){return function(H,q,Y){return this.request(gC(Y||{},{method:v,headers:z?{"Content-Type":"multipart/form-data"}:{},url:H,data:q}))}}lC.prototype[v]=E(),lC.prototype[v+"Form"]=E(!0)});class KG{constructor(v){if(typeof v!="function")throw new TypeError("executor must be a function.");let E;this.promise=new Promise(function(H){E=H});const z=this;this.promise.then(F=>{if(!z._listeners)return;let H=z._listeners.length;for(;H-- >0;)z._listeners[H](F);z._listeners=null}),this.promise.then=F=>{let H;const q=new Promise(Y=>{z.subscribe(Y),H=Y}).then(F);return q.cancel=function(){z.unsubscribe(H)},q},v(function(H,q,Y){z.reason||(z.reason=new xT(H,q,Y),E(z.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(v){if(this.reason){v(this.reason);return}this._listeners?this._listeners.push(v):this._listeners=[v]}unsubscribe(v){if(!this._listeners)return;const E=this._listeners.indexOf(v);E!==-1&&this._listeners.splice(E,1)}toAbortSignal(){const v=new AbortController,E=z=>{v.abort(z)};return this.subscribe(E),v.signal.unsubscribe=()=>this.unsubscribe(E),v.signal}static source(){let v;return{token:new KG(function(F){v=F}),cancel:v}}}function Gee(p){return function(E){return p.apply(null,E)}}function Kee(p){return wn.isObject(p)&&p.isAxiosError===!0}const TG={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(TG).forEach(([p,v])=>{TG[v]=p});function qX(p){const v=new lC(p),E=SX(lC.prototype.request,v);return wn.extend(E,lC.prototype,v,{allOwnKeys:!0}),wn.extend(E,v,null,{allOwnKeys:!0}),E.create=function(F){return qX(gC(p,F))},E}const al=qX(Nz);al.Axios=lC;al.CanceledError=xT;al.CancelToken=KG;al.isCancel=IX;al.VERSION=ZX;al.toFormData=KL;al.AxiosError=hr;al.Cancel=al.CanceledError;al.all=function(v){return Promise.all(v)};al.spread=Gee;al.isAxiosError=Kee;al.mergeConfig=gC;al.AxiosHeaders=Pf;al.formToJSON=p=>FX(wn.isHTMLForm(p)?new FormData(p):p);al.getAdapter=WX.getAdapter;al.HttpStatusCode=TG;al.default=al;window.axios=al;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var AG=!1,OG=!1,uC=[],DG=-1;function Yee(p){Xee(p)}function Xee(p){uC.includes(p)||uC.push(p),Qee()}function Jee(p){let v=uC.indexOf(p);v!==-1&&v>DG&&uC.splice(v,1)}function Qee(){!OG&&!AG&&(AG=!0,queueMicrotask(ete))}function ete(){AG=!1,OG=!0;for(let p=0;p<uC.length;p++)uC[p](),DG=p;uC.length=0,DG=-1,OG=!1}var ET,hC,TT,GX,RG=!0;function tte(p){RG=!1,p(),RG=!0}function nte(p){ET=p.reactive,TT=p.release,hC=v=>p.effect(v,{scheduler:E=>{RG?Yee(E):E()}}),GX=p.raw}function uX(p){hC=p}function ote(p){let v=()=>{};return[z=>{let F=hC(z);return p._x_effects||(p._x_effects=new Set,p._x_runEffects=()=>{p._x_effects.forEach(H=>H())}),p._x_effects.add(F),v=()=>{F!==void 0&&(p._x_effects.delete(F),TT(F))},F},()=>{v()}]}function KX(p,v){let E=!0,z,F=hC(()=>{let H=p();JSON.stringify(H),E?z=H:queueMicrotask(()=>{v(H,z),z=H}),E=!1});return()=>TT(F)}var YX=[],XX=[],JX=[];function ste(p){JX.push(p)}function YG(p,v){typeof v=="function"?(p._x_cleanups||(p._x_cleanups=[]),p._x_cleanups.push(v)):(v=p,XX.push(v))}function QX(p){YX.push(p)}function eJ(p,v,E){p._x_attributeCleanups||(p._x_attributeCleanups={}),p._x_attributeCleanups[v]||(p._x_attributeCleanups[v]=[]),p._x_attributeCleanups[v].push(E)}function tJ(p,v){p._x_attributeCleanups&&Object.entries(p._x_attributeCleanups).forEach(([E,z])=>{(v===void 0||v.includes(E))&&(z.forEach(F=>F()),delete p._x_attributeCleanups[E])})}function rte(p){var v,E;for((v=p._x_effects)==null||v.forEach(Jee);(E=p._x_cleanups)!=null&&E.length;)p._x_cleanups.pop()()}var XG=new MutationObserver(tK),JG=!1;function QG(){XG.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),JG=!0}function nJ(){ate(),XG.disconnect(),JG=!1}var Sz=[];function ate(){let p=XG.takeRecords();Sz.push(()=>p.length>0&&tK(p));let v=Sz.length;queueMicrotask(()=>{if(Sz.length===v)for(;Sz.length>0;)Sz.shift()()})}function hi(p){if(!JG)return p();nJ();let v=p();return QG(),v}var eK=!1,VL=[];function cte(){eK=!0}function ite(){eK=!1,tK(VL),VL=[]}function tK(p){if(eK){VL=VL.concat(p);return}let v=new Set,E=new Set,z=new Map,F=new Map;for(let H=0;H<p.length;H++)if(!p[H].target._x_ignoreMutationObserver&&(p[H].type==="childList"&&(p[H].addedNodes.forEach(q=>q.nodeType===1&&v.add(q)),p[H].removedNodes.forEach(q=>q.nodeType===1&&E.add(q))),p[H].type==="attributes")){let q=p[H].target,Y=p[H].attributeName,Re=p[H].oldValue,Ue=()=>{z.has(q)||z.set(q,[]),z.get(q).push({name:Y,value:q.getAttribute(Y)})},Xe=()=>{F.has(q)||F.set(q,[]),F.get(q).push(Y)};q.hasAttribute(Y)&&Re===null?Ue():q.hasAttribute(Y)?(Xe(),Ue()):Xe()}F.forEach((H,q)=>{tJ(q,H)}),z.forEach((H,q)=>{YX.forEach(Y=>Y(q,H))});for(let H of E)v.has(H)||XX.forEach(q=>q(H));v.forEach(H=>{H._x_ignoreSelf=!0,H._x_ignore=!0});for(let H of v)E.has(H)||H.isConnected&&(delete H._x_ignoreSelf,delete H._x_ignore,JX.forEach(q=>q(H)),H._x_ignore=!0,H._x_ignoreSelf=!0);v.forEach(H=>{delete H._x_ignoreSelf,delete H._x_ignore}),v=null,E=null,z=null,F=null}function oJ(p){return Pz(_T(p))}function Mz(p,v,E){return p._x_dataStack=[v,..._T(E||p)],()=>{p._x_dataStack=p._x_dataStack.filter(z=>z!==v)}}function _T(p){return p._x_dataStack?p._x_dataStack:typeof ShadowRoot=="function"&&p instanceof ShadowRoot?_T(p.host):p.parentNode?_T(p.parentNode):[]}function Pz(p){return new Proxy({objects:p},lte)}var lte={ownKeys({objects:p}){return Array.from(new Set(p.flatMap(v=>Object.keys(v))))},has({objects:p},v){return v==Symbol.unscopables?!1:p.some(E=>Object.prototype.hasOwnProperty.call(E,v)||Reflect.has(E,v))},get({objects:p},v,E){return v=="toJSON"?ute:Reflect.get(p.find(z=>Reflect.has(z,v))||{},v,E)},set({objects:p},v,E,z){const F=p.find(q=>Object.prototype.hasOwnProperty.call(q,v))||p[p.length-1],H=Object.getOwnPropertyDescriptor(F,v);return H!=null&&H.set&&(H!=null&&H.get)?H.set.call(z,E)||!0:Reflect.set(F,v,E)}};function ute(){return Reflect.ownKeys(this).reduce((v,E)=>(v[E]=Reflect.get(this,E),v),{})}function sJ(p){let v=z=>typeof z=="object"&&!Array.isArray(z)&&z!==null,E=(z,F="")=>{Object.entries(Object.getOwnPropertyDescriptors(z)).forEach(([H,{value:q,enumerable:Y}])=>{if(Y===!1||q===void 0||typeof q=="object"&&q!==null&&q.__v_skip)return;let Re=F===""?H:`${F}.${H}`;typeof q=="object"&&q!==null&&q._x_interceptor?z[H]=q.initialize(p,Re,H):v(q)&&q!==z&&!(q instanceof Element)&&E(q,Re)})};return E(p)}function rJ(p,v=()=>{}){let E={initialValue:void 0,_x_interceptor:!0,initialize(z,F,H){return p(this.initialValue,()=>dte(z,F),q=>zG(z,F,q),F,H)}};return v(E),z=>{if(typeof z=="object"&&z!==null&&z._x_interceptor){let F=E.initialize.bind(E);E.initialize=(H,q,Y)=>{let Re=z.initialize(H,q,Y);return E.initialValue=Re,F(H,q,Y)}}else E.initialValue=z;return E}}function dte(p,v){return v.split(".").reduce((E,z)=>E[z],p)}function zG(p,v,E){if(typeof v=="string"&&(v=v.split(".")),v.length===1)p[v[0]]=E;else{if(v.length===0)throw error;return p[v[0]]||(p[v[0]]={}),zG(p[v[0]],v.slice(1),E)}}var aJ={};function Zp(p,v){aJ[p]=v}function NG(p,v){let E=fte(v);return Object.entries(aJ).forEach(([z,F])=>{Object.defineProperty(p,`$${z}`,{get(){return F(v,E)},enumerable:!1})}),p}function fte(p){let[v,E]=fJ(p),z=ie({interceptor:rJ},v);return YG(p,E),z}function mte(p,v,E,...z){try{return E(...z)}catch(F){Rz(F,p,v)}}function Rz(p,v,E=void 0){p=Object.assign(p!=null?p:{message:"No error message given."},{el:v,expression:E}),console.warn(`Alpine Expression Error: ${p.message}

${E?'Expression: "'+E+`"

`:""}`,v),setTimeout(()=>{throw p},0)}var FL=!0;function cJ(p){let v=FL;FL=!1;let E=p();return FL=v,E}function dC(p,v,E={}){let z;return Zd(p,v)(F=>z=F,E),z}function Zd(...p){return iJ(...p)}var iJ=lJ;function gte(p){iJ=p}function lJ(p,v){let E={};NG(E,p);let z=[E,..._T(p)],F=typeof v=="function"?pte(z,v):yte(z,v,p);return mte.bind(null,p,v,F)}function pte(p,v){return(E=()=>{},{scope:z={},params:F=[]}={})=>{let H=v.apply(Pz([z,...p]),F);UL(E,H)}}var hG={};function hte(p,v){if(hG[p])return hG[p];let E=Object.getPrototypeOf(function(){return Nf(this,null,function*(){})}).constructor,z=/^[\n\s]*if.*\(.*\)/.test(p.trim())||/^(let|const)\s/.test(p.trim())?`(async()=>{ ${p} })()`:p,H=(()=>{try{let q=new E(["__self","scope"],`with (scope) { __self.result = ${z} }; __self.finished = true; return __self.result;`);return Object.defineProperty(q,"name",{value:`[Alpine] ${p}`}),q}catch(q){return Rz(q,v,p),Promise.resolve()}})();return hG[p]=H,H}function yte(p,v,E){let z=hte(v,E);return(F=()=>{},{scope:H={},params:q=[]}={})=>{z.result=void 0,z.finished=!1;let Y=Pz([H,...p]);if(typeof z=="function"){let Re=z(z,Y).catch(Ue=>Rz(Ue,E,v));z.finished?(UL(F,z.result,Y,q,E),z.result=void 0):Re.then(Ue=>{UL(F,Ue,Y,q,E)}).catch(Ue=>Rz(Ue,E,v)).finally(()=>z.result=void 0)}}}function UL(p,v,E,z,F){if(FL&&typeof v=="function"){let H=v.apply(E,z);H instanceof Promise?H.then(q=>UL(p,q,E,z)).catch(q=>Rz(q,F,v)):p(H)}else typeof v=="object"&&v instanceof Promise?v.then(H=>p(H)):p(v)}var nK="x-";function AT(p=""){return nK+p}function bte(p){nK=p}var jL={};function cl(p,v){return jL[p]=v,{before(E){if(!jL[E]){console.warn(String.raw`Cannot find directive \`${E}\`. \`${p}\` will use the default order of execution`);return}const z=iC.indexOf(E);iC.splice(z>=0?z:iC.indexOf("DEFAULT"),0,p)}}}function vte(p){return Object.keys(jL).includes(p)}function oK(p,v,E){if(v=Array.from(v),p._x_virtualDirectives){let H=Object.entries(p._x_virtualDirectives).map(([Y,Re])=>({name:Y,value:Re})),q=uJ(H);H=H.map(Y=>q.find(Re=>Re.name===Y.name)?{name:`x-bind:${Y.name}`,value:`"${Y.value}"`}:Y),v=v.concat(H)}let z={};return v.map(pJ((H,q)=>z[H]=q)).filter(yJ).map(_te(z,E)).sort(Cte).map(H=>kte(p,H))}function uJ(p){return Array.from(p).map(pJ()).filter(v=>!yJ(v))}var MG=!1,Tz=new Map,dJ=Symbol();function wte(p){MG=!0;let v=Symbol();dJ=v,Tz.set(v,[]);let E=()=>{for(;Tz.get(v).length;)Tz.get(v).shift()();Tz.delete(v)},z=()=>{MG=!1,E()};p(E),z()}function fJ(p){let v=[],E=Y=>v.push(Y),[z,F]=ote(p);return v.push(F),[{Alpine:$z,effect:z,cleanup:E,evaluateLater:Zd.bind(Zd,p),evaluate:dC.bind(dC,p)},()=>v.forEach(Y=>Y())]}function kte(p,v){let E=()=>{},z=jL[v.type]||E,[F,H]=fJ(p);eJ(p,v.original,H);let q=()=>{p._x_ignore||p._x_ignoreSelf||(z.inline&&z.inline(p,v,F),z=z.bind(z,p,v,F),MG?Tz.get(dJ).push(z):z())};return q.runCleanups=H,q}var mJ=(p,v)=>({name:E,value:z})=>(E.startsWith(p)&&(E=E.replace(p,v)),{name:E,value:z}),gJ=p=>p;function pJ(p=()=>{}){return({name:v,value:E})=>{let{name:z,value:F}=hJ.reduce((H,q)=>q(H),{name:v,value:E});return z!==v&&p(z,v),{name:z,value:F}}}var hJ=[];function sK(p){hJ.push(p)}function yJ({name:p}){return bJ().test(p)}var bJ=()=>new RegExp(`^${nK}([^:^.]+)\\b`);function _te(p,v){return({name:E,value:z})=>{let F=E.match(bJ()),H=E.match(/:([a-zA-Z0-9\-_:]+)/),q=E.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],Y=v||p[E]||E;return{type:F?F[1]:null,value:H?H[1]:null,modifiers:q.map(Re=>Re.replace(".","")),expression:z,original:Y}}}var PG="DEFAULT",iC=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",PG,"teleport"];function Cte(p,v){let E=iC.indexOf(p.type)===-1?PG:p.type,z=iC.indexOf(v.type)===-1?PG:v.type;return iC.indexOf(E)-iC.indexOf(z)}function Az(p,v,E={}){p.dispatchEvent(new CustomEvent(v,{detail:E,bubbles:!0,composed:!0,cancelable:!0}))}function pC(p,v){if(typeof ShadowRoot=="function"&&p instanceof ShadowRoot){Array.from(p.children).forEach(F=>pC(F,v));return}let E=!1;if(v(p,()=>E=!0),E)return;let z=p.firstElementChild;for(;z;)pC(z,v),z=z.nextElementSibling}function Cg(p,...v){console.warn(`Alpine Warning: ${p}`,...v)}var dX=!1;function Ste(){dX&&Cg("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),dX=!0,document.body||Cg("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Az(document,"alpine:init"),Az(document,"alpine:initializing"),QG(),ste(v=>x1(v,pC)),YG(v=>OT(v)),QX((v,E)=>{oK(v,E).forEach(z=>z())});let p=v=>!XL(v.parentElement,!0);Array.from(document.querySelectorAll(kJ().join(","))).filter(p).forEach(v=>{x1(v)}),Az(document,"alpine:initialized"),setTimeout(()=>{Tte()})}var rK=[],vJ=[];function wJ(){return rK.map(p=>p())}function kJ(){return rK.concat(vJ).map(p=>p())}function _J(p){rK.push(p)}function CJ(p){vJ.push(p)}function XL(p,v=!1){return Bz(p,E=>{if((v?kJ():wJ()).some(F=>E.matches(F)))return!0})}function Bz(p,v){if(p){if(v(p))return p;if(p._x_teleportBack&&(p=p._x_teleportBack),!!p.parentElement)return Bz(p.parentElement,v)}}function xte(p){return wJ().some(v=>p.matches(v))}var SJ=[];function Ete(p){SJ.push(p)}function x1(p,v=pC,E=()=>{}){wte(()=>{v(p,(z,F)=>{E(z,F),SJ.forEach(H=>H(z,F)),oK(z,z.attributes).forEach(H=>H()),z._x_ignore&&F()})})}function OT(p,v=pC){v(p,E=>{rte(E),tJ(E)})}function Tte(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([v,E,z])=>{vte(E)||z.some(F=>{if(document.querySelector(F))return Cg(`found "${F}", but missing ${v} plugin`),!0})})}var BG=[],aK=!1;function cK(p=()=>{}){return queueMicrotask(()=>{aK||setTimeout(()=>{$G()})}),new Promise(v=>{BG.push(()=>{p(),v()})})}function $G(){for(aK=!1;BG.length;)BG.shift()()}function Ate(){aK=!0}function iK(p,v){return Array.isArray(v)?fX(p,v.join(" ")):typeof v=="object"&&v!==null?Ote(p,v):typeof v=="function"?iK(p,v()):fX(p,v)}function fX(p,v){let E=F=>F.split(" ").filter(H=>!p.classList.contains(H)).filter(Boolean),z=F=>(p.classList.add(...F),()=>{p.classList.remove(...F)});return v=v===!0?v="":v||"",z(E(v))}function Ote(p,v){let E=Y=>Y.split(" ").filter(Boolean),z=Object.entries(v).flatMap(([Y,Re])=>Re?E(Y):!1).filter(Boolean),F=Object.entries(v).flatMap(([Y,Re])=>Re?!1:E(Y)).filter(Boolean),H=[],q=[];return F.forEach(Y=>{p.classList.contains(Y)&&(p.classList.remove(Y),q.push(Y))}),z.forEach(Y=>{p.classList.contains(Y)||(p.classList.add(Y),H.push(Y))}),()=>{q.forEach(Y=>p.classList.add(Y)),H.forEach(Y=>p.classList.remove(Y))}}function JL(p,v){return typeof v=="object"&&v!==null?Dte(p,v):Rte(p,v)}function Dte(p,v){let E={};return Object.entries(v).forEach(([z,F])=>{E[z]=p.style[z],z.startsWith("--")||(z=zte(z)),p.style.setProperty(z,F)}),setTimeout(()=>{p.style.length===0&&p.removeAttribute("style")}),()=>{JL(p,E)}}function Rte(p,v){let E=p.getAttribute("style",v);return p.setAttribute("style",v),()=>{p.setAttribute("style",E||"")}}function zte(p){return p.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function FG(p,v=()=>{}){let E=!1;return function(){E?v.apply(this,arguments):(E=!0,p.apply(this,arguments))}}cl("transition",(p,{value:v,modifiers:E,expression:z},{evaluate:F})=>{typeof z=="function"&&(z=F(z)),z!==!1&&(!z||typeof z=="boolean"?Mte(p,E,v):Nte(p,z,v))});function Nte(p,v,E){xJ(p,iK,""),{enter:F=>{p._x_transition.enter.during=F},"enter-start":F=>{p._x_transition.enter.start=F},"enter-end":F=>{p._x_transition.enter.end=F},leave:F=>{p._x_transition.leave.during=F},"leave-start":F=>{p._x_transition.leave.start=F},"leave-end":F=>{p._x_transition.leave.end=F}}[E](v)}function Mte(p,v,E){xJ(p,JL);let z=!v.includes("in")&&!v.includes("out")&&!E,F=z||v.includes("in")||["enter"].includes(E),H=z||v.includes("out")||["leave"].includes(E);v.includes("in")&&!z&&(v=v.filter((tt,qe)=>qe<v.indexOf("out"))),v.includes("out")&&!z&&(v=v.filter((tt,qe)=>qe>v.indexOf("out")));let q=!v.includes("opacity")&&!v.includes("scale"),Y=q||v.includes("opacity"),Re=q||v.includes("scale"),Ue=Y?0:1,Xe=Re?xz(v,"scale",95)/100:1,$t=xz(v,"delay",0)/1e3,zt=xz(v,"origin","center"),Bt="opacity, transform",lt=xz(v,"duration",150)/1e3,It=xz(v,"duration",75)/1e3,Me="cubic-bezier(0.4, 0.0, 0.2, 1)";F&&(p._x_transition.enter.during={transformOrigin:zt,transitionDelay:`${$t}s`,transitionProperty:Bt,transitionDuration:`${lt}s`,transitionTimingFunction:Me},p._x_transition.enter.start={opacity:Ue,transform:`scale(${Xe})`},p._x_transition.enter.end={opacity:1,transform:"scale(1)"}),H&&(p._x_transition.leave.during={transformOrigin:zt,transitionDelay:`${$t}s`,transitionProperty:Bt,transitionDuration:`${It}s`,transitionTimingFunction:Me},p._x_transition.leave.start={opacity:1,transform:"scale(1)"},p._x_transition.leave.end={opacity:Ue,transform:`scale(${Xe})`})}function xJ(p,v,E={}){p._x_transition||(p._x_transition={enter:{during:E,start:E,end:E},leave:{during:E,start:E,end:E},in(z=()=>{},F=()=>{}){IG(p,v,{during:this.enter.during,start:this.enter.start,end:this.enter.end},z,F)},out(z=()=>{},F=()=>{}){IG(p,v,{during:this.leave.during,start:this.leave.start,end:this.leave.end},z,F)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(p,v,E,z){const F=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let H=()=>F(E);if(v){p._x_transition&&(p._x_transition.enter||p._x_transition.leave)?p._x_transition.enter&&(Object.entries(p._x_transition.enter.during).length||Object.entries(p._x_transition.enter.start).length||Object.entries(p._x_transition.enter.end).length)?p._x_transition.in(E):H():p._x_transition?p._x_transition.in(E):H();return}p._x_hidePromise=p._x_transition?new Promise((q,Y)=>{p._x_transition.out(()=>{},()=>q(z)),p._x_transitioning&&p._x_transitioning.beforeCancel(()=>Y({isFromCancelledTransition:!0}))}):Promise.resolve(z),queueMicrotask(()=>{let q=EJ(p);q?(q._x_hideChildren||(q._x_hideChildren=[]),q._x_hideChildren.push(p)):F(()=>{let Y=Re=>{let Ue=Promise.all([Re._x_hidePromise,...(Re._x_hideChildren||[]).map(Y)]).then(([Xe])=>Xe==null?void 0:Xe());return delete Re._x_hidePromise,delete Re._x_hideChildren,Ue};Y(p).catch(Re=>{if(!Re.isFromCancelledTransition)throw Re})})})};function EJ(p){let v=p.parentNode;if(v)return v._x_hidePromise?v:EJ(v)}function IG(p,v,{during:E,start:z,end:F}={},H=()=>{},q=()=>{}){if(p._x_transitioning&&p._x_transitioning.cancel(),Object.keys(E).length===0&&Object.keys(z).length===0&&Object.keys(F).length===0){H(),q();return}let Y,Re,Ue;Pte(p,{start(){Y=v(p,z)},during(){Re=v(p,E)},before:H,end(){Y(),Ue=v(p,F)},after:q,cleanup(){Re(),Ue()}})}function Pte(p,v){let E,z,F,H=FG(()=>{hi(()=>{E=!0,z||v.before(),F||(v.end(),$G()),v.after(),p.isConnected&&v.cleanup(),delete p._x_transitioning})});p._x_transitioning={beforeCancels:[],beforeCancel(q){this.beforeCancels.push(q)},cancel:FG(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();H()}),finish:H},hi(()=>{v.start(),v.during()}),Ate(),requestAnimationFrame(()=>{if(E)return;let q=Number(getComputedStyle(p).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,Y=Number(getComputedStyle(p).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;q===0&&(q=Number(getComputedStyle(p).animationDuration.replace("s",""))*1e3),hi(()=>{v.before()}),z=!0,requestAnimationFrame(()=>{E||(hi(()=>{v.end()}),$G(),setTimeout(p._x_transitioning.finish,q+Y),F=!0)})})}function xz(p,v,E){if(p.indexOf(v)===-1)return E;const z=p[p.indexOf(v)+1];if(!z||v==="scale"&&isNaN(z))return E;if(v==="duration"||v==="delay"){let F=z.match(/([0-9]+)ms/);if(F)return F[1]}return v==="origin"&&["top","right","left","center","bottom"].includes(p[p.indexOf(v)+2])?[z,p[p.indexOf(v)+2]].join(" "):z}var j0=!1;function Z0(p,v=()=>{}){return(...E)=>j0?v(...E):p(...E)}function Bte(p){return(...v)=>j0&&p(...v)}var TJ=[];function QL(p){TJ.push(p)}function $te(p,v){TJ.forEach(E=>E(p,v)),j0=!0,AJ(()=>{x1(v,(E,z)=>{z(E,()=>{})})}),j0=!1}var LG=!1;function Fte(p,v){v._x_dataStack||(v._x_dataStack=p._x_dataStack),j0=!0,LG=!0,AJ(()=>{Ite(v)}),j0=!1,LG=!1}function Ite(p){let v=!1;x1(p,(z,F)=>{pC(z,(H,q)=>{if(v&&xte(H))return q();v=!0,F(H,q)})})}function AJ(p){let v=hC;uX((E,z)=>{let F=v(E);return TT(F),()=>{}}),p(),uX(v)}function OJ(p,v,E,z=[]){switch(p._x_bindings||(p._x_bindings=ET({})),p._x_bindings[v]=E,v=z.includes("camel")?qte(v):v,v){case"value":Lte(p,E);break;case"style":Vte(p,E);break;case"class":Hte(p,E);break;case"selected":case"checked":Ute(p,v,E);break;default:DJ(p,v,E);break}}function Lte(p,v){if(NJ(p))p.attributes.value===void 0&&(p.value=v),window.fromModel&&(typeof v=="boolean"?p.checked=IL(p.value)===v:p.checked=mX(p.value,v));else if(lK(p))Number.isInteger(v)?p.value=v:!Array.isArray(v)&&typeof v!="boolean"&&![null,void 0].includes(v)?p.value=String(v):Array.isArray(v)?p.checked=v.some(E=>mX(E,p.value)):p.checked=!!v;else if(p.tagName==="SELECT")Zte(p,v);else{if(p.value===v)return;p.value=v===void 0?"":v}}function Hte(p,v){p._x_undoAddedClasses&&p._x_undoAddedClasses(),p._x_undoAddedClasses=iK(p,v)}function Vte(p,v){p._x_undoAddedStyles&&p._x_undoAddedStyles(),p._x_undoAddedStyles=JL(p,v)}function Ute(p,v,E){DJ(p,v,E),Wte(p,v,E)}function DJ(p,v,E){[null,void 0,!1].includes(E)&&Kte(v)?p.removeAttribute(v):(RJ(v)&&(E=v),jte(p,v,E))}function jte(p,v,E){p.getAttribute(v)!=E&&p.setAttribute(v,E)}function Wte(p,v,E){p[v]!==E&&(p[v]=E)}function Zte(p,v){const E=[].concat(v).map(z=>z+"");Array.from(p.options).forEach(z=>{z.selected=E.includes(z.value)})}function qte(p){return p.toLowerCase().replace(/-(\w)/g,(v,E)=>E.toUpperCase())}function mX(p,v){return p==v}function IL(p){return[1,"1","true","on","yes",!0].includes(p)?!0:[0,"0","false","off","no",!1].includes(p)?!1:p?!!p:null}var Gte=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function RJ(p){return Gte.has(p)}function Kte(p){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(p)}function Yte(p,v,E){return p._x_bindings&&p._x_bindings[v]!==void 0?p._x_bindings[v]:zJ(p,v,E)}function Xte(p,v,E,z=!0){if(p._x_bindings&&p._x_bindings[v]!==void 0)return p._x_bindings[v];if(p._x_inlineBindings&&p._x_inlineBindings[v]!==void 0){let F=p._x_inlineBindings[v];return F.extract=z,cJ(()=>dC(p,F.expression))}return zJ(p,v,E)}function zJ(p,v,E){let z=p.getAttribute(v);return z===null?typeof E=="function"?E():E:z===""?!0:RJ(v)?!![v,"true"].includes(z):z}function lK(p){return p.type==="checkbox"||p.localName==="ui-checkbox"||p.localName==="ui-switch"}function NJ(p){return p.type==="radio"||p.localName==="ui-radio"}function MJ(p,v){var E;return function(){var z=this,F=arguments,H=function(){E=null,p.apply(z,F)};clearTimeout(E),E=setTimeout(H,v)}}function PJ(p,v){let E;return function(){let z=this,F=arguments;E||(p.apply(z,F),E=!0,setTimeout(()=>E=!1,v))}}function BJ({get:p,set:v},{get:E,set:z}){let F=!0,H,q=hC(()=>{let Y=p(),Re=E();if(F)z(yG(Y)),F=!1;else{let Ue=JSON.stringify(Y),Xe=JSON.stringify(Re);Ue!==H?z(yG(Y)):Ue!==Xe&&v(yG(Re))}H=JSON.stringify(p()),JSON.stringify(E())});return()=>{TT(q)}}function yG(p){return typeof p=="object"?JSON.parse(JSON.stringify(p)):p}function Jte(p){(Array.isArray(p)?p:[p]).forEach(E=>E($z))}var aC={},gX=!1;function Qte(p,v){if(gX||(aC=ET(aC),gX=!0),v===void 0)return aC[p];aC[p]=v,sJ(aC[p]),typeof v=="object"&&v!==null&&v.hasOwnProperty("init")&&typeof v.init=="function"&&aC[p].init()}function ene(){return aC}var $J={};function tne(p,v){let E=typeof v!="function"?()=>v:v;return p instanceof Element?FJ(p,E()):($J[p]=E,()=>{})}function nne(p){return Object.entries($J).forEach(([v,E])=>{Object.defineProperty(p,v,{get(){return(...z)=>E(...z)}})}),p}function FJ(p,v,E){let z=[];for(;z.length;)z.pop()();let F=Object.entries(v).map(([q,Y])=>({name:q,value:Y})),H=uJ(F);return F=F.map(q=>H.find(Y=>Y.name===q.name)?{name:`x-bind:${q.name}`,value:`"${q.value}"`}:q),oK(p,F,E).map(q=>{z.push(q.runCleanups),q()}),()=>{for(;z.length;)z.pop()()}}var IJ={};function one(p,v){IJ[p]=v}function sne(p,v){return Object.entries(IJ).forEach(([E,z])=>{Object.defineProperty(p,E,{get(){return(...F)=>z.bind(v)(...F)},enumerable:!1})}),p}var rne={get reactive(){return ET},get release(){return TT},get effect(){return hC},get raw(){return GX},version:"3.14.3",flushAndStopDeferringMutations:ite,dontAutoEvaluateFunctions:cJ,disableEffectScheduling:tte,startObservingMutations:QG,stopObservingMutations:nJ,setReactivityEngine:nte,onAttributeRemoved:eJ,onAttributesAdded:QX,closestDataStack:_T,skipDuringClone:Z0,onlyDuringClone:Bte,addRootSelector:_J,addInitSelector:CJ,interceptClone:QL,addScopeToNode:Mz,deferMutations:cte,mapAttributes:sK,evaluateLater:Zd,interceptInit:Ete,setEvaluator:gte,mergeProxies:Pz,extractProp:Xte,findClosest:Bz,onElRemoved:YG,closestRoot:XL,destroyTree:OT,interceptor:rJ,transition:IG,setStyles:JL,mutateDom:hi,directive:cl,entangle:BJ,throttle:PJ,debounce:MJ,evaluate:dC,initTree:x1,nextTick:cK,prefixed:AT,prefix:bte,plugin:Jte,magic:Zp,store:Qte,start:Ste,clone:Fte,cloneNode:$te,bound:Yte,$data:oJ,watch:KX,walk:pC,data:one,bind:tne},$z=rne;function ane(p,v){const E=Object.create(null),z=p.split(",");for(let F=0;F<z.length;F++)E[z[F]]=!0;return F=>!!E[F]}var cne=Object.freeze({}),ine=Object.prototype.hasOwnProperty,e8=(p,v)=>ine.call(p,v),fC=Array.isArray,Oz=p=>LJ(p)==="[object Map]",lne=p=>typeof p=="string",uK=p=>typeof p=="symbol",t8=p=>p!==null&&typeof p=="object",une=Object.prototype.toString,LJ=p=>une.call(p),HJ=p=>LJ(p).slice(8,-1),dK=p=>lne(p)&&p!=="NaN"&&p[0]!=="-"&&""+parseInt(p,10)===p,dne=p=>{const v=Object.create(null);return E=>v[E]||(v[E]=p(E))},fne=dne(p=>p.charAt(0).toUpperCase()+p.slice(1)),VJ=(p,v)=>p!==v&&(p===p||v===v),HG=new WeakMap,Ez=[],Ty,mC=Symbol("iterate"),VG=Symbol("Map key iterate");function mne(p){return p&&p._isEffect===!0}function gne(p,v=cne){mne(p)&&(p=p.raw);const E=yne(p,v);return v.lazy||E(),E}function pne(p){p.active&&(UJ(p),p.options.onStop&&p.options.onStop(),p.active=!1)}var hne=0;function yne(p,v){const E=function(){if(!E.active)return p();if(!Ez.includes(E)){UJ(E);try{return vne(),Ez.push(E),Ty=E,p()}finally{Ez.pop(),jJ(),Ty=Ez[Ez.length-1]}}};return E.id=hne++,E.allowRecurse=!!v.allowRecurse,E._isEffect=!0,E.active=!0,E.raw=p,E.deps=[],E.options=v,E}function UJ(p){const{deps:v}=p;if(v.length){for(let E=0;E<v.length;E++)v[E].delete(p);v.length=0}}var CT=!0,fK=[];function bne(){fK.push(CT),CT=!1}function vne(){fK.push(CT),CT=!0}function jJ(){const p=fK.pop();CT=p===void 0?!0:p}function jp(p,v,E){if(!CT||Ty===void 0)return;let z=HG.get(p);z||HG.set(p,z=new Map);let F=z.get(E);F||z.set(E,F=new Set),F.has(Ty)||(F.add(Ty),Ty.deps.push(F),Ty.options.onTrack&&Ty.options.onTrack({effect:Ty,target:p,type:v,key:E}))}function W0(p,v,E,z,F,H){const q=HG.get(p);if(!q)return;const Y=new Set,Re=Xe=>{Xe&&Xe.forEach($t=>{($t!==Ty||$t.allowRecurse)&&Y.add($t)})};if(v==="clear")q.forEach(Re);else if(E==="length"&&fC(p))q.forEach((Xe,$t)=>{($t==="length"||$t>=z)&&Re(Xe)});else switch(E!==void 0&&Re(q.get(E)),v){case"add":fC(p)?dK(E)&&Re(q.get("length")):(Re(q.get(mC)),Oz(p)&&Re(q.get(VG)));break;case"delete":fC(p)||(Re(q.get(mC)),Oz(p)&&Re(q.get(VG)));break;case"set":Oz(p)&&Re(q.get(mC));break}const Ue=Xe=>{Xe.options.onTrigger&&Xe.options.onTrigger({effect:Xe,target:p,key:E,type:v,newValue:z,oldValue:F,oldTarget:H}),Xe.options.scheduler?Xe.options.scheduler(Xe):Xe()};Y.forEach(Ue)}var wne=ane("__proto__,__v_isRef,__isVue"),WJ=new Set(Object.getOwnPropertyNames(Symbol).map(p=>Symbol[p]).filter(uK)),kne=ZJ(),_ne=ZJ(!0),pX=Cne();function Cne(){const p={};return["includes","indexOf","lastIndexOf"].forEach(v=>{p[v]=function(...E){const z=Zc(this);for(let H=0,q=this.length;H<q;H++)jp(z,"get",H+"");const F=z[v](...E);return F===-1||F===!1?z[v](...E.map(Zc)):F}}),["push","pop","shift","unshift","splice"].forEach(v=>{p[v]=function(...E){bne();const z=Zc(this)[v].apply(this,E);return jJ(),z}}),p}function ZJ(p=!1,v=!1){return function(z,F,H){if(F==="__v_isReactive")return!p;if(F==="__v_isReadonly")return p;if(F==="__v_raw"&&H===(p?v?$ne:YJ:v?Bne:KJ).get(z))return z;const q=fC(z);if(!p&&q&&e8(pX,F))return Reflect.get(pX,F,H);const Y=Reflect.get(z,F,H);return(uK(F)?WJ.has(F):wne(F))||(p||jp(z,"get",F),v)?Y:UG(Y)?!q||!dK(F)?Y.value:Y:t8(Y)?p?XJ(Y):hK(Y):Y}}var Sne=xne();function xne(p=!1){return function(E,z,F,H){let q=E[z];if(!p&&(F=Zc(F),q=Zc(q),!fC(E)&&UG(q)&&!UG(F)))return q.value=F,!0;const Y=fC(E)&&dK(z)?Number(z)<E.length:e8(E,z),Re=Reflect.set(E,z,F,H);return E===Zc(H)&&(Y?VJ(F,q)&&W0(E,"set",z,F,q):W0(E,"add",z,F)),Re}}function Ene(p,v){const E=e8(p,v),z=p[v],F=Reflect.deleteProperty(p,v);return F&&E&&W0(p,"delete",v,void 0,z),F}function Tne(p,v){const E=Reflect.has(p,v);return(!uK(v)||!WJ.has(v))&&jp(p,"has",v),E}function Ane(p){return jp(p,"iterate",fC(p)?"length":mC),Reflect.ownKeys(p)}var One={get:kne,set:Sne,deleteProperty:Ene,has:Tne,ownKeys:Ane},Dne={get:_ne,set(p,v){return console.warn(`Set operation on key "${String(v)}" failed: target is readonly.`,p),!0},deleteProperty(p,v){return console.warn(`Delete operation on key "${String(v)}" failed: target is readonly.`,p),!0}},mK=p=>t8(p)?hK(p):p,gK=p=>t8(p)?XJ(p):p,pK=p=>p,n8=p=>Reflect.getPrototypeOf(p);function RL(p,v,E=!1,z=!1){p=p.__v_raw;const F=Zc(p),H=Zc(v);v!==H&&!E&&jp(F,"get",v),!E&&jp(F,"get",H);const{has:q}=n8(F),Y=z?pK:E?gK:mK;if(q.call(F,v))return Y(p.get(v));if(q.call(F,H))return Y(p.get(H));p!==F&&p.get(v)}function zL(p,v=!1){const E=this.__v_raw,z=Zc(E),F=Zc(p);return p!==F&&!v&&jp(z,"has",p),!v&&jp(z,"has",F),p===F?E.has(p):E.has(p)||E.has(F)}function NL(p,v=!1){return p=p.__v_raw,!v&&jp(Zc(p),"iterate",mC),Reflect.get(p,"size",p)}function hX(p){p=Zc(p);const v=Zc(this);return n8(v).has.call(v,p)||(v.add(p),W0(v,"add",p,p)),this}function yX(p,v){v=Zc(v);const E=Zc(this),{has:z,get:F}=n8(E);let H=z.call(E,p);H?GJ(E,z,p):(p=Zc(p),H=z.call(E,p));const q=F.call(E,p);return E.set(p,v),H?VJ(v,q)&&W0(E,"set",p,v,q):W0(E,"add",p,v),this}function bX(p){const v=Zc(this),{has:E,get:z}=n8(v);let F=E.call(v,p);F?GJ(v,E,p):(p=Zc(p),F=E.call(v,p));const H=z?z.call(v,p):void 0,q=v.delete(p);return F&&W0(v,"delete",p,void 0,H),q}function vX(){const p=Zc(this),v=p.size!==0,E=Oz(p)?new Map(p):new Set(p),z=p.clear();return v&&W0(p,"clear",void 0,void 0,E),z}function ML(p,v){return function(z,F){const H=this,q=H.__v_raw,Y=Zc(q),Re=v?pK:p?gK:mK;return!p&&jp(Y,"iterate",mC),q.forEach((Ue,Xe)=>z.call(F,Re(Ue),Re(Xe),H))}}function PL(p,v,E){return function(...z){const F=this.__v_raw,H=Zc(F),q=Oz(H),Y=p==="entries"||p===Symbol.iterator&&q,Re=p==="keys"&&q,Ue=F[p](...z),Xe=E?pK:v?gK:mK;return!v&&jp(H,"iterate",Re?VG:mC),{next(){const{value:$t,done:zt}=Ue.next();return zt?{value:$t,done:zt}:{value:Y?[Xe($t[0]),Xe($t[1])]:Xe($t),done:zt}},[Symbol.iterator](){return this}}}}function U0(p){return function(...v){{const E=v[0]?`on key "${v[0]}" `:"";console.warn(`${fne(p)} operation ${E}failed: target is readonly.`,Zc(this))}return p==="delete"?!1:this}}function Rne(){const p={get(H){return RL(this,H)},get size(){return NL(this)},has:zL,add:hX,set:yX,delete:bX,clear:vX,forEach:ML(!1,!1)},v={get(H){return RL(this,H,!1,!0)},get size(){return NL(this)},has:zL,add:hX,set:yX,delete:bX,clear:vX,forEach:ML(!1,!0)},E={get(H){return RL(this,H,!0)},get size(){return NL(this,!0)},has(H){return zL.call(this,H,!0)},add:U0("add"),set:U0("set"),delete:U0("delete"),clear:U0("clear"),forEach:ML(!0,!1)},z={get(H){return RL(this,H,!0,!0)},get size(){return NL(this,!0)},has(H){return zL.call(this,H,!0)},add:U0("add"),set:U0("set"),delete:U0("delete"),clear:U0("clear"),forEach:ML(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(H=>{p[H]=PL(H,!1,!1),E[H]=PL(H,!0,!1),v[H]=PL(H,!1,!0),z[H]=PL(H,!0,!0)}),[p,E,v,z]}var[zne,Nne,coe,ioe]=Rne();function qJ(p,v){const E=p?Nne:zne;return(z,F,H)=>F==="__v_isReactive"?!p:F==="__v_isReadonly"?p:F==="__v_raw"?z:Reflect.get(e8(E,F)&&F in z?E:z,F,H)}var Mne={get:qJ(!1)},Pne={get:qJ(!0)};function GJ(p,v,E){const z=Zc(E);if(z!==E&&v.call(p,z)){const F=HJ(p);console.warn(`Reactive ${F} contains both the raw and reactive versions of the same object${F==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var KJ=new WeakMap,Bne=new WeakMap,YJ=new WeakMap,$ne=new WeakMap;function Fne(p){switch(p){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ine(p){return p.__v_skip||!Object.isExtensible(p)?0:Fne(HJ(p))}function hK(p){return p&&p.__v_isReadonly?p:JJ(p,!1,One,Mne,KJ)}function XJ(p){return JJ(p,!0,Dne,Pne,YJ)}function JJ(p,v,E,z,F){if(!t8(p))return console.warn(`value cannot be made reactive: ${String(p)}`),p;if(p.__v_raw&&!(v&&p.__v_isReactive))return p;const H=F.get(p);if(H)return H;const q=Ine(p);if(q===0)return p;const Y=new Proxy(p,q===2?z:E);return F.set(p,Y),Y}function Zc(p){return p&&Zc(p.__v_raw)||p}function UG(p){return!!(p&&p.__v_isRef===!0)}Zp("nextTick",()=>cK);Zp("dispatch",p=>Az.bind(Az,p));Zp("watch",(p,{evaluateLater:v,cleanup:E})=>(z,F)=>{let H=v(z),Y=KX(()=>{let Re;return H(Ue=>Re=Ue),Re},F);E(Y)});Zp("store",ene);Zp("data",p=>oJ(p));Zp("root",p=>XL(p));Zp("refs",p=>(p._x_refs_proxy||(p._x_refs_proxy=Pz(Lne(p))),p._x_refs_proxy));function Lne(p){let v=[];return Bz(p,E=>{E._x_refs&&v.push(E._x_refs)}),v}var bG={};function QJ(p){return bG[p]||(bG[p]=0),++bG[p]}function Hne(p,v){return Bz(p,E=>{if(E._x_ids&&E._x_ids[v])return!0})}function Vne(p,v){p._x_ids||(p._x_ids={}),p._x_ids[v]||(p._x_ids[v]=QJ(v))}Zp("id",(p,{cleanup:v})=>(E,z=null)=>{let F=`${E}${z?`-${z}`:""}`;return Une(p,F,v,()=>{let H=Hne(p,E),q=H?H._x_ids[E]:QJ(E);return z?`${E}-${q}-${z}`:`${E}-${q}`})});QL((p,v)=>{p._x_id&&(v._x_id=p._x_id)});function Une(p,v,E,z){if(p._x_id||(p._x_id={}),p._x_id[v])return p._x_id[v];let F=z();return p._x_id[v]=F,E(()=>{delete p._x_id[v]}),F}Zp("el",p=>p);eQ("Focus","focus","focus");eQ("Persist","persist","persist");function eQ(p,v,E){Zp(v,z=>Cg(`You can't use [$${v}] without first installing the "${p}" plugin here: https://alpinejs.dev/plugins/${E}`,z))}cl("modelable",(p,{expression:v},{effect:E,evaluateLater:z,cleanup:F})=>{let H=z(v),q=()=>{let Xe;return H($t=>Xe=$t),Xe},Y=z(`${v} = __placeholder`),Re=Xe=>Y(()=>{},{scope:{__placeholder:Xe}}),Ue=q();Re(Ue),queueMicrotask(()=>{if(!p._x_model)return;p._x_removeModelListeners.default();let Xe=p._x_model.get,$t=p._x_model.set,zt=BJ({get(){return Xe()},set(Bt){$t(Bt)}},{get(){return q()},set(Bt){Re(Bt)}});F(zt)})});cl("teleport",(p,{modifiers:v,expression:E},{cleanup:z})=>{p.tagName.toLowerCase()!=="template"&&Cg("x-teleport can only be used on a <template> tag",p);let F=wX(E),H=p.content.cloneNode(!0).firstElementChild;p._x_teleport=H,H._x_teleportBack=p,p.setAttribute("data-teleport-template",!0),H.setAttribute("data-teleport-target",!0),p._x_forwardEvents&&p._x_forwardEvents.forEach(Y=>{H.addEventListener(Y,Re=>{Re.stopPropagation(),p.dispatchEvent(new Re.constructor(Re.type,Re))})}),Mz(H,{},p);let q=(Y,Re,Ue)=>{Ue.includes("prepend")?Re.parentNode.insertBefore(Y,Re):Ue.includes("append")?Re.parentNode.insertBefore(Y,Re.nextSibling):Re.appendChild(Y)};hi(()=>{q(H,F,v),Z0(()=>{x1(H),H._x_ignore=!0})()}),p._x_teleportPutBack=()=>{let Y=wX(E);hi(()=>{q(p._x_teleport,Y,v)})},z(()=>hi(()=>{H.remove(),OT(H)}))});var jne=document.createElement("div");function wX(p){let v=Z0(()=>document.querySelector(p),()=>jne)();return v||Cg(`Cannot find x-teleport element for selector: "${p}"`),v}var tQ=()=>{};tQ.inline=(p,{modifiers:v},{cleanup:E})=>{v.includes("self")?p._x_ignoreSelf=!0:p._x_ignore=!0,E(()=>{v.includes("self")?delete p._x_ignoreSelf:delete p._x_ignore})};cl("ignore",tQ);cl("effect",Z0((p,{expression:v},{effect:E})=>{E(Zd(p,v))}));function jG(p,v,E,z){let F=p,H=Re=>z(Re),q={},Y=(Re,Ue)=>Xe=>Ue(Re,Xe);if(E.includes("dot")&&(v=Wne(v)),E.includes("camel")&&(v=Zne(v)),E.includes("passive")&&(q.passive=!0),E.includes("capture")&&(q.capture=!0),E.includes("window")&&(F=window),E.includes("document")&&(F=document),E.includes("debounce")){let Re=E[E.indexOf("debounce")+1]||"invalid-wait",Ue=WL(Re.split("ms")[0])?Number(Re.split("ms")[0]):250;H=MJ(H,Ue)}if(E.includes("throttle")){let Re=E[E.indexOf("throttle")+1]||"invalid-wait",Ue=WL(Re.split("ms")[0])?Number(Re.split("ms")[0]):250;H=PJ(H,Ue)}return E.includes("prevent")&&(H=Y(H,(Re,Ue)=>{Ue.preventDefault(),Re(Ue)})),E.includes("stop")&&(H=Y(H,(Re,Ue)=>{Ue.stopPropagation(),Re(Ue)})),E.includes("once")&&(H=Y(H,(Re,Ue)=>{Re(Ue),F.removeEventListener(v,H,q)})),(E.includes("away")||E.includes("outside"))&&(F=document,H=Y(H,(Re,Ue)=>{p.contains(Ue.target)||Ue.target.isConnected!==!1&&(p.offsetWidth<1&&p.offsetHeight<1||p._x_isShown!==!1&&Re(Ue))})),E.includes("self")&&(H=Y(H,(Re,Ue)=>{Ue.target===p&&Re(Ue)})),(Gne(v)||nQ(v))&&(H=Y(H,(Re,Ue)=>{Kne(Ue,E)||Re(Ue)})),F.addEventListener(v,H,q),()=>{F.removeEventListener(v,H,q)}}function Wne(p){return p.replace(/-/g,".")}function Zne(p){return p.toLowerCase().replace(/-(\w)/g,(v,E)=>E.toUpperCase())}function WL(p){return!Array.isArray(p)&&!isNaN(p)}function qne(p){return[" ","_"].includes(p)?p:p.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Gne(p){return["keydown","keyup"].includes(p)}function nQ(p){return["contextmenu","click","mouse"].some(v=>p.includes(v))}function Kne(p,v){let E=v.filter(H=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(H));if(E.includes("debounce")){let H=E.indexOf("debounce");E.splice(H,WL((E[H+1]||"invalid-wait").split("ms")[0])?2:1)}if(E.includes("throttle")){let H=E.indexOf("throttle");E.splice(H,WL((E[H+1]||"invalid-wait").split("ms")[0])?2:1)}if(E.length===0||E.length===1&&kX(p.key).includes(E[0]))return!1;const F=["ctrl","shift","alt","meta","cmd","super"].filter(H=>E.includes(H));return E=E.filter(H=>!F.includes(H)),!(F.length>0&&F.filter(q=>((q==="cmd"||q==="super")&&(q="meta"),p[`${q}Key`])).length===F.length&&(nQ(p.type)||kX(p.key).includes(E[0])))}function kX(p){if(!p)return[];p=qne(p);let v={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return v[p]=p,Object.keys(v).map(E=>{if(v[E]===p)return E}).filter(E=>E)}cl("model",(p,{modifiers:v,expression:E},{effect:z,cleanup:F})=>{let H=p;v.includes("parent")&&(H=p.parentNode);let q=Zd(H,E),Y;typeof E=="string"?Y=Zd(H,`${E} = __placeholder`):typeof E=="function"&&typeof E()=="string"?Y=Zd(H,`${E()} = __placeholder`):Y=()=>{};let Re=()=>{let zt;return q(Bt=>zt=Bt),_X(zt)?zt.get():zt},Ue=zt=>{let Bt;q(lt=>Bt=lt),_X(Bt)?Bt.set(zt):Y(()=>{},{scope:{__placeholder:zt}})};typeof E=="string"&&p.type==="radio"&&hi(()=>{p.hasAttribute("name")||p.setAttribute("name",E)});var Xe=p.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(p.type)||v.includes("lazy")?"change":"input";let $t=j0?()=>{}:jG(p,Xe,v,zt=>{Ue(vG(p,v,zt,Re()))});if(v.includes("fill")&&([void 0,null,""].includes(Re())||lK(p)&&Array.isArray(Re())||p.tagName.toLowerCase()==="select"&&p.multiple)&&Ue(vG(p,v,{target:p},Re())),p._x_removeModelListeners||(p._x_removeModelListeners={}),p._x_removeModelListeners.default=$t,F(()=>p._x_removeModelListeners.default()),p.form){let zt=jG(p.form,"reset",[],Bt=>{cK(()=>p._x_model&&p._x_model.set(vG(p,v,{target:p},Re())))});F(()=>zt())}p._x_model={get(){return Re()},set(zt){Ue(zt)}},p._x_forceModelUpdate=zt=>{zt===void 0&&typeof E=="string"&&E.match(/\./)&&(zt=""),window.fromModel=!0,hi(()=>OJ(p,"value",zt)),delete window.fromModel},z(()=>{let zt=Re();v.includes("unintrusive")&&document.activeElement.isSameNode(p)||p._x_forceModelUpdate(zt)})});function vG(p,v,E,z){return hi(()=>{if(E instanceof CustomEvent&&E.detail!==void 0)return E.detail!==null&&E.detail!==void 0?E.detail:E.target.value;if(lK(p))if(Array.isArray(z)){let F=null;return v.includes("number")?F=wG(E.target.value):v.includes("boolean")?F=IL(E.target.value):F=E.target.value,E.target.checked?z.includes(F)?z:z.concat([F]):z.filter(H=>!Yne(H,F))}else return E.target.checked;else{if(p.tagName.toLowerCase()==="select"&&p.multiple)return v.includes("number")?Array.from(E.target.selectedOptions).map(F=>{let H=F.value||F.text;return wG(H)}):v.includes("boolean")?Array.from(E.target.selectedOptions).map(F=>{let H=F.value||F.text;return IL(H)}):Array.from(E.target.selectedOptions).map(F=>F.value||F.text);{let F;return NJ(p)?E.target.checked?F=E.target.value:F=z:F=E.target.value,v.includes("number")?wG(F):v.includes("boolean")?IL(F):v.includes("trim")?F.trim():F}}})}function wG(p){let v=p?parseFloat(p):null;return Xne(v)?v:p}function Yne(p,v){return p==v}function Xne(p){return!Array.isArray(p)&&!isNaN(p)}function _X(p){return p!==null&&typeof p=="object"&&typeof p.get=="function"&&typeof p.set=="function"}cl("cloak",p=>queueMicrotask(()=>hi(()=>p.removeAttribute(AT("cloak")))));CJ(()=>`[${AT("init")}]`);cl("init",Z0((p,{expression:v},{evaluate:E})=>typeof v=="string"?!!v.trim()&&E(v,{},!1):E(v,{},!1)));cl("text",(p,{expression:v},{effect:E,evaluateLater:z})=>{let F=z(v);E(()=>{F(H=>{hi(()=>{p.textContent=H})})})});cl("html",(p,{expression:v},{effect:E,evaluateLater:z})=>{let F=z(v);E(()=>{F(H=>{hi(()=>{p.innerHTML=H,p._x_ignoreSelf=!0,x1(p),delete p._x_ignoreSelf})})})});sK(mJ(":",gJ(AT("bind:"))));var oQ=(p,{value:v,modifiers:E,expression:z,original:F},{effect:H,cleanup:q})=>{if(!v){let Re={};nne(Re),Zd(p,z)(Xe=>{FJ(p,Xe,F)},{scope:Re});return}if(v==="key")return Jne(p,z);if(p._x_inlineBindings&&p._x_inlineBindings[v]&&p._x_inlineBindings[v].extract)return;let Y=Zd(p,z);H(()=>Y(Re=>{Re===void 0&&typeof z=="string"&&z.match(/\./)&&(Re=""),hi(()=>OJ(p,v,Re,E))})),q(()=>{p._x_undoAddedClasses&&p._x_undoAddedClasses(),p._x_undoAddedStyles&&p._x_undoAddedStyles()})};oQ.inline=(p,{value:v,modifiers:E,expression:z})=>{v&&(p._x_inlineBindings||(p._x_inlineBindings={}),p._x_inlineBindings[v]={expression:z,extract:!1})};cl("bind",oQ);function Jne(p,v){p._x_keyExpression=v}_J(()=>`[${AT("data")}]`);cl("data",(p,{expression:v},{cleanup:E})=>{if(Qne(p))return;v=v===""?"{}":v;let z={};NG(z,p);let F={};sne(F,z);let H=dC(p,v,{scope:F});(H===void 0||H===!0)&&(H={}),NG(H,p);let q=ET(H);sJ(q);let Y=Mz(p,q);q.init&&dC(p,q.init),E(()=>{q.destroy&&dC(p,q.destroy),Y()})});QL((p,v)=>{p._x_dataStack&&(v._x_dataStack=p._x_dataStack,v.setAttribute("data-has-alpine-state",!0))});function Qne(p){return j0?LG?!0:p.hasAttribute("data-has-alpine-state"):!1}cl("show",(p,{modifiers:v,expression:E},{effect:z})=>{let F=Zd(p,E);p._x_doHide||(p._x_doHide=()=>{hi(()=>{p.style.setProperty("display","none",v.includes("important")?"important":void 0)})}),p._x_doShow||(p._x_doShow=()=>{hi(()=>{p.style.length===1&&p.style.display==="none"?p.removeAttribute("style"):p.style.removeProperty("display")})});let H=()=>{p._x_doHide(),p._x_isShown=!1},q=()=>{p._x_doShow(),p._x_isShown=!0},Y=()=>setTimeout(q),Re=FG($t=>$t?q():H(),$t=>{typeof p._x_toggleAndCascadeWithTransitions=="function"?p._x_toggleAndCascadeWithTransitions(p,$t,q,H):$t?Y():H()}),Ue,Xe=!0;z(()=>F($t=>{!Xe&&$t===Ue||(v.includes("immediate")&&($t?Y():H()),Re($t),Ue=$t,Xe=!1)}))});cl("for",(p,{expression:v},{effect:E,cleanup:z})=>{let F=toe(v),H=Zd(p,F.items),q=Zd(p,p._x_keyExpression||"index");p._x_prevKeys=[],p._x_lookup={},E(()=>eoe(p,F,H,q)),z(()=>{Object.values(p._x_lookup).forEach(Y=>hi(()=>{OT(Y),Y.remove()})),delete p._x_prevKeys,delete p._x_lookup})});function eoe(p,v,E,z){let F=q=>typeof q=="object"&&!Array.isArray(q),H=p;E(q=>{noe(q)&&q>=0&&(q=Array.from(Array(q).keys(),Me=>Me+1)),q===void 0&&(q=[]);let Y=p._x_lookup,Re=p._x_prevKeys,Ue=[],Xe=[];if(F(q))q=Object.entries(q).map(([Me,tt])=>{let qe=CX(v,tt,Me,q);z(ae=>{Xe.includes(ae)&&Cg("Duplicate key on x-for",p),Xe.push(ae)},{scope:ie({index:Me},qe)}),Ue.push(qe)});else for(let Me=0;Me<q.length;Me++){let tt=CX(v,q[Me],Me,q);z(qe=>{Xe.includes(qe)&&Cg("Duplicate key on x-for",p),Xe.push(qe)},{scope:ie({index:Me},tt)}),Ue.push(tt)}let $t=[],zt=[],Bt=[],lt=[];for(let Me=0;Me<Re.length;Me++){let tt=Re[Me];Xe.indexOf(tt)===-1&&Bt.push(tt)}Re=Re.filter(Me=>!Bt.includes(Me));let It="template";for(let Me=0;Me<Xe.length;Me++){let tt=Xe[Me],qe=Re.indexOf(tt);if(qe===-1)Re.splice(Me,0,tt),$t.push([It,Me]);else if(qe!==Me){let ae=Re.splice(Me,1)[0],vt=Re.splice(qe-1,1)[0];Re.splice(Me,0,vt),Re.splice(qe,0,ae),zt.push([ae,vt])}else lt.push(tt);It=tt}for(let Me=0;Me<Bt.length;Me++){let tt=Bt[Me];tt in Y&&(hi(()=>{OT(Y[tt]),Y[tt].remove()}),delete Y[tt])}for(let Me=0;Me<zt.length;Me++){let[tt,qe]=zt[Me],ae=Y[tt],vt=Y[qe],Pn=document.createElement("div");hi(()=>{vt||Cg('x-for ":key" is undefined or invalid',H,qe,Y),vt.after(Pn),ae.after(vt),vt._x_currentIfEl&&vt.after(vt._x_currentIfEl),Pn.before(ae),ae._x_currentIfEl&&ae.after(ae._x_currentIfEl),Pn.remove()}),vt._x_refreshXForScope(Ue[Xe.indexOf(qe)])}for(let Me=0;Me<$t.length;Me++){let[tt,qe]=$t[Me],ae=tt==="template"?H:Y[tt];ae._x_currentIfEl&&(ae=ae._x_currentIfEl);let vt=Ue[qe],Pn=Xe[qe],Nt=document.importNode(H.content,!0).firstElementChild,J=ET(vt);Mz(Nt,J,H),Nt._x_refreshXForScope=Zt=>{Object.entries(Zt).forEach(([Tn,gn])=>{J[Tn]=gn})},hi(()=>{ae.after(Nt),Z0(()=>x1(Nt))()}),typeof Pn=="object"&&Cg("x-for key cannot be an object, it must be a string or an integer",H),Y[Pn]=Nt}for(let Me=0;Me<lt.length;Me++)Y[lt[Me]]._x_refreshXForScope(Ue[Xe.indexOf(lt[Me])]);H._x_prevKeys=Xe})}function toe(p){let v=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,E=/^\s*\(|\)\s*$/g,z=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,F=p.match(z);if(!F)return;let H={};H.items=F[2].trim();let q=F[1].replace(E,"").trim(),Y=q.match(v);return Y?(H.item=q.replace(v,"").trim(),H.index=Y[1].trim(),Y[2]&&(H.collection=Y[2].trim())):H.item=q,H}function CX(p,v,E,z){let F={};return/^\[.*\]$/.test(p.item)&&Array.isArray(v)?p.item.replace("[","").replace("]","").split(",").map(q=>q.trim()).forEach((q,Y)=>{F[q]=v[Y]}):/^\{.*\}$/.test(p.item)&&!Array.isArray(v)&&typeof v=="object"?p.item.replace("{","").replace("}","").split(",").map(q=>q.trim()).forEach(q=>{F[q]=v[q]}):F[p.item]=v,p.index&&(F[p.index]=E),p.collection&&(F[p.collection]=z),F}function noe(p){return!Array.isArray(p)&&!isNaN(p)}function sQ(){}sQ.inline=(p,{expression:v},{cleanup:E})=>{let z=XL(p);z._x_refs||(z._x_refs={}),z._x_refs[v]=p,E(()=>delete z._x_refs[v])};cl("ref",sQ);cl("if",(p,{expression:v},{effect:E,cleanup:z})=>{p.tagName.toLowerCase()!=="template"&&Cg("x-if can only be used on a <template> tag",p);let F=Zd(p,v),H=()=>{if(p._x_currentIfEl)return p._x_currentIfEl;let Y=p.content.cloneNode(!0).firstElementChild;return Mz(Y,{},p),hi(()=>{p.after(Y),Z0(()=>x1(Y))()}),p._x_currentIfEl=Y,p._x_undoIf=()=>{hi(()=>{OT(Y),Y.remove()}),delete p._x_currentIfEl},Y},q=()=>{p._x_undoIf&&(p._x_undoIf(),delete p._x_undoIf)};E(()=>F(Y=>{Y?H():q()})),z(()=>p._x_undoIf&&p._x_undoIf())});cl("id",(p,{expression:v},{evaluate:E})=>{E(v).forEach(F=>Vne(p,F))});QL((p,v)=>{p._x_ids&&(v._x_ids=p._x_ids)});sK(mJ("@",gJ(AT("on:"))));cl("on",Z0((p,{value:v,modifiers:E,expression:z},{cleanup:F})=>{let H=z?Zd(p,z):()=>{};p.tagName.toLowerCase()==="template"&&(p._x_forwardEvents||(p._x_forwardEvents=[]),p._x_forwardEvents.includes(v)||p._x_forwardEvents.push(v));let q=jG(p,v,E,Y=>{H(()=>{},{scope:{$event:Y},params:[Y]})});F(()=>q())}));o8("Collapse","collapse","collapse");o8("Intersect","intersect","intersect");o8("Focus","trap","focus");o8("Mask","mask","mask");function o8(p,v,E){cl(v,z=>Cg(`You can't use [x-${v}] without first installing the "${p}" plugin here: https://alpinejs.dev/plugins/${E}`,z))}$z.setEvaluator(lJ);$z.setReactivityEngine({reactive:hK,effect:gne,release:pne,raw:Zc});var ooe=$z,rQ=ooe,soe={exports:{}};(function(p){(function(){var v=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},E=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},z=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},F=function(e,n){return H(function(o,r){return e.eq(n(o),n(r))})},H=function(e){return{eq:e}},q=H(function(e,n){return e===n}),Y=q,Re=function(e){return H(function(n,o){if(n.length!==o.length)return!1;for(var r=n.length,c=0;c<r;c++)if(!e.eq(n[c],o[c]))return!1;return!0})},Ue=function(e,n){return F(Re(e),function(o){return z(o,n)})},Xe=function(e){return H(function(n,o){var r=Object.keys(n),c=Object.keys(o);if(!Ue(Y).eq(r,c))return!1;for(var u=r.length,m=0;m<u;m++){var b=r[m];if(!e.eq(n[b],o[b]))return!1}return!0})},$t=H(function(e,n){if(e===n)return!0;var o=v(e),r=v(n);return o!==r?!1:E(o)?e===n:o==="array"?Re($t).eq(e,n):o==="object"?Xe($t).eq(e,n):!1});const zt=Object.getPrototypeOf,Bt=(e,n,o)=>{var r;return o(e,n.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===n.name},lt=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&Bt(e,String,(o,r)=>r.isPrototypeOf(o))?"string":n},It=e=>n=>lt(n)===e,Me=e=>n=>typeof n===e,tt=e=>n=>e===n,qe=(e,n)=>vt(e)&&Bt(e,n,(o,r)=>zt(o)===r),ae=It("string"),vt=It("object"),Pn=e=>qe(e,Object),Nt=It("array"),J=tt(null),Zt=Me("boolean"),Tn=tt(void 0),gn=e=>e==null,at=e=>!gn(e),ke=Me("function"),bo=Me("number"),We=(e,n)=>{if(Nt(e)){for(let o=0,r=e.length;o<r;++o)if(!n(e[o]))return!1;return!0}return!1},Ye=()=>{},x=(e,n)=>(...o)=>e(n.apply(null,o)),bt=(e,n)=>o=>e(n(o)),_e=e=>()=>e,Ht=e=>e,Gt=(e,n)=>e===n;function Te(e,...n){return(...o)=>{const r=n.concat(o);return e.apply(null,r)}}const Vt=e=>n=>!e(n),En=e=>()=>{throw new Error(e)},et=e=>e(),rn=e=>{e()},Pe=_e(!1),gt=_e(!0);class U{constructor(n,o){this.tag=n,this.value=o}static some(n){return new U(!0,n)}static none(){return U.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?U.some(n(this.value)):U.none()}bind(n){return this.tag?n(this.value):U.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:U.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n!=null?n:"Called getOrDie on None")}static from(n){return at(n)?U.some(n):U.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}U.singletonNone=new U(!1);const ko=Array.prototype.slice,wt=Array.prototype.indexOf,Yt=Array.prototype.push,st=(e,n)=>wt.call(e,n),Dt=(e,n)=>{const o=st(e,n);return o===-1?U.none():U.some(o)},re=(e,n)=>st(e,n)>-1,de=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];if(n(c,o))return!0}return!1},De=(e,n)=>{const o=e.length,r=new Array(o);for(let c=0;c<o;c++){const u=e[c];r[c]=n(u,c)}return r},G=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];n(c,o)}},pe=(e,n)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];n(r,o)}},Ce=(e,n)=>{const o=[],r=[];for(let c=0,u=e.length;c<u;c++){const m=e[c];(n(m,c)?o:r).push(m)}return{pass:o,fail:r}},Oe=(e,n)=>{const o=[];for(let r=0,c=e.length;r<c;r++){const u=e[r];n(u,r)&&o.push(u)}return o},Tt=(e,n,o)=>(pe(e,(r,c)=>{o=n(o,r,c)}),o),Ie=(e,n,o)=>(G(e,(r,c)=>{o=n(o,r,c)}),o),ut=(e,n,o)=>{for(let r=0,c=e.length;r<c;r++){const u=e[r];if(n(u,r))return U.some(u);if(o(u,r))break}return U.none()},Lt=(e,n)=>ut(e,n,Pe),Sn=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];if(n(c,o))return U.some(o)}return U.none()},rt=e=>{const n=[];for(let o=0,r=e.length;o<r;++o){if(!Nt(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Yt.apply(n,e[o])}return n},ft=(e,n)=>rt(De(e,n)),an=(e,n)=>{for(let o=0,r=e.length;o<r;++o){const c=e[o];if(n(c,o)!==!0)return!1}return!0},pn=e=>{const n=ko.call(e,0);return n.reverse(),n},po=(e,n)=>Oe(e,o=>!re(n,o)),Un=(e,n)=>{const o={};for(let r=0,c=e.length;r<c;r++){const u=e[r];o[String(u)]=n(u,r)}return o},Vn=(e,n)=>{const o=ko.call(e,0);return o.sort(n),o},Ho=(e,n)=>n>=0&&n<e.length?U.some(e[n]):U.none(),Ln=e=>Ho(e,0),Wo=e=>Ho(e,e.length-1),_s=ke(Array.from)?Array.from:e=>ko.call(e),es=(e,n)=>{for(let o=0;o<e.length;o++){const r=n(e[o],o);if(r.isSome())return r}return U.none()},Gs=(e,n)=>{const o=[],r=ke(n)?c=>de(o,u=>n(u,c)):c=>re(o,c);for(let c=0,u=e.length;c<u;c++){const m=e[c];r(m)||o.push(m)}return o},_o=Object.keys,Ir=Object.hasOwnProperty,on=(e,n)=>{const o=_o(e);for(let r=0,c=o.length;r<c;r++){const u=o[r],m=e[u];n(m,u)}},Go=(e,n)=>ur(e,(o,r)=>({k:r,v:n(o,r)})),ur=(e,n)=>{const o={};return on(e,(r,c)=>{const u=n(r,c);o[u.k]=u.v}),o},Qs=e=>(n,o)=>{e[o]=n},Ar=(e,n,o,r)=>{on(e,(c,u)=>{(n(c,u)?o:r)(c,u)})},_r=(e,n)=>{const o={},r={};return Ar(e,n,Qs(o),Qs(r)),{t:o,f:r}},Cs=(e,n)=>{const o={};return Ar(e,n,Qs(o),Ye),o},Jr=(e,n)=>{const o=[];return on(e,(r,c)=>{o.push(n(r,c))}),o},Zr=e=>Jr(e,Ht),ys=(e,n)=>ao(e,n)?U.from(e[n]):U.none(),ao=(e,n)=>Ir.call(e,n),Ps=(e,n)=>ao(e,n)&&e[n]!==void 0&&e[n]!==null,Qe=(e,n,o=$t)=>Xe(o).eq(e,n),Ct=e=>{const n={};return G(e,o=>{n[o]={}}),_o(n)},An=e=>e.length!==void 0,Fn=Array.isArray,jo=e=>{if(Fn(e))return e;{const n=[];for(let o=0,r=e.length;o<r;o++)n[o]=e[o];return n}},ss=(e,n,o)=>{if(!e)return!1;if(o=o||e,An(e)){for(let r=0,c=e.length;r<c;r++)if(n.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(ao(e,r)&&n.call(o,e[r],r,e)===!1)return!1;return!0},mr=(e,n)=>{const o=[];return ss(e,(r,c)=>{o.push(n(r,c,e))}),o},yr=(e,n)=>{const o=[];return ss(e,(r,c)=>{(!n||n(r,c,e))&&o.push(r)}),o},cr=(e,n)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===n)return o}return-1},xe=(e,n,o,r)=>{let c=Tn(o)?e[0]:o;for(let u=0;u<e.length;u++)c=n.call(r,c,e[u],u);return c},we=(e,n,o)=>{for(let r=0,c=e.length;r<c;r++)if(n.call(o,e[r],r,e))return r;return-1},ht=e=>e[e.length-1],Mt=e=>{let n=!1,o;return(...r)=>(n||(n=!0,o=e.apply(null,r)),o)},oo=(e,n,o,r)=>{const c=e.isiOS()&&/ipad/i.test(o)===!0,u=e.isiOS()&&!c,m=e.isiOS()||e.isAndroid(),b=m||r("(pointer:coarse)"),_=c||!u&&m&&r("(min-device-width:768px)"),A=u||m&&!_,B=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,L=!A&&!_&&!B;return{isiPad:_e(c),isiPhone:_e(u),isTablet:_e(_),isPhone:_e(A),isTouch:_e(b),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:_e(B),isDesktop:_e(L)}},Eo=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(n))return r}},Bo=(e,n)=>{const o=Eo(e,n);if(!o)return{major:0,minor:0};const r=c=>Number(n.replace(o,"$"+c));return Mo(r(1),r(2))},ir=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?Le():Bo(e,o)},Le=()=>Mo(0,0),Mo=(e,n)=>({major:e,minor:n}),ze={nu:Mo,detect:ir,unknown:Le},Be=(e,n)=>es(n.brands,o=>{const r=o.brand.toLowerCase();return Lt(e,c=>{var u;return r===((u=c.brand)===null||u===void 0?void 0:u.toLowerCase())}).map(c=>({current:c.name,version:ze.nu(parseInt(o.version,10),0)}))}),Qt=(e,n)=>{const o=String(n).toLowerCase();return Lt(e,r=>r.search(o))},cn=(e,n)=>Qt(e,n).map(o=>{const r=ze.detect(o.versionRegexes,n);return{current:o.name,version:r}}),zn=(e,n)=>Qt(e,n).map(o=>{const r=ze.detect(o.versionRegexes,n);return{current:o.name,version:r}}),Qn=(e,n)=>e.substring(n),no=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,Gn=(e,n)=>Co(e,n)?Qn(e,n.length):e,io=(e,n,o=0,r)=>{const c=e.indexOf(n,o);return c!==-1?Tn(r)?!0:c+n.length<=r:!1},Co=(e,n)=>no(e,n,0),ds=(e,n)=>no(e,n,e.length-n.length),Ds=e=>n=>n.replace(e,""),Is=Ds(/^\s+|\s+$/g),_a=Ds(/^\s+/g),ua=Ds(/\s+$/g),vo=e=>e.length>0,cs=e=>!vo(e),is=(e,n)=>n<=0?"":new Array(n+1).join(e),aa=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?U.none():U.some(o)},Qr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Or=e=>n=>io(n,e),er=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>io(e,"edge/")&&io(e,"chrome")&&io(e,"safari")&&io(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Qr],search:e=>io(e,"chrome")&&!io(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>io(e,"msie")||io(e,"trident")},{name:"Opera",versionRegexes:[Qr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Or("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Or("firefox")},{name:"Safari",versionRegexes:[Qr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(io(e,"safari")||io(e,"mobile/"))&&io(e,"applewebkit")}],El=[{name:"Windows",search:Or("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>io(e,"iphone")||io(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Or("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Or("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Or("linux"),versionRegexes:[]},{name:"Solaris",search:Or("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Or("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Or("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Xa={browsers:_e(er),oses:_e(El)},Rs="Edge",pa="Chromium",ha="IE",qr="Opera",yi="Firefox",Ba="Safari",Oa=()=>Ja({current:void 0,version:ze.unknown()}),Ja=e=>{const n=e.current,o=e.version,r=c=>()=>n===c;return{current:n,version:o,isEdge:r(Rs),isChromium:r(pa),isIE:r(ha),isOpera:r(qr),isFirefox:r(yi),isSafari:r(Ba)}},Qa={unknown:Oa,nu:Ja,edge:_e(Rs),chromium:_e(pa),ie:_e(ha),opera:_e(qr),firefox:_e(yi),safari:_e(Ba)},Mi="Windows",Pi="iOS",ei="Android",Da="Linux",Gr="macOS",ti="Solaris",bi="FreeBSD",Bi="ChromeOS",qc=()=>Lr({current:void 0,version:ze.unknown()}),Lr=e=>{const n=e.current,o=e.version,r=c=>()=>n===c;return{current:n,version:o,isWindows:r(Mi),isiOS:r(Pi),isAndroid:r(ei),isMacOS:r(Gr),isLinux:r(Da),isSolaris:r(ti),isFreeBSD:r(bi),isChromeOS:r(Bi)}},Va={unknown:qc,nu:Lr,windows:_e(Mi),ios:_e(Pi),android:_e(ei),linux:_e(Da),macos:_e(Gr),solaris:_e(ti),freebsd:_e(bi),chromeos:_e(Bi)},Ra={detect:(e,n,o)=>{const r=Xa.browsers(),c=Xa.oses(),u=n.bind(_=>Be(r,_)).orThunk(()=>cn(r,e)).fold(Qa.unknown,Qa.nu),m=zn(c,e).fold(Va.unknown,Va.nu),b=oo(m,u,e,o);return{browser:u,os:m,deviceType:b}}},Xi=e=>window.matchMedia(e).matches;let Ji=Mt(()=>Ra.detect(window.navigator.userAgent,U.from(window.navigator.userAgentData),Xi));const ee=()=>Ji(),ve=window.navigator.userAgent,Ze=ee(),Ut=Ze.browser,mn=Ze.os,V=Ze.deviceType,be=ve.indexOf("Windows Phone")!==-1,$e={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Ut.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Ut.isIE(),windowsPhone:be,browser:{current:Ut.current,version:Ut.version,isChromium:Ut.isChromium,isEdge:Ut.isEdge,isFirefox:Ut.isFirefox,isIE:Ut.isIE,isOpera:Ut.isOpera,isSafari:Ut.isSafari},os:{current:mn.current,version:mn.version,isAndroid:mn.isAndroid,isChromeOS:mn.isChromeOS,isFreeBSD:mn.isFreeBSD,isiOS:mn.isiOS,isLinux:mn.isLinux,isMacOS:mn.isMacOS,isSolaris:mn.isSolaris,isWindows:mn.isWindows},deviceType:{isDesktop:V.isDesktop,isiPad:V.isiPad,isiPhone:V.isiPhone,isPhone:V.isPhone,isTablet:V.isTablet,isTouch:V.isTouch,isWebView:V.isWebView}},kt=/^\s*|\s*$/g,lo=e=>gn(e)?"":(""+e).replace(kt,""),$=(e,n)=>n?n==="array"&&Fn(e)?!0:typeof e===n:e!==void 0,oe=(e,n,o={})=>{const r=ae(e)?e.split(n||","):e||[];let c=r.length;for(;c--;)o[r[c]]={};return o},Ee=ao,ct=(e,...n)=>{for(let o=0;o<n.length;o++){const r=n[o];for(const c in r)if(ao(r,c)){const u=r[c];u!==void 0&&(e[c]=u)}}return e},yt=function(e,n,o,r){r=r||this,e&&(o&&(e=e[o]),ss(e,(c,u)=>n.call(r,c,u,o)===!1?!1:(yt(c,n,o,r),!0)))},nn={trim:lo,isArray:Fn,is:$,toArray:jo,makeMap:oe,each:ss,map:mr,grep:yr,inArray:cr,hasOwn:Ee,extend:ct,walk:yt,resolve:(e,n=window)=>{const o=e.split(".");for(let r=0,c=o.length;r<c&&(n=n[o[r]],!!n);r++);return n},explode:(e,n)=>Nt(e)?e:e===""?[]:mr(e.split(n||","),lo),_addCacheSuffix:e=>{const n=$e.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},Bs=(e,n,o=Gt)=>e.exists(r=>o(r,n)),ba=(e,n,o=Gt)=>Vo(e,n,o).getOr(e.isNone()&&n.isNone()),$i=e=>{const n=[],o=r=>{n.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return n},Vo=(e,n,o)=>e.isSome()&&n.isSome()?U.some(o(e.getOrDie(),n.getOrDie())):U.none(),Mc=(e,n,o,r)=>e.isSome()&&n.isSome()&&o.isSome()?U.some(r(e.getOrDie(),n.getOrDie(),o.getOrDie())):U.none(),ni=(e,n)=>e?U.some(n):U.none(),va=typeof window!="undefined"?window:Function("return this;")(),Ys=(e,n)=>{let o=n!=null?n:va;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},Fi=(e,n)=>{const o=e.split(".");return Ys(o,n)},Sm=(e,n)=>Fi(e,n),qd=(e,n)=>{const o=Sm(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},Dr=Object.getPrototypeOf,od=e=>qd("HTMLElement",e),vi=e=>{const n=Fi("ownerDocument.defaultView",e);return vt(e)&&(od(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Dr(e).constructor.name))},Cr=8,wi=9,wc=11,sd=1,ce=3,me=e=>e.dom.nodeName.toLowerCase(),dt=e=>e.dom.nodeType,jt=e=>n=>dt(n)===e,ho=e=>dt(e)===Cr||me(e)==="#comment",vs=e=>ts(e)&&vi(e.dom),ts=jt(sd),tr=jt(ce),ca=jt(wi),kc=jt(wc),ec=e=>n=>ts(n)&&me(n)===e,ea=(e,n,o)=>{if(ae(o)||Zt(o)||bo(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},ta=(e,n,o)=>{ea(e.dom,n,o)},Ca=(e,n)=>{const o=e.dom;on(n,(r,c)=>{ea(o,c,r)})},tc=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},Rr=(e,n)=>U.from(tc(e,n)),na=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},Sr=(e,n)=>{e.dom.removeAttribute(n)},il=e=>{const n=e.dom.attributes;return n==null||n.length===0},Gd=e=>Ie(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),Gl=(e,n)=>{const o=tc(e,n);return o===void 0||o===""?[]:o.split(" ")},rd=(e,n,o)=>{const c=Gl(e,n).concat([o]);return ta(e,n,c.join(" ")),!0},ad=(e,n,o)=>{const r=Oe(Gl(e,n),c=>c!==o);return r.length>0?ta(e,n,r.join(" ")):Sr(e,n),!1},ku=e=>e.dom.classList!==void 0,_u=e=>Gl(e,"class"),ki=(e,n)=>rd(e,"class",n),Pc=(e,n)=>ad(e,"class",n),Sg=(e,n)=>re(_u(e),n)?Pc(e,n):ki(e,n),Tl=(e,n)=>{ku(e)?e.dom.classList.add(n):ki(e,n)},xm=e=>{(ku(e)?e.dom.classList:_u(e)).length===0&&Sr(e,"class")},cd=(e,n)=>{ku(e)?e.dom.classList.remove(n):Pc(e,n),xm(e)},Em=(e,n)=>{const o=ku(e)?e.dom.classList.toggle(n):Sg(e,n);return xm(e),o},Bf=(e,n)=>ku(e)&&e.dom.classList.contains(n),id=(e,n)=>{const r=(n||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return Cu(r.childNodes[0])},$f=(e,n)=>{const r=(n||document).createElement(e);return Cu(r)},Tm=(e,n)=>{const r=(n||document).createTextNode(e);return Cu(r)},Cu=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Ne={fromHtml:id,fromTag:$f,fromText:Tm,fromDom:Cu,fromPoint:(e,n,o)=>U.from(e.dom.elementFromPoint(n,o)).map(Cu)},ld=(e,n)=>{const o=[],r=u=>(o.push(u),n(u));let c=n(e);do c=c.bind(r);while(c.isSome());return o},_i=(e,n)=>{const o=e.dom;if(o.nodeType!==sd)return!1;{const r=o;if(r.matches!==void 0)return r.matches(n);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(n);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},qp=e=>e.nodeType!==sd&&e.nodeType!==wi&&e.nodeType!==wc||e.childElementCount===0,Gp=(e,n)=>{const o=n===void 0?document:n.dom;return qp(o)?[]:De(o.querySelectorAll(e),Ne.fromDom)},Su=(e,n)=>{const o=n===void 0?document:n.dom;return qp(o)?U.none():U.from(o.querySelector(e)).map(Ne.fromDom)},rs=(e,n)=>e.dom===n.dom,_c=(e,n)=>{const o=e.dom,r=n.dom;return o===r?!1:o.contains(r)},nc=e=>Ne.fromDom(e.dom.ownerDocument),xu=e=>ca(e)?e:nc(e),Am=e=>Ne.fromDom(xu(e).dom.documentElement),Kd=e=>Ne.fromDom(xu(e).dom.defaultView),Cc=e=>U.from(e.dom.parentNode).map(Ne.fromDom),Ff=e=>U.from(e.dom.parentElement).map(Ne.fromDom),Kl=(e,n)=>{const o=ke(n)?n:Pe;let r=e.dom;const c=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const u=r.parentNode,m=Ne.fromDom(u);if(c.push(m),o(m)===!0)break;r=u}return c},If=e=>{const n=o=>Oe(o,r=>!rs(e,r));return Cc(e).map(Ua).map(n).getOr([])},Yl=e=>U.from(e.dom.previousSibling).map(Ne.fromDom),Bc=e=>U.from(e.dom.nextSibling).map(Ne.fromDom),Kp=e=>pn(ld(e,Yl)),Yd=e=>ld(e,Bc),Ua=e=>De(e.dom.childNodes,Ne.fromDom),oi=(e,n)=>{const o=e.dom.childNodes;return U.from(o[n]).map(Ne.fromDom)},$c=e=>oi(e,0),ud=e=>oi(e,e.dom.childNodes.length-1),Xd=e=>e.dom.childNodes.length,Eg=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return Ne.fromDom(n)},Jd=e=>kc(e)&&at(e.dom.host),ll=e=>Ne.fromDom(e.dom.getRootNode()),Qd=e=>Jd(e)?e:Eg(xu(e)),Ay=e=>Jd(e)?e:Ne.fromDom(xu(e).dom.body),Tg=e=>{const n=ll(e);return Jd(n)?U.some(n):U.none()},Yp=e=>Ne.fromDom(e.dom.host),Ag=e=>{if(at(e.target)){const n=Ne.fromDom(e.target);if(ts(n)&&ef(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return Ln(o)}}return U.from(e.target)},ef=e=>at(e.dom.shadowRoot),dd=e=>{const n=tr(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return Tg(Ne.fromDom(n)).fold(()=>o.body.contains(n),bt(dd,Yp))};var Lf=(e,n,o,r,c)=>e(o,r)?U.some(o):ke(c)&&c(o)?U.none():n(o,r,c);const Hr=(e,n,o)=>{let r=e.dom;const c=ke(o)?o:Pe;for(;r.parentNode;){r=r.parentNode;const u=Ne.fromDom(r);if(n(u))return U.some(u);if(c(u))break}return U.none()},Vr=(e,n,o)=>Lf((c,u)=>u(c),Hr,e,n,o),Eu=(e,n)=>{const o=e.dom;return o.parentNode?Qi(Ne.fromDom(o.parentNode),r=>!rs(e,r)&&n(r)):U.none()},Qi=(e,n)=>{const o=c=>n(Ne.fromDom(c));return Lt(e.dom.childNodes,o).map(Ne.fromDom)},Og=(e,n)=>{const o=r=>{for(let c=0;c<r.childNodes.length;c++){const u=Ne.fromDom(r.childNodes[c]);if(n(u))return U.some(u);const m=o(r.childNodes[c]);if(m.isSome())return m}return U.none()};return o(e.dom)},za=(e,n,o)=>Hr(e,r=>_i(r,n),o),uo=(e,n)=>Su(n,e),Xl=(e,n,o)=>Lf((c,u)=>_i(c,u),za,e,n,o),Dg=e=>Xl(e,"[contenteditable]"),Ii=(e,n=!1)=>dd(e)?e.dom.isContentEditable:Dg(e).fold(_e(n),o=>$s(o)==="true"),$s=e=>e.dom.contentEditable,Tu=e=>e.style!==void 0&&ke(e.style.getPropertyValue),Hf=(e,n,o)=>{if(!ae(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Tu(e)&&e.style.setProperty(n,o)},Om=(e,n)=>{Tu(e)&&e.style.removeProperty(n)},Rg=(e,n,o)=>{const r=e.dom;Hf(r,n,o)},Jo=(e,n)=>{const o=e.dom;on(n,(r,c)=>{Hf(o,c,r)})},da=(e,n)=>{const o=e.dom,c=window.getComputedStyle(o).getPropertyValue(n);return c===""&&!dd(e)?Au(o,n):c},Au=(e,n)=>Tu(e)?e.style.getPropertyValue(n):"",Ou=(e,n)=>{const o=e.dom,r=Au(o,n);return U.from(r).filter(c=>c.length>0)},Ci=e=>{const n={},o=e.dom;if(Tu(o))for(let r=0;r<o.style.length;r++){const c=o.style.item(r);n[c]=o.style[c]}return n},si=(e,n)=>{const o=e.dom;Om(o,n),Bs(Rr(e,"style").map(Is),"")&&Sr(e,"style")},Li=e=>e.dom.offsetWidth,dr=(e,n)=>{Cc(e).each(r=>{r.dom.insertBefore(n.dom,e.dom)})},el=(e,n)=>{Bc(e).fold(()=>{Cc(e).each(c=>{$a(c,n)})},r=>{dr(r,n)})},fd=(e,n)=>{$c(e).fold(()=>{$a(e,n)},r=>{e.dom.insertBefore(n.dom,r.dom)})},$a=(e,n)=>{e.dom.appendChild(n.dom)},ul=(e,n)=>{dr(e,n),$a(n,e)},oa=(e,n)=>{G(n,(o,r)=>{const c=r===0?e:n[r-1];el(c,o)})},Du=(e,n)=>{G(n,o=>{$a(e,o)})},tf=e=>{e.dom.textContent="",G(Ua(e),n=>{nr(n)})},nr=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},dl=e=>{const n=Ua(e);n.length>0&&oa(e,n),nr(e)},Dm=(e,n)=>{const r=(n||document).createElement("div");return r.innerHTML=e,Ua(Ne.fromDom(r))},Jl=e=>De(e,Ne.fromDom),br=e=>e.dom.innerHTML,Ru=(e,n)=>{const r=nc(e).dom,c=Ne.fromDom(r.createDocumentFragment()),u=Dm(n,r);Du(c,u),tf(e),$a(e,c)},ri=e=>{const n=Ne.fromTag("div"),o=Ne.fromDom(e.dom.cloneNode(!0));return $a(n,o),br(n)},nf=(e,n,o,r,c,u,m)=>({target:e,x:n,y:o,stop:r,prevent:c,kill:u,raw:m}),fs=e=>{const n=Ne.fromDom(Ag(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),c=x(r,o);return nf(n,e.clientX,e.clientY,o,r,c,e)},of=(e,n)=>o=>{e(o)&&n(fs(o))},Rm=(e,n,o,r,c)=>{const u=of(o,r);return e.dom.addEventListener(n,u,c),{unbind:Te(P,e,n,u,c)}},T=(e,n,o,r)=>Rm(e,n,o,r,!1),P=(e,n,o,r)=>{e.dom.removeEventListener(n,o,r)},K=(e,n)=>({left:e,top:n,translate:(r,c)=>K(e+r,n+c)}),Se=K,Ve=e=>{const n=e.getBoundingClientRect();return Se(n.left,n.top)},tn=(e,n)=>e!==void 0?e:n!==void 0?n:0,Ao=e=>{const n=e.dom.ownerDocument,o=n.body,r=n.defaultView,c=n.documentElement;if(o===e.dom)return Se(o.offsetLeft,o.offsetTop);const u=tn(r==null?void 0:r.pageYOffset,c.scrollTop),m=tn(r==null?void 0:r.pageXOffset,c.scrollLeft),b=tn(c.clientTop,o.clientTop),_=tn(c.clientLeft,o.clientLeft);return Xo(e).translate(m-_,u-b)},Xo=e=>{const n=e.dom,r=n.ownerDocument.body;return r===n?Se(r.offsetLeft,r.offsetTop):dd(e)?Ve(n):Se(0,0)},Uo=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return Se(o,r)},fo=(e,n,o)=>{const c=(o!==void 0?o.dom:document).defaultView;c&&c.scrollTo(e,n)},Ur=(e,n)=>{ee().browser.isSafari()&&ke(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},Sa=e=>{const n=e===void 0?window:e;return ee().browser.isFirefox()?U.none():U.from(n.visualViewport)},Fc=(e,n,o,r)=>({x:e,y:n,width:o,height:r,right:e+o,bottom:n+r}),zu=e=>{const n=e===void 0?window:e,o=n.document,r=Uo(Ne.fromDom(o));return Sa(n).fold(()=>{const c=n.document.documentElement,u=c.clientWidth,m=c.clientHeight;return Fc(r.left,r.top,u,m)},c=>Fc(Math.max(c.pageLeft,r.left),Math.max(c.pageTop,r.top),c.width,c.height))},Vf=(e,n)=>Oe(Ua(e),n),zg=(e,n)=>{let o=[];return G(Ua(e),r=>{n(r)&&(o=o.concat([r])),o=o.concat(zg(r,n))}),o},ai=(e,n)=>Gp(n,e),Ng=(e,n,o)=>Hr(e,n,o).isSome(),E1=(e,n)=>Eu(e,n).isSome(),Oy=(e,n)=>Og(e,n).isSome();class oc{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,r,c){if(n){if(!c&&n[o])return n[o];if(n!==this.rootNode){let u=n[r];if(u)return u;for(let m=n.parentNode;m&&m!==this.rootNode;m=m.parentNode)if(u=m[r],u)return u}}}findPreviousNode(n,o){if(n){const r=n.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let u=r.lastChild;u;u=u.lastChild)if(!u.lastChild)return u}return r}const c=n.parentNode;if(c&&c!==this.rootNode)return c}}}const Xp="\uFEFF",ja=" ",Jp=e=>e===Xp,tl=e=>e.replace(/\uFEFF/g,""),To=/^[ \t\r\n]*$/,nl=e=>To.test(e),Dy=e=>{for(const n of e)if(!Jp(n))return!1;return!0},Qp=e=>" \f	\v".indexOf(e)!==-1,Uf=e=>e===`
`||e==="\r",Ry=(e,n)=>n<e.length&&n>=0?Uf(e[n]):!1,Al=(e,n=4,o=!0,r=!0)=>{const c=is(" ",n),u=e.replace(/\t/g,c);return Ie(u,(b,_)=>Qp(_)||_===ja?b.pcIsSpace||b.str===""&&o||b.str.length===u.length-1&&r||Ry(u,b.str.length+1)?{pcIsSpace:!1,str:b.str+ja}:{pcIsSpace:!0,str:b.str+" "}:{pcIsSpace:Uf(_),str:b.str+_},{pcIsSpace:!1,str:""}).str},Nu=e=>n=>!!n&&n.nodeType===e,jf=e=>!!e&&!Object.getPrototypeOf(e),In=Nu(1),Ol=e=>In(e)&&vs(Ne.fromDom(e)),eh=e=>In(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",zm=e=>{const n=e.toLowerCase();return o=>at(o)&&o.nodeName.toLowerCase()===n},Dl=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return re(n,r)}return!1}},Mg=(e,n)=>{const o=n.toLowerCase().split(" ");return r=>{if(In(r)){const c=r.ownerDocument.defaultView;if(c)for(let u=0;u<o.length;u++){const m=c.getComputedStyle(r,null);if((m?m.getPropertyValue(e):null)===o[u])return!0}}return!1}},Wf=e=>n=>In(n)&&n.hasAttribute(e),md=e=>In(e)&&e.hasAttribute("data-mce-bogus"),Pg=e=>In(e)&&e.getAttribute("data-mce-bogus")==="all",Ql=e=>In(e)&&e.tagName==="TABLE",T1=e=>n=>!!(Ol(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),sa=Dl(["textarea","input"]),dn=Nu(3),ci=Nu(4),Zf=Nu(7),wa=Nu(8),Nm=Nu(9),sc=Nu(11),Hs=zm("br"),Bg=zm("img"),Xt=T1("true"),Vs=T1("false"),$g=Dl(["td","th"]),Wa=Dl(["td","th","caption"]),Ic=Dl(["video","audio","object","embed"]),fl=zm("li"),zy=zm("details"),sf=zm("summary"),Ny={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},ol=(e,n,o)=>{const r=Ne.fromDom(n),c=Ne.fromDom(e),u=o.getWhitespaceElements();return Ng(c,b=>ao(u,me(b)),Te(rs,r))},Fs=e=>In(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Mu=(e,n)=>In(e)&&ao(n.getNonEmptyElements(),e.nodeName),Fg=Wf("data-mce-bookmark"),Za=e=>Ff(Ne.fromDom(e)).exists(n=>!Ii(n)),th=(e,n,o)=>nl(e.data)&&!ol(e,n,o),eu=(e,n,o,r)=>dn(e)&&!th(e,n,o)&&(!r.includeZwsp||!Dy(e.data)),Ig=(e,n,o,r)=>ke(r.isContent)&&r.isContent(n)||Mu(n,e)||Fg(n)||Fs(n)||eu(n,o,e,r)||Vs(n)||Xt(n)&&Za(n),rc=(e,n,o)=>{const r=ie(ie({},Ny),o);if(r.checkRootAsContent&&Ig(e,n,n,r))return!1;let c=n.firstChild,u=0;if(!c)return!0;const m=new oc(c,n);do{if(r.skipBogus&&In(c)){const b=c.getAttribute("data-mce-bogus");if(b){c=m.next(b==="all");continue}}if(wa(c)){c=m.next(!0);continue}if(Hs(c)){u++,c=m.next();continue}if(Ig(e,c,n,r))return!1;c=m.next()}while(c);return u<=1},Lc=(e,n,o)=>rc(e,n.dom,ie({checkRootAsContent:!0},o)),it=(e,n,o)=>Ig(e,n,n,ie({includeZwsp:Ny.includeZwsp},o)),fr=e=>{let n=e;return{get:()=>n,set:c=>{n=c}}},nh=e=>{const n=fr(U.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(U.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:b=>{o(),n.set(U.some(b))}}},xa=e=>{const n=fr(U.none()),o=()=>n.get().each(b=>clearInterval(b));return{clear:()=>{o(),n.set(U.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:b=>{o(),n.set(U.some(setInterval(b,e)))}}},gc=()=>{const e=nh(Ye),n=o=>e.get().each(o);return Pt(ie({},e),{on:n})},qa=e=>{const n=e.toLowerCase();return n==="svg"?"svg":n==="math"?"math":"html"},zr=e=>qa(e)!=="html",oh=e=>zr(e.nodeName),rf=e=>qa(e.nodeName),C=["svg","math"],R=()=>{const e=gc(),n=()=>e.get().map(rf).getOr("html");return{track:c=>(oh(c)?e.set(c):e.get().exists(u=>!u.contains(c))&&e.clear(),n()),current:n,reset:()=>{e.clear()}}},Z="data-mce-block",le=e=>Oe(_o(e),n=>!/[A-Z]/.test(n)),je=e=>De(le(e),n=>{const o=CSS.escape(n);return`${o}:`+De(C,r=>`not(${r} ${o})`).join(":")}).join(","),Kt=(e,n)=>at(n.querySelector(e))?(n.setAttribute(Z,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(Z),!1),vn=(e,n)=>{const o=je(e.getTransparentElements()),r=je(e.getBlockElements());return Oe(n.querySelectorAll(o),c=>Kt(r,c))},eo=(e,n,o)=>{var r;const c=o?"lastChild":"firstChild";for(let u=n[c];u;u=u[c])if(rc(e,u,{checkRootAsContent:!0})){(r=u.parentNode)===null||r===void 0||r.removeChild(u);return}},$o=(e,n,o)=>{const r=document.createRange(),c=n.parentNode;if(c){r.setStartBefore(n),r.setEndBefore(o);const u=r.extractContents();eo(e,u,!0),r.setStartAfter(o),r.setEndAfter(n);const m=r.extractContents();eo(e,m,!1),rc(e,u,{checkRootAsContent:!0})||c.insertBefore(u,n),rc(e,o,{checkRootAsContent:!0})||c.insertBefore(o,n),rc(e,m,{checkRootAsContent:!0})||c.insertBefore(m,n),c.removeChild(n)}},Qo=(e,n,o)=>{const r=e.getBlockElements(),c=Ne.fromDom(n),u=b=>me(b)in r,m=b=>rs(b,c);G(Jl(o),b=>{Hr(b,u,m).each(_=>{const A=Vf(b,B=>u(B)&&!e.isValidChild(me(_),me(B)));if(A.length>0){const B=Ff(_);G(A,L=>{Hr(L,u,m).each(j=>{$o(e,j.dom,L.dom)})}),B.each(L=>vn(e,L.dom))}})})},xr=(e,n,o)=>{G([...o,...gd(e,n)?[n]:[]],r=>G(ai(Ne.fromDom(r),r.nodeName.toLowerCase()),c=>{pd(e,c.dom)&&dl(c)}))},qs=(e,n)=>{const o=vn(e,n);Qo(e,n,o),xr(e,n,o)},jr=(e,n)=>{if(Pu(e,n)){const o=je(e.getBlockElements());Kt(o,n)}},Si=(e,n,o)=>{const r=u=>rs(u,Ne.fromDom(n)),c=Kl(Ne.fromDom(o),r);Ho(c,c.length-2).filter(ts).fold(()=>qs(e,n),u=>qs(e,u.dom))},ml=e=>e.hasAttribute(Z),Sc=(e,n)=>ao(e.getTransparentElements(),n),Pu=(e,n)=>In(n)&&Sc(e,n.nodeName),gd=(e,n)=>Pu(e,n)&&ml(n),pd=(e,n)=>Pu(e,n)&&!ml(n),af=(e,n)=>n.type===1&&Sc(e,n.name)&&ae(n.attr(Z)),Mm=ee().browser,Lg=e=>Lt(e,ts),sh=e=>Mm.isFirefox()&&me(e)==="table"?Lg(Ua(e)).filter(n=>me(n)==="caption").bind(n=>Lg(Yd(n)).map(o=>{const r=o.dom.offsetTop,c=n.dom.offsetTop,u=n.dom.offsetHeight;return r<=c?-u:0})).getOr(0):0,Fa=(e,n)=>e.children&&re(e.children,n),tu=(e,n,o)=>{let r=0,c=0;const u=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&da(Ne.fromDom(e),"position")==="static"){const b=n.getBoundingClientRect();return r=b.left+(u.documentElement.scrollLeft||e.scrollLeft)-u.documentElement.clientLeft,c=b.top+(u.documentElement.scrollTop||e.scrollTop)-u.documentElement.clientTop,{x:r,y:c}}let m=n;for(;m&&m!==o&&m.nodeType&&!Fa(m,o);){const b=m;r+=b.offsetLeft||0,c+=b.offsetTop||0,m=b.offsetParent}for(m=n.parentNode;m&&m!==o&&m.nodeType&&!Fa(m,o);)r-=m.scrollLeft||0,c-=m.scrollTop||0,m=m.parentNode;c+=sh(Ne.fromDom(n))}return{x:r,y:c}},cf=(e,n={})=>{let o=0;const r={},c=Ne.fromDom(e),u=xu(c),m=He=>{n.referrerPolicy=He},b=He=>{n.contentCssCors=He},_=He=>{$a(Qd(c),He)},A=He=>{const Ge=Qd(c);uo(Ge,"#"+He).each(nr)},B=He=>ys(r,He).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),L=He=>new Promise((Ge,nt)=>{let mt;const en=nn._addCacheSuffix(He),yn=B(en);r[en]=yn,yn.count++;const Zn=(qn,yo)=>{G(qn,rn),yn.status=yo,yn.passed=[],yn.failed=[],mt&&(mt.onload=null,mt.onerror=null,mt=null)},Wt=()=>Zn(yn.passed,2),At=()=>Zn(yn.failed,3);if(Ge&&yn.passed.push(Ge),nt&&yn.failed.push(nt),yn.status===1)return;if(yn.status===2){Wt();return}if(yn.status===3){At();return}yn.status=1;const sn=Ne.fromTag("link",u.dom);Ca(sn,{rel:"stylesheet",type:"text/css",id:yn.id}),n.contentCssCors&&ta(sn,"crossOrigin","anonymous"),n.referrerPolicy&&ta(sn,"referrerpolicy",n.referrerPolicy),mt=sn.dom,mt.onload=Wt,mt.onerror=At,_(sn),ta(sn,"href",en)}),j=(He,Ge)=>{const nt=B(He);r[He]=nt,nt.count++;const mt=Ne.fromTag("style",u.dom);Ca(mt,{rel:"stylesheet",type:"text/css",id:nt.id}),mt.dom.innerHTML=Ge,_(mt)},ne=He=>Promise.allSettled(De(He,nt=>L(nt).then(_e(nt)))).then(nt=>{const mt=Ce(nt,en=>en.status==="fulfilled");return mt.fail.length>0?Promise.reject(De(mt.fail,en=>en.reason)):De(mt.pass,en=>en.value)}),fe=He=>{const Ge=nn._addCacheSuffix(He);ys(r,Ge).each(nt=>{--nt.count===0&&(delete r[Ge],A(nt.id))})};return{load:L,loadRawCss:j,loadAll:ne,unload:fe,unloadRawCss:He=>{ys(r,He).each(Ge=>{--Ge.count===0&&(delete r[He],A(Ge.id))})},unloadAll:He=>{G(He,Ge=>{fe(Ge)})},_setReferrerPolicy:m,_setContentCssCors:b}},Kr=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const u=ll(o).dom;return U.from(e.get(u)).getOrThunk(()=>{const m=cf(u,r);return e.set(u,m),m})}}})(),ia=e=>e.nodeName.toLowerCase()==="span",ii=(e,n)=>at(e)&&(it(n,e)||n.isInline(e.nodeName.toLowerCase())),rh=(e,n,o)=>{const r=new oc(e,n).prev(!1),c=new oc(e,n).next(!1),u=Tn(r)||ii(r,o),m=Tn(c)||ii(c,o);return u&&m},ah=e=>ia(e)&&e.getAttribute("data-mce-type")==="bookmark",Hi=(e,n,o)=>dn(e)&&e.data.length>0&&rh(e,n,o),Vi=e=>In(e)?e.childNodes.length>0:!1,yC=e=>sc(e)||Nm(e),nu=(e,n,o,r)=>{var c;const u=r||n;if(In(n)&&ah(n))return n;const m=n.childNodes;for(let b=m.length-1;b>=0;b--)nu(e,m[b],o,u);if(In(n)){const b=n.childNodes;b.length===1&&ah(b[0])&&((c=n.parentNode)===null||c===void 0||c.insertBefore(b[0],n))}return!yC(n)&&!it(o,n)&&!Vi(n)&&!Hi(n,u,o)&&e.remove(n),n},Hg=nn.makeMap,hd=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lf=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Vg=/[<>&\"\']/g,DT=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,My={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Pm={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},RT={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Na=e=>{const n=Ne.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},A1=(e,n)=>{const o={};if(e){const r=e.split(",");n=n||10;for(let c=0;c<r.length;c+=2){const u=String.fromCharCode(parseInt(r[c],n));if(!Pm[u]){const m="&"+r[c+1]+";";o[u]=m,o[m]=u}}return o}else return},yd=A1("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Ug=(e,n)=>e.replace(n?hd:lf,o=>Pm[o]||o),Py=e=>(""+e).replace(Vg,n=>Pm[n]||n),bd=(e,n)=>e.replace(n?hd:lf,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Pm[o]||"&#"+o.charCodeAt(0)+";"),Hc=(e,n,o)=>{const r=o||yd;return e.replace(n?hd:lf,c=>Pm[c]||r[c]||c)},$m={encodeRaw:Ug,encodeAllRaw:Py,encodeNumeric:bd,encodeNamed:Hc,getEncodeFunc:(e,n)=>{const o=A1(n)||yd,r=(m,b)=>m.replace(b?hd:lf,_=>Pm[_]!==void 0?Pm[_]:o[_]!==void 0?o[_]:_.length>1?"&#"+((_.charCodeAt(0)-55296)*1024+(_.charCodeAt(1)-56320)+65536)+";":"&#"+_.charCodeAt(0)+";"),c=(m,b)=>Hc(m,b,o),u=Hg(e.replace(/\+/g,","));return u.named&&u.numeric?r:u.named?n?c:Hc:u.numeric?bd:Ug},decode:e=>e.replace(DT,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):My[o]||String.fromCharCode(o)):RT[n]||yd[n]||Na(n))},xc=(e,n)=>(e=nn.trim(e),e?e.split(n||" "):[]),D1=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),R1=e=>vt(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",zT=e=>{const n=o=>Nt(o)?De(o,n):R1(o)?new RegExp(o.source,o.flags):vt(o)?Go(o,n):o;return n(e)},bC=e=>{const n=/^(~)?(.+)$/;return ft(xc(e,","),o=>{const r=n.exec(o);if(r){const u=r[1]==="~"?"span":"div",m=r[2];return[{cloneName:u,name:m}]}else return[]})},Fm=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),jg=e=>{let n,o;n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(n+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),n=[n,"center dir isindex noframes"].join(" "));const r=[n,o].join(" ");return{blockContent:n,phrasingContent:o,flowContent:r}},sl=e=>{const{blockContent:n,phrasingContent:o,flowContent:r}=jg(e),c=u=>Object.freeze(u.split(" "));return Object.freeze({blockContent:c(n),phrasingContent:c(o),flowContent:c(r)})},Rl={html4:Mt(()=>sl("html4")),html5:Mt(()=>sl("html5")),"html5-strict":Mt(()=>sl("html5-strict"))},zl=(e,n)=>{const{blockContent:o,phrasingContent:r,flowContent:c}=Rl[e]();return n==="blocks"?U.some(o):n==="phrasing"?U.some(r):n==="flow"?U.some(c):U.none()},By=e=>{const n=Fm(e),{phrasingContent:o,flowContent:r}=jg(e),c={},u=(_,A,B)=>{c[_]={attributes:Un(A,_e({})),attributesOrder:A,children:Un(B,_e({}))}},m=(_,A="",B="")=>{const L=xc(B),j=xc(_);let ne=j.length;const fe=[...n,...xc(A)];for(;ne--;)u(j[ne],fe.slice(),L)},b=(_,A)=>{const B=xc(_),L=xc(A);let j=B.length;for(;j--;){const ne=c[B[j]];for(let fe=0,se=L.length;fe<se;fe++)ne.attributes[L[fe]]={},ne.attributesOrder.push(L[fe])}};return e!=="html5-strict"&&(G(xc("acronym applet basefont big font strike tt"),B=>{m(B,"",o)}),G(xc("center dir isindex noframes"),B=>{m(B,"",r)})),m("html","manifest","head body"),m("head","","base command link meta noscript script style title"),m("title hr noscript br"),m("base","href target"),m("link","href rel media hreflang type sizes hreflang"),m("meta","name http-equiv content charset"),m("style","media type scoped"),m("script","src async defer type charset"),m("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),m("dd div","",r),m("address dt caption","",e==="html4"?o:r),m("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),m("blockquote","cite",r),m("ol","reversed start type","li"),m("ul","","li"),m("li","value",r),m("dl","","dt dd"),m("a","href target rel media hreflang type",e==="html4"?o:r),m("q","cite",o),m("ins del","cite datetime",r),m("img","src sizes srcset alt usemap ismap width height"),m("iframe","src name width height",r),m("embed","src type width height"),m("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),m("param","name value"),m("map","name",[r,"area"].join(" ")),m("area","alt coords shape href target rel media hreflang type"),m("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),m("colgroup","span","col"),m("col","span"),m("tbody thead tfoot","","tr"),m("tr","","td th"),m("td","colspan rowspan headers",r),m("th","colspan rowspan headers scope abbr",r),m("form","accept-charset action autocomplete enctype method name novalidate target",r),m("fieldset","disabled form name",[r,"legend"].join(" ")),m("label","form for",o),m("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),m("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:o),m("select","disabled form multiple name required size","option optgroup"),m("optgroup","disabled label","option"),m("option","disabled label selected value"),m("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),m("menu","type label",[r,"li"].join(" ")),m("noscript","",r),e!=="html4"&&(m("wbr"),m("ruby","",[o,"rt rp"].join(" ")),m("figcaption","",r),m("mark rt rp bdi","",o),m("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),m("canvas","width height",r),m("data","value",o),m("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),m("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),m("picture","","img source"),m("source","src srcset type media sizes"),m("track","kind src srclang label default"),m("datalist","",[o,"option"].join(" ")),m("article section nav aside main header footer","",r),m("hgroup","","h1 h2 h3 h4 h5 h6"),m("figure","",[r,"figcaption"].join(" ")),m("time","datetime",o),m("dialog","open",r),m("command","type label icon disabled checked radiogroup command"),m("output","for form name",o),m("progress","value max",o),m("meter","value min max low high optimum",o),m("details","open",[r,"summary"].join(" ")),m("keygen","autofocus challenge disabled form keytype name"),u("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(b("script","language xml:space"),b("style","xml:space"),b("object","declare classid code codebase codetype archive standby align border hspace vspace"),b("embed","align name hspace vspace"),b("param","valuetype type"),b("a","charset name rev shape coords"),b("br","clear"),b("applet","codebase archive code object alt name width height align hspace vspace"),b("img","name longdesc align border hspace vspace"),b("iframe","longdesc frameborder marginwidth marginheight scrolling align"),b("font basefont","size color face"),b("input","usemap align"),b("select"),b("textarea"),b("h1 h2 h3 h4 h5 h6 div p legend caption","align"),b("ul","type compact"),b("li","type"),b("ol dl menu dir","compact"),b("pre","width xml:space"),b("hr","align noshade size width"),b("isindex","prompt"),b("table","summary width frame rules cellspacing cellpadding align bgcolor"),b("col","width align char charoff valign"),b("colgroup","width align char charoff valign"),b("thead","align char charoff valign"),b("tr","align char charoff valign bgcolor"),b("th","axis align char charoff valign nowrap bgcolor width height"),b("form","accept"),b("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),b("tfoot","align char charoff valign"),b("tbody","align char charoff valign"),b("area","nohref"),b("body","background bgcolor text link vlink alink")),e!=="html4"&&(b("input button select textarea","autofocus"),b("input textarea","placeholder"),b("a","download"),b("link script img","crossorigin"),b("img","loading"),b("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&G([c.video,c.audio],_=>{delete _.children.audio,delete _.children.video}),G(xc("a form meter progress dfn"),_=>{c[_]&&delete c[_].children[_]}),delete c.caption.children.table,delete c.script,c},$y=e=>e==="-"?"remove":"add",ch=e=>{const n=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return U.from(n.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},q0=e=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return ft(xc(e,","),o=>{const r=n.exec(o);if(r){const c=r[1],u=c?$y(c):"replace",m=r[2],b=ft(xc(r[3],"|"),_=>ch(_).toArray());return[{operation:u,name:m,validChildren:b}]}else return[]})},vC=(e,n)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:c,attributesOrder:u}=n;return G(xc(e,"|"),m=>{const b=o.exec(m);if(b){const _={},A=b[1],B=b[2].replace(/[\\:]:/g,":"),L=b[3],j=b[4];if(A==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push(B),_.required=!0),A==="-"){delete c[B],u.splice(nn.inArray(u,B),1);return}if(L&&(L==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:B,value:j}),_.defaultValue=j):L==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:B,value:j}),_.forcedValue=j):L==="<"&&(_.validValues=nn.makeMap(j,"?"))),r.test(B)){const ne=_;n.attributePatterns=n.attributePatterns||[],ne.pattern=D1(B),n.attributePatterns.push(ne)}else c[B]||u.push(B),c[B]=_}})},wC=(e,n)=>{on(e.attributes,(o,r)=>{n.attributes[r]=o}),n.attributesOrder.push(...e.attributesOrder)},G0=(e,n)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return ft(xc(n,","),r=>{const c=o.exec(r);if(c){const u=c[1],m=c[2],b=c[3],_=c[4],A=c[5],B={attributes:{},attributesOrder:[]};if(e.each(L=>wC(L,B)),u==="#"?B.paddEmpty=!0:u==="-"&&(B.removeEmpty=!0),_==="!"&&(B.removeEmptyAttrs=!0),A&&vC(A,B),b&&(B.outputName=m),m==="@")if(e.isNone())e=U.some(B);else return[];return[b?{name:m,element:B,aliasName:b}:{name:m,element:B}]}else return[]})},ih={},ms=nn.makeMap,co=nn.each,Im=nn.extend,z1=nn.explode,N1=(e,n={})=>{const o=ms(e," ",ms(e.toUpperCase()," "));return Im(o,n)},K0=e=>N1("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),M1=(e,n)=>{if(e){const o={};return ae(e)&&(e={"*":e}),co(e,(r,c)=>{o[c]=o[c.toUpperCase()]=n==="map"?ms(r,/[, ]/):z1(r,/[, ]/)}),o}else return},or=(e={})=>{var n;const o={},r={};let c=[];const u={},m={},b=(mo,Ms,Ta)=>{const fc=e[mo];if(fc)return ms(fc,/[, ]/,ms(fc.toUpperCase(),/[, ]/));{let zc=ih[mo];return zc||(zc=N1(Ms,Ta),ih[mo]=zc),zc}},_=(n=e.schema)!==null&&n!==void 0?n:"html5",A=By(_);e.verify_html===!1&&(e.valid_elements="*[*]");const B=M1(e.valid_styles),L=M1(e.invalid_styles,"map"),j=M1(e.valid_classes,"map"),ne=b("whitespace_elements","pre script noscript style textarea video audio iframe object code"),fe=b("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),se=b("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),he=b("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),He="td th iframe video audio object script code",Ge=b("non_empty_elements",He+" pre svg textarea summary",se),nt=b("move_caret_before_on_enter_elements",He+" table",se),mt="h1 h2 h3 h4 h5 h6",en=b("text_block_elements",mt+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),yn=b("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",en),Zn=b("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Wt=b("transparent_elements","a ins del canvas map"),At=b("wrap_block_elements","pre "+mt);co("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),mo=>{m[mo]=new RegExp("</"+mo+"[^>]*>","gi")});const sn=mo=>{const Ms=U.from(o["@"]),Ta=/[*?+]/;G(G0(Ms,mo!=null?mo:""),({name:fc,element:zc,aliasName:mc})=>{if(mc&&(o[mc]=zc),Ta.test(fc)){const ma=zc;ma.pattern=D1(fc),c.push(ma)}else o[fc]=zc})},qn=mo=>{c=[],G(_o(o),Ms=>{delete o[Ms]}),sn(mo)},yo=(mo,Ms)=>{var Ta,fc;delete ih.text_block_elements,delete ih.block_elements;const zc=Ms.extends?!Ju(Ms.extends):!1,mc=Ms.extends;if(r[mo]=mc?r[mc]:{},u[mo]=mc!=null?mc:mo,Ge[mo.toUpperCase()]={},Ge[mo]={},zc||(yn[mo.toUpperCase()]={},yn[mo]={}),mc&&!o[mo]&&o[mc]){const ma=zT(o[mc]);delete ma.removeEmptyAttrs,delete ma.removeEmpty,o[mo]=ma}else o[mo]={attributesOrder:[],attributes:{}};if(Nt(Ms.attributes)){const ma=xl=>{ka.attributesOrder.push(xl),ka.attributes[xl]={}},ka=(Ta=o[mo])!==null&&Ta!==void 0?Ta:{};delete ka.attributesDefault,delete ka.attributesForced,delete ka.attributePatterns,delete ka.attributesRequired,ka.attributesOrder=[],ka.attributes={},G(Ms.attributes,xl=>{const Ud=Fm(_);ch(xl).each(({preset:km,name:Df})=>{km?Df==="global"&&G(Ud,ma):ma(Df)})}),o[mo]=ka}if(Zt(Ms.padEmpty)){const ma=(fc=o[mo])!==null&&fc!==void 0?fc:{};ma.paddEmpty=Ms.padEmpty,o[mo]=ma}if(Nt(Ms.children)){const ma={},ka=Ud=>{ma[Ud]={}},xl=Ud=>{zl(_,Ud).each(km=>{G(km,ka)})};G(Ms.children,Ud=>{ch(Ud).each(({preset:km,name:Df})=>{km?xl(Df):ka(Df)})}),r[mo]=ma}mc&&on(r,(ma,ka)=>{ma[mc]&&(r[ka]=ma=Im({},r[ka]),ma[mo]=ma[mc])})},gs=mo=>{G(bC(mo!=null?mo:""),({name:Ms,cloneName:Ta})=>{yo(Ms,{extends:Ta})})},ps=mo=>{vt(mo)?on(mo,(Ms,Ta)=>yo(Ta,Ms)):ae(mo)&&gs(mo)},Ks=mo=>{G(q0(mo!=null?mo:""),({operation:Ms,name:Ta,validChildren:fc})=>{const zc=Ms==="replace"?{"#comment":{}}:r[Ta],mc=ka=>{Ms==="remove"?delete zc[ka]:zc[ka]={}},ma=ka=>{zl(_,ka).each(xl=>{G(xl,mc)})};G(fc,({preset:ka,name:xl})=>{ka?ma(xl):mc(xl)}),r[Ta]=zc})},lr=mo=>{const Ms=o[mo];if(Ms)return Ms;let Ta=c.length;for(;Ta--;){const fc=c[Ta];if(fc.pattern.test(mo))return fc}},Pa=()=>{e.valid_elements?(qn(e.valid_elements),co(A,(mo,Ms)=>{r[Ms]=mo.children})):(co(A,(mo,Ms)=>{o[Ms]={attributes:mo.attributes,attributesOrder:mo.attributesOrder},r[Ms]=mo.children}),co(xc("strong/b em/i"),mo=>{const Ms=xc(mo,"/");o[Ms[1]].outputName=Ms[0]}),co(Zn,(mo,Ms)=>{o[Ms]&&(e.padd_empty_block_inline_children&&(o[Ms].paddInEmptyBlock=!0),o[Ms].removeEmpty=!0)}),co(xc("ol ul blockquote a table tbody"),mo=>{o[mo]&&(o[mo].removeEmpty=!0)}),co(xc("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),mo=>{o[mo]&&(o[mo].paddEmpty=!0)}),co(xc("span"),mo=>{o[mo].removeEmptyAttrs=!0})),delete o.svg,ps(e.custom_elements),Ks(e.valid_children),sn(e.extended_valid_elements),Ks("+ol[ul|ol],+ul[ul|ol]"),co({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(mo,Ms)=>{o[Ms]&&(o[Ms].parentsRequired=xc(mo))}),e.invalid_elements&&co(z1(e.invalid_elements),mo=>{o[mo]&&delete o[mo]}),lr("span")||sn("span[!data-mce-type|*]")},gi=_e(B),Ha=_e(L),On=_e(j),go=_e(he),Us=_e(yn),Hn=_e(en),zo=_e(Zn),No=_e(Object.seal(se)),Nn=_e(fe),hs=_e(Ge),Ss=_e(nt),dc=_e(ne),kr=_e(Wt),pi=_e(At),Ul=_e(Object.seal(m)),wm=(mo,Ms)=>{const Ta=r[mo.toLowerCase()];return!!(Ta&&Ta[Ms.toLowerCase()])},Yi=(mo,Ms)=>{const Ta=lr(mo);if(Ta)if(Ms){if(Ta.attributes[Ms])return!0;const fc=Ta.attributePatterns;if(fc){let zc=fc.length;for(;zc--;)if(fc[zc].pattern.test(Ms))return!0}}else return!0;return!1},Ju=mo=>ao(Us(),mo),Vd=mo=>!Co(mo,"#")&&Yi(mo)&&!Ju(mo),Ri=mo=>ao(pi(),mo)||Vd(mo),jl=_e(u);return Pa(),{type:_,children:r,elements:o,getValidStyles:gi,getValidClasses:On,getBlockElements:Us,getInvalidStyles:Ha,getVoidElements:No,getTextBlockElements:Hn,getTextInlineElements:zo,getBoolAttrs:go,getElementRule:lr,getSelfClosingElements:Nn,getNonEmptyElements:hs,getMoveCaretBeforeOnEnterElements:Ss,getWhitespaceElements:dc,getTransparentElements:kr,getSpecialElements:Ul,isValidChild:wm,isValid:Yi,isBlock:Ju,isInline:Vd,isWrapper:Ri,getCustomElements:jl,addValidElements:sn,setValidElements:qn,addCustomElements:ps,addValidChildren:Ks}},Y0=e=>({value:kC(e)}),kC=e=>Gn(e,"#").toUpperCase(),X0=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},Jt=e=>{const n=X0(e.red)+X0(e.green)+X0(e.blue);return Y0(n)},lh=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,_C=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Wg=(e,n,o,r)=>({red:e,green:n,blue:o,alpha:r}),CC=(e,n,o,r)=>{const c=parseInt(e,10),u=parseInt(n,10),m=parseInt(o,10),b=parseFloat(r);return Wg(c,u,m,b)},qf=e=>lh.test(e)?"rgb":_C.test(e)?"rgba":"other",P1=e=>{const n=lh.exec(e);if(n!==null)return U.some(CC(n[1],n[2],n[3],"1"));const o=_C.exec(e);return o!==null?U.some(CC(o[1],o[2],o[3],o[4])):U.none()},Zg=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,Fy=e=>P1(e).map(Jt).map(n=>"#"+n.value).getOr(e),Lm=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,u={};let m,b;const _=Xp;n&&(m=n.getValidStyles(),b=n.getInvalidStyles());const A=(`\\" \\' \\; \\: ; : `+_).split(" ");for(let L=0;L<A.length;L++)u[A[L]]=_+L,u[_+L]=A[L];const B={parse:L=>{const j={};let ne=!1;const fe=e.url_converter,se=e.url_converter_scope||B,he=(Wt,At,sn)=>{const qn=j[Wt+"-top"+At];if(!qn)return;const yo=j[Wt+"-right"+At];if(!yo)return;const gs=j[Wt+"-bottom"+At];if(!gs)return;const ps=j[Wt+"-left"+At];if(!ps)return;const Ks=[qn,yo,gs,ps];let lr=Ks.length-1;for(;lr--&&Ks[lr]===Ks[lr+1];);lr>-1&&sn||(j[Wt+At]=lr===-1?Ks[0]:Ks.join(" "),delete j[Wt+"-top"+At],delete j[Wt+"-right"+At],delete j[Wt+"-bottom"+At],delete j[Wt+"-left"+At])},He=Wt=>{const At=j[Wt];if(!At)return;const sn=At.indexOf(",")>-1?[At]:At.split(" ");let qn=sn.length;for(;qn--;)if(sn[qn]!==sn[0])return!1;return j[Wt]=sn[0],!0},Ge=(Wt,At,sn,qn)=>{He(At)&&He(sn)&&He(qn)&&(j[Wt]=j[At]+" "+j[sn]+" "+j[qn],delete j[At],delete j[sn],delete j[qn])},nt=Wt=>(ne=!0,u[Wt]),mt=(Wt,At)=>(ne&&(Wt=Wt.replace(/\uFEFF[0-9]/g,sn=>u[sn])),At||(Wt=Wt.replace(/\\([\'\";:])/g,"$1")),Wt),en=Wt=>String.fromCharCode(parseInt(Wt.slice(1),16)),yn=Wt=>Wt.replace(/\\[0-9a-f]+/gi,en),Zn=(Wt,At,sn,qn,yo,gs)=>{if(yo=yo||gs,yo)return yo=mt(yo),"'"+yo.replace(/\'/g,"\\'")+"'";if(At=mt(At||sn||qn||""),!e.allow_script_urls){const ps=At.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(ps)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(ps))return""}return fe&&(At=fe.call(se,At,"style")),"url('"+At.replace(/\'/g,"\\'")+"')"};if(L){L=L.replace(/[\u0000-\u001F]/g,""),L=L.replace(/\\[\"\';:\uFEFF]/g,nt).replace(/\"[^\"]+\"|\'[^\']+\'/g,At=>At.replace(/[;:]/g,nt));let Wt;for(;Wt=r.exec(L);){r.lastIndex=Wt.index+Wt[0].length;let At=Wt[1].replace(c,"").toLowerCase(),sn=Wt[2].replace(c,"");if(At&&sn){if(At=yn(At),sn=yn(sn),At.indexOf(_)!==-1||At.indexOf('"')!==-1||!e.allow_script_urls&&(At==="behavior"||/expression\s*\(|\/\*|\*\//.test(sn)))continue;At==="font-weight"&&sn==="700"?sn="bold":(At==="color"||At==="background-color")&&(sn=sn.toLowerCase()),qf(sn)==="rgb"&&P1(sn).each(qn=>{sn=Fy(Zg(qn)).toLowerCase()}),sn=sn.replace(o,Zn),j[At]=ne?mt(sn,!0):sn}}he("border","",!0),he("border","-width"),he("border","-color"),he("border","-style"),he("padding",""),he("margin",""),Ge("border","border-width","border-style","border-color"),j.border==="medium none"&&delete j.border,j["border-image"]==="none"&&delete j["border-image"]}return j},serialize:(L,j)=>{let ne="";const fe=(he,He)=>{const Ge=He[he];if(Ge)for(let nt=0,mt=Ge.length;nt<mt;nt++){const en=Ge[nt],yn=L[en];yn&&(ne+=(ne.length>0?" ":"")+en+": "+yn+";")}},se=(he,He)=>{if(!b||!He)return!0;let Ge=b["*"];return Ge&&Ge[he]?!1:(Ge=b[He],!(Ge&&Ge[he]))};return j&&m?(fe("*",m),fe(j,m)):on(L,(he,He)=>{he&&se(He,j)&&(ne+=(ne.length>0?" ":"")+He+": "+he+";")}),ne}};return B},Wr={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},uf=e=>e instanceof Event||ke(e.initEvent),SC=e=>e.isDefaultPrevented===gt||e.isDefaultPrevented===Pe,Gf=e=>gn(e.preventDefault)||uf(e),J0=(e,n)=>{const o=n!=null?n:{};for(const r in e)ao(Wr,r)||(o[r]=e[r]);return at(e.composedPath)&&(o.composedPath=()=>e.composedPath()),at(e.getModifierState)&&(o.getModifierState=r=>e.getModifierState(r)),at(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},qg=(e,n,o,r)=>{var c;const u=J0(n,r);return u.type=e,gn(u.target)&&(u.target=(c=u.srcElement)!==null&&c!==void 0?c:o),Gf(n)&&(u.preventDefault=()=>{u.defaultPrevented=!0,u.isDefaultPrevented=gt,ke(n.preventDefault)&&n.preventDefault()},u.stopPropagation=()=>{u.cancelBubble=!0,u.isPropagationStopped=gt,ke(n.stopPropagation)&&n.stopPropagation()},u.stopImmediatePropagation=()=>{u.isImmediatePropagationStopped=gt,u.stopPropagation()},SC(u)||(u.isDefaultPrevented=u.defaultPrevented===!0?gt:Pe,u.isPropagationStopped=u.cancelBubble===!0?gt:Pe,u.isImmediatePropagationStopped=Pe)),u},Q0="mce-data-",ew=/^(?:mouse|contextmenu)|click/,Ui=(e,n,o,r)=>{e.addEventListener(n,o,r||!1)},uh=(e,n,o,r)=>{e.removeEventListener(n,o,r||!1)},NT=e=>at(e)&&ew.test(e.type),Hm=(e,n)=>{const o=qg(e.type,e,document,n);if(NT(e)&&Tn(e.pageX)&&!Tn(e.clientX)){const r=o.target.ownerDocument||document,c=r.documentElement,u=r.body,m=o;m.pageX=e.clientX+(c&&c.scrollLeft||u&&u.scrollLeft||0)-(c&&c.clientLeft||u&&u.clientLeft||0),m.pageY=e.clientY+(c&&c.scrollTop||u&&u.scrollTop||0)-(c&&c.clientTop||u&&u.clientTop||0)}return o},MT=(e,n,o)=>{const r=e.document,c={type:"ready"};if(o.domLoaded){n(c);return}const u=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,m=()=>{uh(e,"DOMContentLoaded",m),uh(e,"load",m),o.domLoaded||(o.domLoaded=!0,n(c)),e=null};u()?m():Ui(e,"DOMContentLoaded",m),o.domLoaded||Ui(e,"load",m)};class Gg{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Q0+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,r,c){const u=this;let m;const b=window,_=j=>{u.executeHandlers(Hm(j||b.event),A)};if(!n||dn(n)||wa(n))return r;let A;n[u.expando]?A=n[u.expando]:(A=u.count++,n[u.expando]=A,u.events[A]={}),c=c||n;const B=o.split(" ");let L=B.length;for(;L--;){let j=B[L],ne=_,fe=!1,se=!1;if(j==="DOMContentLoaded"&&(j="ready"),u.domLoaded&&j==="ready"&&n.readyState==="complete"){r.call(c,Hm({type:j}));continue}!u.hasFocusIn&&(j==="focusin"||j==="focusout")&&(fe=!0,se=j==="focusin"?"focus":"blur",ne=he=>{const He=Hm(he||b.event);He.type=He.type==="focus"?"focusin":"focusout",u.executeHandlers(He,A)}),m=u.events[A][j],m?j==="ready"&&u.domLoaded?r(Hm({type:j})):m.push({func:r,scope:c}):(u.events[A][j]=m=[{func:r,scope:c}],m.fakeName=se,m.capture=fe,m.nativeHandler=ne,j==="ready"?MT(n,ne,u):Ui(n,se||j,ne,fe))}return n=m=null,r}unbind(n,o,r){if(!n||dn(n)||wa(n))return this;const c=n[this.expando];if(c){let u=this.events[c];if(o){const m=o.split(" ");let b=m.length;for(;b--;){const _=m[b],A=u[_];if(A){if(r){let B=A.length;for(;B--;)if(A[B].func===r){const L=A.nativeHandler,j=A.fakeName,ne=A.capture,fe=A.slice(0,B).concat(A.slice(B+1));fe.nativeHandler=L,fe.fakeName=j,fe.capture=ne,u[_]=fe}}(!r||A.length===0)&&(delete u[_],uh(n,A.fakeName||_,A.nativeHandler,A.capture))}}}else on(u,(m,b)=>{uh(n,m.fakeName||b,m.nativeHandler,m.capture)}),u={};for(const m in u)if(ao(u,m))return this;delete this.events[c];try{delete n[this.expando]}catch(m){n[this.expando]=null}}return this}fire(n,o,r){return this.dispatch(n,o,r)}dispatch(n,o,r){if(!n||dn(n)||wa(n))return this;const c=Hm({type:o,target:n},r);do{const u=n[this.expando];u&&this.executeHandlers(c,u),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!c.isPropagationStopped());return this}clean(n){if(!n||dn(n)||wa(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let r=o.length;for(;r--;)n=o[r],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const r=this.events[o],c=r&&r[n.type];if(c)for(let u=0,m=c.length;u<m;u++){const b=c[u];if(b&&b.func.call(b.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}Gg.Event=new Gg;const B1=nn.each,PT=nn.grep,Iy="data-mce-style",vd=nn.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),xi=(e,n,o)=>{gn(o)||o===""?Sr(e,n):ta(e,n,o)},hn=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),dh=(e,n)=>{let o=0;if(e)for(let r=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const u=c.nodeType;n&&dn(c)&&(u===r||!c.data.length)||(o++,r=u)}return o},Ec=(e,n)=>{const o=tc(n,"style"),r=e.serialize(e.parse(o),me(n));xi(n,Iy,r)},tw=(e,n)=>bo(e)?ao(vd,n)?e+"":e+"px":e,nw=(e,n,o)=>{const r=hn(n);gn(o)||o===""?si(e,r):Rg(e,r,tw(o,r))},ow=(e,n,o)=>{const r=n.keep_values,c={set:(m,b,_)=>{const A=Ne.fromDom(m);ke(n.url_converter)&&at(b)&&(b=n.url_converter.call(n.url_converter_scope||o(),String(b),_,m));const B="data-mce-"+_;xi(A,B,b),xi(A,_,b)},get:(m,b)=>{const _=Ne.fromDom(m);return tc(_,"data-mce-"+b)||tc(_,b)}},u={style:{set:(m,b)=>{const _=Ne.fromDom(m);r&&xi(_,Iy,b),Sr(_,"style"),ae(b)&&Jo(_,e.parse(b))},get:m=>{const b=Ne.fromDom(m),_=tc(b,Iy)||tc(b,"style");return e.serialize(e.parse(_),me(b))}}};return r&&(u.href=u.src=c),u},Er=(e,n={})=>{const o={},r=window,c={};let u=0;const m=!0,b=!0,_=Kr.forElement(Ne.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),A=[],B=n.schema?n.schema:or({}),L=Lm({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),j=n.ownEvents?new Gg:Gg.Event,ne=B.getBlockElements(),fe=xt=>ae(xt)?ao(ne,xt):In(xt)&&(ao(ne,xt.nodeName)||gd(B,xt)),se=xt=>xt&&e&&ae(xt)?e.getElementById(xt):xt,he=xt=>{const St=se(xt);return at(St)?Ne.fromDom(St):null},He=(xt,St,Dn="")=>{let bn;const Do=he(xt);if(at(Do)&&ts(Do)){const js=pT[St];js&&js.get?bn=js.get(Do.dom,St):bn=tc(Do,St)}return at(bn)?bn:Dn},Ge=xt=>{const St=se(xt);return gn(St)?[]:St.attributes},nt=(xt,St,Dn)=>{go(xt,bn=>{if(In(bn)){const Do=Ne.fromDom(bn),js=Dn===""?null:Dn,Aa=tc(Do,St),_m=pT[St];_m&&_m.set?_m.set(Do.dom,js,St):xi(Do,St,js),Aa!==js&&n.onSetAttrib&&n.onSetAttrib({attrElm:Do.dom,attrName:St,attrValue:js})}})},mt=(xt,St)=>xt.cloneNode(St),en=()=>n.root_element||e.body,yn=xt=>{const St=zu(xt);return{x:St.x,y:St.y,w:St.width,h:St.height}},Zn=(xt,St)=>tu(e.body,se(xt),St),Wt=(xt,St,Dn)=>{go(xt,bn=>{const Do=Ne.fromDom(bn);nw(Do,St,Dn),n.update_styles&&Ec(L,Do)})},At=(xt,St)=>{go(xt,Dn=>{const bn=Ne.fromDom(Dn);on(St,(Do,js)=>{nw(bn,js,Do)}),n.update_styles&&Ec(L,bn)})},sn=(xt,St,Dn)=>{const bn=se(xt);if(!(gn(bn)||!Ol(bn)&&!eh(bn)))return Dn?da(Ne.fromDom(bn),hn(St)):(St=St.replace(/-(\D)/g,(Do,js)=>js.toUpperCase()),St==="float"&&(St="cssFloat"),bn.style?bn.style[St]:void 0)},qn=xt=>{const St=se(xt);if(!St)return{w:0,h:0};let Dn=sn(St,"width"),bn=sn(St,"height");return(!Dn||Dn.indexOf("px")===-1)&&(Dn="0"),(!bn||bn.indexOf("px")===-1)&&(bn="0"),{w:parseInt(Dn,10)||St.offsetWidth||St.clientWidth,h:parseInt(bn,10)||St.offsetHeight||St.clientHeight}},yo=xt=>{const St=se(xt),Dn=Zn(St),bn=qn(St);return{x:Dn.x,y:Dn.y,w:bn.w,h:bn.h}},gs=(xt,St)=>{if(!xt)return!1;const Dn=Nt(xt)?xt:[xt];return de(Dn,bn=>_i(Ne.fromDom(bn),St))},ps=(xt,St,Dn,bn)=>{const Do=[];let js=se(xt);bn=bn===void 0;const Aa=Dn||(en().nodeName!=="BODY"?en().parentNode:null);if(ae(St))if(St==="*")St=In;else{const _m=St;St=Wd=>gs(Wd,_m)}for(;js&&!(js===Aa||gn(js.nodeType)||Nm(js)||sc(js));){if(!St||St(js))if(bn)Do.push(js);else return[js];js=js.parentNode}return bn?Do:null},Ks=(xt,St,Dn)=>{const bn=ps(xt,St,Dn,!1);return bn&&bn.length>0?bn[0]:null},lr=(xt,St,Dn)=>{let bn=St;if(xt){ae(St)&&(bn=Do=>gs(Do,St));for(let Do=xt[Dn];Do;Do=Do[Dn])if(ke(bn)&&bn(Do))return Do}return null},Pa=(xt,St)=>lr(xt,St,"nextSibling"),gi=(xt,St)=>lr(xt,St,"previousSibling"),Ha=xt=>ke(xt.querySelectorAll),On=(xt,St)=>{var Dn,bn;const Do=(bn=(Dn=se(St))!==null&&Dn!==void 0?Dn:n.root_element)!==null&&bn!==void 0?bn:e;return Ha(Do)?_s(Do.querySelectorAll(xt)):[]},go=function(xt,St,Dn){const bn=Dn!=null?Dn:this;if(Nt(xt)){const Do=[];return B1(xt,(js,Aa)=>{const _m=se(js);_m&&Do.push(St.call(bn,_m,Aa))}),Do}else{const Do=se(xt);return Do?St.call(bn,Do):!1}},Us=(xt,St)=>{go(xt,Dn=>{on(St,(bn,Do)=>{nt(Dn,Do,bn)})})},Hn=(xt,St)=>{go(xt,Dn=>{const bn=Ne.fromDom(Dn);Ru(bn,St)})},zo=(xt,St,Dn,bn,Do)=>go(xt,js=>{const Aa=ae(St)?e.createElement(St):St;return at(Dn)&&Us(Aa,Dn),bn&&(!ae(bn)&&bn.nodeType?Aa.appendChild(bn):ae(bn)&&Hn(Aa,bn)),Do?Aa:js.appendChild(Aa)}),No=(xt,St,Dn)=>zo(e.createElement(xt),xt,St,Dn,!0),Nn=$m.decode,hs=$m.encodeAllRaw,Ss=(xt,St,Dn="")=>{let bn="<"+xt;for(const Do in St)Ps(St,Do)&&(bn+=" "+Do+'="'+hs(St[Do])+'"');return cs(Dn)&&ao(B.getVoidElements(),xt)?bn+" />":bn+">"+Dn+"</"+xt+">"},dc=xt=>{const St=e.createElement("div"),Dn=e.createDocumentFragment();Dn.appendChild(St),xt&&(St.innerHTML=xt);let bn;for(;bn=St.firstChild;)Dn.appendChild(bn);return Dn.removeChild(St),Dn},kr=(xt,St)=>go(xt,Dn=>{const bn=Ne.fromDom(Dn);return St&&G(Ua(bn),Do=>{tr(Do)&&Do.dom.length===0?nr(Do):dr(bn,Do)}),nr(bn),bn.dom}),pi=xt=>go(xt,St=>{const Dn=St.attributes;for(let bn=Dn.length-1;bn>=0;bn--)St.removeAttributeNode(Dn.item(bn))}),Ul=xt=>L.parse(xt),wm=(xt,St)=>L.serialize(xt,St),Yi=xt=>{if(jd!==Er.DOM&&e===document){if(o[xt])return;o[xt]=!0}let St=e.getElementById("mceDefaultStyles");if(!St){St=e.createElement("style"),St.id="mceDefaultStyles",St.type="text/css";const Dn=e.head;Dn.firstChild?Dn.insertBefore(St,Dn.firstChild):Dn.appendChild(St)}St.styleSheet?St.styleSheet.cssText+=xt:St.appendChild(e.createTextNode(xt))},Ju=xt=>{xt||(xt=""),G(xt.split(","),St=>{c[St]=!0,_.load(St).catch(Ye)})},Vd=(xt,St,Dn)=>{go(xt,bn=>{if(In(bn)){const Do=Ne.fromDom(bn),js=St.split(" ");G(js,Aa=>{at(Dn)?(Dn?Tl:cd)(Do,Aa):Em(Do,Aa)})}})},Ri=(xt,St)=>{Vd(xt,St,!0)},jl=(xt,St)=>{Vd(xt,St,!1)},mo=(xt,St)=>{const Dn=he(xt),bn=St.split(" ");return at(Dn)&&an(bn,Do=>Bf(Dn,Do))},Ms=xt=>{go(xt,St=>si(Ne.fromDom(St),"display"))},Ta=xt=>{go(xt,St=>Rg(Ne.fromDom(St),"display","none"))},fc=xt=>{const St=he(xt);return at(St)&&Bs(Ou(St,"display"),"none")},zc=xt=>(xt||"mce_")+u++,mc=xt=>{const St=he(xt);return at(St)?In(St.dom)?St.dom.outerHTML:ri(St):""},ma=(xt,St)=>{go(xt,Dn=>{In(Dn)&&(Dn.outerHTML=St)})},ka=(xt,St)=>{const Dn=se(St);return go(xt,bn=>{const Do=Dn==null?void 0:Dn.parentNode,js=Dn==null?void 0:Dn.nextSibling;return Do&&(js?Do.insertBefore(bn,js):Do.appendChild(bn)),bn})},xl=(xt,St,Dn)=>go(St,bn=>{var Do;const js=Nt(St)?xt.cloneNode(!0):xt;return Dn&&B1(PT(bn.childNodes),Aa=>{js.appendChild(Aa)}),(Do=bn.parentNode)===null||Do===void 0||Do.replaceChild(js,bn),bn}),Ud=(xt,St)=>{if(xt.nodeName!==St.toUpperCase()){const Dn=No(St);return B1(Ge(xt),bn=>{nt(Dn,bn.nodeName,He(xt,bn.nodeName))}),xl(Dn,xt,!0),Dn}else return xt},km=(xt,St)=>{let Dn=xt;for(;Dn;){let bn=St;for(;bn&&Dn!==bn;)bn=bn.parentNode;if(Dn===bn)break;Dn=Dn.parentNode}return!Dn&&xt.ownerDocument?xt.ownerDocument.documentElement:Dn},Df=(xt,St,Dn)=>{if(Pn(St)){const bn=Do=>{const js=Do.nodeName.toLowerCase();return!!St[js]};return rc(B,xt,Pt(ie({},Dn),{isContent:bn}))}else return rc(B,xt,Dn)},b1=()=>e.createRange(),Sy=(xt,St,Dn)=>{let bn=b1(),Do,js;if(xt&&St&&xt.parentNode&&St.parentNode){const Aa=xt.parentNode;return bn.setStart(Aa,dh(xt)),bn.setEnd(St.parentNode,dh(St)),Do=bn.extractContents(),bn=b1(),bn.setStart(St.parentNode,dh(St)+1),bn.setEnd(Aa,dh(xt)+1),js=bn.extractContents(),Aa.insertBefore(nu(jd,Do,B),xt),Dn?Aa.insertBefore(Dn,xt):Aa.insertBefore(St,xt),Aa.insertBefore(nu(jd,js,B),xt),kr(xt),Dn||St}else return},Hp=(xt,St,Dn,bn)=>{if(Nt(xt)){let Do=xt.length;const js=[];for(;Do--;)js[Do]=Hp(xt[Do],St,Dn,bn);return js}else return n.collect&&(xt===e||xt===r)&&A.push([xt,St,Dn,bn]),j.bind(xt,St,Dn,bn||jd)},vu=(xt,St,Dn)=>{if(Nt(xt)){let bn=xt.length;const Do=[];for(;bn--;)Do[bn]=vu(xt[bn],St,Dn);return Do}else{if(A.length>0&&(xt===e||xt===r)){let bn=A.length;for(;bn--;){const[Do,js,Aa]=A[bn];xt===Do&&(!St||St===js)&&(!Dn||Dn===Aa)&&j.unbind(Do,js,Aa)}}return j.unbind(xt,St,Dn)}},Vp=(xt,St,Dn)=>j.dispatch(xt,St,Dn),H0=(xt,St,Dn)=>j.dispatch(xt,St,Dn),v1=xt=>{if(xt&&Ol(xt)){const St=xt.getAttribute("data-mce-contenteditable");return St&&St!=="inherit"?St:xt.contentEditable!=="inherit"?xt.contentEditable:null}else return null},jd={doc:e,settings:n,win:r,files:c,stdMode:m,boxModel:b,styleSheetLoader:_,boundEvents:A,styles:L,schema:B,events:j,isBlock:fe,root:null,clone:mt,getRoot:en,getViewPort:yn,getRect:yo,getSize:qn,getParent:Ks,getParents:ps,get:se,getNext:Pa,getPrev:gi,select:On,is:gs,add:zo,create:No,createHTML:Ss,createFragment:dc,remove:kr,setStyle:Wt,getStyle:sn,setStyles:At,removeAllAttribs:pi,setAttrib:nt,setAttribs:Us,getAttrib:He,getPos:Zn,parseStyle:Ul,serializeStyle:wm,addStyle:Yi,loadCSS:Ju,addClass:Ri,removeClass:jl,hasClass:mo,toggleClass:Vd,show:Ms,hide:Ta,isHidden:fc,uniqueId:zc,setHTML:Hn,getOuterHTML:mc,setOuterHTML:ma,decode:Nn,encode:hs,insertAfter:ka,replace:xl,rename:Ud,findCommonAncestor:km,run:go,getAttribs:Ge,isEmpty:Df,createRng:b1,nodeIndex:dh,split:Sy,bind:Hp,unbind:vu,fire:H0,dispatch:Vp,getContentEditable:v1,getContentEditableParent:xt=>{const St=en();let Dn=null;for(let bn=xt;bn&&bn!==St&&(Dn=v1(bn),Dn===null);bn=bn.parentNode);return Dn},isEditable:xt=>{if(at(xt)){const St=In(xt)?xt:xt.parentElement;return at(St)&&Ol(St)&&Ii(Ne.fromDom(St))}else return!1},destroy:()=>{if(A.length>0){let xt=A.length;for(;xt--;){const[St,Dn,bn]=A[xt];j.unbind(St,Dn,bn)}}on(c,(xt,St)=>{_.unload(St),delete c[St]})},isChildOf:(xt,St)=>xt===St||St.contains(xt),dumpRng:xt=>"startContainer: "+xt.startContainer.nodeName+", startOffset: "+xt.startOffset+", endContainer: "+xt.endContainer.nodeName+", endOffset: "+xt.endOffset},pT=ow(L,n,_e(jd));return jd};Er.DOM=Er(document),Er.nodeIndex=dh;const BT=Er.DOM,Kg=0,Kf=1,fh=2,sw=3;class df{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,r)=>{const c=BT;let u;const m=()=>{c.remove(A),u&&(u.onerror=u.onload=u=null)},b=()=>{m(),o()},_=()=>{m(),r("Failed to load script: "+n)},A=c.uniqueId();u=document.createElement("script"),u.id=A,u.type="text/javascript",u.src=nn._addCacheSuffix(n),this.settings.referrerPolicy&&c.setAttrib(u,"referrerpolicy",this.settings.referrerPolicy),u.onload=b,u.onerror=_,(document.getElementsByTagName("head")[0]||document.body).appendChild(u)})}isDone(n){return this.states[n]===fh}markDone(n){this.states[n]=fh}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=Kg),new Promise((c,u)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:c,reject:u})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,r=(_,A)=>{ys(o.scriptLoadedCallbacks,A).each(B=>{G(B,L=>L[_](A))}),delete o.scriptLoadedCallbacks[A]},c=_=>{const A=Oe(_,B=>B.status==="rejected");return A.length>0?Promise.reject(ft(A,({reason:B})=>Nt(B)?B:[B])):Promise.resolve()},u=_=>Promise.allSettled(De(_,A=>o.states[A]===fh?(r("resolve",A),Promise.resolve()):o.states[A]===sw?(r("reject",A),Promise.reject(A)):(o.states[A]=Kf,o.loadScript(A).then(()=>{o.states[A]=fh,r("resolve",A);const B=o.queue;return B.length>0?(o.queue=[],u(B).then(c)):Promise.resolve()},()=>(o.states[A]=sw,r("reject",A),Promise.reject(A)))))),m=_=>(o.loading=!0,u(_).then(A=>{o.loading=!1;const B=o.queueLoadedCallbacks.shift();return U.from(B).each(rn),c(A)})),b=Ct(n);return o.loading?new Promise((_,A)=>{o.queueLoadedCallbacks.push(()=>{m(b).then(_,A)})}):m(b)}}df.ScriptLoader=new df;const xC=(e,n)=>{const o=e.indexOf(n);return o!==-1&&e.indexOf(n,o+1)>o},Ia=e=>vt(e)&&ao(e,"raw"),$1=e=>Nt(e)&&e.length>1,sr={},rw=fr("en"),ji=()=>ys(sr,rw.get()),kd={getData:()=>Go(sr,e=>ie({},e)),setCode:e=>{e&&rw.set(e)},getCode:()=>rw.get(),add:(e,n)=>{let o=sr[e];o||(sr[e]=o={});const r=De(_o(n),c=>c.toLowerCase());on(n,(c,u)=>{const m=u.toLowerCase();m!==u&&xC(r,m)?(ao(n,m)||(o[m]=c),o[u]=c):o[m]=c})},translate:e=>{const n=ji().getOr({}),o=m=>ke(m)?Object.prototype.toString.call(m):r(m)?"":""+m,r=m=>m===""||m===null||m===void 0,c=m=>{const b=o(m);return ao(n,b)?o(n[b]):ys(n,b.toLowerCase()).map(o).getOr(b)},u=m=>m.replace(/{context:\w+}$/,"");if(r(e))return"";if(Ia(e))return o(e.raw);if($1(e)){const m=e.slice(1),b=c(e[0]).replace(/\{([0-9]+)\}/g,(_,A)=>ao(m,A)?o(m[A]):_);return u(b)}return u(c(e))},isRtl:()=>ji().bind(e=>ys(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>ao(sr,e)},Ei=()=>{const e=[],n={},o={},r=[],c=(se,he)=>{const He=Oe(r,Ge=>Ge.name===se&&Ge.state===he);G(He,Ge=>Ge.resolve())},u=se=>ao(n,se),m=se=>ao(o,se),b=se=>{if(o[se])return o[se].instance},_=(se,he)=>{const He=kd.getCode(),Ge=","+(he||"")+",";!He||he&&Ge.indexOf(","+He+",")===-1||df.ScriptLoader.add(n[se]+"/langs/"+He+".js")},A=(se,he)=>{Ei.languageLoad!==!1&&(u(se)?_(se,he):fe(se,"loaded").then(()=>_(se,he)))},B=(se,he)=>(e.push(he),o[se]={instance:he},c(se,"added"),he),L=se=>{delete n[se],delete o[se]},j=(se,he)=>ae(he)?ae(se)?{prefix:"",resource:he,suffix:""}:{prefix:se.prefix,resource:he,suffix:se.suffix}:he,ne=(se,he)=>{if(n[se])return Promise.resolve();let He=ae(he)?he:he.prefix+he.resource+he.suffix;He.indexOf("/")!==0&&He.indexOf("://")===-1&&(He=Ei.baseURL+"/"+He),n[se]=He.substring(0,He.lastIndexOf("/"));const Ge=()=>(c(se,"loaded"),Promise.resolve());return o[se]?Ge():df.ScriptLoader.add(He).then(Ge)},fe=(se,he="added")=>he==="added"&&m(se)||he==="loaded"&&u(se)?Promise.resolve():new Promise(He=>{r.push({name:se,state:he,resolve:He})});return{items:e,urls:n,lookup:o,get:b,requireLangPack:A,add:B,remove:L,createUrl:j,load:ne,waitFor:fe}};Ei.languageLoad=!0,Ei.baseURL="",Ei.PluginManager=Ei(),Ei.ThemeManager=Ei(),Ei.ModelManager=Ei();const gh=(e,n)=>{let o=null;return{cancel:()=>{J(o)||(clearTimeout(o),o=null)},throttle:(...u)=>{J(o)&&(o=setTimeout(()=>{o=null,e.apply(null,u)},n))}}},I1=(e,n)=>{let o=null;const r=()=>{J(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...u)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,u)},n)}}},L1=(e,n,o)=>za(e,n,o).isSome(),ph=_e("mce-annotation"),Vm=_e("data-mce-annotation"),ff=_e("data-mce-annotation-uid"),hh=_e("data-mce-annotation-active"),Um=_e("data-mce-annotation-classes"),Yf=_e("data-mce-annotation-attrs"),Yg=e=>n=>rs(n,e),Ly=(e,n)=>{const o=e.selection.getRng(),r=Ne.fromDom(o.startContainer),c=Ne.fromDom(e.getBody()),u=n.fold(()=>"."+ph(),_=>`[${Vm()}="${_}"]`),m=oi(r,o.startOffset).getOr(r);return Xl(m,u,Yg(c)).bind(_=>Rr(_,`${ff()}`).bind(A=>Rr(_,`${Vm()}`).map(B=>{const L=aw(e,A);return{uid:A,name:B,elements:L}})))},H1=e=>ts(e)&&Bf(e,ph()),TC=(e,n)=>na(e,"data-mce-bogus")||L1(e,'[data-mce-bogus="all"]',Yg(n)),aw=(e,n)=>{const o=Ne.fromDom(e.getBody()),r=ai(o,`[${ff()}="${n}"]`);return Oe(r,c=>!TC(c,o))},yh=(e,n)=>{const o=Ne.fromDom(e.getBody()),r=ai(o,`[${Vm()}="${n}"]`),c={};return G(r,u=>{if(!TC(u,o)){const m=tc(u,ff()),b=ys(c,m).getOr([]);c[m]=b.concat([u])}}),c},AC=(e,n)=>{const o=fr({}),r=()=>({listeners:[],previous:gc()}),c=(L,j)=>{u(L,ne=>(j(ne),ne))},u=(L,j)=>{const ne=o.get(),fe=ys(ne,L).getOrThunk(r),se=j(fe);ne[L]=se,o.set(ne)},m=(L,j,ne)=>{c(L,fe=>{G(fe.listeners,se=>se(!0,L,{uid:j,nodes:De(ne,he=>he.dom)}))})},b=L=>{c(L,j=>{G(j.listeners,ne=>ne(!1,L))})},_=(L,j)=>{G(aw(e,L),ne=>{j?ta(ne,hh(),"true"):Sr(ne,hh())})},A=I1(()=>{const L=Vn(n.getNames());G(L,j=>{u(j,ne=>{const fe=ne.previous.get();return Ly(e,U.some(j)).fold(()=>{fe.each(se=>{b(j),ne.previous.clear(),_(se,!1)})},({uid:se,name:he,elements:He})=>{Bs(fe,se)||(fe.each(Ge=>_(Ge,!1)),m(he,se,He),ne.previous.set(se),_(se,!0))}),{previous:ne.previous,listeners:ne.listeners}})})},30);return e.on("remove",()=>{A.cancel()}),e.on("NodeChange",()=>{A.throttle()}),{addListener:(L,j)=>{u(L,ne=>({previous:ne.previous,listeners:ne.listeners.concat([j])}))}}},FT=(e,n)=>{const o=Vm(),r=u=>U.from(u.attr(o)).bind(n.lookup),c=u=>{var m,b;u.attr(ff(),null),u.attr(Vm(),null),u.attr(hh(),null);const _=U.from(u.attr(Yf())).map(j=>j.split(",")).getOr([]),A=U.from(u.attr(Um())).map(j=>j.split(",")).getOr([]);G(_,j=>u.attr(j,null));const B=(b=(m=u.attr("class"))===null||m===void 0?void 0:m.split(" "))!==null&&b!==void 0?b:[],L=po(B,[ph()].concat(A));u.attr("class",L.length>0?L.join(" "):null),u.attr(Um(),null),u.attr(Yf(),null)};e.serializer.addTempAttr(hh()),e.serializer.addAttributeFilter(o,u=>{for(const m of u)r(m).each(b=>{b.persistent===!1&&(m.name==="span"?m.unwrap():c(m))})})},V1=()=>{const e={};return{register:(c,u)=>{e[c]={name:c,settings:u}},lookup:c=>ys(e,c).map(u=>u.settings),getNames:()=>_o(e)}},cw=(e,n,o)=>Math.min(Math.max(e,n),o),Hy=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let iw=0;const bh=e=>{const o=new Date().getTime(),r=Math.floor(Hy()*1e9);return iw++,e+"_"+r+iw+String(o)},Lz=(e,n)=>{G(n,o=>{Tl(e,o)})},Hz=(e,n)=>{G(n,o=>{cd(e,o)})},vh=(e,n)=>Ne.fromDom(e.dom.cloneNode(n)),$u=e=>vh(e,!1),Vy=e=>vh(e,!0),OC=(e,n)=>{const o=Ne.fromTag(n),r=Gd(e);return Ca(o,r),o},DC=(e,n)=>{const o=OC(e,n);el(e,o);const r=Ua(e);return Du(o,r),nr(e),o},RC=(e,n,o=Pe)=>{const r=new oc(e,n),c=u=>{let m;do m=r[u]();while(m&&!dn(m)&&!o(m));return U.from(m).filter(dn)};return{current:()=>U.from(r.current()).filter(dn),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},Xg=(e,n)=>{const o=n||(m=>e.isBlock(m)||Hs(m)||Vs(m)),r=(m,b,_,A)=>{if(dn(m)){const B=A(m,b,m.data);if(B!==-1)return U.some({container:m,offset:B})}return _().bind(B=>r(B.container,B.offset,_,A))};return{backwards:(m,b,_,A)=>{const B=RC(m,A!=null?A:e.getRoot(),o);return r(m,b,()=>B.prev().map(L=>({container:L,offset:L.length})),_).getOrNull()},forwards:(m,b,_,A)=>{const B=RC(m,A!=null?A:e.getRoot(),o);return r(m,b,()=>B.next().map(L=>({container:L,offset:0})),_).getOrNull()}}},Jg=((e,n)=>{const o=u=>{if(!e(u))throw new Error("Can only get "+n+" value of a "+n+" node");return r(u).getOr("")},r=u=>e(u)?U.from(u.dom.nodeValue):U.none();return{get:o,getOption:r,set:(u,m)=>{if(!e(u))throw new Error("Can only set raw "+n+" value of a "+n+" node");u.dom.nodeValue=m}}})(tr,"text"),wh=e=>Jg.get(e),zC=e=>Jg.getOption(e),kh=(e,n)=>Jg.set(e,n),IT=["td","th"],lw=["thead","tbody","tfoot"],NC=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],MC=["li","dd","dt"],Gc=["ul","ol","dl"],Uz=["pre","script","textarea","style"],jm=e=>{let n;return o=>(n=n||Un(e,gt),ao(n,me(o)))},LT=e=>me(e)==="table",Xf=e=>ts(e)&&me(e)==="br",gl=jm(NC),_d=jm(Gc),Qg=jm(MC),PC=jm(lw),Uy=jm(IT),U1=jm(Uz),Wm=e=>{const n=[];let o=e.dom;for(;o;)n.push(Ne.fromDom(o)),o=o.lastChild;return n},uw=e=>{const n=ai(e,"br"),o=Oe(Wm(e).slice(-1),Xf);n.length===o.length&&G(o,nr)},Cd=()=>{const e=Ne.fromTag("br");return ta(e,"data-mce-bogus","1"),e},mf=e=>{tf(e),$a(e,Cd())},HT=(e,n)=>{ud(e).each(o=>{Yl(o).each(r=>{n.isBlock(me(e))&&Xf(o)&&n.isBlock(me(r))&&nr(o)})})},pc=Xp,jy=Jp,ou=tl,j1=e=>e.insertContent(pc,{preserve_zwsp:!0}),dw=In,ep=dn,Zm=e=>(ep(e)&&(e=e.parentNode),dw(e)&&e.hasAttribute("data-mce-caret")),Fu=e=>ep(e)&&jy(e.data),su=e=>Zm(e)||Fu(e),BC=e=>e.firstChild!==e.lastChild||!Hs(e.firstChild),VT=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(pc),u=e.parentNode;if(n){const m=e.previousSibling;if(ep(m)){if(su(m))return m;if(li(m))return m.splitText(m.data.length-1)}u==null||u.insertBefore(c,e)}else{const m=e.nextSibling;if(ep(m)){if(su(m))return m;if(As(m))return m.splitText(1),m}e.nextSibling?u==null||u.insertBefore(c,e.nextSibling):u==null||u.appendChild(c)}return c},gf=e=>{const n=e.container();return dn(n)?n.data.charAt(e.offset())===pc||e.isAtStart()&&Fu(n.previousSibling):!1},Jf=e=>{const n=e.container();return dn(n)?n.data.charAt(e.offset()-1)===pc||e.isAtEnd()&&Fu(n.nextSibling):!1},W1=(e,n,o)=>{var r;const u=((r=n.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);u.setAttribute("data-mce-caret",o?"before":"after"),u.setAttribute("data-mce-bogus","all"),u.appendChild(Cd().dom);const m=n.parentNode;return o?m==null||m.insertBefore(u,n):n.nextSibling?m==null||m.insertBefore(u,n.nextSibling):m==null||m.appendChild(u),u},As=e=>ep(e)&&e.data[0]===pc,li=e=>ep(e)&&e.data[e.data.length-1]===pc,tp=e=>{var n;const o=e.getElementsByTagName("br"),r=o[o.length-1];md(r)&&((n=r.parentNode)===null||n===void 0||n.removeChild(r))},_h=e=>e&&e.hasAttribute("data-mce-caret")?(tp(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Nr=e=>Zm(e.startContainer),np=Math.round,Qf=e=>e?{left:np(e.left),top:np(e.top),bottom:np(e.bottom),right:np(e.right),width:np(e.width),height:np(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},$C=(e,n)=>(e=Qf(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),UT=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,FC=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,Mr=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:FC(n.top-e.bottom,e,n)},Wy=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:FC(n.bottom-e.top,e,n),jT=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,IC=e=>Ie(e,(n,o)=>n.fold(()=>U.some(o),r=>{const c=Math.min(o.left,r.left),u=Math.min(o.top,r.top),m=Math.max(o.right,r.right),b=Math.max(o.bottom,r.bottom);return U.some({top:u,right:m,bottom:b,left:c,width:m-c,height:b-u})}),U.none()),op=(e,n,o)=>{const r=Math.max(Math.min(n,e.left+e.width),e.left),c=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-r)*(n-r)+(o-c)*(o-c))},Iu=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),Zy=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},em=(e,n)=>{if(In(e)&&e.hasChildNodes()){const o=e.childNodes,r=cw(n,0,o.length-1);return o[r]}else return e},Xn=(e,n)=>{if(!(n<0&&In(e)&&e.hasChildNodes()))return em(e,n)},LC=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Z1=e=>ae(e)&&e.charCodeAt(0)>=768&&LC.test(e),HC=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},VC=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},fw=Xt,mw=Vs,Ch=Hs,qy=dn,sp=Dl(["script","style","textarea"]),Gy=Dl(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Sh=Dl(["table"]),q1=su,Lu=e=>q1(e)?!1:qy(e)?!sp(e.parentNode):Gy(e)||Ch(e)||Sh(e)||G1(e),WT=e=>In(e)&&e.getAttribute("unselectable")==="true",G1=e=>!WT(e)&&mw(e),K1=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(G1(o))return!1;if(fw(o))return!0}return!0},ZT=e=>G1(e)?!Ie(_s(e.getElementsByTagName("*")),(n,o)=>n||fw(o),!1):!1,qT=e=>Gy(e)||ZT(e),UC=(e,n)=>Lu(e)&&K1(e,n),Ky=In,jC=Lu,gw=Mg("display","block table"),GT=Mg("float","left right"),Yy=VC(Ky,jC,Vt(GT)),xh=Vt(Mg("white-space","pre pre-line pre-wrap")),qm=dn,Y1=Hs,pw=Er.nodeIndex,X1=Xn,hw=e=>e?e.createRange():Er.DOM.createRng(),yw=e=>ae(e)&&/[\r\n\t ]/.test(e),bw=e=>!!e.setStart&&!!e.setEnd,WC=e=>{const n=e.startContainer,o=e.startOffset;if(yw(e.toString())&&xh(n.parentNode)&&dn(n)){const r=n.data;if(yw(r[o-1])||yw(r[o+1]))return!0}return!1},pl=e=>{const n=e.ownerDocument,o=hw(n),r=n.createTextNode(ja),c=e.parentNode;c.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const u=Qf(o.getBoundingClientRect());return c.removeChild(r),u},rp=e=>{const n=e.startContainer,o=e.endContainer,r=e.startOffset,c=e.endOffset;if(n===o&&dn(o)&&r===0&&c===1){const u=e.cloneRange();return u.setEndAfter(o),Gm(u)}else return null},ZC=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Gm=e=>{var n;let o;const r=e.getClientRects();return r.length>0?o=Qf(r[0]):o=Qf(e.getBoundingClientRect()),!bw(e)&&Y1(e)&&ZC(o)?pl(e):ZC(o)&&bw(e)&&(n=rp(e))!==null&&n!==void 0?n:o},ap=(e,n)=>{const o=$C(e,n);return o.width=1,o.right=o.left+1,o},vw=e=>{const n=[],o=m=>{m.height!==0&&(n.length>0&&UT(m,n[n.length-1])||n.push(m))},r=(m,b)=>{const _=hw(m.ownerDocument);if(b<m.data.length){if(Z1(m.data[b]))return;if(Z1(m.data[b-1])&&(_.setStart(m,b),_.setEnd(m,b+1),!WC(_))){o(ap(Gm(_),!1));return}}b>0&&(_.setStart(m,b-1),_.setEnd(m,b),WC(_)||o(ap(Gm(_),!1))),b<m.data.length&&(_.setStart(m,b),_.setEnd(m,b+1),WC(_)||o(ap(Gm(_),!0)))},c=e.container(),u=e.offset();if(qm(c))return r(c,u),n;if(Ky(c))if(e.isAtEnd()){const m=X1(c,u);qm(m)&&r(m,m.data.length),Yy(m)&&!Y1(m)&&o(ap(Gm(m),!1))}else{const m=X1(c,u);if(qm(m)&&r(m,0),Yy(m)&&e.isAtEnd())return o(ap(Gm(m),!1)),n;const b=X1(e.container(),e.offset()-1);Yy(b)&&!Y1(b)&&(gw(b)||gw(m)||!Yy(m))&&o(ap(Gm(b),!1)),Yy(m)&&o(ap(Gm(m),!0))}return n},Ft=(e,n,o)=>{const r=()=>(qm(e),n===0),c=()=>qm(e)?n>=e.data.length:n>=e.childNodes.length,u=()=>{const B=hw(e.ownerDocument);return B.setStart(e,n),B.setEnd(e,n),B},m=()=>(o||(o=vw(Ft(e,n))),o),b=()=>m().length>0,_=B=>B&&e===B.container()&&n===B.offset(),A=B=>X1(e,B?n-1:n);return{container:_e(e),offset:_e(n),toRange:u,getClientRects:m,isVisible:b,isAtStart:r,isAtEnd:c,isEqual:_,getNode:A}};Ft.fromRangeStart=e=>Ft(e.startContainer,e.startOffset),Ft.fromRangeEnd=e=>Ft(e.endContainer,e.endOffset),Ft.after=e=>Ft(e.parentNode,pw(e)+1),Ft.before=e=>Ft(e.parentNode,pw(e)),Ft.isAbove=(e,n)=>Vo(Ln(n.getClientRects()),Wo(e.getClientRects()),Mr).getOr(!1),Ft.isBelow=(e,n)=>Vo(Wo(n.getClientRects()),Ln(e.getClientRects()),Wy).getOr(!1),Ft.isAtStart=e=>e?e.isAtStart():!1,Ft.isAtEnd=e=>e?e.isAtEnd():!1,Ft.isTextPosition=e=>e?dn(e.container()):!1,Ft.isElementPosition=e=>!Ft.isTextPosition(e);const Hu=(e,n)=>{dn(n)&&n.data.length===0&&e.remove(n)},cp=(e,n,o)=>{n.insertNode(o),Hu(e,o.previousSibling),Hu(e,o.nextSibling)},KT=(e,n,o)=>{const r=U.from(o.firstChild),c=U.from(o.lastChild);n.insertNode(o),r.each(u=>Hu(e,u.previousSibling)),c.each(u=>Hu(e,u.nextSibling))},Xy=(e,n,o)=>{sc(o)?KT(e,n,o):cp(e,n,o)},ru=dn,Eh=md,qC=Er.nodeIndex,GC=e=>{const n=e.parentNode;return Eh(n)?GC(n):n},ui=e=>e?xe(e.childNodes,(n,o)=>(Eh(o)&&o.nodeName!=="BR"?n=n.concat(ui(o)):n.push(o),n),[]):[],J1=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&ru(o);)n+=o.data.length;return n},KC=e=>n=>e===n,YT=e=>{let n,o;n=ui(GC(e)),o=we(n,KC(e),e),n=n.slice(0,o+1);const r=xe(n,(c,u,m)=>(ru(u)&&ru(n[m-1])&&c++,c),0);return n=yr(n,Dl([e.nodeName])),o=we(n,KC(e),e),o-r},YC=e=>(ru(e)?"text()":e.nodeName.toLowerCase())+"["+YT(e)+"]",XT=(e,n,o)=>{const r=[];for(let c=n.parentNode;c&&c!==e;c=c.parentNode)r.push(c);return r},XC=(e,n)=>{let o=[],r=n.container(),c=n.offset(),u;if(ru(r))u=J1(r,c);else{const b=r.childNodes;c>=b.length?(u="after",c=b.length-1):u="before",r=b[c]}o.push(YC(r));let m=XT(e,r);return m=yr(m,Vt(md)),o=o.concat(mr(m,b=>YC(b))),o.reverse().join("/")+","+u},JT=(e,n,o)=>{let r=ui(e);return r=yr(r,(c,u)=>!ru(c)||!ru(r[u-1])),r=yr(r,Dl([n])),r[o]},QT=(e,n)=>{let o=e,r=0;for(;ru(o);){const c=o.data.length;if(n>=r&&n<=r+c){e=o,n=n-r;break}if(!ru(o.nextSibling)){e=o,n=c;break}r+=c,o=o.nextSibling}return ru(e)&&n>e.data.length&&(n=e.data.length),Ft(e,n)},JC=(e,n)=>{if(!n)return null;const o=n.split(","),r=o[0].split("/"),c=o.length>1?o[1]:"before",u=xe(r,(m,b)=>{const _=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(b);return _?(_[1]==="text()"&&(_[1]="#text"),JT(m,_[1],parseInt(_[2],10))):null},e);if(!u)return null;if(!ru(u)&&u.parentNode){let m;return c==="after"?m=qC(u)+1:m=qC(u),Ft(u.parentNode,m)}return QT(u,parseInt(c,10))},Th=Vs,eA=(e,n,o)=>{let r=e(n.data.slice(0,o)).length;for(let c=n.previousSibling;c&&dn(c);c=c.previousSibling)r+=e(c.data).length;return r},QC=(e,n,o,r,c)=>{const u=c?r.startContainer:r.endContainer;let m=c?r.startOffset:r.endOffset;const b=[],_=e.getRoot();if(dn(u))b.push(o?eA(n,u,m):m);else{let A=0;const B=u.childNodes;m>=B.length&&B.length&&(A=1,m=Math.max(0,B.length-1)),b.push(e.nodeIndex(B[m],o)+A)}for(let A=u;A&&A!==_;A=A.parentNode)b.push(e.nodeIndex(A,o));return b},tA=(e,n,o,r)=>{const c=n.dom,u=QC(c,e,o,r,!0),m=n.isForward(),b=Nr(r)?{isFakeCaret:!0}:{};if(n.isCollapsed())return ie({start:u,forward:m},b);{const _=QC(c,e,o,r,!1);return ie({start:u,end:_,forward:m},b)}},la=(e,n,o)=>{let r=0;return nn.each(e.select(n),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;r++;return}}),r},ww=(e,n)=>{let o=n?e.startContainer:e.endContainer,r=n?e.startOffset:e.endOffset;if(In(o)&&o.nodeName==="TR"){const c=o.childNodes;o=c[Math.min(n?r:r-1,c.length-1)],o&&(r=n?0:o.childNodes.length,n?e.setStart(o,r):e.setEnd(o,r))}},eS=e=>(ww(e,!0),ww(e,!1),e),tS=(e,n)=>{if(In(e)&&(e=em(e,n),Th(e)))return e;if(su(e)){dn(e)&&Zm(e)&&(e=e.parentNode);let o=e.previousSibling;if(Th(o)||(o=e.nextSibling,Th(o)))return o}},kw=e=>tS(e.startContainer,e.startOffset)||tS(e.endContainer,e.endOffset),hc=(e,n,o)=>{const r=o.getNode(),c=o.getRng();if(r.nodeName==="IMG"||Th(r)){const m=r.nodeName;return{name:m,index:la(o.dom,m,r)}}const u=kw(c);if(u){const m=u.tagName;return{name:m,index:la(o.dom,m,u)}}return tA(e,o,n,c)},Nl=e=>{const n=e.getRng();return{start:XC(e.dom.getRoot(),Ft.fromRangeStart(n)),end:XC(e.dom.getRoot(),Ft.fromRangeEnd(n)),forward:e.isForward()}},nS=e=>({rng:e.getRng(),forward:e.isForward()}),_w=(e,n,o)=>{const r={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},Cw=(e,n)=>{const o=e.dom;let r=e.getRng();const c=o.uniqueId(),u=e.isCollapsed(),m=e.getNode(),b=m.nodeName,_=e.isForward();if(b==="IMG")return{name:b,index:la(o,b,m)};const A=eS(r.cloneRange());if(!u){A.collapse(!1);const L=_w(o,c+"_end",n);Xy(o,A,L)}r=eS(r),r.collapse(!0);const B=_w(o,c+"_start",n);return Xy(o,r,B),e.moveToBookmark({id:c,keep:!0,forward:_}),{id:c,forward:_}},nA=(e,n,o=!1)=>n===2?hc(ou,o,e):n===3?Nl(e):n?nS(e):Cw(e,!1),Q1=Te(hc,Ht,!0),oS=e=>{const n=u=>u(e),o=_e(e),r=()=>c,c={tag:!0,inner:e,fold:(u,m)=>m(e),isValue:gt,isError:Pe,map:u=>ac.value(u(e)),mapError:r,bind:n,exists:n,forall:n,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:u=>{u(e)},toOptional:()=>U.some(e)};return c},Jy=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(r,c)=>r(e),isValue:Pe,isError:gt,map:n,mapError:r=>ac.error(r(e)),bind:n,exists:Pe,forall:gt,getOr:Ht,or:Ht,getOrThunk:et,orThunk:et,getOrDie:En(String(e)),each:Ye,toOptional:U.none};return o},ac={value:oS,error:Jy,fromOption:(e,n)=>e.fold(()=>Jy(n),oS)},au={generate:e=>{if(!Nt(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return G(e,(r,c)=>{const u=_o(r);if(u.length!==1)throw new Error("one and only one name per case");const m=u[0],b=r[m];if(o[m]!==void 0)throw new Error("duplicate key detected:"+m);if(m==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Nt(b))throw new Error("case arguments must be an array");n.push(m),o[m]=(..._)=>{const A=_.length;if(A!==b.length)throw new Error("Wrong number of arguments to case "+m+". Expected "+b.length+" ("+b+"), got "+A);return{fold:(...L)=>{if(L.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+L.length);return L[c].apply(null,_)},match:L=>{const j=_o(L);if(n.length!==j.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+j.join(","));if(!an(n,fe=>re(j,fe)))throw new Error("Not all branches were specified when using match. Specified: "+j.join(", ")+`
Required: `+n.join(", "));return L[m].apply(null,_)},log:L=>{console.log(L,{constructors:n,constructor:m,params:_})}}}}),o}};au.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Yr=e=>{const n=[],o=[];return G(e,r=>{r.fold(c=>{n.push(c)},c=>{o.push(c)})}),{errors:n,values:o}},pf=e=>e.type==="inline-command"||e.type==="inline-format",Ah=e=>e.type==="block-command"||e.type==="block-format",Sw=(e,n)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===n,Qy=e=>{var n;const o=c=>ac.error({message:c,pattern:e}),r=(c,u,m)=>{if(e.format!==void 0){let b;if(Nt(e.format)){if(!an(e.format,ae))return o(c+" pattern has non-string items in the `format` array");b=e.format}else if(ae(e.format))b=[e.format];else return o(c+" pattern has non-string `format` parameter");return ac.value(u(b))}else return e.cmd!==void 0?ae(e.cmd)?ac.value(m(e.cmd,e.value)):o(c+" pattern has non-string `cmd` parameter"):o(c+" pattern is missing both `format` and `cmd` parameters")};if(!vt(e))return o("Raw pattern is not an object");if(!ae(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!ae(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let c=e.start,u=e.end;return u.length===0&&(u=c,c=""),r("Inline",m=>({type:"inline-format",start:c,end:u,format:m}),(m,b)=>({type:"inline-command",start:c,end:u,cmd:m,value:b}))}else{if(e.replacement!==void 0)return ae(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):ac.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const c=(n=e.trigger)!==null&&n!==void 0?n:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):r("Block",u=>({type:"block-format",start:e.start,format:u[0],trigger:c}),(u,m)=>({type:"block-command",start:e.start,cmd:u,value:m,trigger:c}))}}},rS=e=>Oe(e,Ah),Km=e=>Oe(e,pf),Kc=(e,n)=>({inlinePatterns:Km(e),blockPatterns:rS(e),dynamicPatternsLookup:n}),hf=(e,n)=>Pt(ie({},e),{blockPatterns:Oe(e.blockPatterns,o=>Sw(o,n))}),aS=e=>{const n=Yr(De(e,Qy));return G(n.errors,o=>console.error(o.message,o.pattern)),n.values},sA=e=>n=>{const o=e(n);return aS(o)},xw=ee().deviceType,ev=xw.isTouch(),Ew=Er.DOM,Tw=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Ie(n,(o,r)=>{const c=r.split("="),u=c[0],m=c.length>1?c[1]:u;return o[Is(u)]=Is(m),o},{})},tv=e=>qe(e,RegExp),Jn=e=>n=>n.options.get(e),eb=e=>ae(e)||vt(e),Aw=(e,n="")=>o=>{const r=ae(o);if(r)if(o.indexOf("=")!==-1){const c=Tw(o);return{value:ys(c,e.id).getOr(n),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},cS=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:Aw(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:Aw(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const r=ae(o)&&vo(o);return r?{value:o,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const r=re(["block","linebreak","invert","default"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>Zt(o)?{valid:!0,value:o}:ae(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const r=o===!1||ae(o)||We(o,ae);return r?ae(o)?{value:De(o.split(","),Is),valid:r}:Nt(o)?{value:o,valid:r}:o===!1?{value:[],valid:r}:{value:o,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:dp(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const r=ae(o)||We(o,ae);return r?{value:Nt(o)?o:De(o.split(","),Is),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const r=Zt(o)||ae(o);return r?o===!1||xw.isiPhone()||xw.isiPad()?{value:"",valid:r}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!ev}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"string"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||ae(o)||ke(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const r=o===!1||ae(o);return r?{value:o===!1?"":o,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("allow_mathml_annotation_encodings",{processor:o=>{const r=We(o,ae);return r?{value:o,valid:r}:{valid:!1,message:"Must be an array of strings."}},default:[]}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:eb}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:eb}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:eb}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:eb}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>ae(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("license_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>We(o,vt)||o===!1?{value:aS(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),n("text_patterns_lookup",{processor:o=>ke(o)?{value:sA(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>We(o,tv)?{value:o,valid:!0}:tv(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!0}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const r=re(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const r=re(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),n("sandbox_iframes",{processor:"boolean",default:!0}),n("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),n("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:kd.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:Ew.getAttrib(e.getElement(),"placeholder")})})},rA=Jn("iframe_attrs"),Yc=Jn("doctype"),iS=Jn("document_base_url"),Ym=Jn("body_id"),lS=Jn("body_class"),Ow=Jn("content_security_policy"),uS=Jn("br_in_pre"),Xc=Jn("forced_root_block"),Xm=Jn("forced_root_block_attrs"),Dw=Jn("newline_behavior"),ip=Jn("br_newline_selector"),aA=Jn("no_newline_selector"),cc=Jn("keep_styles"),ic=Jn("end_container_on_empty_block"),Vc=Jn("automatic_uploads"),lc=Jn("images_reuse_filename"),Xs=Jn("images_replace_blob_uris"),Ga=Jn("icons"),nv=Jn("icons_url"),Rw=Jn("images_upload_url"),zw=Jn("images_upload_base_path"),Nw=Jn("images_upload_credentials"),dS=Jn("images_upload_handler"),fS=Jn("content_css_cors"),tb=Jn("referrer_policy"),ov=Jn("language"),nb=Jn("language_url"),mS=Jn("indent_use_margin"),cA=Jn("indentation"),lp=Jn("content_css"),hl=Jn("content_style"),iA=Jn("font_css"),lA=Jn("directionality"),cu=Jn("inline_boundaries_selector"),Oh=Jn("object_resizing"),up=Jn("resize_img_proportional"),yf=Jn("placeholder"),Ti=Jn("event_root"),Mw=Jn("service_message"),Jm=Jn("theme"),gS=Jn("theme_url"),sv=Jn("model"),Pw=Jn("model_url"),ob=Jn("inline_boundaries"),rv=Jn("formats"),pS=Jn("preview_styles"),hS=Jn("format_empty_lines"),yS=Jn("format_noneditable_selector"),sb=Jn("custom_ui_selector"),dp=Jn("inline"),rb=Jn("hidden_input"),uA=Jn("submit_patch"),Bw=Jn("add_form_submit_trigger"),dA=Jn("add_unload_trigger"),av=Jn("custom_undo_redo_levels"),fA=Jn("disable_nodechange"),bS=Jn("readonly"),mA=Jn("editable_root"),vS=Jn("content_css_cors"),ab=Jn("plugins"),wS=Jn("external_plugins"),Wi=Jn("block_unsupported_drop"),$w=Jn("visual"),kS=Jn("visual_table_class"),Fw=Jn("visual_anchor_class"),cb=Jn("iframe_aria_text"),gA=Jn("setup"),pA=Jn("init_instance_callback"),hA=Jn("urlconverter_callback"),cv=Jn("auto_focus"),_S=Jn("browser_spellcheck"),Iw=Jn("protect"),Lw=Jn("paste_block_drop"),ib=Jn("paste_data_images"),Hw=Jn("paste_preprocess"),CS=Jn("paste_postprocess"),SS=Jn("newdocument_content"),xS=Jn("paste_webkit_styles"),yA=Jn("paste_remove_styles_if_webkit"),ES=Jn("paste_merge_formats"),Vw=Jn("smart_paste"),TS=Jn("paste_as_text"),Qm=Jn("paste_tab_spaces"),AS=Jn("allow_html_data_urls"),bA=Jn("text_patterns"),vA=Jn("text_patterns_lookup"),iv=Jn("noneditable_class"),Vu=Jn("editable_class"),lv=Jn("noneditable_regexp"),uv=Jn("preserve_cdata"),Uw=Jn("highlight_on_focus"),OS=Jn("xss_sanitization"),Ka=Jn("init_content_sync"),DS=e=>e.options.isSet("text_patterns_lookup"),Dh=e=>nn.explode(e.options.get("font_size_style_values")),eg=e=>nn.explode(e.options.get("font_size_classes")),dv=e=>e.options.get("encoding")==="xml",RS=e=>nn.explode(e.options.get("images_file_types")),wA=Jn("table_tab_navigation"),kA=Jn("details_initial_state"),zS=Jn("details_serialized_state"),lb=Jn("sandbox_iframes"),jw=e=>e.options.get("sandbox_iframes_exclusions"),_A=Jn("convert_unsafe_embeds"),Rh=Jn("license_key"),NS=Jn("api_key"),MS=In,PS=dn,Ww=e=>{const n=e.parentNode;n&&n.removeChild(e)},fv=e=>{const n=ou(e);return{count:e.length-n.length,text:n}},BS=e=>{let n;for(;(n=e.data.lastIndexOf(pc))!==-1;)e.deleteData(n,1)},tg=(e,n)=>(fp(e),n),CA=(e,n)=>{const o=fv(e.data.substr(0,n.offset())),r=fv(e.data.substr(n.offset()));return(o.text+r.text).length>0?(BS(e),Ft(e,n.offset()-o.count)):n},$S=(e,n)=>{const o=n.container(),r=Dt(_s(o.childNodes),e).map(c=>c<n.offset()?Ft(o,n.offset()-1):n).getOr(n);return fp(e),r},FS=(e,n)=>PS(e)&&n.container()===e?CA(e,n):tg(e,n),mv=(e,n)=>n.container()===e.parentNode?$S(e,n):tg(e,n),SA=(e,n)=>Ft.isTextPosition(n)?FS(e,n):mv(e,n),fp=e=>{MS(e)&&su(e)&&(BC(e)?e.removeAttribute("data-mce-caret"):Ww(e)),PS(e)&&(BS(e),e.data.length===0&&Ww(e))},gv=Vs,ub=Ic,IS=$g,zh="*[contentEditable=false],video,audio,embed,object",Nh=(e,n,o)=>{const r=$C(n.getBoundingClientRect(),o);let c,u;if(e.tagName==="BODY"){const b=e.ownerDocument.documentElement;c=e.scrollLeft||b.scrollLeft,u=e.scrollTop||b.scrollTop}else{const b=e.getBoundingClientRect();c=e.scrollLeft-b.left,u=e.scrollTop-b.top}r.left+=c,r.right+=c,r.top+=u,r.bottom+=u,r.width=1;let m=n.offsetWidth-n.clientWidth;return m>0&&(o&&(m*=-1),r.left+=m,r.right+=m),r},xA=e=>{var n,o;const r=ai(Ne.fromDom(e),zh);for(let c=0;c<r.length;c++){const u=r[c].dom;let m=u.previousSibling;if(li(m)){const b=m.data;b.length===1?(n=m.parentNode)===null||n===void 0||n.removeChild(m):m.deleteData(b.length-1,1)}m=u.nextSibling,As(m)&&(m.data.length===1?(o=m.parentNode)===null||o===void 0||o.removeChild(m):m.deleteData(0,1))}},LS=(e,n,o,r)=>{const c=gc();let u,m;const b=Xc(e),_=e.dom,A=(se,he)=>{let He;if(B(),IS(he))return null;if(o(he)){const Ge=W1(b,he,se),nt=Nh(n,he,se);_.setStyle(Ge,"top",nt.top),_.setStyle(Ge,"caret-color","transparent"),m=Ge;const mt=_.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});_.setStyles(mt,ie({},nt)),_.add(n,mt),c.set({caret:mt,element:he,before:se}),se&&_.addClass(mt,"mce-visual-caret-before"),L(),He=he.ownerDocument.createRange(),He.setStart(Ge,0),He.setEnd(Ge,0)}else return m=VT(he,se),He=he.ownerDocument.createRange(),mp(m.nextSibling)?(He.setStart(m,0),He.setEnd(m,0)):(He.setStart(m,1),He.setEnd(m,1)),He;return He},B=()=>{xA(n),m&&(fp(m),m=null),c.on(se=>{_.remove(se.caret),c.clear()}),u&&(clearInterval(u),u=void 0)},L=()=>{u=setInterval(()=>{c.on(se=>{r()?_.toggleClass(se.caret,"mce-visual-caret-hidden"):_.addClass(se.caret,"mce-visual-caret-hidden")})},500)};return{show:A,hide:B,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{c.on(se=>{const he=Nh(n,se.element,se.before);_.setStyles(se.caret,ie({},he))})},destroy:()=>clearInterval(u)}},EA=()=>$e.browser.isFirefox(),mp=e=>gv(e)||ub(e),Mh=e=>(mp(e)||Ql(e)&&EA())&&Ff(Ne.fromDom(e)).exists(Ii),Zw=Xt,qw=Vs,TA=Ic,Gw=Mg("display","block table table-cell table-row table-caption list-item"),HS=su,VS=Zm,Ph=In,US=dn,pv=Lu,ng=e=>e>0,tm=e=>e<0,db=(e,n)=>{let o;for(;o=e(n);)if(!VS(o))return o;return null},fb=(e,n,o,r,c)=>{const u=new oc(e,r),m=qw(e)||VS(e);let b;if(tm(n)){if(m&&(b=db(u.prev.bind(u),!0),o(b)))return b;for(;b=db(u.prev.bind(u),c);)if(o(b))return b}if(ng(n)){if(m&&(b=db(u.next.bind(u),!0),o(b)))return b;for(;b=db(u.next.bind(u),c);)if(o(b))return b}return null},AA=(e,n)=>{const o=c=>Zw(c.dom),r=c=>c.dom===n;return Hr(Ne.fromDom(e),o,r).map(c=>c.dom).getOr(n)},yl=(e,n)=>{for(;e&&e!==n;){if(Gw(e))return e;e=e.parentNode}return null},Sd=(e,n,o)=>yl(e.container(),o)===yl(n.container(),o),Kw=(e,n)=>{if(!n)return U.none();const o=n.container(),r=n.offset();return Ph(o)?U.from(o.childNodes[r+e]):U.none()},jS=(e,n)=>{var o;const c=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)),c},OA=(e,n,o)=>yl(n,e)===yl(o,e),og=(e,n,o)=>{const r=e?"previousSibling":"nextSibling";let c=o;for(;c&&c!==n;){let u=c[r];if(u&&HS(u)&&(u=u[r]),qw(u)||TA(u)){if(OA(n,u,c))return u;break}if(pv(u))break;c=c.parentNode}return null},Bh=Te(jS,!0),Uc=Te(jS,!1),Yw=(e,n,o)=>{let r;const c=Te(og,!0,n),u=Te(og,!1,n),m=o.startContainer,b=o.startOffset;if(Zm(m)){const _=US(m)?m.parentNode:m,A=_.getAttribute("data-mce-caret");if(A==="before"&&(r=_.nextSibling,Mh(r)))return Bh(r);if(A==="after"&&(r=_.previousSibling,Mh(r)))return Uc(r)}if(!o.collapsed)return o;if(dn(m)){if(HS(m)){if(e===1){if(r=u(m),r)return Bh(r);if(r=c(m),r)return Uc(r)}if(e===-1){if(r=c(m),r)return Uc(r);if(r=u(m),r)return Bh(r)}return o}if(li(m)&&b>=m.data.length-1)return e===1&&(r=u(m),r)?Bh(r):o;if(As(m)&&b<=1)return e===-1&&(r=c(m),r)?Uc(r):o;if(b===m.data.length)return r=u(m),r?Bh(r):o;if(b===0)return r=c(m),r?Uc(r):o}return o},hv=(e,n)=>Kw(e?0:-1,n).filter(qw),gp=(e,n,o)=>{const r=Yw(e,n,o);return e===-1?Ft.fromRangeStart(r):Ft.fromRangeEnd(r)},mb=e=>U.from(e.getNode()).map(Ne.fromDom),DA=e=>U.from(e.getNode(!0)).map(Ne.fromDom),Xw=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},gb=(e,n)=>{const o=Sd(e,n);return!o&&Hs(e.getNode())?!0:o};var jc;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(jc||(jc={}));const Jw=Vs,iu=dn,Qw=In,$h=Hs,Fh=Lu,ek=qT,nm=UC,tk=(e,n)=>{const o=[];let r=e;for(;r&&r!==n;)o.push(r),r=r.parentNode;return o},nk=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,ok=(e,n)=>{if(ng(e)){if(Fh(n.previousSibling)&&!iu(n.previousSibling))return Ft.before(n);if(iu(n))return Ft(n,0)}if(tm(e)){if(Fh(n.nextSibling)&&!iu(n.nextSibling))return Ft.after(n);if(iu(n))return Ft(n,n.data.length)}return tm(e)?$h(n)?Ft.before(n):Ft.after(n):Ft.before(n)},bf=(e,n)=>{const o=n.nextSibling;return o&&Fh(o)?iu(o)?Ft(o,0):Ft.before(o):yv(jc.Forwards,Ft.after(n),e)},yv=(e,n,o)=>{let r,c,u,m;if(!Qw(o)||!n)return null;if(n.isEqual(Ft.after(o))&&o.lastChild){if(m=Ft.after(o.lastChild),tm(e)&&Fh(o.lastChild)&&Qw(o.lastChild))return $h(o.lastChild)?Ft.before(o.lastChild):m}else m=n;const b=m.container();let _=m.offset();if(iu(b)){if(tm(e)&&_>0)return Ft(b,--_);if(ng(e)&&_<b.length)return Ft(b,++_);r=b}else{if(tm(e)&&_>0&&(c=nk(b,_-1),Fh(c)))return!ek(c)&&(u=fb(c,e,nm,c),u)?iu(u)?Ft(u,u.data.length):Ft.after(u):iu(c)?Ft(c,c.data.length):Ft.before(c);if(ng(e)&&_<b.childNodes.length&&(c=nk(b,_),Fh(c)))return $h(c)?bf(o,c):!ek(c)&&(u=fb(c,e,nm,c),u)?iu(u)?Ft(u,0):Ft.before(u):iu(c)?Ft(c,0):Ft.after(c);r=c||m.getNode()}if(r&&(ng(e)&&m.isAtEnd()||tm(e)&&m.isAtStart())&&(r=fb(r,e,gt,o,!0),nm(r,o)))return ok(e,r);c=r&&fb(r,e,nm,o);const A=ht(Oe(tk(b,o),Jw));return A&&(!c||!A.contains(c))?(ng(e)?m=Ft.after(A):m=Ft.before(A),m):c?ok(e,c):null},Jc=e=>({next:n=>yv(jc.Forwards,n,e),prev:n=>yv(jc.Backwards,n,e)}),WS=(e,n,o)=>{const r=e?Ft.before(o):Ft.after(o);return Ml(e,n,r)},sk=e=>Hs(e)?Ft.before(e):Ft.after(e),rk=e=>Ft.isTextPosition(e)?e.offset()===0:Lu(e.getNode()),ZS=e=>{if(Ft.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return Lu(e.getNode(!0))},ak=(e,n)=>!Ft.isTextPosition(e)&&!Ft.isTextPosition(n)&&e.getNode()===n.getNode(!0),qS=e=>!Ft.isTextPosition(e)&&Hs(e.getNode()),GS=(e,n,o)=>e?!ak(n,o)&&!qS(n)&&ZS(n)&&rk(o):!ak(o,n)&&rk(n)&&ZS(o),Ml=(e,n,o)=>{const r=Jc(n);return U.from(e?r.next(o):r.prev(o))},sg=(e,n,o)=>Ml(e,n,o).bind(r=>Sd(o,r,n)&&GS(e,o,r)?Ml(e,n,r):U.some(r)),KS=(e,n,o,r)=>sg(e,n,o).bind(c=>r(c)?KS(e,n,c,r):U.some(c)),pp=(e,n)=>{const o=e?n.firstChild:n.lastChild;return dn(o)?U.some(Ft(o,e?0:o.data.length)):o?Lu(o)?U.some(e?Ft.before(o):sk(o)):WS(e,n,o):U.none()},Ai=Te(Ml,!0),bl=Te(Ml,!1),Oi=Te(pp,!0),Pl=Te(pp,!1),bv="_mce_caret",Bl=e=>In(e)&&e.id===bv,hp=(e,n)=>{let o=n;for(;o&&o!==e;){if(Bl(o))return o;o=o.parentNode}return null},YS=e=>ae(e.start),jz=e=>ao(e,"rng"),RA=e=>ao(e,"id"),ck=e=>ao(e,"name"),zA=e=>nn.isArray(e.start),vv=e=>!ck(e)&&Zt(e.forward)?e.forward:!0,Wc=(e,n)=>(In(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),pb=(e,n)=>{const o=U.from(JC(e.getRoot(),n.start)),r=U.from(JC(e.getRoot(),n.end));return Vo(o,r,(c,u)=>{const m=e.createRng();return m.setStart(c.container(),c.offset()),m.setEnd(u.container(),u.offset()),{range:m,forward:vv(n)}})},hb=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(pc);e.appendChild(c),n.setStart(c,0),n.setEnd(c,0)},rg=e=>!e.hasChildNodes(),ik=(e,n)=>Pl(e).fold(Pe,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),wv=(e,n,o)=>rg(n)&&hp(e,n)?(hb(n,o),!0):!1,lk=(e,n,o,r)=>{const c=o[n?"start":"end"],u=e.getRoot();if(c){let m=u,b=c[0];for(let _=c.length-1;m&&_>=1;_--){const A=m.childNodes;if(wv(u,m,r))return!0;if(c[_]>A.length-1)return wv(u,m,r)?!0:ik(m,r);m=A[c[_]]}dn(m)&&(b=Math.min(c[0],m.data.length)),In(m)&&(b=Math.min(c[0],m.childNodes.length)),n?r.setStart(m,b):r.setEnd(m,b)}return!0},kv=e=>dn(e)&&e.data.length>0,uk=(e,n,o)=>{const r=e.get(o.id+"_"+n),c=r==null?void 0:r.parentNode,u=o.keep;if(r&&c){let m,b;if(n==="start"?u?r.hasChildNodes()?(m=r.firstChild,b=1):kv(r.nextSibling)?(m=r.nextSibling,b=0):kv(r.previousSibling)?(m=r.previousSibling,b=r.previousSibling.data.length):(m=c,b=e.nodeIndex(r)+1):(m=c,b=e.nodeIndex(r)):u?r.hasChildNodes()?(m=r.firstChild,b=1):kv(r.previousSibling)?(m=r.previousSibling,b=r.previousSibling.data.length):(m=c,b=e.nodeIndex(r)):(m=c,b=e.nodeIndex(r)),!u){const _=r.previousSibling,A=r.nextSibling;nn.each(nn.grep(r.childNodes),L=>{dn(L)&&(L.data=L.data.replace(/\uFEFF/g,""))});let B;for(;B=e.get(o.id+"_"+n);)e.remove(B,!0);if(dn(A)&&dn(_)&&!$e.browser.isOpera()){const L=_.data.length;_.appendData(A.data),e.remove(A),m=_,b=L}}return U.some(Ft(m,b))}else return U.none()},Ih=(e,n)=>{const o=e.createRng();return lk(e,!0,n,o)&&lk(e,!1,n,o)?U.some({range:o,forward:vv(n)}):U.none()},om=(e,n)=>{const o=uk(e,"start",n),r=uk(e,"end",n);return Vo(o,r.or(o),(c,u)=>{const m=e.createRng();return m.setStart(Wc(e,c.container()),c.offset()),m.setEnd(Wc(e,u.container()),u.offset()),{range:m,forward:vv(n)}})},yb=(e,n)=>U.from(e.select(n.name)[n.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),yp=(e,n)=>{const o=e.dom;if(n){if(zA(n))return Ih(o,n);if(YS(n))return pb(o,n);if(RA(n))return om(o,n);if(ck(n))return yb(o,n);if(jz(n))return U.some({range:n.rng,forward:vv(n)})}return U.none()},sm=(e,n,o)=>nA(e,n,o),XS=(e,n)=>{yp(e,n).each(({range:o,forward:r})=>{e.setRng(o,r)})},vl=e=>In(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",ag=(e=>n=>e===n)(ja),bp=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,_v=e=>!bp(e)&&!ag(e)&&!Jp(e),Cv=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},NA=e=>ft(e,n=>{const o=Zy(n);return o?[Ne.fromDom(o)]:[]}),MA=e=>Cv(e).length>1,JS=e=>Oe(NA(e),Uy),QS=e=>ai(e,"td[data-mce-selected],th[data-mce-selected]"),vp=(e,n)=>{const o=QS(n);return o.length>0?o:JS(e)},Lh=e=>vp(Cv(e.selection.getSel()),Ne.fromDom(e.getBody())),bb=(e,n)=>za(e,"table",n),PA=e=>{const n=e.startContainer,o=e.startOffset;return dn(n)?o===0?U.some(Ne.fromDom(n)):U.none():U.from(n.childNodes[o]).map(Ne.fromDom)},e2=e=>{const n=e.endContainer,o=e.endOffset;return dn(n)?o===n.data.length?U.some(Ne.fromDom(n)):U.none():U.from(n.childNodes[o-1]).map(Ne.fromDom)},vb=e=>$c(e).fold(_e([e]),n=>[e].concat(vb(n))),Sv=e=>ud(e).fold(_e([e]),n=>me(n)==="br"?Yl(n).map(o=>[e].concat(Sv(o))).getOr([]):[e].concat(Sv(n))),fk=(e,n)=>Vo(PA(n),e2(n),(o,r)=>{const c=Lt(vb(e),Te(rs,o)),u=Lt(Sv(e),Te(rs,r));return c.isSome()&&u.isSome()}).getOr(!1),t2=(e,n,o,r)=>{const c=o,u=new oc(o,c),m=Cs(e.schema.getMoveCaretBeforeOnEnterElements(),(_,A)=>!re(["td","th","table"],A.toLowerCase()));let b=o;do{if(dn(b)&&nn.trim(b.data).length!==0){r?n.setStart(b,0):n.setEnd(b,b.data.length);return}if(m[b.nodeName]){r?n.setStartBefore(b):b.nodeName==="BR"?n.setEndBefore(b):n.setEndAfter(b);return}}while(b=r?u.next():u.prev());c.nodeName==="BODY"&&(r?n.setStart(c,0):n.setEnd(c,c.childNodes.length))},xv=e=>{const n=e.selection.getSel();return at(n)&&n.rangeCount>0},Hh=(e,n)=>{const o=Lh(e);o.length>0?G(o,r=>{const c=r.dom,u=e.dom.createRng();u.setStartBefore(c),u.setEndAfter(c),n(u,!0)}):n(e.selection.getRng(),!1)},n2=(e,n,o)=>{const r=Cw(e,n);o(r),e.moveToBookmark(r)},wp=e=>bo(e==null?void 0:e.nodeType),Ns=e=>In(e)&&!vl(e)&&!Bl(e)&&!md(e),rm=(e,n)=>{if(Ns(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},cg=(e,n,o)=>{const{selection:r,dom:c}=e,u=r.getNode(),m=Vs(u);n2(r,!0,()=>{n()}),m&&Vs(u)&&c.isChildOf(u,e.getBody())?e.selection.select(u):o(r.getStart())&&Ev(c,r)},Ev=(e,n)=>{var o,r;const c=n.getRng(),{startContainer:u,startOffset:m}=c,b=n.getNode();if(!rm(e,b)&&In(u)){const _=u.childNodes,A=e.getRoot();let B;if(m<_.length){const L=_[m];B=new oc(L,(o=e.getParent(L,e.isBlock))!==null&&o!==void 0?o:A)}else{const L=_[_.length-1];B=new oc(L,(r=e.getParent(L,e.isBlock))!==null&&r!==void 0?r:A),B.next(!0)}for(let L=B.current();L;L=B.next()){if(e.getContentEditable(L)==="false")return;if(dn(L)&&!kb(L)){c.setStart(L,0),n.setRng(c);return}}}},mk=(e,n,o)=>{if(e){const r=n?"nextSibling":"previousSibling";for(e=e[r];e;e=e[r])if(In(e)||!kb(e))return e}},wb=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||gd(e,n),kp=(e,n,o)=>e.schema.isValidChild(n,o),kb=(e,n=!1)=>{if(at(e)&&dn(e)){const o=n?e.data.replace(/ /g," "):e.data;return nl(o)}else return!1},Tv=e=>at(e)&&dn(e)&&e.length===0,o2=(e,n)=>{const o="[data-mce-cef-wrappable]",r=yS(e),c=cs(r)?o:`${o},${r}`;return _i(Ne.fromDom(n),c)},BA=(e,n)=>{const o=e.dom;return Ns(n)&&o.getContentEditable(n)==="false"&&o2(e,n)&&o.select('[contenteditable="true"]',n).length===0},_p=(e,n)=>ke(e)?e(n):(at(n)&&(e=e.replace(/%(\w+)/g,(o,r)=>n[r]||o)),e),Av=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),ig=(e,n)=>{if(gn(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=Fy(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},gk=(e,n,o)=>{const r=e.getStyle(n,o);return ig(r,o)},pk=(e,n)=>{let o;return e.getParent(n,r=>In(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},Cp=(e,n,o)=>e.getParents(n,o,e.getRoot()),hk=(e,n,o)=>{const r=e.formatter.get(n);return at(r)&&de(r,o)},s2=(e,n)=>hk(e,n,r=>{const c=u=>ke(u)||u.length>1&&u.charAt(0)==="%";return de(["styles","attributes"],u=>ys(r,u).exists(m=>{const b=Nt(m)?m:Zr(m);return de(b,c)}))}),r2=(e,n,o)=>{const r=["inline","block","selector","attributes","styles","classes"],c=u=>Cs(u,(m,b)=>de(r,_=>_===b));return hk(e,n,u=>{const m=c(u);return hk(e,o,b=>{const _=c(b);return Qe(m,_)})})},vf=e=>Ps(e,"block"),a2=e=>vf(e)&&e.wrapper===!0,Ov=e=>vf(e)&&e.wrapper!==!0,lu=e=>Ps(e,"selector"),Tc=e=>Ps(e,"inline"),$A=e=>lu(e)&&Tc(e)&&Bs(ys(e,"mixed"),!0),xd=e=>lu(e)&&e.expand!==!1&&!Tc(e),FA=e=>{const n=[];let o=e;for(;o;){if(dn(o)&&o.data!==pc||o.childNodes.length>1)return[];In(o)&&n.push(o),o=o.firstChild}return n},c2=e=>FA(e).length>0,_b=e=>Bl(e.dom)&&c2(e.dom),Vh=vl,i2=Cp,l2=kb,Wz=wb,Zz=e=>Hs(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,u2=(e,n)=>{let o=n;for(;o;){if(In(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},jn=(e,n,o,r)=>{const c=n.data;if(e){for(let u=o;u>0;u--)if(r(c.charAt(u-1)))return u}else for(let u=o;u<c.length;u++)if(r(c.charAt(u)))return u;return-1},Ac=(e,n,o)=>jn(e,n,o,r=>ag(r)||bp(r)),Dv=(e,n,o)=>jn(e,n,o,_v),Oc=(e,n,o,r,c,u)=>{let m;const b=e.getParent(o,e.isBlock)||n,_=(B,L,j)=>{const ne=Xg(e),fe=c?ne.backwards:ne.forwards;return U.from(fe(B,L,(se,he)=>Vh(se.parentNode)?-1:(m=se,j(c,se,he)),b))};return _(o,r,Ac).bind(B=>u?_(B.container,B.offset+(c?-1:0),Dv):U.some(B)).orThunk(()=>m?U.some({container:m,offset:c?0:m.length}):U.none())},uu=(e,n,o,r,c)=>{const u=r[c];dn(r)&&cs(r.data)&&u&&(r=u);const m=i2(e,r);for(let b=0;b<m.length;b++)for(let _=0;_<n.length;_++){const A=n[_];if(!(at(A.collapsed)&&A.collapsed!==o.collapsed)&&lu(A)&&e.is(m[b],A.selector))return m[b]}return r},yk=(e,n,o,r)=>{var c;let u=o;const m=e.getRoot(),b=n[0];if(vf(b)&&(u=b.wrapper?null:e.getParent(o,b.block,m)),!u){const _=(c=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&c!==void 0?c:m;u=e.getParent(dn(o)?o.parentNode:o,A=>A!==m&&Wz(e.schema,A),_)}if(u&&vf(b)&&b.wrapper&&(u=i2(e,u,"ul,ol").reverse()[0]||u),!u)for(u=o;u&&u[r]&&!e.isBlock(u[r])&&(u=u[r],!Av(u,"br")););return u||o},Cb=(e,n,o,r)=>{const c=o.parentNode;return at(o[r])?!1:c===n||gn(c)||e.isBlock(c)?!0:Cb(e,n,c,r)},Uh=(e,n,o,r,c)=>{let u=o;const m=c?"previousSibling":"nextSibling",b=e.getRoot();if(dn(o)&&!l2(o)&&(c?r>0:r<o.data.length))return o;for(;u;){if(!n[0].block_expand&&e.isBlock(u))return u;for(let _=u[m];_;_=_[m]){const A=dn(_)&&!Cb(e,b,_,m);if(!Vh(_)&&!Zz(_)&&!l2(_,A))return u}if(u===b||u.parentNode===b){o=u;break}u=u.parentNode}return o},d2=e=>Vh(e.parentNode)||Vh(e),lg=(e,n,o,r=!1)=>{let{startContainer:c,startOffset:u,endContainer:m,endOffset:b}=n;const _=o[0];return In(c)&&c.hasChildNodes()&&(c=em(c,u),dn(c)&&(u=0)),In(m)&&m.hasChildNodes()&&(m=em(m,n.collapsed?b:b-1),dn(m)&&(b=m.data.length)),c=u2(e,c),m=u2(e,m),d2(c)&&(c=Vh(c)?c:c.parentNode,n.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,dn(c)&&(u=n.collapsed?c.length:0)),d2(m)&&(m=Vh(m)?m:m.parentNode,n.collapsed?m=m.nextSibling||m:m=m.previousSibling||m,dn(m)&&(b=n.collapsed?0:m.length)),n.collapsed&&(Oc(e,e.getRoot(),c,u,!0,r).each(({container:L,offset:j})=>{c=L,u=j}),Oc(e,e.getRoot(),m,b,!1,r).each(({container:L,offset:j})=>{m=L,b=j})),(Tc(_)||_.block_expand)&&((!Tc(_)||!dn(c)||u===0)&&(c=Uh(e,o,c,u,!0)),(!Tc(_)||!dn(m)||b===m.data.length)&&(m=Uh(e,o,m,b,!1))),xd(_)&&(c=uu(e,o,n,c,"previousSibling"),m=uu(e,o,n,m,"nextSibling")),(vf(_)||lu(_))&&(c=yk(e,o,c,"previousSibling"),m=yk(e,o,m,"nextSibling"),vf(_)&&(e.isBlock(c)||(c=Uh(e,o,c,u,!0),dn(c)&&(u=0)),e.isBlock(m)||(m=Uh(e,o,m,b,!1),dn(m)&&(b=m.data.length)))),In(c)&&c.parentNode&&(u=e.nodeIndex(c),c=c.parentNode),In(m)&&m.parentNode&&(b=e.nodeIndex(m)+1,m=m.parentNode),{startContainer:c,startOffset:u,endContainer:m,endOffset:b}},jh=(e,n,o)=>{var r;const c=n.startOffset,u=em(n.startContainer,c),m=n.endOffset,b=em(n.endContainer,m-1),_=he=>{const He=he[0];dn(He)&&He===u&&c>=He.data.length&&he.splice(0,1);const Ge=he[he.length-1];return m===0&&he.length>0&&Ge===b&&dn(Ge)&&he.splice(he.length-1,1),he},A=(he,He,Ge)=>{const nt=[];for(;he&&he!==Ge;he=he[He])nt.push(he);return nt},B=(he,He)=>e.getParent(he,Ge=>Ge.parentNode===He,He),L=(he,He,Ge)=>{const nt=Ge?"nextSibling":"previousSibling";for(let mt=he,en=mt.parentNode;mt&&mt!==He;mt=en){en=mt.parentNode;const yn=A(mt===he?mt:mt[nt],nt);yn.length&&(Ge||yn.reverse(),o(_(yn)))}};if(u===b)return o(_([u]));const j=(r=e.findCommonAncestor(u,b))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(u,b))return L(u,j,!0);if(e.isChildOf(b,u))return L(b,j);const ne=B(u,j)||u,fe=B(b,j)||b;L(u,ne,!0);const se=A(ne===u?ne:ne.nextSibling,"nextSibling",fe===b?fe.nextSibling:fe);se.length&&o(_(se)),L(b,fe)},IA=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],LA=e=>tr(e)&&wh(e)===pc,HA=(e,n,o,r)=>Cc(n).fold(()=>"skipping",c=>r==="br"||LA(n)?"valid":H1(n)?"existing":Bl(n.dom)?"caret":de(IA,u=>_i(n,u))?"valid-block":!kp(e,o,r)||!kp(e,me(c),o)?"invalid-child":"valid"),f2=(e,n)=>{const o=lg(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},Sp=(e,n,o,r,c,u)=>{const B=o,{uid:m=n}=B,b=sC(B,["uid"]);Tl(e,ph()),ta(e,`${ff()}`,m),ta(e,`${Vm()}`,r);const{attributes:_={},classes:A=[]}=c(m,b);if(Ca(e,_),Lz(e,A),u){A.length>0&&ta(e,`${Um()}`,A.join(","));const L=_o(_);L.length>0&&ta(e,`${Yf()}`,L.join(","))}},Wh=e=>{cd(e,ph()),Sr(e,`${ff()}`),Sr(e,`${Vm()}`),Sr(e,`${hh()}`);const n=Rr(e,`${Yf()}`).map(r=>r.split(",")).getOr([]),o=Rr(e,`${Um()}`).map(r=>r.split(",")).getOr([]);G(n,r=>Sr(e,r)),Hz(e,o),Sr(e,`${Um()}`),Sr(e,`${Yf()}`)},xp=(e,n,o,r,c)=>{const u=Ne.fromTag("span",e);return Sp(u,n,o,r,c,!1),u},Rv=(e,n,o,r,c,u)=>{const m=[],b=xp(e.getDoc(),o,u,r,c),_=gc(),A=()=>{_.clear()},B=()=>_.get().getOrThunk(()=>{const fe=$u(b);return m.push(fe),_.set(fe),fe}),L=fe=>{G(fe,j)},j=fe=>{switch(HA(e,fe,"span",me(fe))){case"invalid-child":{A();const he=Ua(fe);L(he),A();break}case"valid-block":{A(),Sp(fe,o,u,r,c,!0);break}case"valid":{const he=B();ul(fe,he);break}}},ne=fe=>{const se=De(fe,Ne.fromDom);L(se)};return jh(e.dom,n,fe=>{A(),ne(fe)}),m},$l=(e,n,o,r)=>{e.undoManager.transact(()=>{const c=e.selection,u=c.getRng(),m=Lh(e).length>0,b=bh("mce-annotation");if(u.collapsed&&!m&&f2(e,u),c.getRng().collapsed&&!m){const _=xp(e.getDoc(),b,r,n,o.decorate);Ru(_,ja),c.getRng().insertNode(_.dom),c.select(_.dom)}else n2(c,!1,()=>{Hh(e,_=>{Rv(e,_,b,n,o.decorate,r)})})})},Ed=e=>{const n=V1();FT(e,n);const o=AC(e,n),r=ec("span"),c=u=>{G(u,m=>{r(m)?dl(m):Wh(m)})};return{register:(u,m)=>{n.register(u,m)},annotate:(u,m)=>{n.lookup(u).each(b=>{$l(e,u,b,m)})},annotationChanged:(u,m)=>{o.addListener(u,m)},remove:u=>{Ly(e,U.some(u)).each(({elements:m})=>{const b=e.selection.getBookmark();c(m),e.selection.moveToBookmark(b)})},removeAll:u=>{const m=e.selection.getBookmark();on(yh(e,u),(b,_)=>{c(b)}),e.selection.moveToBookmark(m)},getAll:u=>{const m=yh(e,u);return Go(m,b=>De(b,_=>_.dom))}}},Ep=e=>({getBookmark:Te(sm,e),moveToBookmark:Te(XS,e)});Ep.isBookmarkNode=vl;const Zh=(e,n,o)=>o.collapsed?!1:de(o.getClientRects(),r=>jT(r,e,n)),zv=(e,n)=>e.dispatch("PreProcess",n),Nv=(e,n)=>e.dispatch("PostProcess",n),VA=e=>{e.dispatch("remove")},UA=e=>{e.dispatch("detach")},jA=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},WA=(e,n,o,r,c)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:r,origin:c})},m2=(e,n,o,r,c)=>{e.dispatch("ObjectResized",{target:n,width:o,height:r,origin:c})},g2=e=>{e.dispatch("PreInit")},bk=e=>{e.dispatch("PostRender")},Mv=e=>{e.dispatch("Init")},di=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},du=(e,n,o)=>{e.dispatch(n,o)},Fl=(e,n,o,r)=>{e.dispatch("FormatApply",{format:n,node:o,vars:r})},Sb=(e,n,o,r)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:r})},vk=(e,n)=>e.dispatch("BeforeSetContent",n),p2=(e,n)=>e.dispatch("SetContent",n),Pv=(e,n)=>e.dispatch("BeforeGetContent",n),ZA=(e,n)=>e.dispatch("GetContent",n),Bv=(e,n)=>{e.dispatch("AutocompleterStart",n)},qA=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},$v=(e,n)=>{e.dispatch("AutocompleterUpdateActiveRange",n)},GA=e=>{e.dispatch("AutocompleterEnd")},KA=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),h2=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),Fv=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),vr=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),Wn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Wn.metaKeyPressed(e),metaKeyPressed:e=>$e.os.isMacOS()||$e.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Td="data-mce-selected",y2="table,img,figure.image,hr,video,span.mce-preview-object,details",wk=Math.abs,qh=Math.round,Iv={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},xb=e=>e.type==="longpress"||e.type.indexOf("touch")===0,kk=(e,n)=>{const o=n.dom,r=n.getDoc(),c=document,u=n.getBody();let m,b,_,A,B,L,j,ne,fe,se,he,He,Ge,nt,mt,en,yn;const Zn=Nn=>at(Nn)&&(Bg(Nn)||o.is(Nn,"figure.image")),Wt=Nn=>Ic(Nn)||o.hasClass(Nn,"mce-preview-object"),At=(Nn,hs)=>{if(xb(Nn)){const Ss=Nn.touches[0];return Zn(Nn.target)&&!Zh(Ss.clientX,Ss.clientY,hs)}else return Zn(Nn.target)&&!Zh(Nn.clientX,Nn.clientY,hs)},sn=Nn=>{const hs=Nn.target;At(Nn,n.selection.getRng())&&!Nn.isDefaultPrevented()&&n.selection.select(hs)},qn=Nn=>o.hasClass(Nn,"mce-preview-object")&&at(Nn.firstElementChild)?[Nn,Nn.firstElementChild]:o.is(Nn,"figure.image")?[Nn.querySelector("img")]:[Nn],yo=Nn=>{const hs=Oh(n);return!hs||n.mode.isReadOnly()||Nn.getAttribute("data-mce-resize")==="false"||Nn===n.getBody()?!1:o.hasClass(Nn,"mce-preview-object")&&at(Nn.firstElementChild)?_i(Ne.fromDom(Nn.firstElementChild),hs):_i(Ne.fromDom(Nn),hs)},gs=(Nn,hs)=>{if(Wt(hs))return Nn.create("img",{src:$e.transparentSrc});if(Ql(hs)){const dc=Co(A.name,"n")?Ln:Wo,kr=hs.cloneNode(!0);return dc(Nn.select("tr",kr)).each(pi=>{const Ul=Nn.select("td,th",pi);Nn.setStyle(pi,"height",null),G(Ul,wm=>Nn.setStyle(wm,"height",null))}),kr}else return hs.cloneNode(!0)},ps=(Nn,hs,Ss)=>{if(at(Ss)){const dc=qn(Nn);G(dc,kr=>{kr.style[hs]||!n.schema.isValid(kr.nodeName.toLowerCase(),hs)?o.setStyle(kr,hs,Ss):o.setAttrib(kr,hs,""+Ss)})}},Ks=(Nn,hs,Ss)=>{ps(Nn,"width",hs),ps(Nn,"height",Ss)},lr=Nn=>{let hs,Ss,dc,kr,pi;hs=Nn.screenX-L,Ss=Nn.screenY-j,nt=hs*A[2]+se,mt=Ss*A[3]+he,nt=nt<5?5:nt,mt=mt<5?5:mt,(Zn(m)||Wt(m))&&up(n)!==!1?dc=!Wn.modifierPressed(Nn):dc=Wn.modifierPressed(Nn),dc&&(wk(hs)>wk(Ss)?(mt=qh(nt*He),nt=qh(mt/He)):(nt=qh(mt/He),mt=qh(nt*He))),Ks(b,nt,mt),kr=A.startPos.x+hs,pi=A.startPos.y+Ss,kr=kr>0?kr:0,pi=pi>0?pi:0,o.setStyles(_,{left:kr,top:pi,display:"block"}),_.innerHTML=nt+" &times; "+mt,A[2]<0&&b.clientWidth<=nt&&o.setStyle(b,"left",ne+(se-nt)),A[3]<0&&b.clientHeight<=mt&&o.setStyle(b,"top",fe+(he-mt)),hs=u.scrollWidth-en,Ss=u.scrollHeight-yn,hs+Ss!==0&&o.setStyles(_,{left:kr-hs,top:pi-Ss}),Ge||(WA(n,m,se,he,"corner-"+A.name),Ge=!0)},Pa=()=>{const Nn=Ge;Ge=!1,Nn&&(ps(m,"width",nt),ps(m,"height",mt)),o.unbind(r,"mousemove",lr),o.unbind(r,"mouseup",Pa),c!==r&&(o.unbind(c,"mousemove",lr),o.unbind(c,"mouseup",Pa)),o.remove(b),o.remove(_),o.remove(B),gi(m),Nn&&(m2(n,m,nt,mt,"corner-"+A.name),o.setAttrib(m,"style",o.getAttrib(m,"style"))),n.nodeChanged()},gi=Nn=>{Hn();const hs=o.getPos(Nn,u),Ss=hs.x,dc=hs.y,kr=Nn.getBoundingClientRect(),pi=kr.width||kr.right-kr.left,Ul=kr.height||kr.bottom-kr.top;m!==Nn&&(On(),m=Nn,nt=mt=0);const wm=n.dispatch("ObjectSelected",{target:Nn});yo(Nn)&&!wm.isDefaultPrevented()?on(Iv,(Yi,Ju)=>{const Vd=jl=>{const mo=qn(m)[0];L=jl.screenX,j=jl.screenY,se=mo.clientWidth,he=mo.clientHeight,He=he/se,A=Yi,A.name=Ju,A.startPos={x:pi*Yi[0]+Ss,y:Ul*Yi[1]+dc},en=u.scrollWidth,yn=u.scrollHeight,B=o.add(u,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(B,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),b=gs(o,m),o.addClass(b,"mce-clonedresizable"),o.setAttrib(b,"data-mce-bogus","all"),b.contentEditable="false",o.setStyles(b,{left:Ss,top:dc,margin:0}),Ks(b,pi,Ul),b.removeAttribute(Td),u.appendChild(b),o.bind(r,"mousemove",lr),o.bind(r,"mouseup",Pa),c!==r&&(o.bind(c,"mousemove",lr),o.bind(c,"mouseup",Pa)),_=o.add(u,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},se+" &times; "+he)};let Ri=o.get("mceResizeHandle"+Ju);Ri&&o.remove(Ri),Ri=o.add(u,"div",{id:"mceResizeHandle"+Ju,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Ju+"-resize; margin:0; padding:0"}),o.bind(Ri,"mousedown",jl=>{jl.stopImmediatePropagation(),jl.preventDefault(),Vd(jl)}),Yi.elm=Ri,o.setStyles(Ri,{left:pi*Yi[0]+Ss-Ri.offsetWidth/2,top:Ul*Yi[1]+dc-Ri.offsetHeight/2})}):On(!1)},Ha=gh(gi,0),On=(Nn=!0)=>{Ha.cancel(),Hn(),m&&Nn&&m.removeAttribute(Td),on(Iv,(hs,Ss)=>{const dc=o.get("mceResizeHandle"+Ss);dc&&(o.unbind(dc),o.remove(dc))})},go=(Nn,hs)=>o.isChildOf(Nn,hs),Us=Nn=>{if(Ge||n.removed||n.composing)return;const hs=Nn.type==="mousedown"?Nn.target:e.getNode(),Ss=Xl(Ne.fromDom(hs),y2).map(kr=>kr.dom).filter(kr=>o.isEditable(kr.parentElement)||kr.nodeName==="IMG"&&o.isEditable(kr)).getOrUndefined(),dc=at(Ss)?o.getAttrib(Ss,Td,"1"):"1";if(G(o.select(`img[${Td}],hr[${Td}]`),kr=>{kr.removeAttribute(Td)}),at(Ss)&&go(Ss,u)&&n.hasFocus()){zo();const kr=e.getStart(!0);if(go(kr,Ss)&&go(e.getEnd(!0),Ss)){o.setAttrib(Ss,Td,dc),Ha.throttle(Ss);return}}On()},Hn=()=>{on(Iv,Nn=>{Nn.elm&&(o.unbind(Nn.elm),delete Nn.elm)})},zo=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(Nn){}};return n.on("init",()=>{zo(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Us),n.on("keyup compositionend",Nn=>{m&&m.nodeName==="TABLE"&&Us(Nn)}),n.on("hide blur",On),n.on("contextmenu longpress",sn,!0)}),n.on("remove",Hn),{isResizable:yo,showResizeRect:gi,hideResizeRect:On,updateResizeRect:Us,destroy:()=>{Ha.cancel(),m=b=B=null}}},b2=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},_k=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},v2=(e,n,o)=>{const r=e.document.createRange();return b2(r,n),_k(r,o),r},Eb=(e,n,o,r,c)=>{const u=e.document.createRange();return u.setStart(n.dom,o),u.setEnd(r.dom,c),u},Tp=au.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Lv=(e,n,o)=>n(Ne.fromDom(o.startContainer),o.startOffset,Ne.fromDom(o.endContainer),o.endOffset),YA=(e,n)=>n.match({domRange:o=>({ltr:_e(o),rtl:U.none}),relative:(o,r)=>({ltr:Mt(()=>v2(e,o,r)),rtl:Mt(()=>U.some(v2(e,r,o)))}),exact:(o,r,c,u)=>({ltr:Mt(()=>Eb(e,o,r,c,u)),rtl:Mt(()=>U.some(Eb(e,c,u,o,r)))})}),XA=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(c=>c.collapsed===!1).map(c=>Tp.rtl(Ne.fromDom(c.endContainer),c.endOffset,Ne.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>Lv(e,Tp.ltr,o)):Lv(e,Tp.ltr,o)},JA=(e,n)=>{const o=YA(e,n);return XA(e,o)};Tp.ltr,Tp.rtl;const Qc={create:(e,n,o,r)=>({start:e,soffset:n,finish:o,foffset:r})},Gh=(e,n,o)=>{var r;return U.from((r=e.caretPositionFromPoint)===null||r===void 0?void 0:r.call(e,n,o)).bind(c=>{if(c.offsetNode===null)return U.none();const u=e.createRange();return u.setStart(c.offsetNode,c.offset),u.collapse(),U.some(u)})},qz=(e,n,o)=>{var r;return U.from((r=e.caretRangeFromPoint)===null||r===void 0?void 0:r.call(e,n,o))},QA=(e,n,o)=>e.caretPositionFromPoint?Gh(e,n,o):e.caretRangeFromPoint?qz(e,n,o):U.none(),eO=(e,n,o)=>{const r=e.document;return QA(r,n,o).map(c=>Qc.create(Ne.fromDom(c.startContainer),c.startOffset,Ne.fromDom(c.endContainer),c.endOffset))},Es=au.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),tO=(e,n,o,r)=>e.fold(n,o,r),nO=e=>e.fold(Ht,Ht,Ht),Ck=Es.before,Gz=Es.on,Kz=Es.after,ug={before:Ck,on:Gz,after:Kz,cata:tO,getStart:nO},Tb=au.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),oO=e=>Tb.exact(e.start,e.soffset,e.finish,e.foffset),sO=e=>e.match({domRange:n=>Ne.fromDom(n.startContainer),relative:(n,o)=>ug.getStart(n),exact:(n,o,r,c)=>n}),Sk=Tb.domRange,Hv=Tb.relative,Vv=Tb.exact,Yz=e=>{const n=sO(e);return Kd(n)},rO=Qc.create,Ab={domRange:Sk,relative:Hv,exact:Vv,exactFromRange:oO,getWin:Yz,range:rO},xk=(e,n)=>{const o=me(e);return o==="input"?ug.after(e):re(["br","img"],o)?n===0?ug.before(e):ug.after(e):ug.on(e,n)},aO=(e,n)=>{const o=e.fold(ug.before,xk,ug.after),r=n.fold(ug.before,xk,ug.after);return Ab.relative(o,r)},w2=(e,n,o,r)=>{const c=xk(e,n),u=xk(o,r);return Ab.relative(c,u)},Po=e=>e.match({domRange:n=>{const o=Ne.fromDom(n.startContainer),r=Ne.fromDom(n.endContainer);return w2(o,n.startOffset,r,n.endOffset)},relative:aO,exact:w2}),Uv=(e,n)=>{const r=document.createDocumentFragment();return G(e,c=>{r.appendChild(c.dom)}),Ne.fromDom(r)},l=e=>{const n=Ab.getWin(e).dom,o=(c,u,m,b)=>Eb(n,c,u,m,b),r=Po(e);return JA(n,r).match({ltr:o,rtl:o})},f=(e,n,o)=>eO(e,n,o),y=(e,n,o)=>{const r=Kd(Ne.fromDom(o));return f(r.dom,e,n).map(c=>{const u=o.createRange();return u.setStart(c.start.dom,c.soffset),u.setEnd(c.finish.dom,c.foffset),u}).getOrUndefined()},w=(e,n)=>at(e)&&at(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,O=(e,n,o)=>{let r=e;for(;r&&r!==n;){if(o(r))return r;r=r.parentNode}return null},M=(e,n,o)=>O(e,n,o)!==null,W=(e,n,o)=>M(e,n,r=>r.nodeName===o),te=(e,n)=>su(e)&&!M(e,n,Bl),ge=(e,n,o)=>{const r=n.parentNode;if(r){const c=new oc(n,e.getParent(r,e.isBlock)||e.getRoot());let u;for(;u=c[o?"prev":"next"]();)if(Hs(u))return!0}return!1},Fe=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},pt=(e,n)=>{let o=n;for(;o&&o!==e;){if(Vs(o))return!0;o=o.parentNode}return!1},fn=(e,n,o,r,c)=>{const u=e.getRoot(),m=e.schema.getNonEmptyElements(),b=c.parentNode;let _,A;if(!b)return U.none();const B=e.getParent(b,e.isBlock)||u;if(r&&Hs(c)&&n&&e.isEmpty(B))return U.some(Ft(b,e.nodeIndex(c)));const L=new oc(c,B);for(;A=L[r?"prev":"next"]();){if(e.getContentEditableParent(A)==="false"||te(A,u))return U.none();if(dn(A)&&A.data.length>0)return W(A,u,"A")?U.none():U.some(Ft(A,r?A.data.length:0));if(e.isBlock(A)||m[A.nodeName.toLowerCase()])return U.none();_=A}return wa(_)?U.none():o&&_?U.some(Ft(_,0)):U.none()},Bn=(e,n,o,r)=>{const c=e.getRoot();let u,m=!1,b=o?r.startContainer:r.endContainer,_=o?r.startOffset:r.endOffset;const A=In(b)&&_===b.childNodes.length,B=e.schema.getNonEmptyElements();let L=o;if(su(b))return U.none();if(In(b)&&_>b.childNodes.length-1&&(L=!1),Nm(b)&&(b=c,_=0),b===c){if(L&&(u=b.childNodes[_>0?_-1:0],u&&(su(u)||B[u.nodeName]||Ql(u))))return U.none();if(b.hasChildNodes()){if(_=Math.min(!L&&_>0?_-1:_,b.childNodes.length-1),b=b.childNodes[_],_=dn(b)&&A?b.data.length:0,!n&&b===c.lastChild&&Ql(b)||pt(c,b)||su(b)||zy(b))return U.none();if(b.hasChildNodes()&&!Ql(b)){u=b;const j=new oc(b,c);do{if(Vs(u)||su(u)){m=!1;break}if(dn(u)&&u.data.length>0){_=L?0:u.data.length,b=u,m=!0;break}if(B[u.nodeName.toLowerCase()]&&!Wa(u)){_=e.nodeIndex(u),b=u.parentNode,L||_++,m=!0;break}}while(u=L?j.next():j.prev())}}}return n&&(dn(b)&&_===0&&fn(e,A,n,!0,b).each(j=>{b=j.container(),_=j.offset(),m=!0}),In(b)&&(u=b.childNodes[_],u||(u=b.childNodes[_-1]),u&&Hs(u)&&!Fe(u,"A")&&!ge(e,u,!1)&&!ge(e,u,!0)&&fn(e,A,n,!0,u).each(j=>{b=j.container(),_=j.offset(),m=!0}))),L&&!n&&dn(b)&&_===b.data.length&&fn(e,A,n,!1,b).each(j=>{b=j.container(),_=j.offset(),m=!0}),m&&b?U.some(Ft(b,_)):U.none()},Rn=(e,n)=>{const o=n.collapsed,r=n.cloneRange(),c=Ft.fromRangeStart(n);return Bn(e,o,!0,r).each(u=>{(!o||!Ft.isAbove(c,u))&&r.setStart(u.container(),u.offset())}),o||Bn(e,o,!1,r).each(u=>{r.setEnd(u.container(),u.offset())}),o&&r.collapse(!0),w(n,r)?U.none():U.some(r)},kn=(e,n)=>e.splitText(n),so=e=>{let n=e.startContainer,o=e.startOffset,r=e.endContainer,c=e.endOffset;if(n===r&&dn(n)){if(o>0&&o<n.data.length)if(r=kn(n,o),n=r.previousSibling,c>o){c=c-o;const u=kn(r,c).previousSibling;n=r=u,c=u.data.length,o=0}else c=0}else if(dn(n)&&o>0&&o<n.data.length&&(n=kn(n,o),o=0),dn(r)&&c>0&&c<r.data.length){const u=kn(r,c).previousSibling;r=u,c=u.data.length}return{startContainer:n,startOffset:o,endContainer:r,endOffset:c}},ln=e=>({walk:(u,m)=>jh(e,u,m),split:so,expand:(u,m={type:"word"})=>{if(m.type==="word"){const b=lg(e,u,[{inline:"span"}]),_=e.createRng();return _.setStart(b.startContainer,b.startOffset),_.setEnd(b.endContainer,b.endOffset),_}return u},normalize:u=>Rn(e,u).fold(Pe,m=>(u.setStart(m.startContainer,m.startOffset),u.setEnd(m.endContainer,m.endOffset),!0))});ln.compareRanges=w,ln.getCaretRangeFromPoint=y,ln.getSelectedNode=Zy,ln.getNode=em;const xn=((e,n)=>{const o=(b,_)=>{if(!bo(_)&&!_.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+_);const A=b.dom;Tu(A)&&(A.style[e]=_+"px")},r=b=>{const _=n(b);if(_<=0||_===null){const A=da(b,e);return parseFloat(A)||0}return _},c=r,u=(b,_)=>Ie(_,(A,B)=>{const L=da(b,B),j=L===void 0?0:parseInt(L,10);return isNaN(j)?A:A+j},0);return{set:o,get:r,getOuter:c,aggregate:u,max:(b,_,A)=>{const B=u(b,A);return _>B?_-B:0}}})("height",e=>{const n=e.dom;return dd(e)?n.getBoundingClientRect().height:n.offsetHeight}),Io=e=>xn.get(e),Ts=()=>Ne.fromDom(document),rr=(e,n)=>e.view(n).fold(_e([]),r=>{const c=e.owner(r),u=rr(e,c);return[r].concat(u)}),Pr=(e,n)=>{const o=n.owner(e);return rr(n,o)};var Ad=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?U.none():U.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(Ne.fromDom)},owner:e=>xu(e)});const Ap=e=>{const n=Ts(),o=Uo(n),r=Pr(e,Ad),c=Xo(e),u=Tt(r,(m,b)=>{const _=Xo(b);return{left:m.left+_.left,top:m.top+_.top}},{left:0,top:0});return Se(u.left+c.left+o.left,u.top+c.top+o.top)},wf=e=>me(e)==="textarea",wr=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),Zi=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},qi=(e,n)=>{const o=Ua(e);if(o.length===0||wf(e))return{element:e,offset:n};if(n<o.length&&!wf(o[n]))return{element:o[n],offset:0};{const r=o[o.length-1];return wf(r)?{element:e,offset:n}:me(r)==="img"?{element:r,offset:1}:tr(r)?{element:r,offset:wh(r).length}:{element:r,offset:Ua(r).length}}},fu=(e,n)=>{const o=Ao(e),r=Io(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:n}},ns=(e,n)=>{const o=qi(e,n),r=Ne.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+pc+"</span>");return dr(o.element,r),fu(r,()=>nr(r))},rl=e=>fu(Ne.fromDom(e),Ye),uc=(e,n,o,r)=>{fi(e,(c,u)=>am(e,n,o,r),o)},jv=(e,n,o,r,c)=>{const u={elm:r.element.dom,alignToTop:c};if(wr(e,u))return;const m=Uo(n).top;o(e,n,m,r,c),Zi(e,u)},am=(e,n,o,r)=>{const c=Ne.fromDom(e.getBody()),u=Ne.fromDom(e.getDoc());Li(c);const m=ns(Ne.fromDom(o.startContainer),o.startOffset);jv(e,u,n,m,r),m.cleanup()},ls=(e,n,o,r)=>{const c=Ne.fromDom(e.getDoc());jv(e,c,o,rl(n),r)},fi=(e,n,o)=>{const r=o.startContainer,c=o.startOffset,u=o.endContainer,m=o.endOffset;n(Ne.fromDom(r),Ne.fromDom(u));const b=e.dom.createRng();b.setStart(r,c),b.setEnd(u,m),e.selection.setRng(o)},Wv=(e,n,o,r,c)=>{const u=n.pos;if(r)fo(u.left,u.top,c);else{const m=u.top-o+n.height;fo(-e.getBody().getBoundingClientRect().left,m,c)}},Zv=(e,n,o,r,c,u)=>{const m=r+o,b=c.pos.top,_=c.bottom,A=_-b>=r;b<o?Wv(e,c,r,u!==!1,n):b>m?Wv(e,c,r,A?u!==!1:u===!0,n):_>m&&!A&&Wv(e,c,r,u===!0,n)},k2=(e,n,o,r,c)=>{const u=Kd(n).dom.innerHeight;Zv(e,n,o,u,r,c)},dg=(e,n,o,r,c)=>{const u=Kd(n).dom.innerHeight;Zv(e,n,o,u,r,c);const m=Ap(r.element),b=zu(window);m.top<b.y?Ur(r.element,c!==!1):m.top>b.bottom&&Ur(r.element,c===!0)},Op=(e,n,o)=>uc(e,k2,n,o),qv=(e,n,o)=>ls(e,n,k2,o),cO=(e,n,o)=>uc(e,dg,n,o),Ob=(e,n,o)=>ls(e,n,dg,o),s8=(e,n,o)=>{(e.inline?qv:Ob)(e,n,o)},Dp=(e,n,o)=>{(e.inline?Op:cO)(e,n,o)},Db=(e,n=!1)=>e.dom.focus({preventScroll:n}),Xz=e=>{const n=ll(e).dom;return e.dom===n.activeElement},_2=(e=Ts())=>U.from(e.dom.activeElement).map(Ne.fromDom),r8=e=>_2(ll(e)).filter(n=>e.dom.contains(n.dom)),Jz=(e,n)=>{const o=tr(n)?wh(n).length:Ua(n).length+1;return e>o?o:e<0?0:e},a8=e=>Ab.range(e.start,Jz(e.soffset,e.start),e.finish,Jz(e.foffset,e.finish)),iO=(e,n)=>!jf(n.dom)&&(_c(e,n)||rs(e,n)),c8=e=>n=>iO(e,n.start)&&iO(e,n.finish),i8=e=>e.inline||$e.browser.isFirefox(),Qz=e=>Ab.range(Ne.fromDom(e.startContainer),e.startOffset,Ne.fromDom(e.endContainer),e.endOffset),lO=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?U.none():U.from(n.getRangeAt(0))).map(Qz)},uO=e=>{const n=Kd(e);return lO(n.dom).filter(c8(e))},dO=(e,n)=>U.from(n).filter(c8(e)).map(a8),eN=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),U.some(n)}catch(o){return U.none()}},Ek=e=>{const n=i8(e)?uO(Ne.fromDom(e.getBody())):U.none();e.bookmark=n.isSome()?n:e.bookmark},C2=e=>(e.bookmark?e.bookmark:U.none()).bind(o=>dO(Ne.fromDom(e.getBody()),o)).bind(eN),S2=e=>{C2(e).each(n=>e.selection.setRng(n))},fO={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},l8=(e,n)=>(bo(n)||(n=0),setTimeout(e,n)),tN=(e,n)=>(bo(n)||(n=0),setInterval(e,n)),Uu={setEditorTimeout:(e,n,o)=>l8(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const r=tN(()=>{e.removed?clearInterval(r):n()},o);return r}},nN=e=>e.type==="nodechange"&&e.selectionChange,oN=(e,n)=>{const o=()=>{n.throttle()};Er.DOM.bind(document,"mouseup",o),e.on("remove",()=>{Er.DOM.unbind(document,"mouseup",o)})},sN=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},u8=(e,n)=>{sN(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{nN(o)||Ek(e)})},d8=e=>{const n=gh(()=>{Ek(e)},0);e.on("init",()=>{e.inline&&oN(e,n),u8(e,n)}),e.on("remove",()=>{n.cancel()})};let Gv;const mO=Er.DOM,f8=e=>In(e)&&fO.isEditorUIElement(e),gO=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},x2=(e,n)=>{const o=sb(e);return mO.getParent(n,c=>f8(c)||(o?e.dom.is(c,o):!1))!==null},pO=e=>{try{const n=ll(Ne.fromDom(e.getElement()));return _2(n).fold(()=>document.body,o=>o.dom)}catch(n){return document.body}},E2=(e,n)=>{const o=n.editor;d8(o);const r=(c,u)=>{if(Uw(c)&&c.inline!==!0){const m=Ne.fromDom(c.getContainer());u(m,"tox-edit-focus")}};o.on("focusin",()=>{const c=e.focusedEditor;gO(pO(o))&&r(o,Tl),c!==o&&(c&&c.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:c}),o.focus(!0))}),o.on("focusout",()=>{Uu.setEditorTimeout(o,()=>{const c=e.focusedEditor;(!gO(pO(o))||c!==o)&&r(o,cd),!x2(o,pO(o))&&c===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Gv||(Gv=c=>{const u=e.activeEditor;u&&Ag(c).each(m=>{const b=m;b.ownerDocument===document&&b!==document.body&&!x2(u,b)&&e.focusedEditor===u&&(u.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},mO.bind(document,"focusin",Gv))},rN=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&Gv&&(mO.unbind(document,"focusin",Gv),Gv=null)},m8=e=>{e.on("AddEditor",Te(E2,e)),e.on("RemoveEditor",Te(rN,e))},aN=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),cN=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="false")!==null,g8=e=>e.collapsed?U.from(em(e.startContainer,e.startOffset)).map(Ne.fromDom):U.none(),p8=(e,n)=>g8(n).bind(o=>PC(o)?U.some(o):_c(e,o)?U.none():U.some(e)),iN=(e,n)=>{p8(Ne.fromDom(e.getBody()),n).bind(o=>Oi(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},T2=e=>{if(e.setActive)try{e.setActive()}catch(n){e.focus()}else e.focus()},h8=e=>Xz(e)||r8(e).isSome(),lN=e=>at(e.iframeElement)&&Xz(Ne.fromDom(e.iframeElement)),uN=e=>{const n=e.getBody();return n&&h8(Ne.fromDom(n))},A2=e=>{const n=ll(Ne.fromDom(e.getElement()));return _2(n).filter(o=>!gO(o.dom)&&x2(e,o.dom)).isSome()},Kv=e=>e.inline?uN(e):lN(e),dN=e=>Kv(e)||A2(e),hO=e=>{const n=e.selection,o=e.getBody();let r=n.getRng();e.quirks.refreshContentEditable();const c=m=>{C2(m).each(b=>{m.selection.setRng(b),r=b})};!Kv(e)&&e.hasEditableRoot()&&c(e);const u=aN(e,n.getNode());if(u&&e.dom.isChildOf(u,o)){cN(e,u)||T2(o),T2(u),e.hasEditableRoot()||c(e),iN(e,r),yO(e);return}e.inline||($e.browser.isOpera()||T2(o),e.getWin().focus()),($e.browser.isFirefox()||e.inline)&&(T2(o),iN(e,r)),yO(e)},yO=e=>e.editorManager.setActive(e),fN=(e,n)=>{e.removed||(n?yO(e):hO(e))},bO=(e,n)=>n.collapsed?e.isEditable(n.startContainer):e.isEditable(n.startContainer)&&e.isEditable(n.endContainer),vO=(e,n,o,r,c)=>{const u=o?n.startContainer:n.endContainer,m=o?n.startOffset:n.endOffset;return U.from(u).map(Ne.fromDom).map(b=>!r||!n.collapsed?oi(b,c(b,m)).getOr(b):b).bind(b=>ts(b)?U.some(b):Cc(b).filter(ts)).map(b=>b.dom).getOr(e)},mN=(e,n,o=!1)=>vO(e,n,!0,o,(r,c)=>Math.min(Xd(r),c)),gN=(e,n,o=!1)=>vO(e,n,!1,o,(r,c)=>c>0?c-1:c),pN=(e,n)=>{const o=e;for(;e&&dn(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},y8=(e,n)=>{if(!n)return e;let o=n.startContainer,r=n.endContainer;const c=n.startOffset,u=n.endOffset;let m=n.commonAncestorContainer;n.collapsed||(o===r&&u-c<2&&o.hasChildNodes()&&(m=o.childNodes[c]),dn(o)&&dn(r)&&(o.length===c?o=pN(o.nextSibling,!0):o=o.parentNode,u===0?r=pN(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(m=o)));const b=dn(m)?m.parentNode:m;return Ol(b)?b:e},O2=(e,n,o,r)=>{const c=[],u=e.getRoot(),m=e.getParent(o||mN(u,n,n.collapsed),e.isBlock),b=e.getParent(r||gN(u,n,n.collapsed),e.isBlock);if(m&&m!==u&&c.push(m),m&&b&&m!==b){let _;const A=new oc(m,u);for(;(_=A.next())&&_!==b;)e.isBlock(_)&&c.push(_)}return b&&m!==b&&b!==u&&c.push(b),c},hN=(e,n,o)=>U.from(n).bind(r=>U.from(r.parentNode).map(c=>{const u=e.nodeIndex(r),m=e.createRng();return m.setStart(c,u),m.setEnd(c,u+1),o&&(t2(e,m,r,!0),t2(e,m,r,!1)),m})),D2=(e,n)=>De(n,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),yN={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Tk=(e,n,o)=>{const r=o?"lastChild":"firstChild",c=o?"prev":"next";if(e[r])return e[r];if(e!==n){let u=e[c];if(u)return u;for(let m=e.parent;m&&m!==n;m=m.parent)if(u=m[c],u)return u}},b8=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!nl(o))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(o))},bN=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class kl{static create(n,o){const r=new kl(n,yN[n]||1);return o&&on(o,(c,u)=>{r.attr(u,c)}),r}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const r=this;if(!ae(n))return at(n)&&on(n,(u,m)=>{r.attr(m,u)}),r;const c=r.attributes;if(c){if(o!==void 0){if(o===null){if(n in c.map){delete c.map[n];let u=c.length;for(;u--;)if(c[u].name===n)return c.splice(u,1),r}return r}if(n in c.map){let u=c.length;for(;u--;)if(c[u].name===n){c[u].value=o;break}}else c.push({name:n,value:o});return c.map[n]=o,r}return c.map[n]}}clone(){const n=this,o=new kl(n.name,n.type),r=n.attributes;if(r){const c=[];c.map={};for(let u=0,m=r.length;u<m;u++){const b=r[u];b.name!=="id"&&(c[c.length]={name:b.name,value:b.value},c.map[b.name]=b.value)}o.attributes=c}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const r=o.next;n.insert(o,n,!0),o=r}n.remove()}remove(){const n=this,o=n.parent,r=n.next,c=n.prev;return o&&(o.firstChild===n?(o.firstChild=r,r&&(r.prev=null)):c&&(c.next=r),o.lastChild===n?(o.lastChild=c,c&&(c.next=null)):r&&(r.prev=c),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const r=o.lastChild;return r?(r.next=n,n.prev=r,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,r){n.parent&&n.remove();const c=o.parent||this;return r?(o===c.firstChild?c.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===c.lastChild?c.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=c,n}getAll(n){const o=this,r=[];for(let c=o.firstChild;c;c=Tk(c,o))c.name===n&&r.push(c);return r}children(){const n=this,o=[];for(let r=n.firstChild;r;r=r.next)o.push(r);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let c=n.firstChild;c;c=Tk(c,n))o.push(c);let r=o.length;for(;r--;){const c=o[r];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},r){var c;const u=this;let m=u.firstChild;if(bN(u))return!1;if(m)do{if(m.type===1){if(m.attr("data-mce-bogus"))continue;if(n[m.name]||bN(m))return!1}if(m.type===8||m.type===3&&!b8(m)||m.type===3&&m.parent&&o[m.parent.name]&&nl((c=m.value)!==null&&c!==void 0?c:"")||r&&r(m))return!1}while(m=Tk(m,u));return!0}walk(n){return Tk(this,null,n)}}const v8=nn.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),vN=e=>ae(e.nodeValue)&&e.nodeValue.includes(pc),wN=e=>`${e.length===0?"":`${De(e,n=>`[${n}]`).join(",")},`}[data-mce-bogus="all"]`,w8=(e,n)=>n.querySelectorAll(wN(e)),kN=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,n=>vN(n)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),_N=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,n=>{if(vN(n)){const o=n.parentNode;return o&&ao(v8,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),k8=e=>kN(e).nextNode()!==null,_8=e=>_N(e).nextNode()!==null,C8=(e,n)=>n.querySelector(wN(e))!==null,R2=(e,n)=>{G(w8(e,n),o=>{const r=Ne.fromDom(o);tc(r,"data-mce-bogus")==="all"?nr(r):G(e,c=>{na(r,c)&&Sr(r,c)})})},wO=e=>{let n=e.nextNode();for(;n!==null;)n.nodeValue=null,n=e.nextNode()},CN=x(wO,kN),S8=x(wO,_N),SN=(e,n)=>{const o=[{condition:Te(C8,n),action:Te(R2,n)},{condition:k8,action:CN},{condition:_8,action:S8}];let r=e,c=!1;return G(o,({condition:u,action:m})=>{u(r)&&(c||(r=e.cloneNode(!0),c=!0),m(r))}),r},xN=e=>{const n=ai(e,"[data-mce-bogus]");G(n,o=>{tc(o,"data-mce-bogus")==="all"?nr(o):Xf(o)?(dr(o,Ne.fromText(Xp)),nr(o)):dl(o)})},EN=e=>{const n=ai(e,"input");G(n,o=>{Sr(o,"name")})},x8=(e,n)=>{const o=Xc(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(r,"")},E8=(e,n)=>{const o=e.getDoc(),r=ll(Ne.fromDom(e.getBody())),c=Ne.fromTag("div",o);ta(c,"data-mce-bogus","all"),Jo(c,{position:"fixed",left:"-9999999px",top:"0"}),Ru(c,n.innerHTML),xN(c),EN(c);const u=Ay(r);$a(u,c);const m=ou(c.dom.innerText);return nr(c),m},TN=(e,n,o)=>{let r;return n.format==="raw"?r=nn.trim(ou(SN(o,e.serializer.getTempAttrs()).innerHTML)):n.format==="text"?r=E8(e,o):n.format==="tree"?r=e.serializer.serialize(o,n):r=x8(e,e.serializer.serialize(o,n)),n.format!=="text"&&!U1(Ne.fromDom(o))&&ae(r)?nn.trim(r):r},T8=(e,n)=>U.from(e.getBody()).fold(_e(n.format==="tree"?new kl("body",11):""),o=>TN(e,n,o)),kO=nn.makeMap,_O=e=>{const n=[];e=e||{};const o=e.indent,r=kO(e.indent_before||""),c=kO(e.indent_after||""),u=$m.getEncodeFunc(e.entity_encoding||"raw",e.entities),m=e.element_format!=="xhtml";return{start:(b,_,A)=>{if(o&&r[b]&&n.length>0){const B=n[n.length-1];B.length>0&&B!==`
`&&n.push(`
`)}if(n.push("<",b),_)for(let B=0,L=_.length;B<L;B++){const j=_[B];n.push(" ",j.name,'="',u(j.value,!0),'"')}if(!A||m?n[n.length]=">":n[n.length]=" />",A&&o&&c[b]&&n.length>0){const B=n[n.length-1];B.length>0&&B!==`
`&&n.push(`
`)}},end:b=>{let _;n.push("</",b,">"),o&&c[b]&&n.length>0&&(_=n[n.length-1],_.length>0&&_!==`
`&&n.push(`
`))},text:(b,_)=>{b.length>0&&(n[n.length]=_?b:u(b))},cdata:b=>{n.push("<![CDATA[",b,"]]>")},comment:b=>{n.push("<!--",b,"-->")},pi:(b,_)=>{_?n.push("<?",b," ",u(_),"?>"):n.push("<?",b,"?>"),o&&n.push(`
`)},doctype:b=>{n.push("<!DOCTYPE",b,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},Kh=(e={},n=or())=>{const o=_O(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const u=e.validate,m={3:_=>{var A;o.text((A=_.value)!==null&&A!==void 0?A:"",_.raw)},8:_=>{var A;o.comment((A=_.value)!==null&&A!==void 0?A:"")},7:_=>{o.pi(_.name,_.value)},10:_=>{var A;o.doctype((A=_.value)!==null&&A!==void 0?A:"")},4:_=>{var A;o.cdata((A=_.value)!==null&&A!==void 0?A:"")},11:_=>{let A=_;if(A=A.firstChild)do b(A);while(A=A.next)}};o.reset();const b=_=>{var A;const B=m[_.type];if(B)B(_);else{const L=_.name,j=L in n.getVoidElements();let ne=_.attributes;if(u&&ne&&ne.length>1){const fe=[];fe.map={};const se=n.getElementRule(_.name);if(se){for(let he=0,He=se.attributesOrder.length;he<He;he++){const Ge=se.attributesOrder[he];if(Ge in ne.map){const nt=ne.map[Ge];fe.map[Ge]=nt,fe.push({name:Ge,value:nt})}}for(let he=0,He=ne.length;he<He;he++){const Ge=ne[he].name;if(!(Ge in fe.map)){const nt=ne.map[Ge];fe.map[Ge]=nt,fe.push({name:Ge,value:nt})}}ne=fe}}if(o.start(L,ne,j),zr(L))ae(_.value)&&o.text(_.value,!0),o.end(L);else if(!j){let fe=_.firstChild;if(fe){(L==="pre"||L==="textarea")&&fe.type===3&&((A=fe.value)===null||A===void 0?void 0:A[0])===`
`&&o.text(`
`,!0);do b(fe);while(fe=fe.next)}o.end(L)}}};return c.type===1&&!e.inner?b(c):c.type===3?m[3](c):m[11](c),o.getContent()}}},AN=new Set;G(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{AN.add(n)});const ON=new Set;G(["background-color"],n=>{ON.add(n)});const DN=["font","text-decoration","text-emphasis"],A8=(e,n)=>e.parseStyle(e.getAttrib(n,"style")),Yv=(e,n)=>_o(A8(e,n)),O8=e=>AN.has(e),D8=e=>ON.has(e),RN=(e,n)=>de(Yv(e,n),o=>O8(o)),R8=(e,n)=>RN(e,n)&&de(Yv(e,n),o=>D8(o)),z8=e=>Oe(e,n=>de(DN,o=>Co(n,o))),N8=(e,n,o)=>{const r=Yv(e,n),c=Yv(e,o),u=m=>{var b,_;const A=(b=e.getStyle(n,m))!==null&&b!==void 0?b:"",B=(_=e.getStyle(o,m))!==null&&_!==void 0?_:"";return vo(A)&&vo(B)&&A!==B};return de(r,m=>{const b=_=>de(_,A=>A===m);if(!b(c)&&b(DN)){const _=z8(c);return de(_,u)}else return u(m)})},zN=(e,n,o)=>U.from(o.container()).filter(dn).exists(r=>{const c=e?0:-1;return n(r.data.charAt(o.offset()+c))}),CO=Te(zN,!0,bp),SO=Te(zN,!1,bp),M8=e=>{const n=e.container();return dn(n)&&(n.data.length===0||jy(n.data)&&Ep.isBookmarkNode(n.parentNode))},Yh=(e,n)=>o=>Kw(e?0:-1,o).filter(n).isSome(),NN=e=>Bg(e)&&da(Ne.fromDom(e),"display")==="block",MN=e=>Vs(e)&&!Pg(e),So=Yh(!0,NN),PN=Yh(!1,NN),Xv=Yh(!0,Ic),Ak=Yh(!1,Ic),z2=Yh(!0,Ql),xO=Yh(!1,Ql),Xh=Yh(!0,MN),Jh=Yh(!1,MN),P8=e=>e.slice(0,-1),B8=(e,n,o)=>_c(n,e)?P8(Kl(e,r=>o(r)||rs(r,n))):[],Ok=(e,n)=>B8(e,n,Pe),fg=(e,n)=>[e].concat(Ok(e,n)),BN=(e,n,o)=>KS(e,n,o,M8),$8=e=>n=>e.isBlock(me(n)),Zo=(e,n,o)=>Lt(fg(Ne.fromDom(n.container()),e),$8(o)),$N=(e,n,o,r)=>BN(e,n.dom,o).forall(c=>Zo(n,o,r).fold(()=>!Sd(c,o,n.dom),u=>!Sd(c,o,n.dom)&&_c(u,Ne.fromDom(c.container())))),Yo=(e,n,o,r)=>Zo(n,o,r).fold(()=>BN(e,n.dom,o).forall(c=>!Sd(c,o,n.dom)),c=>BN(e,c.dom,o).isNone()),N2=Te(Yo,!1),F8=Te(Yo,!0),bK=Te($N,!1),I8=Te($N,!0),vK=e=>mb(e).exists(Xf),EO=(e,n,o,r)=>{const c=Oe(fg(Ne.fromDom(o.container()),n),m=>r.isBlock(me(m))),u=Ln(c).getOr(n);return Ml(e,u.dom,o).filter(vK)},TO=(e,n,o)=>mb(n).exists(Xf)||EO(!0,e,n,o).isSome(),M2=(e,n,o)=>DA(n).exists(Xf)||EO(!1,e,n,o).isSome(),Fo=Te(EO,!1),L8=Te(EO,!0),FN=e=>Ft.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),IN=(e,n,o)=>{const r=Oe(fg(Ne.fromDom(n.container()),e),c=>o.isBlock(me(c)));return Ln(r).getOr(e)},Jv=(e,n,o)=>FN(n)?SO(n):SO(n)||bl(IN(e,n,o).dom,n).exists(SO),AO=(e,n,o)=>FN(n)?CO(n):CO(n)||Ai(IN(e,n,o).dom,n).exists(CO),H8=e=>re(["pre","pre-wrap"],e),OO=e=>mb(e).bind(n=>Vr(n,ts)).exists(n=>H8(da(n,"white-space"))),V8=(e,n)=>bl(e.dom,n).isNone(),LN=(e,n)=>Ai(e.dom,n).isNone(),U8=(e,n,o)=>V8(e,n)||LN(e,n)||N2(e,n,o)||F8(e,n,o)||M2(e,n,o)||TO(e,n,o),wK=e=>at(e)&&Vs(e)&&Gw(e),j8=(e,n)=>o=>wK(new oc(o,e)[n]()),W8=(e,n)=>{const o=Ai(e.dom,n).getOr(n),r=j8(e.dom,"next");return n.isAtEnd()&&(r(n.container())||r(o.container()))},Z8=(e,n)=>{const o=bl(e.dom,n).getOr(n),r=j8(e.dom,"prev");return n.isAtStart()&&(r(n.container())||r(o.container()))},HN=(e,n,o)=>OO(n)?!1:U8(e,n,o)||Jv(e,n,o)||AO(e,n,o),Dk=(e,n,o)=>OO(n)?!1:N2(e,n,o)||bK(e,n,o)||M2(e,n,o)||Jv(e,n,o)||Z8(e,n),VN=e=>{const n=e.container(),o=e.offset();return dn(n)&&o<n.data.length?Ft(n,o+1):e},Rk=(e,n,o)=>OO(n)?!1:F8(e,n,o)||I8(e,n,o)||TO(e,n,o)||AO(e,n,o)||W8(e,n),as=(e,n,o)=>Dk(e,n,o)||Rk(e,VN(n),o),DO=(e,n)=>ag(e.charAt(n)),zk=(e,n)=>bp(e.charAt(n)),UN=e=>{const n=e.container();return dn(n)&&io(n.data,ja)},jN=e=>{const n=e.split("");return De(n,(o,r)=>ag(o)&&r>0&&r<n.length-1&&_v(n[r-1])&&_v(n[r+1])?" ":o).join("")},RO=(e,n,o,r)=>{const c=n.data,u=Ft(n,0);return!o&&DO(c,0)&&!as(e,u,r)?(n.data=" "+c.slice(1),!0):o&&zk(c,0)&&Dk(e,u,r)?(n.data=ja+c.slice(1),!0):!1},WN=e=>{const n=e.data,o=jN(n);return o!==n?(e.data=o,!0):!1},zO=(e,n,o,r)=>{const c=n.data,u=Ft(n,c.length-1);return!o&&DO(c,c.length-1)&&!as(e,u,r)?(n.data=c.slice(0,-1)+" ",!0):o&&zk(c,c.length-1)&&Rk(e,u,r)?(n.data=c.slice(0,-1)+ja,!0):!1},q8=(e,n,o)=>{const r=n.container();if(!dn(r))return U.none();if(UN(n)){const c=RO(e,r,!1,o)||WN(r)||zO(e,r,!1,o);return ni(c,n)}else if(as(e,n,o)){const c=RO(e,r,!0,o)||zO(e,r,!0,o);return ni(c,n)}else return U.none()},ZN=e=>{const n=Ne.fromDom(e.getBody());e.selection.isCollapsed()&&q8(n,Ft.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},qN=(e,n,o,r)=>{if(o===0)return;const c=Ne.fromDom(e),u=Hr(c,A=>r.isBlock(me(A))).getOr(c),m=e.data.slice(n,n+o),b=n+o>=e.data.length&&Rk(u,Ft(e,e.data.length),r),_=n===0&&Dk(u,Ft(e,0),r);e.replaceData(n,o,Al(m,4,_,b))},P2=(e,n,o)=>{const r=e.data.slice(n),c=r.length-_a(r).length;qN(e,n,c,o)},NO=(e,n,o)=>{const r=e.data.slice(0,n),c=r.length-ua(r).length;qN(e,n-c,c,o)},MO=(e,n,o,r,c=!0)=>{const u=ua(e.data).length,m=c?e:n,b=c?n:e;return c?m.appendData(b.data):m.insertData(0,b.data),nr(Ne.fromDom(b)),r&&P2(m,u,o),m},G8=(e,n)=>{const o=e.container(),r=e.offset();return!Ft.isTextPosition(e)&&o===n.parentNode&&r>Ft.before(n).offset()},K8=(e,n)=>G8(n,e)?Ft(n.container(),n.offset()-1):n,Y8=e=>dn(e)?Ft(e,0):Ft.before(e),X8=e=>dn(e)?Ft(e,e.data.length):Ft.after(e),B2=e=>Lu(e.previousSibling)?U.some(X8(e.previousSibling)):e.previousSibling?Pl(e.previousSibling):U.none(),$2=e=>Lu(e.nextSibling)?U.some(Y8(e.nextSibling)):e.nextSibling?Oi(e.nextSibling):U.none(),J8=(e,n)=>U.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>bl(e,Ft.before(o))).orThunk(()=>Ai(e,Ft.after(n))),Q8=(e,n)=>Ai(e,Ft.after(n)).orThunk(()=>bl(e,Ft.before(n))),e6=(e,n)=>B2(n).orThunk(()=>$2(n)).orThunk(()=>J8(e,n)),t6=(e,n)=>$2(n).orThunk(()=>B2(n)).orThunk(()=>Q8(e,n)),n6=(e,n,o)=>e?t6(n,o):e6(n,o),o6=(e,n,o)=>n6(e,n,o).map(Te(K8,o)),GN=(e,n,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),n)})},s6=e=>n=>n.dom===e,KN=(e,n)=>n&&ao(e.schema.getBlockElements(),me(n)),r6=(e,n,o)=>{if(Lc(e,n)){const r=Ne.fromHtml('<br data-mce-bogus="1">');return o?G(Ua(n),c=>{_b(c)||nr(c)}):tf(n),$a(n,r),U.some(Ft.before(r.dom))}else return U.none()},a6=(e,n,o,r)=>{const c=Yl(e).filter(tr),u=Bc(e).filter(tr);return nr(e),Mc(c,u,n,(m,b,_)=>{const A=m.dom,B=b.dom,L=A.data.length;return MO(A,B,o,r),_.container()===B?Ft(A,L):_}).orThunk(()=>(r&&(c.each(m=>NO(m.dom,m.dom.length,o)),u.each(m=>P2(m.dom,0,o))),n))},Rb=(e,n)=>ao(e.schema.getTextInlineElements(),me(n)),zb=(e,n,o,r=!0,c=!1)=>{const u=o6(n,e.getBody(),o.dom),m=Hr(o,Te(KN,e),s6(e.getBody())),b=a6(o,u,e.schema,Rb(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):m.bind(_=>r6(e.schema,_,c)).fold(()=>{r&&GN(e,n,b)},_=>{r&&GN(e,n,U.some(_))})},YN=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,c6=e=>YN.test(e),Nb=(e,n)=>_i(Ne.fromDom(n),cu(e))&&!gd(e.schema,n)&&e.dom.isEditable(n),PO=e=>{var n;return Er.DOM.getStyle(e,"direction",!0)==="rtl"||c6((n=e.textContent)!==null&&n!==void 0?n:"")},XN=(e,n,o)=>Oe(Er.DOM.getParents(o.container(),"*",n),e),Rp=(e,n,o)=>{const r=XN(e,n,o);return U.from(r[r.length-1])},JN=(e,n,o)=>{const r=yl(n,e),c=yl(o,e);return at(r)&&r===c},_l=e=>gf(e)||Jf(e),Od=(e,n)=>{const o=n.container(),r=n.offset();return e?Fu(o)?dn(o.nextSibling)?Ft(o.nextSibling,0):Ft.after(o):gf(n)?Ft(o,r+1):n:Fu(o)?dn(o.previousSibling)?Ft(o.previousSibling,o.previousSibling.data.length):Ft.before(o):Jf(n)?Ft(o,r-1):n},QN=Te(Od,!0),eM=Te(Od,!1),tM=(e,n)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},i6=e=>{e.execCommand("delete")},mg=e=>tM(e,"Delete"),nM=e=>tM(e,"ForwardDelete"),l6=e=>n=>Bs(Cc(n),e,rs),fa=e=>gl(e)||Qg(e),Mb=(e,n)=>_c(e,n)?Vr(n,fa,l6(e)):U.none(),Qh=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},oM=(e,n,o)=>Vo(Oi(o),Pl(o),(r,c)=>{const u=Od(!0,r),m=Od(!1,c),b=Od(!1,n);return e?Ai(o,b).exists(_=>_.isEqual(m)&&n.isEqual(u)):bl(o,b).exists(_=>_.isEqual(u)&&n.isEqual(m))}).getOr(!0),Pb=e=>(ho(e)?Yl(e):ud(e)).bind(Pb).orThunk(()=>U.some(e)),ju=(e,n,o,r=!0)=>{var c;n.deleteContents();const u=Pb(o).getOr(o),m=Ne.fromDom((c=e.dom.getParent(u.dom,e.dom.isBlock))!==null&&c!==void 0?c:o.dom);if(m.dom===e.getBody()?Qh(e,r):Lc(e.schema,m,{checkRootAsContent:!1})&&(mf(m),r&&e.selection.setCursorLocation(m.dom,0)),!rs(o,m)){const b=Bs(Cc(m),o)?[]:If(m);G(b.concat(Ua(o)),_=>{!rs(_,m)&&!_c(_,m)&&Lc(e.schema,_)&&nr(_)})}},Nk=e=>n=>rs(e,n),gr=e=>ai(e,"td,th"),Qv=(e,n)=>bb(Ne.fromDom(e),n),sM=e=>Vo(e.startTable,e.endTable,(n,o)=>{const r=Oy(n,u=>rs(u,o)),c=Oy(o,u=>rs(u,n));return!r&&!c?e:Pt(ie({},e),{startTable:r?U.none():e.startTable,endTable:c?U.none():e.endTable,isSameTable:!1,isMultiTable:!1})}).getOr(e),rM=e=>sM(e),BO=(e,n)=>{const o=Qv(e.startContainer,n),r=Qv(e.endContainer,n),c=o.isSome(),u=r.isSome(),m=Vo(o,r,rs).getOr(!1);return rM({startTable:o,endTable:r,isStartInTable:c,isEndInTable:u,isSameTable:m,isMultiTable:!m&&c&&u})},Mk=(e,n)=>({start:e,end:n}),$O=(e,n,o)=>({rng:e,table:n,cells:o}),Bb=au.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),$b=(e,n)=>Xl(Ne.fromDom(e),"td,th",n),F2=e=>!rs(e.start,e.end),FO=(e,n)=>bb(e.start,n).bind(o=>bb(e.end,n).bind(r=>ni(rs(o,r),o))),aM=(e,n)=>!F2(e)&&FO(e,n).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),cM=(e,n)=>{const o=$b(e.startContainer,n),r=$b(e.endContainer,n);return Vo(o,r,Mk)},iM=e=>n=>bb(n,e).bind(o=>Wo(gr(o)).map(r=>Mk(n,r))),lM=e=>n=>bb(n,e).bind(o=>Ln(gr(o)).map(r=>Mk(r,n))),ey=e=>n=>FO(n,e).map(o=>$O(n,o,gr(o))),IO=(e,n,o,r)=>{if(o.collapsed||!e.forall(F2))return U.none();if(n.isSameTable){const c=e.bind(ey(r));return U.some({start:c,end:c})}else{const c=$b(o.startContainer,r),u=$b(o.endContainer,r),m=c.bind(iM(r)).bind(ey(r)),b=u.bind(lM(r)).bind(ey(r));return U.some({start:m,end:b})}},I2=(e,n)=>Sn(e,o=>rs(o,n)),LO=e=>Vo(I2(e.cells,e.rng.start),I2(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),u6=(e,n,o)=>e.exists(r=>aM(r,o)&&fk(r.start,n)),HO=(e,n)=>{const{startTable:o,endTable:r}=n,c=e.cloneRange();return o.each(u=>c.setStartAfter(u.dom)),r.each(u=>c.setEndBefore(u.dom)),c},uM=(e,n,o,r)=>IO(e,n,o,r).bind(({start:c,end:u})=>c.or(u)).bind(c=>{const{isSameTable:u}=n,m=LO(c).getOr([]);if(u&&c.cells.length===m.length)return U.some(Bb.fullTable(c.table));if(m.length>0){if(u)return U.some(Bb.partialTable(m,U.none()));{const b=HO(o,n);return U.some(Bb.partialTable(m,U.some(Pt(ie({},n),{rng:b}))))}}else return U.none()}),dM=(e,n,o,r)=>IO(e,n,o,r).bind(({start:c,end:u})=>{const m=c.bind(LO).getOr([]),b=u.bind(LO).getOr([]);if(m.length>0&&b.length>0){const _=HO(o,n);return U.some(Bb.multiTable(m,b,_))}else return U.none()}),L2=(e,n)=>{const o=Nk(e),r=cM(n,o),c=BO(n,o);return u6(r,n,o)?r.map(u=>Bb.singleCellTable(n,u.start)):c.isMultiTable?dM(r,c,n,o):uM(r,c,n,o)},VO=e=>G(e,n=>{Sr(n,"contenteditable"),mf(n)}),fM=(e,n)=>U.from(e.dom.getParent(n,e.dom.isBlock)).map(Ne.fromDom),mM=(e,n,o)=>{o.each(r=>{n?nr(r):(mf(r),e.selection.setCursorLocation(r.dom,0))})},H2=(e,n,o,r)=>{const c=o.cloneRange();r?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(n.dom.lastChild)):(c.setStartBefore(n.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),V2(e,c,n,!1).each(u=>u())},UO=e=>{const n=Lh(e),o=Ne.fromDom(e.selection.getNode());$g(o.dom)&&Lc(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&de(n,r=>rs(r,o))&&ta(o,"data-mce-selected","1")},jO=(e,n,o)=>U.some(()=>{const r=e.selection.getRng(),c=o.bind(({rng:u,isStartInTable:m})=>{const b=fM(e,m?u.endContainer:u.startContainer);u.deleteContents(),mM(e,m,b.filter(Te(Lc,e.schema)));const _=m?n[0]:n[n.length-1];return H2(e,_,r,m),Lc(e.schema,_)?U.none():U.some(m?n.slice(1):n.slice(0,-1))}).getOr(n);VO(c),UO(e)}),gM=(e,n,o,r)=>U.some(()=>{const c=e.selection.getRng(),u=n[0],m=o[o.length-1];H2(e,u,c,!0),H2(e,m,c,!1);const b=Lc(e.schema,u)?n:n.slice(1),_=Lc(e.schema,m)?o:o.slice(0,-1);VO(b.concat(_)),r.deleteContents(),UO(e)}),V2=(e,n,o,r=!0)=>U.some(()=>{ju(e,n,o,r)}),pM=(e,n)=>U.some(()=>zb(e,!1,n)),hM=(e,n,o)=>L2(n,o).bind(r=>r.fold(Te(V2,e),Te(pM,e),Te(jO,e),Te(gM,e))),WO=(e,n)=>Pk(e,n),yM=(e,n,o,r)=>U2(n,r).fold(()=>hM(e,n,o),c=>WO(e,c)),bM=(e,n,o)=>{const r=Ne.fromDom(e.getBody()),c=e.selection.getRng();return o.length!==0?jO(e,o,U.none()):yM(e,r,c,n)},ZO=(e,n)=>Lt(fg(n,e),Uy),U2=(e,n)=>Lt(fg(n,e),ec("caption")),vM=(e,n,o,r,c)=>sg(o,e.getBody(),c).bind(u=>ZO(n,Ne.fromDom(u.getNode())).bind(m=>rs(m,r)?U.none():U.some(Ye))),Pk=(e,n)=>U.some(()=>{mf(n),e.selection.setCursorLocation(n.dom,0)}),qO=(e,n,o,r)=>Oi(e.dom).bind(c=>Pl(e.dom).map(u=>n?o.isEqual(c)&&r.isEqual(u):o.isEqual(u)&&r.isEqual(c))).getOr(!0),j2=(e,n)=>Pk(e,n),GO=(e,n,o)=>U2(e,Ne.fromDom(o.getNode())).fold(()=>U.some(Ye),r=>ni(!rs(r,n),Ye)),W2=(e,n,o,r,c)=>sg(o,e.getBody(),c).fold(()=>U.some(Ye),u=>qO(r,o,c,u)?j2(e,r):GO(n,r,u)),wM=(e,n,o,r)=>{const c=Ft.fromRangeStart(e.selection.getRng());return ZO(o,r).bind(u=>Lc(e.schema,u,{checkRootAsContent:!1})?Pk(e,u):vM(e,o,n,u,c))},Z2=(e,n,o,r)=>{const c=Ft.fromRangeStart(e.selection.getRng());return Lc(e.schema,r)?Pk(e,r):W2(e,o,n,r,c)},q2=(e,n)=>e?z2(n):xO(n),Bk=(e,n)=>{const o=Ft.fromRangeStart(e.selection.getRng());return q2(n,o)||Ml(n,e.getBody(),o).exists(r=>q2(n,r))},KO=(e,n,o)=>{const r=Ne.fromDom(e.getBody());return U2(r,o).fold(()=>wM(e,n,r,o).orThunk(()=>ni(Bk(e,n),Ye)),c=>Z2(e,n,r,c))},G2=(e,n)=>{const o=Ne.fromDom(e.selection.getStart(!0)),r=Lh(e);return e.selection.isCollapsed()&&r.length===0?KO(e,n,o):bM(e,o,r)},kf=(e,n)=>{let o=n;for(;o&&o!==e;){if(Xt(o)||Vs(o))return o;o=o.parentNode}return null},YO=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],XO=nn.each,ty=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(u,m)=>{if(u.nodeName!==m.nodeName||u.nodeType!==m.nodeType)return!1;const b=A=>{const B={};return XO(n.getAttribs(A),L=>{const j=L.nodeName.toLowerCase();j!=="style"&&!c(j)&&(B[j]=n.getAttrib(A,j))}),B},_=(A,B)=>{for(const L in A)if(ao(A,L)){const j=B[L];if(Tn(j)||A[L]!==j)return!1;delete B[L]}for(const L in B)if(ao(B,L))return!1;return!0};return In(u)&&In(m)&&(!_(b(u),b(m))||!_(n.parseStyle(n.getAttrib(u,"style")),n.parseStyle(n.getAttrib(m,"style"))))?!1:!vl(u)&&!vl(m)},c=u=>de(YO,m=>Co(u,m))||o.has(u);return{compare:r,isAttributeInternal:c}},zp=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),kM=e=>e.name==="summary",d6=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},_M=(e,n,o,r)=>{const c=o.name;for(let u=0,m=e.length;u<m;u++){const b=e[u];if(b.name===c){const _=r.nodes[c];_?_.nodes.push(o):r.nodes[c]={filter:b,nodes:[o]}}}if(o.attributes)for(let u=0,m=n.length;u<m;u++){const b=n[u],_=b.name;if(_ in o.attributes.map){const A=r.attributes[_];A?A.nodes.push(o):r.attributes[_]={filter:b,nodes:[o]}}}},CM=(e,n,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&d6(o,c=>{_M(e,n,c,r)}),r},JO=(e,n)=>{const o=(r,c)=>{on(r,u=>{const m=_s(u.nodes);G(u.filter.callbacks,b=>{for(let _=m.length-1;_>=0;_--){const A=m[_];(!(c?A.attr(u.filter.name)!==void 0:A.name===u.filter.name)||gn(A.parent))&&m.splice(_,1)}m.length>0&&b(m,u.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},QO=(e,n,o,r={})=>{const c=CM(e,n,o);JO(c,r)},e4=(e,n,o,r)=>{if((e.pad_empty_with_br||n.insert)&&o(r)){const u=new kl("br",1);n.insert&&u.attr("data-mce-bogus","1"),r.empty().append(u)}else r.empty().append(new kl("#text",3)).value=ja},ny=e=>{var n;return oy(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===ja},oy=(e,n)=>{const o=e==null?void 0:e.firstChild;return at(o)&&o===e.lastChild&&o.name===n},kK=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},yc=(e,n,o,r)=>r.isEmpty(n,o,c=>kK(e,c)),f6=(e,n)=>at(e)&&(n(e)||e.name==="br"),m6=e=>{let n;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(n=o)}return U.from(n)},cm=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const c of r)o&&!n.isValidChild(o.name,c.name)&&cm(c,n,o);e.unwrap()}},Zs=(e,n,o,r=Ye)=>{const c=n.getTextBlockElements(),u=n.getNonEmptyElements(),m=n.getWhitespaceElements(),b=nn.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),_=new Set,A=B=>B!==o&&!b[B.name];for(let B=0;B<e.length;B++){const L=e[B];let j,ne,fe;if(!L.parent||_.has(L))continue;if(c[L.name]&&L.parent.name==="li"){let he=L.next;for(;he&&c[he.name];){he.name="li",_.add(he),L.parent.insert(he,L.parent);he=he.next}L.unwrap();continue}const se=[L];for(j=L.parent;j&&!n.isValidChild(j.name,L.name)&&A(j);j=j.parent)se.push(j);if(j&&se.length>1)if(t4(n,L,j))cm(L,n);else{se.reverse(),ne=se[0].clone(),r(ne);let he=ne;for(let He=0;He<se.length-1;He++){n.isValidChild(he.name,se[He].name)&&He>0?(fe=se[He].clone(),r(fe),he.append(fe)):fe=he;for(let Ge=se[He].firstChild;Ge&&Ge!==se[He+1];){const nt=Ge.next;fe.append(Ge),Ge=nt}he=fe}yc(n,u,m,ne)?j.insert(L,se[0],!0):(j.insert(ne,se[0],!0),j.insert(L,ne)),j=se[0],(yc(n,u,m,j)||oy(j,"br"))&&j.empty().remove()}else if(L.parent){if(L.name==="li"){let he=L.prev;if(he&&(he.name==="ul"||he.name==="ol")){he.append(L);continue}if(he=L.next,he&&(he.name==="ul"||he.name==="ol")&&he.firstChild){he.insert(L,he.firstChild,!0);continue}const He=new kl("ul",1);r(He),L.wrap(He);continue}if(n.isValidChild(L.parent.name,"div")&&n.isValidChild("div",L.name)){const he=new kl("div",1);r(he),L.wrap(he)}else cm(L,n)}}},_K=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},t4=(e,n,o=n.parent)=>o?e.children[n.name]&&!e.isValidChild(o.name,n.name)||n.name==="a"&&_K(o,"a")?!0:kM(o)&&zp(n)?!((o==null?void 0:o.firstChild)===n&&(o==null?void 0:o.lastChild)===n):!1:!1,g6=(e,n,o,r)=>{const c=document.createRange();return c.setStart(e,n),c.setEnd(o,r),c},Xr=e=>{const n=Ft.fromRangeStart(e),o=Ft.fromRangeEnd(e),r=e.commonAncestorContainer;return Ml(!1,r,o).map(c=>!Sd(n,o,r)&&Sd(n,c,r)?g6(n.container(),n.offset(),c.container(),c.offset()):e).getOr(e)},K2=e=>e.collapsed?e:Xr(e),$k=e=>at(e.firstChild)&&e.firstChild===e.lastChild,Fk=e=>e.name==="br"||e.value===ja,Ik=(e,n)=>e.getBlockElements()[n.name]&&$k(n)&&Fk(n.firstChild),Lk=(e,n)=>{const o=e.getNonEmptyElements();return at(n)&&(n.isEmpty(o)||Ik(e,n))},SM=(e,n)=>{let o=n.firstChild,r=n.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),Lk(e,r)&&(r=r==null?void 0:r.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},CK=e=>{var n,o;const r=e.firstChild,c=e.lastChild;return r&&r.nodeName==="META"&&((n=r.parentNode)===null||n===void 0||n.removeChild(r)),c&&c.id==="mce_marker"&&((o=c.parentNode)===null||o===void 0||o.removeChild(c)),e},SK=(e,n,o)=>{const r=n.serialize(o),c=e.createFragment(r);return CK(c)},xK=e=>{var n;return Oe((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},EK=e=>e.data===ja||Hs(e),p6=e=>at(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&EK(e.firstChild),TK=e=>!e.firstChild||p6(e),h6=e=>e.length>0&&TK(e[e.length-1])?e.slice(0,-1):e,n4=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},AK=(e,n)=>!!n4(e,n),y6=(e,n)=>{const o=n.cloneRange(),r=n.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},Ea=(e,n)=>{const o=Ft.before(e),c=Jc(n).next(o);return c?c.toRange():null},o4=(e,n)=>{const o=Ft.after(e),c=Jc(n).prev(o);return c?c.toRange():null},xM=(e,n,o,r)=>{const c=y6(e,r),u=e.parentNode;return u&&(u.insertBefore(c[0],e),nn.each(n,m=>{u.insertBefore(m,e)}),u.insertBefore(c[1],e),u.removeChild(e)),o4(n[n.length-1],o)},b6=(e,n,o)=>{const r=e.parentNode;return r&&nn.each(n,c=>{r.insertBefore(c,e)}),Ea(e,o)},v6=(e,n,o,r)=>(r.insertAfter(n.reverse(),e),o4(n[0],o)),w6=(e,n,o,r)=>{const c=SK(n,e,r),u=n4(n,o.startContainer),m=h6(xK(c.firstChild)),b=1,_=2,A=n.getRoot(),B=L=>{const j=Ft.fromRangeStart(o),ne=Jc(n.getRoot()),fe=L===b?ne.prev(j):ne.next(j),se=fe==null?void 0:fe.getNode();return se?n4(n,se)!==u:!0};return u?B(b)?b6(u,m,A):B(_)?v6(u,m,A,n):xM(u,m,A,o):null},mu=["pre"],_f=(e,n,o,r)=>{var c;const u=n.firstChild,m=n.lastChild,b=m.attr("data-mce-type")==="bookmark"?m.prev:m,_=u===b,A=re(mu,u.name);if(_&&A){const B=u.attr("contenteditable")!=="false",L=((c=e.getParent(o,e.isBlock))===null||c===void 0?void 0:c.nodeName.toLowerCase())===u.name,j=U.from(kf(r,o)).forall(Xt);return B&&L&&j}else return!1},Y2=$g,s4=(e,n,o)=>{if(at(o)){const r=e.getParent(n.endContainer,Y2);return o===r&&fk(Ne.fromDom(o),n)}else return!1},r4=(e,n,o)=>{var r;if(o.getAttribute("data-mce-bogus")==="all")(r=o.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(n),o);else{const c=o.firstChild,u=o.lastChild;!c||c===u&&c.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},X2=(e,n,o)=>{U.from(e.getParent(n,"td,th")).map(Ne.fromDom).each(r=>HT(r,o))},EM=(e,n)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(n){const c=e.getBody(),u=ty(e),m="*[data-mce-fragment]",b=r.select(m);nn.each(b,_=>{const A=j=>at(o[j.nodeName.toLowerCase()]),B=j=>j.childNodes.length===1;if((j=>!(RN(r,j)||R8(r,j)))(_)&&A(_)&&B(_)){const j=Yv(r,_),ne=(He,Ge)=>an(He,nt=>re(Ge,nt)),fe=He=>B(_)&&r.is(He,m)&&A(He)&&(He.nodeName===_.nodeName&&ne(j,Yv(r,He))||fe(He.children[0])),se=He=>at(He)&&He!==c&&(u.compare(_,He)||se(He.parentElement)),he=He=>at(He)&&He!==c&&r.is(He,m)&&(N8(r,_,He)||he(He.parentElement));(fe(_.children[0])||se(_.parentElement)&&!he(_.parentElement))&&r.remove(_,!0)}})}},Hk=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},J2=e=>{nn.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},a4=e=>!!e.getAttribute("data-mce-fragment"),TM=(e,n)=>at(n)&&!e.schema.getVoidElements()[n.nodeName],Vk=(e,n)=>{var o,r,c;let u;const m=e.dom,b=e.selection;if(!n)return;b.scrollIntoView(n);const _=kf(e.getBody(),n);if(_&&m.getContentEditable(_)==="false"){m.remove(n),b.select(_);return}let A=m.createRng();const B=n.previousSibling;if(dn(B)){A.setStart(B,(r=(o=B.nodeValue)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0);const ne=n.nextSibling;dn(ne)&&(B.appendData(ne.data),(c=ne.parentNode)===null||c===void 0||c.removeChild(ne))}else A.setStartBefore(n),A.setEndBefore(n);const L=ne=>{let fe=Ft.fromRangeStart(ne);return fe=Jc(e.getBody()).next(fe),fe==null?void 0:fe.toRange()},j=m.getParent(n,m.isBlock);if(m.remove(n),j&&m.isEmpty(j)){const ne=Y2(j);tf(Ne.fromDom(j)),A.setStart(j,0),A.setEnd(j,0),!ne&&!a4(j)&&(u=L(A))?(A=u,m.remove(j)):m.add(j,m.create("br",ne?{}:{"data-mce-bogus":"1"}))}b.setRng(A)},k6=e=>{const n=e.dom,o=K2(e.selection.getRng());e.selection.setRng(o);const r=n.getParent(o.startContainer,Y2);s4(n,o,r)?V2(e,o,Ne.fromDom(r)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&dn(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},_6=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return U.some(n);return U.none()},im=(e,n,o)=>{var r;return de(o.children(),zp)&&((r=e.getParent(n,e.isBlock))===null||r===void 0?void 0:r.nodeName)==="SUMMARY"},gu=(e,n,o)=>{var r,c;const u=e.selection,m=e.dom,b=e.parser,_=o.merge,A=Kh({validate:!0},e.schema),B='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(n=ou(n)),n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,B);let L=u.getRng();const j=L.startContainer,ne=e.getBody();j===ne&&u.isCollapsed()&&m.isBlock(ne.firstChild)&&TM(e,ne.firstChild)&&m.isEmpty(ne.firstChild)&&(L=m.createRng(),L.setStart(ne.firstChild,0),L.setEnd(ne.firstChild,0),u.setRng(L)),u.isCollapsed()||k6(e);const fe=u.getNode(),se={context:fe.nodeName.toLowerCase(),data:o.data,insert:!0},he=b.parse(n,se);if(o.paste===!0&&SM(e.schema,he)&&AK(m,fe))return L=w6(A,m,u.getRng(),he),L&&u.setRng(L),n;o.paste===!0&&_f(m,he,fe,e.getBody())&&((r=he.firstChild)===null||r===void 0||r.unwrap()),Hk(he);let He=he.lastChild;if(He&&He.attr("id")==="mce_marker"){const Ge=He;for(He=He.prev;He&&He.name!=="table";He=He.walk(!0))if(He.type===3||!m.isBlock(He.name)){He.parent&&e.schema.isValidChild(He.parent.name,"span")&&He.parent.insert(Ge,He,He.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(fe),!se.invalid&&!im(m,fe,he))n=A.serialize(he),r4(e,n,fe);else{e.selection.setContent(B);let Ge=u.getNode(),nt;const mt=e.getBody();for(Nm(Ge)?Ge=nt=mt:nt=Ge;nt&&nt!==mt;)Ge=nt,nt=nt.parentNode;n=Ge===mt?mt.innerHTML:m.getOuterHTML(Ge);const en=b.parse(n),yn=_6(en),Zn=yn.bind(m6).getOr(en);yn.each(qn=>qn.replace(he));const Wt=he.children(),At=(c=he.parent)!==null&&c!==void 0?c:en;he.unwrap();const sn=Oe(Wt,qn=>t4(e.schema,qn,At));Zs(sn,e.schema,Zn),QO(b.getNodeFilters(),b.getAttributeFilters(),en),n=A.serialize(en),Ge===mt?m.setHTML(mt,n):m.setOuterHTML(Ge,n)}return EM(e,_),Vk(e,m.get("mce_marker")),J2(e.getBody()),X2(m,u.getStart(),e.schema),Si(e.schema,e.getBody(),u.getStart()),n},sy=e=>e instanceof kl,Dd=e=>{Kv(e)&&Oi(e.getBody()).each(n=>{const o=n.getNode(),r=Ql(o)?Oi(o).getOr(n):n;e.selection.setRng(r.toRange())})},c4=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&Dd(e)},Br=(e,n,o,r)=>{if(o=ou(o),o.length===0||/^\s+$/.test(o)){const c='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+c+"</li>");const u=Xc(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),u.toLowerCase())?(o=c,o=e.dom.createHTML(u,Xm(e),o)):o||(o=c),c4(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=Kh({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const c=U1(Ne.fromDom(n))?o:nn.trim(o);return c4(e,c,r.no_selection),{content:c,html:c}}},C6=(e,n,o,r)=>{QO(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const c=Kh({validate:!1},e.schema).serialize(o),u=ou(U1(Ne.fromDom(n))?c:nn.trim(c));return c4(e,u,r.no_selection),{content:o,html:u}},Fb=(e,n,o)=>U.from(e.getBody()).map(r=>sy(n)?C6(e,r,n,o):Br(e,r,n,o)).getOr({content:n,html:sy(o.content)?"":o.content}),e0=e=>ke(e)?e:Pe,AM=(e,n,o)=>{let r=e.dom;const c=e0(o);for(;r.parentNode;){r=r.parentNode;const u=Ne.fromDom(r),m=n(u);if(m.isSome())return m;if(c(u))break}return U.none()},Uk=(e,n,o)=>{const r=n(e),c=e0(o);return r.orThunk(()=>c(e)?U.none():AM(e,n,c))},jk=Av,OM=(e,n,o)=>{const r=e.formatter.get(o);if(r)for(let c=0;c<r.length;c++){const u=r[c];if(lu(u)&&u.inherit===!1&&e.dom.is(n,u.selector))return!0}return!1},Wk=(e,n,o,r,c)=>{const u=e.dom.getRoot();if(n===u)return!1;const m=e.dom.getParent(n,b=>OM(e,b,o)?!0:b.parentNode===u||!!lm(e,b,o,r,!0));return!!lm(e,m,o,r,c)},Q2=(e,n,o)=>Tc(o)&&jk(n,o.inline)||vf(o)&&jk(n,o.block)?!0:lu(o)?In(n)&&e.is(n,o.selector):!1,i4=(e,n,o,r,c,u)=>{const m=o[r],b=r==="attributes";if(ke(o.onmatch))return o.onmatch(n,o,r);if(m){if(An(m)){for(let _=0;_<m.length;_++)if(b?e.getAttrib(n,m[_]):gk(e,n,m[_]))return!0}else for(const _ in m)if(ao(m,_)){const A=b?e.getAttrib(n,_):gk(e,n,_),B=_p(m[_],u),L=gn(A)||cs(A);if(L&&gn(B))continue;if(c&&L&&!o.exact||(!c||o.exact)&&!jk(A,ig(B,_)))return!1}}return!0},lm=(e,n,o,r,c)=>{const u=e.formatter.get(o),m=e.dom;if(u&&In(n))for(let b=0;b<u.length;b++){const _=u[b];if(Q2(e.dom,n,_)&&i4(m,n,_,"attributes",c,r)&&i4(m,n,_,"styles",c,r)){const A=_.classes;if(A){for(let B=0;B<A.length;B++)if(!e.dom.hasClass(n,_p(A[B],r)))return}return _}}},Zk=(e,n,o,r,c)=>{if(r)return Wk(e,r,n,o,c);if(r=e.selection.getNode(),Wk(e,r,n,o,c))return!0;const u=e.selection.getStart();return!!(u!==r&&Wk(e,u,n,o,c))},DM=(e,n,o)=>{const r=[],c={},u=e.selection.getStart();return e.dom.getParent(u,m=>{for(let b=0;b<n.length;b++){const _=n[b];!c[_]&&lm(e,m,_,o)&&(c[_]=!0,r.push(_))}},e.dom.getRoot()),r},ex=(e,n)=>{const o=c=>rs(c,Ne.fromDom(e.getBody())),r=(c,u)=>lm(e,c.dom,u)?U.some(u):U.none();return U.from(e.selection.getStart(!0)).bind(c=>Uk(Ne.fromDom(c),u=>es(n,m=>r(u,m)),o)).getOrNull()},S6=(e,n)=>{const o=e.formatter.get(n),r=e.dom;if(o&&e.selection.isEditable()){const c=e.selection.getStart(),u=Cp(r,c);for(let m=o.length-1;m>=0;m--){const b=o[m];if(!lu(b))return!0;for(let _=u.length-1;_>=0;_--)if(r.is(u[_],b.selector))return!0}}return!1},x6=(e,n,o)=>Ie(o,(r,c)=>{const u=s2(e,c);return e.formatter.matchNode(n,c,{},u)?r.concat([c]):r},[]),qk=pc,E6=(e,n)=>e.importNode(n,!0),RM=e=>{if(e){const n=new oc(e,e);for(let o=n.current();o;o=n.next())if(dn(o))return o}return null},tx=e=>{const n=Ne.fromTag("span");return Ca(n,{id:bv,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&$a(n,Ne.fromText(qk)),n},T6=e=>{const n=RM(e);return n&&n.data.charAt(0)===qk&&n.deleteData(0,1),n},l4=(e,n,o)=>{const r=e.dom,c=e.selection;if(c2(n))zb(e,!1,Ne.fromDom(n),o,!0);else{const u=c.getRng(),m=r.getParent(n,r.isBlock),b=u.startContainer,_=u.startOffset,A=u.endContainer,B=u.endOffset,L=T6(n);r.remove(n,!0),b===L&&_>0&&u.setStart(L,_-1),A===L&&B>0&&u.setEnd(L,B-1),m&&r.isEmpty(m)&&mf(Ne.fromDom(m)),c.setRng(u)}},nx=(e,n,o)=>{const r=e.dom,c=e.selection;if(n)l4(e,n,o);else if(n=hp(e.getBody(),c.getStart()),!n)for(;n=r.get(bv);)l4(e,n,o)},A6=(e,n,o)=>{var r,c;const u=e.dom,m=u.getParent(o,Te(wb,e.schema));m&&u.isEmpty(m)?(r=o.parentNode)===null||r===void 0||r.replaceChild(n,o):(uw(Ne.fromDom(o)),u.isEmpty(o)?(c=o.parentNode)===null||c===void 0||c.replaceChild(n,o):u.insertAfter(n,o))},u4=(e,n)=>(e.appendChild(n),n),t0=(e,n)=>{var o;const r=Tt(e,(u,m)=>u4(u,m.cloneNode(!1)),n),c=(o=r.ownerDocument)!==null&&o!==void 0?o:document;return u4(r,c.createTextNode(qk))},O6=(e,n,o,r,c,u)=>{const m=e.formatter,b=e.dom,_=Oe(_o(m.get()),L=>L!==r&&!io(L,"removeformat")),A=x6(e,o,_);if(Oe(A,L=>!r2(e,L,r)).length>0){const L=o.cloneNode(!1);return b.add(n,L),m.remove(r,c,L,u),b.remove(L),U.some(L)}else return U.none()},zM=e=>kh(e,wh(e).replace(new RegExp(`${ja}$`)," ")),d4=(e,n)=>{const o=()=>{n!==null&&!e.dom.isEmpty(n)&&Yl(Ne.fromDom(n)).each(r=>{tr(r)?zM(r):Og(r,c=>tr(c)).each(c=>{tr(c)&&zM(c)})})};e.once("input",r=>{r.data&&!bp(r.data)&&(r.isComposing?e.once("compositionend",()=>{o()}):o())})},D6=(e,n,o)=>{let r;const c=e.selection,u=e.formatter.get(n);if(!u)return;const m=c.getRng();let b=m.startOffset;const A=m.startContainer.nodeValue;r=hp(e.getBody(),c.getStart());const B=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(A&&b>0&&b<A.length&&B.test(A.charAt(b))&&B.test(A.charAt(b-1))){const L=c.getBookmark();m.collapse(!0);let j=lg(e.dom,m,u);j=so(j),e.formatter.apply(n,o,j),c.moveToBookmark(L)}else{let L=r?RM(r):null;(!r||(L==null?void 0:L.data)!==qk)&&(r=E6(e.getDoc(),tx(!0).dom),L=r.firstChild,m.insertNode(r),b=1,d4(e,r)),e.formatter.apply(n,o,r),c.setCursorLocation(L,b)}},NM=(e,n,o,r)=>{const c=e.dom,u=e.selection;let m=!1;const b=e.formatter.get(n);if(!b)return;const _=u.getRng(),A=_.startContainer,B=_.startOffset;let L=A;dn(A)&&(B!==A.data.length&&(m=!0),L=L.parentNode);const j=[];let ne;for(;L;){if(lm(e,L,n,o,r)){ne=L;break}L.nextSibling&&(m=!0),j.push(L),L=L.parentNode}if(ne)if(m){const fe=u.getBookmark();_.collapse(!0);let se=lg(c,_,b,!0);se=so(se),e.formatter.remove(n,o,se,r),u.moveToBookmark(fe)}else{const fe=hp(e.getBody(),ne),se=at(fe)?c.getParents(ne.parentNode,gt,fe):[],he=tx(!1).dom;A6(e,he,fe!=null?fe:ne);const He=O6(e,he,ne,n,o,r),Ge=t0([...j,...He.toArray(),...se],he);fe&&l4(e,fe,at(fe)),u.setCursorLocation(Ge,1),d4(e,he),c.isEmpty(ne)&&c.remove(ne)}},Rd=(e,n,o)=>{const r=e.selection,c=e.getBody();nx(e,null,o),(n===8||n===46)&&r.isCollapsed()&&r.getStart().innerHTML===qk&&nx(e,hp(c,r.getStart()),!0),(n===37||n===39)&&nx(e,hp(c,r.getStart()),!0)},R6=e=>dn(e)&&ds(e.data,ja),MM=e=>{e.on("mouseup keydown",n=>{Rd(e,n.keyCode,R6(e.selection.getRng().endContainer))})},ox=e=>{const n=tx(!1),o=t0(e,n.dom);return{caretContainer:n,caretPosition:Ft(o,0)}},sx=(e,n)=>{const{caretContainer:o,caretPosition:r}=ox(n);return dr(Ne.fromDom(e),o),nr(Ne.fromDom(e)),r},PM=(e,n)=>{const{caretContainer:o,caretPosition:r}=ox(n);return e.insertNode(o.dom),r},f4=(e,n)=>{if(Bl(n.dom))return!1;const o=e.schema.getTextInlineElements();return ao(o,me(n))&&!Bl(n.dom)&&!md(n.dom)},Gk={},BM=Dl(["pre"]),$M=(e,n)=>{Gk[e]||(Gk[e]=[]),Gk[e].push(n)},FM=(e,n)=>{ao(Gk,e)&&G(Gk[e],o=>{o(n)})};$M("pre",e=>{const n=e.selection.getRng(),o=c=>u=>{const m=u.previousSibling;return BM(m)&&re(c,m)},r=(c,u)=>{const m=Ne.fromDom(u),b=xu(m).dom;nr(m),Du(Ne.fromDom(c),[Ne.fromTag("br",b),Ne.fromTag("br",b),...Ua(m)])};if(!n.collapsed){const c=e.selection.getSelectedBlocks(),u=Oe(Oe(c,BM),o(c));G(u,m=>{r(m.previousSibling,m)})}});const Wu=["fontWeight","fontStyle","color","fontSize","fontFamily"],z6=e=>vt(e.styles)&&de(_o(e.styles),n=>re(Wu,n)),N6=e=>Lt(e,n=>Tc(n)&&n.inline==="span"&&z6(n)),M6=(e,n)=>{const o=e.get(n);return Nt(o)?N6(o):U.none()},rx=(e,n)=>bl(n,Ft.fromRangeStart(e)).isNone(),IM=(e,n)=>Ai(n,Ft.fromRangeEnd(e)).exists(o=>!Hs(o.getNode())||Ai(n,o).isSome())===!1,P6=e=>n=>fl(n)&&e.isEditable(n),B6=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return rx(o,n[0])&&IM(o,n[0])?n:[];{const r=Ln(n).filter(m=>rx(o,m)).toArray(),c=Wo(n).filter(m=>IM(o,m)).toArray(),u=n.slice(1,-1);return r.concat(u).concat(c)}},m4=e=>Oe(B6(e),P6(e.dom)),Cf=e=>Oe(e.getSelectedBlocks(),P6(e.dom)),Kk=nn.each,n0=e=>In(e)&&!vl(e)&&!Bl(e)&&!md(e),ax=(e,n)=>{for(let o=e;o;o=o[n]){if(dn(o)&&vo(o.data))return e;if(In(o)&&!vl(o))return o}return e},LM=(e,n,o)=>{const r=ty(e),c=Ol(n)&&e.dom.isEditable(n),u=Ol(o)&&e.dom.isEditable(o);if(c&&u){const m=ax(n,"previousSibling"),b=ax(o,"nextSibling");if(r.compare(m,b)){for(let _=m.nextSibling;_&&_!==b;){const A=_;_=_.nextSibling,m.appendChild(A)}return e.dom.remove(b),nn.each(nn.grep(b.childNodes),_=>{m.appendChild(_)}),m}}return o},g4=(e,n,o,r)=>{var c;if(r&&n.merge_siblings!==!1){const u=(c=LM(e,mk(r),r))!==null&&c!==void 0?c:r;LM(e,u,mk(u,!0))}},$6=(e,n,o)=>{if(n.clear_child_styles){const r=n.links?"*:not(a)":"*";Kk(e.select(r,o),c=>{n0(c)&&e.isEditable(c)&&Kk(n.styles,(u,m)=>{e.setStyle(c,m,"")})})}},cx=(e,n,o)=>{Kk(e.childNodes,r=>{n0(r)&&(n(r)&&o(r),r.hasChildNodes()&&cx(r,n,o))})},p4=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},HM=(e,n)=>o=>!!(o&&gk(e,o,n)),h4=(e,n,o)=>r=>{e.setStyle(r,n,o),r.getAttribute("style")===""&&r.removeAttribute("style"),p4(e,r)},Ib=au.generate([{keep:[]},{rename:["name"]},{removed:[]}]),Lb=/^(src|href|style)$/,ix=nn.each,lx=Av,VM=e=>/^(TR|TH|TD)$/.test(e.nodeName),UM=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),jM=(e,n,o)=>{let r=n[o?"startContainer":"endContainer"],c=n[o?"startOffset":"endOffset"];if(In(r)){const u=r.childNodes.length-1;!o&&c&&c--,r=r.childNodes[c>u?u:c]}return dn(r)&&o&&c>=r.data.length&&(r=new oc(r,e.getBody()).next()||r),dn(r)&&!o&&c===0&&(r=new oc(r,e.getBody()).prev()||r),r},WM=(e,n)=>{const o=n?"firstChild":"lastChild",r=e[o];return VM(e)&&r?e.nodeName==="TR"&&r[o]||r:e},y4=(e,n,o,r)=>{var c;const u=e.create(o,r);return(c=n.parentNode)===null||c===void 0||c.insertBefore(u,n),u.appendChild(n),u},ZM=(e,n,o,r,c)=>{const u=Ne.fromDom(n),m=Ne.fromDom(e.create(r,c)),b=o?Yd(u):Kp(u);return Du(m,b),o?(dr(u,m),fd(m,u)):(el(u,m),$a(m,u)),m.dom},qM=(e,n)=>n.links&&e.nodeName==="A",GM=(e,n,o)=>{const r=n.parentNode;let c;const u=e.dom,m=Xc(e);vf(o)&&r===u.getRoot()&&(!o.list_block||!lx(n,o.list_block))&&G(_s(n.childNodes),b=>{kp(e,m,b.nodeName.toLowerCase())?c?c.appendChild(b):(c=y4(u,b,m),u.setAttribs(c,Xm(e))):c=null}),!($A(o)&&!lx(o.inline,n))&&u.remove(n,!0)},ux=(e,n,o)=>bo(e)?{name:n,value:null}:{name:e,value:_p(n,o)},ry=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},KM=(e,n,o,r,c)=>{let u=!1;ix(o.styles,(m,b)=>{const{name:_,value:A}=ux(b,m,r),B=ig(A,_);(o.remove_similar||J(A)||!In(c)||lx(gk(e,c,_),B))&&e.setStyle(n,_,""),u=!0}),u&&ry(e,n)},F6=(e,n,o)=>{n==="removeformat"?G(Cf(e.selection),r=>{G(Wu,c=>e.dom.setStyle(r,c,"")),ry(e.dom,r)}):M6(e.formatter,n).each(r=>{G(Cf(e.selection),c=>KM(e.dom,c,r,o,null))})},Yk=(e,n,o,r,c)=>{const u=e.dom,m=ty(e),b=e.schema;if(Tc(n)&&Sc(b,n.inline)&&gd(b,r)&&r.parentElement===e.getBody())return GM(e,r,n),Ib.removed();if(!n.ceFalseOverride&&r&&u.getContentEditableParent(r)==="false"||r&&!Q2(u,r,n)&&!qM(r,n))return Ib.keep();const _=r,A=n.preserve_attributes;if(Tc(n)&&n.remove==="all"&&Nt(A)){const B=Oe(u.getAttribs(_),L=>re(A,L.name.toLowerCase()));if(u.removeAllAttribs(_),G(B,L=>u.setAttrib(_,L.name,L.value)),B.length>0)return Ib.rename("span")}if(n.remove!=="all"){KM(u,_,n,o,c),ix(n.attributes,(L,j)=>{const{name:ne,value:fe}=ux(j,L,o);if(n.remove_similar||J(fe)||!In(c)||lx(u.getAttrib(c,ne),fe)){if(ne==="class"){const se=u.getAttrib(_,ne);if(se){let he="";if(G(se.split(/\s+/),He=>{/mce\-\w+/.test(He)&&(he+=(he?" ":"")+He)}),he){u.setAttrib(_,ne,he);return}}}if(Lb.test(ne)&&_.removeAttribute("data-mce-"+ne),ne==="style"&&Dl(["li"])(_)&&u.getStyle(_,"list-style-type")==="none"){_.removeAttribute(ne),u.setStyle(_,"list-style-type","none");return}ne==="class"&&_.removeAttribute("className"),_.removeAttribute(ne)}}),ix(n.classes,L=>{L=_p(L,o),(!In(c)||u.hasClass(c,L))&&u.removeClass(_,L)});const B=u.getAttribs(_);for(let L=0;L<B.length;L++){const j=B[L].nodeName;if(!m.isAttributeInternal(j))return Ib.keep()}}return n.remove!=="none"?(GM(e,_,n),Ib.removed()):Ib.keep()},YM=(e,n,o,r,c)=>{let u;return n.parentNode&&G(Cp(e.dom,n.parentNode).reverse(),m=>{if(!u&&In(m)&&m.id!=="_start"&&m.id!=="_end"){const b=lm(e,m,o,r,c);b&&b.split!==!1&&(u=m)}}),u},XM=(e,n,o,r)=>Yk(e,n,o,r,r).fold(_e(r),c=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,c)),_e(null)),I6=(e,n,o,r,c,u,m,b)=>{var _,A;let B,L;const j=e.dom;if(o){const ne=o.parentNode;for(let fe=r.parentNode;fe&&fe!==ne;fe=fe.parentNode){let se=j.clone(fe,!1);for(let he=0;he<n.length&&(se=XM(e,n[he],b,se),se!==null);he++);se&&(B&&se.appendChild(B),L||(L=se),B=se)}(!m.mixed||!j.isBlock(o))&&(r=(_=j.split(o,r))!==null&&_!==void 0?_:r),B&&L&&((A=c.parentNode)===null||A===void 0||A.insertBefore(B,c),L.appendChild(c),Tc(m)&&g4(e,m,b,B))}return r},JM=(e,n,o,r,c)=>{const u=e.formatter.get(n),m=u[0],b=e.dom,_=e.selection,A=se=>{const he=YM(e,se,n,o,c);return I6(e,u,he,se,se,!0,m,o)},B=se=>vl(se)&&In(se)&&(se.id==="_start"||se.id==="_end"),L=se=>de(u,he=>um(e,he,o,se,se)),j=se=>{const he=_s(se.childNodes),Ge=L(se)||de(u,en=>Q2(b,se,en)),nt=se.parentNode;if(!Ge&&at(nt)&&xd(m)&&L(nt),m.deep&&he.length)for(let en=0;en<he.length;en++)j(he[en]);G(["underline","line-through","overline"],en=>{In(se)&&e.dom.getStyle(se,"text-decoration")===en&&se.parentNode&&pk(b,se.parentNode)===en&&um(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:en}},void 0,se)})},ne=se=>{const he=b.get(se?"_start":"_end");if(he){let He=he[se?"firstChild":"lastChild"];return B(He)&&(He=He[se?"firstChild":"lastChild"]),dn(He)&&He.data.length===0&&(He=se?he.previousSibling||he.nextSibling:he.nextSibling||he.previousSibling),b.remove(he,!0),He}else return null},fe=se=>{let he,He,Ge=lg(b,se,u,se.collapsed);if(m.split){if(Ge=so(Ge),he=jM(e,Ge,!0),He=jM(e,Ge),he!==He){if(he=WM(he,!0),He=WM(He,!1),UM(b,he,He)){const mt=U.from(he.firstChild).getOr(he);A(ZM(b,mt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ne(!0);return}if(UM(b,He,he)){const mt=U.from(He.lastChild).getOr(He);A(ZM(b,mt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ne(!1);return}he=y4(b,he,"span",{id:"_start","data-mce-type":"bookmark"}),He=y4(b,He,"span",{id:"_end","data-mce-type":"bookmark"});const nt=b.createRng();nt.setStartAfter(he),nt.setEndBefore(He),jh(b,nt,mt=>{G(mt,en=>{!vl(en)&&!vl(en.parentNode)&&A(en)})}),A(he),A(He),he=ne(!0),He=ne()}else he=He=A(he);Ge.startContainer=he.parentNode?he.parentNode:he,Ge.startOffset=b.nodeIndex(he),Ge.endContainer=He.parentNode?He.parentNode:He,Ge.endOffset=b.nodeIndex(He)+1}jh(b,Ge,nt=>{G(nt,j)})};if(r){if(wp(r)){const se=b.createRng();se.setStartBefore(r),se.setEndAfter(r),fe(se)}else fe(r);Sb(e,n,r,o);return}!_.isCollapsed()||!Tc(m)||Lh(e).length?(cg(e,()=>Hh(e,fe),se=>Tc(m)&&Zk(e,n,o,se)),e.nodeChanged()):NM(e,n,o,c),F6(e,n,o),Sb(e,n,r,o)},QM=(e,n,o,r,c)=>{(r||e.selection.isEditable())&&JM(e,n,o,r,c)},um=(e,n,o,r,c)=>Yk(e,n,o,r,c).fold(Pe,u=>(e.dom.rename(r,u),!0),gt),b4=nn.each,eP=(e,n,o,r)=>{const c=u=>{if(Ol(u)&&In(u.parentNode)&&e.isEditable(u)){const m=pk(e,u.parentNode);e.getStyle(u,"color")&&m?e.setStyle(u,"text-decoration",m):e.getStyle(u,"text-decoration")===m&&e.setStyle(u,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(nn.walk(r,c,"childNodes"),c(r))},tP=(e,n,o,r)=>{if(n.styles&&n.styles.backgroundColor){const c=HM(e,"fontSize");cx(r,u=>c(u)&&e.isEditable(u),h4(e,"backgroundColor",_p(n.styles.backgroundColor,o)))}},dx=(e,n,o,r)=>{if(Tc(n)&&(n.inline==="sub"||n.inline==="sup")){const c=HM(e,"fontSize");cx(r,m=>c(m)&&e.isEditable(m),h4(e,"fontSize",""));const u=Oe(e.select(n.inline==="sup"?"sub":"sup",r),e.isEditable);e.remove(u,!0)}},nP=(e,n,o,r)=>{b4(n,c=>{Tc(c)&&b4(e.dom.select(c.inline,r),u=>{n0(u)&&um(e,c,o,u,c.exact?u:null)}),$6(e.dom,c,r)})},L6=(e,n,o,r,c)=>{const u=c.parentNode;lm(e,u,o,r)&&um(e,n,r,c)||n.merge_with_parents&&u&&e.dom.getParent(u,m=>lm(e,m,o,r)?(um(e,n,r,c),!0):!1)},Xk=nn.each,H6=(e,n,o,r)=>{if(hS(e)&&Tc(n)&&o.parentNode){const c=K0(e.schema),u=E1(Ne.fromDom(o),m=>Bl(m.dom));return Ps(c,r)&&rc(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!u}else return!1},oP=(e,n,o,r)=>{if(Xk(o.styles,(c,u)=>{e.setStyle(n,u,_p(c,r))}),o.styles){const c=e.getAttrib(n,"style");c&&e.setAttrib(n,"data-mce-style",c)}},fx=(e,n,o,r)=>{const c=e.formatter.get(n),u=c[0],m=!r&&e.selection.isCollapsed(),b=e.dom,_=e.selection,A=(fe,se=u)=>{ke(se.onformat)&&se.onformat(fe,se,o,r),oP(b,fe,se,o),Xk(se.attributes,(he,He)=>{b.setAttrib(fe,He,_p(he,o))}),Xk(se.classes,he=>{const He=_p(he,o);b.hasClass(fe,He)||b.addClass(fe,He)})},B=(fe,se)=>{let he=!1;return Xk(fe,He=>lu(He)?b.getContentEditable(se)==="false"&&!He.ceFalseOverride||at(He.collapsed)&&He.collapsed!==m?!0:b.is(se,He.selector)&&!Bl(se)?(A(se,He),he=!0,!1):!0:!1),he},L=fe=>{if(ae(fe)){const se=b.create(fe);return A(se),se}else return null},j=(fe,se,he)=>{const He=[];let Ge=!0;const nt=u.inline||u.block,mt=L(nt),en=Wt=>a2(u)&&lm(e,Wt,n,o),yn=(Wt,At,sn)=>{const qn=Ov(u)&&wb(e.schema,Wt)&&kp(e,At,nt);return sn&&qn},Zn=(Wt,At,sn,qn)=>{const yo=Wt.nodeName.toLowerCase(),gs=kp(e,nt,yo)&&kp(e,At,nt),ps=!he&&dn(Wt)&&jy(Wt.data),Ks=Bl(Wt),lr=!Tc(u)||!fe.isBlock(Wt);return(sn||qn)&&gs&&!ps&&!Ks&&lr};jh(fe,se,Wt=>{let At;const sn=qn=>{let yo=!1,gs=Ge,ps=!1;const Ks=qn.parentNode,lr=Ks.nodeName.toLowerCase(),Pa=fe.getContentEditable(qn);at(Pa)&&(gs=Ge,Ge=Pa==="true",yo=!0,ps=BA(e,qn));const gi=Ge&&!yo;if(Hs(qn)&&!H6(e,u,qn,lr)){At=null,vf(u)&&fe.remove(qn);return}if(en(qn)){At=null;return}if(yn(qn,lr,gi)){const Ha=fe.rename(qn,nt);A(Ha),He.push(Ha),At=null;return}if(lu(u)){let Ha=B(c,qn);if(!Ha&&at(Ks)&&xd(u)&&(Ha=B(c,Ks)),!Tc(u)||Ha){At=null;return}}at(mt)&&Zn(qn,lr,gi,ps)?(At||(At=fe.clone(mt,!1),Ks.insertBefore(At,qn),He.push(At)),ps&&yo&&(Ge=gs),At.appendChild(qn)):(At=null,G(_s(qn.childNodes),sn),yo&&(Ge=gs),At=null)};G(Wt,sn)}),u.links===!0&&G(He,Wt=>{const At=sn=>{sn.nodeName==="A"&&A(sn,u),G(_s(sn.childNodes),At)};At(Wt)}),G(He,Wt=>{const At=yo=>{let gs=0;return G(yo.childNodes,ps=>{!Tv(ps)&&!vl(ps)&&gs++}),gs},sn=yo=>Lt(yo.childNodes,Ns).filter(ps=>fe.getContentEditable(ps)!=="false"&&Q2(fe,ps,u)).map(ps=>{const Ks=fe.clone(ps,!1);return A(Ks),fe.replace(Ks,yo,!0),fe.remove(ps,!0),Ks}).getOr(yo),qn=At(Wt);if((He.length>1||!fe.isBlock(Wt))&&qn===0){fe.remove(Wt,!0);return}(Tc(u)||vf(u)&&u.wrapper)&&(!u.exact&&qn===1&&(Wt=sn(Wt)),nP(e,c,o,Wt),L6(e,u,n,o,Wt),tP(fe,u,o,Wt),eP(fe,u,o,Wt),dx(fe,u,o,Wt),g4(e,u,o,Wt))})},ne=wp(r)?r:_.getNode();if(b.getContentEditable(ne)==="false"&&!BA(e,ne)){r=ne,B(c,r),Fl(e,n,r,o);return}if(u){if(r)if(wp(r)){if(!B(c,r)){const fe=b.createRng();fe.setStartBefore(r),fe.setEndAfter(r),j(b,lg(b,fe,c),!0)}}else j(b,r,!0);else!m||!Tc(u)||Lh(e).length?(_.setRng(K2(_.getRng())),cg(e,()=>{Hh(e,(fe,se)=>{const he=se?fe:lg(b,fe,c);j(b,he,!1)})},gt),e.nodeChanged()):D6(e,n,o),M6(e.formatter,n).each(fe=>{G(m4(e.selection),se=>oP(b,se,fe,o))});FM(n,e)}Fl(e,n,r,o)},v4=(e,n,o,r)=>{(r||e.selection.isEditable())&&fx(e,n,o,r)},mx=e=>ao(e,"vars"),V6=(e,n)=>{e.set({}),n.on("NodeChange",o=>{k4(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const r=U.from(o.node).map(c=>wp(c)?c:c.startContainer).bind(c=>In(c)?U.some(c):U.from(c.parentElement)).getOrThunk(()=>sP(n));k4(n,r,e.get())})},sP=e=>e.selection.getStart(),w4=(e,n,o,r,c)=>ut(n,b=>{const _=e.formatter.matchNode(b,o,c!=null?c:{},r);return!Tn(_)},b=>OM(e,b,o)?!0:r?!1:at(e.formatter.matchNode(b,o,c,!0))),gx=(e,n)=>{const o=n!=null?n:sP(e);return Oe(Cp(e.dom,o),r=>In(r)&&!md(r))},k4=(e,n,o)=>{const r=gx(e,n);on(o,(c,u)=>{const m=b=>{const _=w4(e,r,u,b.similar,mx(b)?b.vars:void 0),A=_.isSome();if(b.state.get()!==A){b.state.set(A);const B=_.getOr(n);mx(b)?b.callback(A,{node:B,format:u,parents:r}):G(b.callbacks,L=>L(A,{node:B,format:u,parents:r}))}};G([c.withSimilar,c.withoutSimilar],m),G(c.withVars,m)})},U6=(e,n,o,r,c,u)=>{const m=n.get();G(o.split(","),b=>{const _=ys(m,b).getOrThunk(()=>{const B={withSimilar:{state:fr(!1),similar:!0,callbacks:[]},withoutSimilar:{state:fr(!1),similar:!1,callbacks:[]},withVars:[]};return m[b]=B,B}),A=()=>{const B=gx(e);return w4(e,B,b,c,u).isSome()};if(Tn(u)){const B=c?_.withSimilar:_.withoutSimilar;B.callbacks.push(r),B.callbacks.length===1&&B.state.set(A())}else _.withVars.push({state:fr(A()),similar:c,vars:u,callback:r})}),n.set(m)},j6=(e,n,o)=>{const r=e.get();G(n.split(","),c=>ys(r,c).each(u=>{r[c]={withSimilar:Pt(ie({},u.withSimilar),{callbacks:Oe(u.withSimilar.callbacks,m=>m!==o)}),withoutSimilar:Pt(ie({},u.withoutSimilar),{callbacks:Oe(u.withoutSimilar.callbacks,m=>m!==o)}),withVars:Oe(u.withVars,m=>m.callback!==o)}})),e.set(r)},W6=(e,n,o,r,c,u)=>(U6(e,n,o,r,c,u),{unbind:()=>j6(n,o,r)}),px=(e,n,o,r)=>{const c=e.formatter.get(n);c&&(Zk(e,n,o,r)&&(!("toggle"in c[0])||c[0].toggle)?QM(e,n,o,r):v4(e,n,o,r))},gg=nn.explode,rP=()=>{const e={};return{addFilter:(c,u)=>{G(gg(c),m=>{ao(e,m)||(e[m]={name:m,callbacks:[]}),e[m].callbacks.push(u)})},getFilters:()=>Zr(e),removeFilter:(c,u)=>{G(gg(c),m=>{if(ao(e,m))if(at(u)){const b=e[m],_=Oe(b.callbacks,A=>A!==u);_.length>0?b.callbacks=_:delete e[m]}else delete e[m]})}}},_4=(e,n)=>{G(n,o=>{e.attr(o,null)})},Ya=(e,n,o)=>{e.addNodeFilter("font",r=>{G(r,c=>{const u=n.parse(c.attr("style")),m=c.attr("color"),b=c.attr("face"),_=c.attr("size");m&&(u.color=m),b&&(u["font-family"]=b),_&&aa(_).each(A=>{u["font-size"]=o[A-1]}),c.name="span",c.attr("style",n.serialize(u)),_4(c,["color","face","size"])})})},C4=(e,n,o)=>{e.addNodeFilter("strike",r=>{const c=n.type!=="html4";G(r,u=>{if(c)u.name="s";else{const m=o.parse(u.attr("style"));m["text-decoration"]="line-through",u.name="span",u.attr("style",o.serialize(m))}})})},S4=(e,n,o)=>{var r;const c=Lm();n.convert_fonts_to_spans&&Ya(e,c,nn.explode((r=n.font_size_legacy_values)!==null&&r!==void 0?r:"")),C4(e,o,c)},Np=(e,n,o)=>{n.inline_styles&&S4(e,n,o)},aP=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),cP=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},Hb=e=>{const[n,...o]=e.split(","),r=o.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(c){const u=c[2]===";base64",m=u?cP(r):decodeURIComponent(r);return U.some({type:c[1],data:m,base64Encoded:u})}else return U.none()},iP=(e,n,o=!0)=>{let r=n;if(o)try{r=atob(n)}catch(u){return U.none()}const c=new Uint8Array(r.length);for(let u=0;u<c.length;u++)c[u]=r.charCodeAt(u);return U.some(new Blob([c],{type:e}))},Z6=e=>new Promise((n,o)=>{Hb(e).bind(({type:r,data:c,base64Encoded:u})=>iP(r,c,u)).fold(()=>o("Invalid data URI"),n)}),o0=e=>Co(e,"blob:")?aP(e):Co(e,"data:")?Z6(e):Promise.reject("Unknown URI format"),lP=e=>new Promise((n,o)=>{const r=new FileReader;r.onloadend=()=>{n(r.result)},r.onerror=()=>{var c;o((c=r.error)===null||c===void 0?void 0:c.message)},r.readAsDataURL(e)});let Vb=0;const q6=e=>"blobid"+Vb++,Mp=(e,n,o)=>Hb(e).bind(({data:r,type:c,base64Encoded:u})=>{if(n&&!u)return U.none();{const m=u?r:btoa(r);return o(m,c)}}),uP=(e,n,o)=>{const r=e.create(q6(),n,o);return e.add(r),r},Zu=(e,n,o=!1)=>Mp(n,o,(r,c)=>U.from(e.getByData(r,c)).orThunk(()=>iP(c,r).map(u=>uP(e,u,r)))),Jk=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(Co(n,"blob:")){const r=e.getByUri(n);return at(r)?Promise.resolve(r):o0(n).then(c=>lP(c).then(u=>Mp(u,!1,m=>U.some(uP(e,c,m))).getOrThunk(o)))}else return Co(n,"data:")?Zu(e,n).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},x4=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,E4=e=>U.from(e.match(x4)).bind(n=>Ho(n,1)).map(n=>Co(n,"www.")?n.substring(4):n),dP=(e,n)=>{U.from(e.attr("src")).bind(E4).forall(o=>!re(n,o))&&e.attr("sandbox","")},s0=(e,n)=>Co(e,`${n}/`),G6=e=>Tn(e)?"iframe":s0(e,"image")?"img":s0(e,"video")?"video":s0(e,"audio")?"audio":"iframe",Sf=({type:e,src:n,width:o,height:r}={},c,u)=>{const m=G6(e),b=new kl(m,1);return b.attr(m==="audio"?{src:n}:{src:n,width:o,height:r}),(m==="audio"||m==="video")&&b.attr("controls",""),m==="iframe"&&c&&dP(b,u),b},hx=e=>at(e.attr("data-mce-bogus")),fP=e=>e.attr("src")===$e.transparentSrc||at(e.attr("data-mce-placeholder")),T4=(e,n)=>{const{blob_cache:o}=n;if(o){const r=c=>{const u=c.attr("src");fP(c)||hx(c)||gn(u)||Zu(o,u,!0).each(m=>{c.attr("src",m.blobUri())})};e.addAttributeFilter("src",c=>G(c,r))}},A4=(e,n)=>{var o,r;const c=e.schema;e.addAttributeFilter("href",_=>{let A=_.length;const B=j=>j.split(" ").filter(fe=>fe.length>0).concat(["noopener"]).sort().join(" "),L=j=>{const ne=j?nn.trim(j):"";return/\b(noopener)\b/g.test(ne)?ne:B(ne)};if(!n.allow_unsafe_link_target)for(;A--;){const j=_[A];j.name==="a"&&j.attr("target")==="_blank"&&j.attr("rel",L(j.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",_=>{let A=_.length,B,L,j,ne;for(;A--;)if(ne=_[A],ne.name==="a"&&ne.firstChild&&!ne.attr("href"))for(j=ne.parent,B=ne.lastChild;B&&j;)L=B.prev,j.insert(B,ne),B=L}),n.fix_list_elements&&e.addNodeFilter("ul,ol",_=>{let A=_.length,B,L;for(;A--;)if(B=_[A],L=B.parent,L&&(L.name==="ul"||L.name==="ol"))if(B.prev&&B.prev.name==="li")B.prev.append(B);else{const j=new kl("li",1);j.attr("style","list-style-type: none"),B.wrap(j)}});const u=c.getValidClasses();n.validate&&u&&e.addAttributeFilter("class",_=>{var A;let B=_.length;for(;B--;){const L=_[B],j=(A=L.attr("class"))!==null&&A!==void 0?A:"",ne=nn.explode(j," ");let fe="";for(let se=0;se<ne.length;se++){const he=ne[se];let He=!1,Ge=u["*"];Ge&&Ge[he]&&(He=!0),Ge=u[L.name],!He&&Ge&&Ge[he]&&(He=!0),He&&(fe&&(fe+=" "),fe+=he)}fe.length||(fe=null),L.attr("class",fe)}}),T4(e,n);const m=(o=n.sandbox_iframes)!==null&&o!==void 0?o:!1,b=Gs((r=n.sandbox_iframes_exclusions)!==null&&r!==void 0?r:[]);n.convert_unsafe_embeds&&e.addNodeFilter("object,embed",_=>G(_,A=>{A.replace(Sf({type:A.attr("type"),src:A.name==="object"?A.attr("data"):A.attr("src"),width:A.attr("width"),height:A.attr("height")},m,b))})),m&&e.addNodeFilter("iframe",_=>G(_,A=>dP(A,b)))};/*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE */const{entries:ay,setPrototypeOf:yx,isFrozen:K6,getPrototypeOf:mP,getOwnPropertyDescriptor:Y6}=Object;let{freeze:pu,seal:xf,create:gP}=Object,{apply:Ub,construct:O4}=typeof Reflect!="undefined"&&Reflect;pu||(pu=function(n){return n}),xf||(xf=function(n){return n}),Ub||(Ub=function(n,o,r){return n.apply(o,r)}),O4||(O4=function(n,o){return new n(...o)});const Qk=zd(Array.prototype.forEach),bx=zd(Array.prototype.pop),e_=zd(Array.prototype.push),t_=zd(String.prototype.toLowerCase),vx=zd(String.prototype.toString),pP=zd(String.prototype.match),n_=zd(String.prototype.replace),X6=zd(String.prototype.indexOf),J6=zd(String.prototype.trim),dm=zd(Object.prototype.hasOwnProperty),hu=zd(RegExp.prototype.test),o_=Q6(TypeError);function zd(e){return function(n){for(var o=arguments.length,r=new Array(o>1?o-1:0),c=1;c<o;c++)r[c-1]=arguments[c];return Ub(e,n,r)}}function Q6(e){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return O4(e,o)}}function $r(e,n){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t_;yx&&yx(e,null);let r=n.length;for(;r--;){let c=n[r];if(typeof c=="string"){const u=o(c);u!==c&&(K6(n)||(n[r]=u),c=u)}e[c]=!0}return e}function e7(e){for(let n=0;n<e.length;n++)dm(e,n)||(e[n]=null);return e}function jb(e){const n=gP(null);for(const[o,r]of ay(e))dm(e,o)&&(Array.isArray(r)?n[o]=e7(r):r&&typeof r=="object"&&r.constructor===Object?n[o]=jb(r):n[o]=r);return n}function s_(e,n){for(;e!==null;){const r=Y6(e,n);if(r){if(r.get)return zd(r.get);if(typeof r.value=="function")return zd(r.value)}e=mP(e)}function o(){return null}return o}const D4=pu(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),R4=pu(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),cy=pu(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),t7=pu(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),z4=pu(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),n7=pu(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),hP=pu(["#text"]),N4=pu(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),M4=pu(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),yP=pu(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),wx=pu(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),o7=xf(/\{\{[\w\W]*|[\w\W]*\}\}/gm),s7=xf(/<%[\w\W]*|[\w\W]*%>/gm),r7=xf(/\${[\w\W]*}/gm),a7=xf(/^data-[\-\w.\u00B7-\uFFFF]/),c7=xf(/^aria-[\-\w]+$/),bP=xf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),i7=xf(/^(?:\w+script|data):/i),P4=xf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),B4=xf(/^html$/i),OK=xf(/^[a-z][.\w]*(-[.\w]+)+$/i);var r0=Object.freeze({__proto__:null,MUSTACHE_EXPR:o7,ERB_EXPR:s7,TMPLIT_EXPR:r7,DATA_ATTR:a7,ARIA_ATTR:c7,IS_ALLOWED_URI:bP,IS_SCRIPT_OR_DATA:i7,ATTR_WHITESPACE:P4,DOCTYPE_NAME:B4,CUSTOM_ELEMENT:OK});const r_={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},DK=function(){return typeof window=="undefined"?null:window},RK=function(n,o){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let r=null;const c="data-tt-policy-suffix";o&&o.hasAttribute(c)&&(r=o.getAttribute(c));const u="dompurify"+(r?"#"+r:"");try{return n.createPolicy(u,{createHTML(m){return m},createScriptURL(m){return m}})}catch(m){return console.warn("TrustedTypes policy "+u+" could not be created."),null}};function l7(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:DK();const n=xs=>l7(xs);if(n.version="3.1.7",n.removed=[],!e||!e.document||e.document.nodeType!==r_.document)return n.isSupported=!1,n;let{document:o}=e;const r=o,c=r.currentScript,{DocumentFragment:u,HTMLTemplateElement:m,Node:b,Element:_,NodeFilter:A,NamedNodeMap:B=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:L,DOMParser:j,trustedTypes:ne}=e,fe=_.prototype,se=s_(fe,"cloneNode"),he=s_(fe,"remove"),He=s_(fe,"nextSibling"),Ge=s_(fe,"childNodes"),nt=s_(fe,"parentNode");if(typeof m=="function"){const xs=o.createElement("template");xs.content&&xs.content.ownerDocument&&(o=xs.content.ownerDocument)}let mt,en="";const{implementation:yn,createNodeIterator:Zn,createDocumentFragment:Wt,getElementsByTagName:At}=o,{importNode:sn}=r;let qn={};n.isSupported=typeof ay=="function"&&typeof nt=="function"&&yn&&yn.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:yo,ERB_EXPR:gs,TMPLIT_EXPR:ps,DATA_ATTR:Ks,ARIA_ATTR:lr,IS_SCRIPT_OR_DATA:Pa,ATTR_WHITESPACE:gi,CUSTOM_ELEMENT:Ha}=r0;let{IS_ALLOWED_URI:On}=r0,go=null;const Us=$r({},[...D4,...R4,...cy,...z4,...hP]);let Hn=null;const zo=$r({},[...N4,...M4,...yP,...wx]);let No=Object.seal(gP(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Nn=null,hs=null,Ss=!0,dc=!0,kr=!1,pi=!0,Ul=!1,wm=!0,Yi=!1,Ju=!1,Vd=!1,Ri=!1,jl=!1,mo=!1,Ms=!0,Ta=!1;const fc="user-content-";let zc=!0,mc=!1,ma={},ka=null;const xl=$r({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ud=null;const km=$r({},["audio","video","img","source","image","track"]);let Df=null;const b1=$r({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Sy="http://www.w3.org/1998/Math/MathML",Hp="http://www.w3.org/2000/svg",vu="http://www.w3.org/1999/xhtml";let Vp=vu,H0=!1,v1=null;const gT=$r({},[Sy,Hp,vu],vx);let w1=null;const gz=["application/xhtml+xml","text/html"],bL="text/html";let zi=null,jd=null;const pT=o.createElement("form"),xt=function(Ot){return Ot instanceof RegExp||Ot instanceof Function},St=function(){let Ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(jd&&jd===Ot)){if((!Ot||typeof Ot!="object")&&(Ot={}),Ot=jb(Ot),w1=gz.indexOf(Ot.PARSER_MEDIA_TYPE)===-1?bL:Ot.PARSER_MEDIA_TYPE,zi=w1==="application/xhtml+xml"?vx:t_,go=dm(Ot,"ALLOWED_TAGS")?$r({},Ot.ALLOWED_TAGS,zi):Us,Hn=dm(Ot,"ALLOWED_ATTR")?$r({},Ot.ALLOWED_ATTR,zi):zo,v1=dm(Ot,"ALLOWED_NAMESPACES")?$r({},Ot.ALLOWED_NAMESPACES,vx):gT,Df=dm(Ot,"ADD_URI_SAFE_ATTR")?$r(jb(b1),Ot.ADD_URI_SAFE_ATTR,zi):b1,Ud=dm(Ot,"ADD_DATA_URI_TAGS")?$r(jb(km),Ot.ADD_DATA_URI_TAGS,zi):km,ka=dm(Ot,"FORBID_CONTENTS")?$r({},Ot.FORBID_CONTENTS,zi):xl,Nn=dm(Ot,"FORBID_TAGS")?$r({},Ot.FORBID_TAGS,zi):{},hs=dm(Ot,"FORBID_ATTR")?$r({},Ot.FORBID_ATTR,zi):{},ma=dm(Ot,"USE_PROFILES")?Ot.USE_PROFILES:!1,Ss=Ot.ALLOW_ARIA_ATTR!==!1,dc=Ot.ALLOW_DATA_ATTR!==!1,kr=Ot.ALLOW_UNKNOWN_PROTOCOLS||!1,pi=Ot.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ul=Ot.SAFE_FOR_TEMPLATES||!1,wm=Ot.SAFE_FOR_XML!==!1,Yi=Ot.WHOLE_DOCUMENT||!1,Ri=Ot.RETURN_DOM||!1,jl=Ot.RETURN_DOM_FRAGMENT||!1,mo=Ot.RETURN_TRUSTED_TYPE||!1,Vd=Ot.FORCE_BODY||!1,Ms=Ot.SANITIZE_DOM!==!1,Ta=Ot.SANITIZE_NAMED_PROPS||!1,zc=Ot.KEEP_CONTENT!==!1,mc=Ot.IN_PLACE||!1,On=Ot.ALLOWED_URI_REGEXP||bP,Vp=Ot.NAMESPACE||vu,No=Ot.CUSTOM_ELEMENT_HANDLING||{},Ot.CUSTOM_ELEMENT_HANDLING&&xt(Ot.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(No.tagNameCheck=Ot.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ot.CUSTOM_ELEMENT_HANDLING&&xt(Ot.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(No.attributeNameCheck=Ot.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ot.CUSTOM_ELEMENT_HANDLING&&typeof Ot.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(No.allowCustomizedBuiltInElements=Ot.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ul&&(dc=!1),jl&&(Ri=!0),ma&&(go=$r({},hP),Hn=[],ma.html===!0&&($r(go,D4),$r(Hn,N4)),ma.svg===!0&&($r(go,R4),$r(Hn,M4),$r(Hn,wx)),ma.svgFilters===!0&&($r(go,cy),$r(Hn,M4),$r(Hn,wx)),ma.mathMl===!0&&($r(go,z4),$r(Hn,yP),$r(Hn,wx))),Ot.ADD_TAGS&&(go===Us&&(go=jb(go)),$r(go,Ot.ADD_TAGS,zi)),Ot.ADD_ATTR&&(Hn===zo&&(Hn=jb(Hn)),$r(Hn,Ot.ADD_ATTR,zi)),Ot.ADD_URI_SAFE_ATTR&&$r(Df,Ot.ADD_URI_SAFE_ATTR,zi),Ot.FORBID_CONTENTS&&(ka===xl&&(ka=jb(ka)),$r(ka,Ot.FORBID_CONTENTS,zi)),zc&&(go["#text"]=!0),Yi&&$r(go,["html","head","body"]),go.table&&($r(go,["tbody"]),delete Nn.tbody),Ot.TRUSTED_TYPES_POLICY){if(typeof Ot.TRUSTED_TYPES_POLICY.createHTML!="function")throw o_('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ot.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw o_('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');mt=Ot.TRUSTED_TYPES_POLICY,en=mt.createHTML("")}else mt===void 0&&(mt=RK(ne,c)),mt!==null&&typeof en=="string"&&(en=mt.createHTML(""));pu&&pu(Ot),jd=Ot}},Dn=$r({},["mi","mo","mn","ms","mtext"]),bn=$r({},["annotation-xml"]),Do=$r({},["title","style","font","a","script"]),js=$r({},[...R4,...cy,...t7]),Aa=$r({},[...z4,...n7]),_m=function(Ot){let xo=nt(Ot);(!xo||!xo.tagName)&&(xo={namespaceURI:Vp,tagName:"template"});const us=t_(Ot.tagName),t=t_(xo.tagName);return v1[Ot.namespaceURI]?Ot.namespaceURI===Hp?xo.namespaceURI===vu?us==="svg":xo.namespaceURI===Sy?us==="svg"&&(t==="annotation-xml"||Dn[t]):!!js[us]:Ot.namespaceURI===Sy?xo.namespaceURI===vu?us==="math":xo.namespaceURI===Hp?us==="math"&&bn[t]:!!Aa[us]:Ot.namespaceURI===vu?xo.namespaceURI===Hp&&!bn[t]||xo.namespaceURI===Sy&&!Dn[t]?!1:!Aa[us]&&(Do[us]||!js[us]):!!(w1==="application/xhtml+xml"&&v1[Ot.namespaceURI]):!1},Wd=function(Ot){e_(n.removed,{element:Ot});try{nt(Ot).removeChild(Ot)}catch(xo){he(Ot)}},k1=function(Ot,xo){try{e_(n.removed,{attribute:xo.getAttributeNode(Ot),from:xo})}catch(us){e_(n.removed,{attribute:null,from:xo})}if(xo.removeAttribute(Ot),Ot==="is"&&!Hn[Ot])if(Ri||jl)try{Wd(xo)}catch(us){}else try{xo.setAttribute(Ot,"")}catch(us){}},vL=function(Ot){let xo=null,us=null;if(Vd)Ot="<remove></remove>"+Ot;else{const a=pP(Ot,/^[\r\n\t ]+/);us=a&&a[0]}w1==="application/xhtml+xml"&&Vp===vu&&(Ot='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ot+"</body></html>");const t=mt?mt.createHTML(Ot):Ot;if(Vp===vu)try{xo=new j().parseFromString(t,w1)}catch(a){}if(!xo||!xo.documentElement){xo=yn.createDocument(Vp,"template",null);try{xo.documentElement.innerHTML=H0?en:t}catch(a){}}const s=xo.body||xo.documentElement;return Ot&&us&&s.insertBefore(o.createTextNode(us),s.childNodes[0]||null),Vp===vu?At.call(xo,Yi?"html":"body")[0]:Yi?xo.documentElement:s},wL=function(Ot){return Zn.call(Ot.ownerDocument||Ot,Ot,A.SHOW_ELEMENT|A.SHOW_COMMENT|A.SHOW_TEXT|A.SHOW_PROCESSING_INSTRUCTION|A.SHOW_CDATA_SECTION,null)},pz=function(Ot){return Ot instanceof L&&(typeof Ot.nodeName!="string"||typeof Ot.textContent!="string"||typeof Ot.removeChild!="function"||!(Ot.attributes instanceof B)||typeof Ot.removeAttribute!="function"||typeof Ot.setAttribute!="function"||typeof Ot.namespaceURI!="string"||typeof Ot.insertBefore!="function"||typeof Ot.hasChildNodes!="function")},kL=function(Ot){return typeof b=="function"&&Ot instanceof b},Up=function(Ot,xo,us){qn[Ot]&&Qk(qn[Ot],t=>{t.call(n,xo,us,jd)})},_L=function(Ot){let xo=null;if(Up("beforeSanitizeElements",Ot,null),pz(Ot))return Wd(Ot),!0;const us=zi(Ot.nodeName);if(Up("uponSanitizeElement",Ot,{tagName:us,allowedTags:go}),Ot.hasChildNodes()&&!kL(Ot.firstElementChild)&&hu(/<[/\w]/g,Ot.innerHTML)&&hu(/<[/\w]/g,Ot.textContent)||Ot.nodeType===r_.progressingInstruction||wm&&Ot.nodeType===r_.comment&&hu(/<[/\w]/g,Ot.data))return Wd(Ot),!0;if(!go[us]||Nn[us]){if(!Nn[us]&&SL(us)&&(No.tagNameCheck instanceof RegExp&&hu(No.tagNameCheck,us)||No.tagNameCheck instanceof Function&&No.tagNameCheck(us)))return!1;if(zc&&!ka[us]){const t=nt(Ot)||Ot.parentNode,s=Ge(Ot)||Ot.childNodes;if(s&&t){const a=s.length;for(let i=a-1;i>=0;--i){const d=se(s[i],!0);d.__removalCount=(Ot.__removalCount||0)+1,t.insertBefore(d,He(Ot))}}}return Wd(Ot),!0}return Ot instanceof _&&!_m(Ot)||(us==="noscript"||us==="noembed"||us==="noframes")&&hu(/<\/no(script|embed|frames)/i,Ot.innerHTML)?(Wd(Ot),!0):(Ul&&Ot.nodeType===r_.text&&(xo=Ot.textContent,Qk([yo,gs,ps],t=>{xo=n_(xo,t," ")}),Ot.textContent!==xo&&(e_(n.removed,{element:Ot.cloneNode()}),Ot.textContent=xo)),Up("afterSanitizeElements",Ot,null),!1)},CL=function(Ot,xo,us){if(Ms&&(xo==="id"||xo==="name")&&(us in o||us in pT))return!1;if(!(dc&&!hs[xo]&&hu(Ks,xo))){if(!(Ss&&hu(lr,xo))){if(!Hn[xo]||hs[xo]){if(!(SL(Ot)&&(No.tagNameCheck instanceof RegExp&&hu(No.tagNameCheck,Ot)||No.tagNameCheck instanceof Function&&No.tagNameCheck(Ot))&&(No.attributeNameCheck instanceof RegExp&&hu(No.attributeNameCheck,xo)||No.attributeNameCheck instanceof Function&&No.attributeNameCheck(xo))||xo==="is"&&No.allowCustomizedBuiltInElements&&(No.tagNameCheck instanceof RegExp&&hu(No.tagNameCheck,us)||No.tagNameCheck instanceof Function&&No.tagNameCheck(us))))return!1}else if(!Df[xo]){if(!hu(On,n_(us,gi,""))){if(!((xo==="src"||xo==="xlink:href"||xo==="href")&&Ot!=="script"&&X6(us,"data:")===0&&Ud[Ot])){if(!(kr&&!hu(Pa,n_(us,gi,"")))){if(us)return!1}}}}}}return!0},SL=function(Ot){return Ot!=="annotation-xml"&&pP(Ot,Ha)},hz=function(Ot){Up("beforeSanitizeAttributes",Ot,null);const{attributes:xo}=Ot;if(!xo)return;const us={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Hn};let t=xo.length;for(;t--;){const s=xo[t],{name:a,namespaceURI:i,value:d}=s,g=zi(a);let h=a==="value"?d:J6(d);const k=h;if(us.attrName=g,us.attrValue=h,us.keepAttr=!0,us.forceKeepAttr=void 0,Up("uponSanitizeAttribute",Ot,us),h=us.attrValue,us.forceKeepAttr)continue;if(!us.keepAttr){k1(a,Ot);continue}if(!pi&&hu(/\/>/i,h)){k1(a,Ot);continue}Ul&&Qk([yo,gs,ps],D=>{h=n_(h,D," ")});const S=zi(Ot.nodeName);if(!CL(S,g,h)){k1(a,Ot);continue}if(Ta&&(g==="id"||g==="name")&&(k1(a,Ot),h=fc+h),wm&&hu(/((--!?|])>)|<\/(style|title)/i,h)){k1(a,Ot);continue}if(mt&&typeof ne=="object"&&typeof ne.getAttributeType=="function"&&!i)switch(ne.getAttributeType(S,g)){case"TrustedHTML":{h=mt.createHTML(h);break}case"TrustedScriptURL":{h=mt.createScriptURL(h);break}}if(h!==k)try{i?Ot.setAttributeNS(i,a,h):Ot.setAttribute(a,h),pz(Ot)?Wd(Ot):bx(n.removed)}catch(D){}}Up("afterSanitizeAttributes",Ot,null)},xL=function xs(Ot){let xo=null;const us=wL(Ot);for(Up("beforeSanitizeShadowDOM",Ot,null);xo=us.nextNode();)Up("uponSanitizeShadowNode",xo,null),!_L(xo)&&(xo.content instanceof u&&xs(xo.content),hz(xo));Up("afterSanitizeShadowDOM",Ot,null)};return n.sanitize=function(xs){let Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},xo=null,us=null,t=null,s=null;if(H0=!xs,H0&&(xs="<!-->"),typeof xs!="string"&&!kL(xs))if(typeof xs.toString=="function"){if(xs=xs.toString(),typeof xs!="string")throw o_("dirty is not a string, aborting")}else throw o_("toString is not a function");if(!n.isSupported)return xs;if(Ju||St(Ot),n.removed=[],typeof xs=="string"&&(mc=!1),mc){if(xs.nodeName){const d=zi(xs.nodeName);if(!go[d]||Nn[d])throw o_("root node is forbidden and cannot be sanitized in-place")}}else if(xs instanceof b)xo=vL("<!---->"),us=xo.ownerDocument.importNode(xs,!0),us.nodeType===r_.element&&us.nodeName==="BODY"||us.nodeName==="HTML"?xo=us:xo.appendChild(us);else{if(!Ri&&!Ul&&!Yi&&xs.indexOf("<")===-1)return mt&&mo?mt.createHTML(xs):xs;if(xo=vL(xs),!xo)return Ri?null:mo?en:""}xo&&Vd&&Wd(xo.firstChild);const a=wL(mc?xs:xo);for(;t=a.nextNode();)_L(t)||(t.content instanceof u&&xL(t.content),hz(t));if(mc)return xs;if(Ri){if(jl)for(s=Wt.call(xo.ownerDocument);xo.firstChild;)s.appendChild(xo.firstChild);else s=xo;return(Hn.shadowroot||Hn.shadowrootmode)&&(s=sn.call(r,s,!0)),s}let i=Yi?xo.outerHTML:xo.innerHTML;return Yi&&go["!doctype"]&&xo.ownerDocument&&xo.ownerDocument.doctype&&xo.ownerDocument.doctype.name&&hu(B4,xo.ownerDocument.doctype.name)&&(i="<!DOCTYPE "+xo.ownerDocument.doctype.name+`>
`+i),Ul&&Qk([yo,gs,ps],d=>{i=n_(i,d," ")}),mt&&mo?mt.createHTML(i):i},n.setConfig=function(){let xs=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};St(xs),Ju=!0},n.clearConfig=function(){jd=null,Ju=!1},n.isValidAttribute=function(xs,Ot,xo){jd||St({});const us=zi(xs),t=zi(Ot);return CL(us,t,xo)},n.addHook=function(xs,Ot){typeof Ot=="function"&&(qn[xs]=qn[xs]||[],e_(qn[xs],Ot))},n.removeHook=function(xs){if(qn[xs])return bx(qn[xs])},n.removeHooks=function(xs){qn[xs]&&(qn[xs]=[])},n.removeAllHooks=function(){qn={}},n}var vP=l7();const qu=nn.each,kx=nn.trim,iy=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],ly={ftp:21,http:80,https:443,mailto:25},wP=["img","video"],a_=(e,n)=>at(e)?!e:at(n)?!re(wP,n):!0,kP=e=>{try{return decodeURIComponent(e)}catch(n){return unescape(e)}},La=(e,n,o)=>{const r=kP(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?a_(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class Ef{static parseDataUri(n){let o;const r=decodeURIComponent(n).split(","),c=/data:([^;]+)/.exec(r[0]);return c&&(o=c[1]),{type:o,data:r[1]}}static isDomSafe(n,o,r={}){if(r.allow_script_urls)return!0;{const c=$m.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!La(r,c,o)}}static getDocumentBaseUrl(n){var o;let r;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?r=(o=n.href)!==null&&o!==void 0?o:"":r=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(n,o={}){this.path="",this.directory="",n=kx(n),this.settings=o;const r=o.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){c.source=n;return}const u=n.indexOf("//")===0;if(n.indexOf("/")===0&&!u&&(n=(r&&r.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const b=r?r.path:new Ef(document.location.href).directory;if((r==null?void 0:r.protocol)==="")n="//mce_host"+c.toAbsPath(b,n);else{const _=/([^#?]*)([#?]?.*)/.exec(n);_&&(n=(r&&r.protocol||"http")+"://mce_host"+c.toAbsPath(b,_[1])+_[2])}}n=n.replace(/@@/g,"(mce_at)");const m=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);m&&qu(iy,(b,_)=>{let A=m[_];A&&(A=A.replace(/\(mce_at\)/g,"@@")),c[b]=A}),r&&(c.protocol||(c.protocol=r.protocol),c.userInfo||(c.userInfo=r.userInfo),!c.port&&c.host==="mce_host"&&(c.port=r.port),(!c.host||c.host==="mce_host")&&(c.host=r.host),c.source=""),u&&(c.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new Ef(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),c=o.getURI();if(r===c||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===c)return r;let u=this.toRelPath(this.path,o.path);return o.query&&(u+="?"+o.query),o.anchor&&(u+="#"+o.anchor),u}toAbsolute(n,o){const r=new Ef(n,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?ly[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let r=0,c="",u,m;const b=n.substring(0,n.lastIndexOf("/")).split("/"),_=o.split("/");if(b.length>=_.length){for(u=0,m=b.length;u<m;u++)if(u>=_.length||b[u]!==_[u]){r=u+1;break}}if(b.length<_.length){for(u=0,m=_.length;u<m;u++)if(u>=b.length||b[u]!==_[u]){r=u+1;break}}if(r===1)return o;for(u=0,m=b.length-(r-1);u<m;u++)c+="../";for(u=r-1,m=_.length;u<m;u++)u!==r-1?c+="/"+_[u]:c+=_[u];return c}toAbsPath(n,o){let r=0;const c=/\/$/.test(o)?"/":"",u=n.split("/"),m=o.split("/"),b=[];qu(u,L=>{L&&b.push(L)});const _=[];for(let L=m.length-1;L>=0;L--)if(!(m[L].length===0||m[L]===".")){if(m[L]===".."){r++;continue}if(r>0){r--;continue}_.push(m[L])}const A=b.length-r;let B;return A<=0?B=pn(_).join("/"):B=b.slice(0,A).join("/")+"/"+pn(_).join("/"),B.indexOf("/")!==0&&(B="/"+B),c&&B.lastIndexOf("/")!==B.length-1&&(B+=c),B}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const u7=nn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),uy="data-mce-type";let Wb=0;const Zb=(e,n,o,r,c)=>{var u,m,b,_;const A=n.validate,B=o.getSpecialElements();e.nodeType===Cr&&!n.allow_conditional_comments&&/^\[if/i.test((u=e.nodeValue)!==null&&u!==void 0?u:"")&&(e.nodeValue=" "+e.nodeValue);const L=(m=c==null?void 0:c.tagName)!==null&&m!==void 0?m:e.nodeName.toLowerCase();if(r!=="html"&&o.isValid(r)){at(c)&&(c.allowedTags[L]=!0);return}if(e.nodeType!==sd||L==="body")return;const j=Ne.fromDom(e),ne=na(j,uy),fe=tc(j,"data-mce-bogus");if(!ne&&ae(fe)){fe==="all"?nr(j):dl(j);return}const se=o.getElementRule(L);if(A&&!se){ao(B,L)?nr(j):dl(j);return}else at(c)&&(c.allowedTags[L]=!0);if(A&&se&&!ne){if(G((b=se.attributesForced)!==null&&b!==void 0?b:[],he=>{ta(j,he.name,he.value==="{$uid}"?`mce_${Wb++}`:he.value)}),G((_=se.attributesDefault)!==null&&_!==void 0?_:[],he=>{na(j,he.name)||ta(j,he.name,he.value==="{$uid}"?`mce_${Wb++}`:he.value)}),se.attributesRequired&&!de(se.attributesRequired,he=>na(j,he))){dl(j);return}if(se.removeEmptyAttrs&&il(j)){dl(j);return}se.outputName&&se.outputName!==L&&DC(j,se.outputName)}},$4=(e,n,o,r,c)=>{const u=e.tagName.toLowerCase(),{attrName:m,attrValue:b}=c;c.keepAttr=_x(n,o,r,u,m,b),c.keepAttr?(c.allowedAttributes[m]=!0,I4(m,o)&&(c.attrValue=m),n.allow_svg_data_urls&&Co(b,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):F4(e,m)&&(c.forceKeepAttr=!0)},_x=(e,n,o,r,c,u)=>o!=="html"&&!zr(r)?!0:!(c in u7&&La(e,u,r))&&(!e.validate||n.isValid(r,c)||Co(c,"data-")||Co(c,"aria-")),F4=(e,n)=>e.hasAttribute(uy)&&(n==="id"||n==="class"||n==="style"),I4=(e,n)=>e in n.getBoolAttrs(),d7=(e,n,o,r)=>{const{attributes:c}=e;for(let u=c.length-1;u>=0;u--){const m=c[u],b=m.name,_=m.value;!_x(n,o,r,e.tagName.toLowerCase(),b,_)&&!F4(e,b)?e.removeAttribute(b):I4(b,o)&&e.setAttribute(b,b)}},f7=(e,n,o)=>{const r=vP();return r.addHook("uponSanitizeElement",(c,u)=>{Zb(c,e,n,o.track(c),u)}),r.addHook("uponSanitizeAttribute",(c,u)=>{$4(c,e,n,o.current(),u)}),r},_P=(e,n)=>{const r=ie({},{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[],SAFE_FOR_XML:!1});return r.PARSER_MEDIA_TYPE=n,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},m7=e=>{const n=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(r=>`xlink:${r}`),o={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:n};vP().sanitize(e,o)},g7=(e,n)=>{const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},r=vP();r.addHook("uponSanitizeElement",(c,u)=>{var m;const b=(m=u.tagName)!==null&&m!==void 0?m:c.nodeName.toLowerCase(),_=n.allow_mathml_annotation_encodings;if(b==="annotation"&&Nt(_)&&_.length>0){const A=c.getAttribute("encoding");ae(A)&&re(_,A)&&(u.allowedTags[b]=!0)}}),r.sanitize(e,o)},p7=e=>n=>{const o=rf(n);if(o==="svg")m7(n);else if(o==="math")g7(n,e);else throw new Error("Not a namespace element")},h7=(e,n)=>{const o=R();if(e.sanitize){const r=f7(e,n,o);return{sanitizeHtmlElement:(u,m)=>{r.sanitize(u,_P(e,m)),r.removed=[],o.reset()},sanitizeNamespaceElement:p7(e)}}else return{sanitizeHtmlElement:(u,m)=>{const b=document.createNodeIterator(u,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let _;for(;_=b.nextNode();){const A=o.track(_);Zb(_,e,n,A),In(_)&&d7(_,e,n,A)}o.reset()},sanitizeNamespaceElement:Ye}},CP=nn.makeMap,L4=nn.extend,SP=(e,n,o,r)=>{const c=e.name,u=c in o&&c!=="title"&&c!=="textarea"&&c!=="noscript",m=n.childNodes;for(let b=0,_=m.length;b<_;b++){const A=m[b],B=new kl(A.nodeName.toLowerCase(),A.nodeType);if(In(A)){const L=A.attributes;for(let j=0,ne=L.length;j<ne;j++){const fe=L[j];B.attr(fe.name,fe.value)}zr(B.name)&&(r(A),B.value=A.innerHTML)}else dn(A)?(B.value=A.data,u&&(B.raw=!0)):(wa(A)||ci(A)||Zf(A))&&(B.value=A.data);zr(B.name)||SP(B,A,o,r),e.append(B)}},c_=(e,n,o)=>{const r=[];for(let c=e,u=c;c;u=c,c=c.walk()){const m=c;G(n,b=>b(m)),gn(m.parent)&&m!==e?c=u:r.push(m)}for(let c=r.length-1;c>=0;c--){const u=r[c];G(o,m=>m(u))}},xP=(e,n,o,r)=>{const c=o.validate,u=n.getNonEmptyElements(),m=n.getWhitespaceElements(),b=L4(CP("script,style,head,html,body,title,meta,param"),n.getBlockElements()),_=K0(n),A=/[ \t\r\n]+/g,B=/^[ \t\r\n]+/,L=/[ \t\r\n]+$/,j=Ge=>{let nt=Ge.parent;for(;at(nt);){if(nt.name in m)return!0;nt=nt.parent}return!1},ne=Ge=>{let nt=Ge;for(;at(nt);){if(nt.name in _)return yc(n,u,m,nt);nt=nt.parent}return!1},fe=Ge=>Ge.name in b||af(n,Ge)||zr(Ge.name)&&Ge.parent===e,se=(Ge,nt)=>{const mt=nt?Ge.prev:Ge.next;return at(mt)||gn(Ge.parent)?!1:fe(Ge.parent)&&(Ge.parent!==e||r.isRootContent===!0)};return[Ge=>{var nt;if(Ge.type===3&&!j(Ge)){let mt=(nt=Ge.value)!==null&&nt!==void 0?nt:"";mt=mt.replace(A," "),(f6(Ge.prev,fe)||se(Ge,!0))&&(mt=mt.replace(B,"")),mt.length===0||mt===" "&&Ge.prev&&Ge.prev.type===Cr&&Ge.next&&Ge.next.type===Cr?Ge.remove():Ge.value=mt}},Ge=>{var nt;if(Ge.type===1){const mt=n.getElementRule(Ge.name);if(c&&mt){const en=yc(n,u,m,Ge);mt.paddInEmptyBlock&&en&&ne(Ge)?e4(o,r,fe,Ge):mt.removeEmpty&&en?fe(Ge)?Ge.remove():Ge.unwrap():mt.paddEmpty&&(en||ny(Ge))&&e4(o,r,fe,Ge)}}else if(Ge.type===3&&!j(Ge)){let mt=(nt=Ge.value)!==null&&nt!==void 0?nt:"";(Ge.next&&fe(Ge.next)||se(Ge,!1))&&(mt=mt.replace(L,"")),mt.length===0?Ge.remove():Ge.value=mt}}]},y7=(e,n)=>{var o;const r=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return r===!1?"":r===!0?"p":r},qb=(e={},n=or())=>{const o=rP(),r=rP(),c=ie({validate:!0,root_name:"body",sanitize:!0},e),u=new DOMParser,m=h7(c,n),b=(nt,mt,en="html")=>{const yn=en==="xhtml"?"application/xhtml+xml":"text/html",Zn=ao(n.getSpecialElements(),mt.toLowerCase()),Wt=Zn?`<${mt}>${nt}</${mt}>`:nt,At=()=>en==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Wt}</body></html>`:/^[\s]*<head/i.test(nt)||/^[\s]*<html/i.test(nt)||/^[\s]*<!DOCTYPE/i.test(nt)?`<html>${Wt}</html>`:`<body>${Wt}</body>`,sn=u.parseFromString(At(),yn).body;return m.sanitizeHtmlElement(sn,yn),Zn?sn.firstChild:sn},_=o.addFilter,A=o.getFilters,B=o.removeFilter,L=r.addFilter,j=r.getFilters,ne=r.removeFilter,fe=(nt,mt)=>{t4(n,nt)&&mt.push(nt)},se=(nt,mt)=>{const en=ae(mt.attr(uy)),yn=mt.type===1&&!ao(nt,mt.name)&&!af(n,mt)&&!zr(mt.name);return mt.type===3||yn&&!en},he=(nt,mt)=>{const en=L4(CP("script,style,head,html,body,title,meta,param"),n.getBlockElements()),yn=/^[ \t\r\n]+/,Zn=/[ \t\r\n]+$/;let Wt=nt.firstChild,At=null;const sn=qn=>{var yo,gs;qn&&(Wt=qn.firstChild,Wt&&Wt.type===3&&(Wt.value=(yo=Wt.value)===null||yo===void 0?void 0:yo.replace(yn,"")),Wt=qn.lastChild,Wt&&Wt.type===3&&(Wt.value=(gs=Wt.value)===null||gs===void 0?void 0:gs.replace(Zn,"")))};if(n.isValidChild(nt.name,mt.toLowerCase())){for(;Wt;){const qn=Wt.next;se(en,Wt)?(At||(At=new kl(mt,1),At.attr(c.forced_root_block_attrs),nt.insert(At,Wt)),At.append(Wt)):(sn(At),At=null),Wt=qn}sn(At)}},Ge={schema:n,addAttributeFilter:L,getAttributeFilters:j,removeAttributeFilter:ne,addNodeFilter:_,getNodeFilters:A,removeNodeFilter:B,parse:(nt,mt={})=>{var en;const yn=c.validate,Zn=(en=mt.context)!==null&&en!==void 0?en:c.root_name,Wt=b(nt,Zn,mt.format);qs(n,Wt);const At=new kl(Zn,11);SP(At,Wt,n.getSpecialElements(),m.sanitizeNamespaceElement),Wt.innerHTML="";const[sn,qn]=xP(At,n,c,mt),yo=[],gs=yn?Pa=>fe(Pa,yo):Ye,ps={nodes:{},attributes:{}},Ks=Pa=>_M(A(),j(),Pa,ps);if(c_(At,[sn,Ks],[qn,gs]),yo.reverse(),yn&&yo.length>0)if(mt.context){const{pass:Pa,fail:gi}=Ce(yo,Ha=>Ha.parent===At);Zs(gi,n,At,Ks),mt.invalid=Pa.length>0}else Zs(yo,n,At,Ks);const lr=y7(c,mt);return lr&&(At.name==="body"||mt.isRootContent)&&he(At,lr),mt.invalid||JO(ps,mt),At}};return A4(Ge,c),Np(Ge,c,n),Ge},b7=e=>sy(e)?Kh({validate:!1}).serialize(e):e,H4=(e,n,o)=>{const r=b7(e),c=n(r);if(c.isDefaultPrevented())return c;if(sy(e))if(c.content!==r){const u=qb(ie({validate:!1,forced_root_block:!1},o)).parse(c.content,{context:e.name});return Pt(ie({},c),{content:u})}else return Pt(ie({},c),{content:e});else return c},EP=e=>({sanitize:OS(e),sandbox_iframes:lb(e),sandbox_iframes_exclusions:jw(e)}),TP=(e,n)=>{if(n.no_events)return ac.value(n);{const o=Pv(e,n);return o.isDefaultPrevented()?ac.error(ZA(e,ie({content:""},o)).content):ac.value(o)}},V4=(e,n,o)=>o.no_events?n:H4(n,c=>ZA(e,Pt(ie({},o),{content:c})),EP(e)).content,Cx=(e,n)=>{if(n.no_events)return ac.value(n);{const o=H4(n.content,r=>vk(e,Pt(ie({},n),{content:r})),EP(e));return o.isDefaultPrevented()?(p2(e,o),ac.error(void 0)):ac.value(o)}},Sx=(e,n,o)=>{o.no_events||p2(e,Pt(ie({},o),{content:n}))},xx=(e,n,o)=>({element:e,width:n,rows:o}),U4=(e,n)=>({element:e,cells:n}),AP=(e,n)=>({x:e,y:n}),OP=(e,n)=>Rr(e,n).bind(aa).getOr(1),v7=(e,n,o,r,c)=>{const u=OP(c,"rowspan"),m=OP(c,"colspan"),b=e.rows;for(let _=o;_<o+u;_++){b[_]||(b[_]=U4(Vy(r),[]));for(let A=n;A<n+m;A++){const B=b[_].cells;B[A]=_===o&&A===n?c:$u(c)}}},w7=(e,n,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[n]},j4=(e,n,o)=>{for(;w7(e,n,o);)n++;return n},a0=e=>Ie(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),W4=(e,n)=>{const o=e.rows;for(let r=0;r<o.length;r++){const c=o[r].cells;for(let u=0;u<c.length;u++)if(rs(c[u],n))return U.some(AP(u,r))}return U.none()},Z4=(e,n,o,r,c)=>{const u=[],m=e.rows;for(let b=o;b<=c;b++){const _=m[b].cells,A=n<r?_.slice(n,r+1):_.slice(r,n+1);u.push(U4(m[b].element,A))}return u},Ex=(e,n,o)=>{const r=n.x,c=n.y,u=o.x,m=o.y,b=c<m?Z4(e,r,c,u,m):Z4(e,r,m,u,c);return xx(e.element,a0(b),b)},k7=(e,n)=>{const o=$u(e.element),r=Ne.fromTag("tbody");return Du(r,n),$a(o,r),o},_7=e=>De(e.rows,n=>{const o=De(n.cells,c=>{const u=Vy(c);return Sr(u,"colspan"),Sr(u,"rowspan"),u}),r=$u(n.element);return Du(r,o),r}),Gb=e=>{const n=xx($u(e),0,[]);return G(ai(e,"tr"),(o,r)=>{G(ai(o,"td,th"),(c,u)=>{v7(n,j4(n,u,r),r,o,c)})}),xx(n.element,a0(n.rows),n.rows)},q4=e=>k7(e,_7(e)),DP=(e,n,o)=>W4(e,n).bind(r=>W4(e,o).map(c=>Ex(e,r,c))),i_=e=>Lt(e,n=>me(n)==="ul"||me(n)==="ol"),RP=(e,n)=>Lt(e,o=>me(o)==="li"&&fk(o,n)).fold(_e([]),o=>i_(e).map(r=>{const c=Ne.fromTag(me(r)),u=Cs(Ci(r),(m,b)=>Co(b,"list-style"));return Jo(c,u),[Ne.fromTag("li"),c]}).getOr([])),G4=(e,n)=>{const o=Ie(n,(r,c)=>($a(c,r),c),e);return n.length>0?Uv([o]):o},zP=e=>Qg(e)?Cc(e).filter(_d).fold(_e([]),n=>[e,n]):_d(e)?[e]:[],NP=(e,n,o)=>{const r=Ne.fromDom(n.commonAncestorContainer),c=fg(r,e),u=Oe(c,_=>o.isWrapper(me(_))),m=RP(c,n),b=u.concat(m.length?m:zP(r));return De(b,$u)},MP=()=>Uv([]),C7=(e,n,o)=>G4(Ne.fromDom(n.cloneContents()),NP(e,n,o)),S7=(e,n)=>za(n,"table",Te(rs,e)),K4=(e,n)=>S7(e,n[0]).bind(o=>{const r=n[0],c=n[n.length-1],u=Gb(o);return DP(u,r,c).map(m=>Uv([q4(m)]))}).getOrThunk(MP),x7=(e,n,o)=>n.length>0&&n[0].collapsed?MP():C7(e,n[0],o),PP=(e,n,o)=>{const r=vp(n,e);return r.length>0?K4(e,r):x7(e,n,o)},Tx=(e,n)=>n>=0&&n<e.length&&bp(e.charAt(n)),BP=e=>ou(e.innerText),E7=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),T7=e=>U.from(e.selection.getRng()).map(n=>{var o;const r=U.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),c=e.getBody(),u=E7(r),m=Ne.fromDom(n.cloneContents());xN(m),EN(m);const b=e.dom.add(c,u,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},m.dom),_=BP(b),A=ou((o=b.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(b),Tx(A,0)||Tx(A,A.length-1)){const B=r.getOr(c),L=BP(B),j=L.indexOf(_);if(j===-1)return _;{const ne=Tx(L,j-1),fe=Tx(L,j+_.length);return(ne?" ":"")+_+(fe?" ":"")}}else return _}).getOr(""),A7=(e,n)=>{const o=e.selection.getRng(),r=e.dom.create("body"),c=e.selection.getSel(),u=D2(e,Cv(c)),m=n.contextual?PP(Ne.fromDom(e.getBody()),u,e.schema).dom:o.cloneContents();return m&&r.appendChild(m),e.selection.serializer.serialize(r,n)},O7=(e,n)=>{if(n.format==="text")return T7(e);{const o=A7(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},D7=(e,n)=>Pt(ie({},e),{format:n,get:!0,selection:!0,getInner:!0}),R7=(e,n,o={})=>{const r=D7(o,n);return TP(e,r).fold(Ht,c=>{const u=O7(e,c);return V4(e,u,c)})},Y4=0,$P=1,FP=2,Ax=(e,n)=>{const o=e.length+n.length+2,r=new Array(o),c=new Array(o),u=(B,L,j)=>({start:B,end:L,diag:j}),m=(B,L,j,ne,fe)=>{const se=_(B,L,j,ne);if(se===null||se.start===L&&se.diag===L-ne||se.end===B&&se.diag===B-j){let he=B,He=j;for(;he<L||He<ne;)he<L&&He<ne&&e[he]===n[He]?(fe.push([Y4,e[he]]),++he,++He):L-B>ne-j?(fe.push([FP,e[he]]),++he):(fe.push([$P,n[He]]),++He)}else{m(B,se.start,j,se.start-se.diag,fe);for(let he=se.start;he<se.end;++he)fe.push([Y4,e[he]]);m(se.end,L,se.end-se.diag,ne,fe)}},b=(B,L,j,ne)=>{let fe=B;for(;fe-L<ne&&fe<j&&e[fe]===n[fe-L];)++fe;return u(B,fe,L)},_=(B,L,j,ne)=>{const fe=L-B,se=ne-j;if(fe===0||se===0)return null;const he=fe-se,He=se+fe,Ge=(He%2===0?He:He+1)/2;r[1+Ge]=B,c[1+Ge]=L+1;let nt,mt,en,yn,Zn;for(nt=0;nt<=Ge;++nt){for(mt=-nt;mt<=nt;mt+=2){for(en=mt+Ge,mt===-nt||mt!==nt&&r[en-1]<r[en+1]?r[en]=r[en+1]:r[en]=r[en-1]+1,yn=r[en],Zn=yn-B+j-mt;yn<L&&Zn<ne&&e[yn]===n[Zn];)r[en]=++yn,++Zn;if(he%2!==0&&he-nt<=mt&&mt<=he+nt&&c[en-he]<=r[en])return b(c[en-he],mt+B-j,L,ne)}for(mt=he-nt;mt<=he+nt;mt+=2){for(en=mt+Ge-he,mt===he-nt||mt!==he+nt&&c[en+1]<=c[en-1]?c[en]=c[en+1]-1:c[en]=c[en-1],yn=c[en]-1,Zn=yn-B+j-mt;yn>=B&&Zn>=j&&e[yn]===n[Zn];)c[en]=yn--,Zn--;if(he%2===0&&-nt<=mt&&mt<=nt&&c[en]<=r[en+he])return b(c[en],mt+B-j,L,ne)}}return null},A=[];return m(0,e.length,0,n.length,A),A},Gi=e=>In(e)?e.outerHTML:dn(e)?$m.encodeRaw(e.data,!1):wa(e)?"<!--"+e.data+"-->":"",z7=e=>{let n;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)r.appendChild(n);return r},Ox=(e,n,o)=>{const r=z7(n);if(e.hasChildNodes()&&o<e.childNodes.length){const c=e.childNodes[o];e.insertBefore(r,c)}else e.appendChild(r)},Kb=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},IP=(e,n)=>{let o=0;G(e,r=>{r[0]===Y4?o++:r[0]===$P?(Ox(n,r[1],o),o++):r[0]===FP&&Kb(n,o)})},yu=(e,n)=>Oe(De(_s(e.childNodes),x(ou,Gi)),o=>o.length>0),Yb=(e,n)=>{const o=De(_s(n.childNodes),Gi);return IP(Ax(o,e),n),n},LP=Mt(()=>document.implementation.createHTMLDocument("undo")),N7=e=>e.querySelector("iframe")!==null,HP=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),M7=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),l_=e=>{const n=e.serializer.getTempAttrs(),o=SN(e.getBody(),n);return N7(o)?HP(yu(o)):M7(ou(o.innerHTML))},Xb=(e,n,o)=>{const r=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?Yb(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:at(r)&&zA(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},u_=e=>e.type==="fragmented"?e.fragments.join(""):e.content,VP=e=>{const n=Ne.fromTag("body",LP());return Ru(n,u_(e)),G(ai(n,"*[data-mce-bogus]"),dl),br(n)},UP=(e,n)=>u_(e)===u_(n),P7=(e,n)=>VP(e)===VP(n),d_=(e,n)=>!e||!n?!1:UP(e,n)?!0:P7(e,n),f_=e=>e.get()===0,Dx=(e,n,o)=>{f_(o)&&(e.typing=n)},jP=(e,n)=>{e.typing&&(Dx(e,!1,n),e.add())},WP=e=>{e.typing&&(e.typing=!1,e.add())},fm=(e,n,o)=>{f_(n)&&o.set(Q1(e.selection))},X4=(e,n,o,r,c,u,m)=>{const b=l_(e),_=nn.extend(u||{},b);if(!f_(r)||e.removed)return null;const A=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:_,lastLevel:A,originalEvent:m}).isDefaultPrevented()||A&&d_(A,_))return null;n.data[o.get()]&&c.get().each(j=>{n.data[o.get()].beforeBookmark=j});const B=av(e);if(B&&n.data.length>B){for(let j=0;j<n.data.length-1;j++)n.data[j]=n.data[j+1];n.data.length--,o.set(n.data.length)}_.bookmark=Q1(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(_),o.set(n.data.length-1);const L={level:_,lastLevel:A,originalEvent:m};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",L),e.dispatch("change",L)):e.dispatch("AddUndo",L),_},B7=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},Rx=(e,n,o,r,c)=>{if(n.transact(r)){const u=n.data[o.get()].bookmark,m=n.data[o.get()-1];Xb(e,m,!0),n.transact(c)&&(n.data[o.get()-1].beforeBookmark=u)}},J4=(e,n,o)=>{let r;return n.get()<o.length-1&&(n.set(n.get()+1),r=o[n.get()],Xb(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},ZP=(e,n,o,r)=>{let c;return n.typing&&(n.add(),n.typing=!1,Dx(n,!1,o)),r.get()>0&&(r.set(r.get()-1),c=n.data[r.get()],Xb(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},qP=e=>{e.clear(),e.add()},GP=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!d_(l_(e),n.data[0]),$7=(e,n)=>n.get()<e.data.length-1&&!e.typing,F7=(e,n,o)=>(jP(e,n),e.beforeChange(),e.ignore(o),e.add()),I7=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},L7=(e,n)=>{const o=e.dom,r=at(n)?n:e.getBody();G(o.select("table,a",r),c=>{switch(c.nodeName){case"TABLE":const u=kS(e),m=o.getAttrib(c,"border");(!m||m==="0")&&e.hasVisual?o.addClass(c,u):o.removeClass(c,u);break;case"A":if(!o.getAttrib(c,"href")){const b=o.getAttrib(c,"name")||c.id,_=Fw(e);b&&e.hasVisual?o.addClass(c,_):o.removeClass(c,_)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},KP=e=>({init:{bindEvents:Ye},undoManager:{beforeChange:(n,o)=>fm(e,n,o),add:(n,o,r,c,u,m)=>X4(e,n,o,r,c,u,m),undo:(n,o,r)=>ZP(e,n,o,r),redo:(n,o)=>J4(e,n,o),clear:(n,o)=>B7(e,n,o),reset:n=>qP(n),hasUndo:(n,o)=>GP(e,n,o),hasRedo:(n,o)=>$7(n,o),transact:(n,o,r)=>F7(n,o,r),ignore:(n,o)=>I7(n,o),extra:(n,o,r,c)=>Rx(e,n,o,r,c)},formatter:{match:(n,o,r,c)=>Zk(e,n,o,r,c),matchAll:(n,o)=>DM(e,n,o),matchNode:(n,o,r,c)=>lm(e,n,o,r,c),canApply:n=>S6(e,n),closest:n=>ex(e,n),apply:(n,o,r)=>v4(e,n,o,r),remove:(n,o,r,c)=>QM(e,n,o,r,c),toggle:(n,o,r)=>px(e,n,o,r),formatChanged:(n,o,r,c,u)=>W6(e,n,o,r,c,u)},editor:{getContent:n=>T8(e,n),setContent:(n,o)=>Fb(e,n,o),insertContent:(n,o)=>gu(e,n,o),addVisual:n=>L7(e,n)},selection:{getContent:(n,o)=>R7(e,n,o)},autocompleter:{addDecoration:Ye,removeDecoration:Ye},raw:{getModel:()=>U.none()}}),YP=e=>{const n=A=>vt(A)?A:{},{init:o,undoManager:r,formatter:c,editor:u,selection:m,autocompleter:b,raw:_}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(A,B,L)=>r.transact(L),ignore:(A,B)=>r.ignore(B),extra:(A,B,L,j)=>r.extra(L,j)},formatter:{match:(A,B,L,j)=>c.match(A,n(B),j),matchAll:c.matchAll,matchNode:c.matchNode,canApply:A=>c.canApply(A),closest:A=>c.closest(A),apply:(A,B,L)=>c.apply(A,n(B)),remove:(A,B,L,j)=>c.remove(A,n(B)),toggle:(A,B,L)=>c.toggle(A,n(B)),formatChanged:(A,B,L,j,ne)=>c.formatChanged(B,L,j,ne)},editor:{getContent:A=>u.getContent(A),setContent:(A,B)=>({content:u.setContent(A,B),html:""}),insertContent:(A,B)=>(u.insertContent(A),""),addVisual:u.addVisual},selection:{getContent:(A,B)=>m.getContent(B)},autocompleter:{addDecoration:b.addDecoration,removeDecoration:b.removeDecoration},raw:{getModel:()=>U.some(_.getRawModel())}}},H7=()=>{const e=_e(null),n=_e("");return{init:{bindEvents:Ye},undoManager:{beforeChange:Ye,add:e,undo:e,redo:e,clear:Ye,reset:Ye,hasUndo:Pe,hasRedo:Pe,transact:e,ignore:Ye,extra:Ye},formatter:{match:Pe,matchAll:_e([]),matchNode:_e(void 0),canApply:Pe,closest:n,apply:Ye,remove:Ye,toggle:Ye,formatChanged:_e({unbind:Ye})},editor:{getContent:n,setContent:_e({content:"",html:""}),insertContent:_e(""),addVisual:Ye},selection:{getContent:n},autocompleter:{addDecoration:Ye,removeDecoration:Ye},raw:{getModel:_e(U.none())}}},pg=e=>ao(e.plugins,"rtc"),V7=e=>ys(e.plugins,"rtc").bind(n=>U.from(n.setup)),XP=e=>{const n=e;return V7(e).fold(()=>(n.rtcInstance=KP(e),U.none()),o=>(n.rtcInstance=H7(),U.some(()=>o().then(r=>(n.rtcInstance=YP(r),r.rtc.isRemote)))))},m_=e=>e.rtcInstance?e.rtcInstance:KP(e),bc=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},JP=(e,n,o)=>{bc(e).undoManager.beforeChange(n,o)},Q4=(e,n,o,r,c,u,m)=>bc(e).undoManager.add(n,o,r,c,u,m),QP=(e,n,o,r)=>bc(e).undoManager.undo(n,o,r),eB=(e,n,o)=>bc(e).undoManager.redo(n,o),e3=(e,n,o)=>{bc(e).undoManager.clear(n,o)},tB=(e,n)=>{bc(e).undoManager.reset(n)},nB=(e,n,o)=>bc(e).undoManager.hasUndo(n,o),oB=(e,n,o)=>bc(e).undoManager.hasRedo(n,o),U7=(e,n,o,r)=>bc(e).undoManager.transact(n,o,r),t3=(e,n,o)=>{bc(e).undoManager.ignore(n,o)},j7=(e,n,o,r,c)=>{bc(e).undoManager.extra(n,o,r,c)},zx=(e,n,o,r,c)=>bc(e).formatter.match(n,o,r,c),W7=(e,n,o)=>bc(e).formatter.matchAll(n,o),Z7=(e,n,o,r,c)=>bc(e).formatter.matchNode(n,o,r,c),q7=(e,n)=>bc(e).formatter.canApply(n),sB=(e,n)=>bc(e).formatter.closest(n),rB=(e,n,o,r)=>{bc(e).formatter.apply(n,o,r)},G7=(e,n,o,r,c)=>{bc(e).formatter.remove(n,o,r,c)},K7=(e,n,o,r)=>{bc(e).formatter.toggle(n,o,r)},Y7=(e,n,o,r,c,u)=>bc(e).formatter.formatChanged(n,o,r,c,u),X7=(e,n)=>m_(e).editor.getContent(n),J7=(e,n,o)=>m_(e).editor.setContent(n,o),aB=(e,n,o)=>m_(e).editor.insertContent(n,o),zK=(e,n,o)=>bc(e).selection.getContent(n,o),Q7=(e,n)=>bc(e).editor.addVisual(n),cB=e=>bc(e).init.bindEvents(),eH=(e,n={})=>{const o=n.format?n.format:"html";return zK(e,o,n)},iB=e=>e.dom.length===0?(nr(e),U.none()):U.some(e),tH=(e,n)=>e.filter(o=>Ep.isBookmarkNode(o.dom)).bind(n?Bc:Yl),nH=(e,n,o,r,c)=>{const u=e.dom,m=n.dom,b=r?u.length:m.length;r?(MO(u,m,c,!1,!r),o.setStart(m,b)):(MO(m,u,c,!1,!r),o.setEnd(m,b))},oH=(e,n,o)=>{Cc(e).each(r=>{const c=e.dom;n&&Dk(r,Ft(c,0),o)?P2(c,0,o):!n&&Rk(r,Ft(c,c.length),o)&&NO(c,c.length,o)})},n3=(e,n,o,r,c)=>{e.bind(u=>((r?NO:P2)(u.dom,r?u.dom.length:0,c),n.filter(tr).map(b=>nH(u,b,o,r,c)))).orThunk(()=>tH(n,r).or(n).filter(tr).map(m=>oH(m,r,c)))},sH=(e,n,o)=>{const r=U.from(n.firstChild).map(Ne.fromDom),c=U.from(n.lastChild).map(Ne.fromDom);e.deleteContents(),e.insertNode(n);const u=r.bind(Yl).filter(tr).bind(iB),m=c.bind(Bc).filter(tr).bind(iB);n3(u,r,e,!0,o),n3(m,c,e,!1,o),e.collapse(!1)},rH=(e,n)=>Pt(ie({format:"html"},e),{set:!0,selection:!0,content:n}),aH=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),c=r?{context:r.nodeName.toLowerCase()}:{},u=e.parser.parse(n.content,ie(ie({forced_root_block:!1},c),n));return Kh({validate:!1},e.schema).serialize(u)}else return n.content},cH=(e,n,o={})=>{const r=rH(o,n);Cx(e,r).each(c=>{const u=aH(e,c),m=e.selection.getRng();sH(m,m.createContextualFragment(u),e.schema),e.selection.setRng(m),Dp(e,m),Sx(e,u,c)})},lB=(e,n,o)=>{if(ao(e,n)){const r=Oe(e[n],c=>c!==o);r.length===0?delete e[n]:e[n]=r}};var NK=(e,n)=>{let o,r;const c=(b,_)=>Lt(_,A=>e.is(A,b)),u=b=>e.getParents(b,void 0,e.getRoot()),m=()=>{o={},r={},n.on("NodeChange",b=>{const _=b.element,A=u(_),B={};on(o,(L,j)=>{c(j,A).each(ne=>{r[j]||(G(L,fe=>{fe(!0,{node:ne,selector:j,parents:A})}),r[j]=L),B[j]=L})}),on(r,(L,j)=>{B[j]||(delete r[j],G(L,ne=>{ne(!1,{node:_,selector:j,parents:A})}))})})};return{selectorChangedWithUnbind:(b,_)=>(o||m(),o[b]||(o[b]=[]),o[b].push(_),c(b,u(n.selection.getStart())).each(()=>{r[b]=o[b]}),{unbind:()=>{lB(o,b,_),lB(r,b,_)}})}};const iH=e=>!!(e&&e.ownerDocument)&&_c(Ne.fromDom(e.ownerDocument),Ne.fromDom(e)),lH=e=>e?iH(e.startContainer)&&iH(e.endContainer):!1,uB=(e,n,o,r)=>{let c,u;const{selectorChangedWithUnbind:m}=NK(e,r),b=(On,go)=>{const Us=e.createRng();at(On)&&at(go)?(Us.setStart(On,go),Us.setEnd(On,go),mt(Us),He(!1)):(t2(e,Us,r.getBody(),!0),mt(Us))},_=On=>eH(r,On),A=(On,go)=>cH(r,On,go),B=On=>mN(r.getBody(),nt(),On),L=On=>gN(r.getBody(),nt(),On),j=(On,go)=>gi.getBookmark(On,go),ne=On=>gi.moveToBookmark(On),fe=(On,go)=>(hN(e,On,go).each(mt),On),se=()=>{const On=nt(),go=Ge();return!On||On.item?!1:On.compareEndPoints?On.compareEndPoints("StartToEnd",On)===0:!go||On.collapsed},he=()=>{if(r.mode.isReadOnly())return!1;const On=nt(),go=r.getBody().querySelectorAll('[data-mce-selected="1"]');return go.length>0?an(go,Us=>e.isEditable(Us.parentElement)):bO(e,On)},He=On=>{const go=nt();go.collapse(!!On),mt(go)},Ge=()=>n.getSelection?n.getSelection():n.document.selection,nt=()=>{let On;const go=(Hn,zo,No)=>{try{return zo.compareBoundaryPoints(Hn,No)}catch(Nn){return-1}},Us=n.document;if(at(r.bookmark)&&!Kv(r)){const Hn=C2(r);if(Hn.isSome())return Hn.map(zo=>D2(r,[zo])[0]).getOr(Us.createRange())}try{const Hn=Ge();Hn&&!jf(Hn.anchorNode)&&(Hn.rangeCount>0?On=Hn.getRangeAt(0):On=Us.createRange(),On=D2(r,[On])[0])}catch(Hn){}if(On||(On=Us.createRange()),Nm(On.startContainer)&&On.collapsed){const Hn=e.getRoot();On.setStart(Hn,0),On.setEnd(Hn,0)}return c&&u&&(go(On.START_TO_START,On,c)===0&&go(On.END_TO_END,On,c)===0?On=u:(c=null,u=null)),On},mt=(On,go)=>{if(!lH(On))return;const Us=Ge();if(On=r.dispatch("SetSelectionRange",{range:On,forward:go}).range,Us){u=On;try{Us.removeAllRanges(),Us.addRange(On)}catch(zo){}go===!1&&Us.extend&&(Us.collapse(On.endContainer,On.endOffset),Us.extend(On.startContainer,On.startOffset)),c=Us.rangeCount>0?Us.getRangeAt(0):null}if(!On.collapsed&&On.startContainer===On.endContainer&&(Us!=null&&Us.setBaseAndExtent)&&On.endOffset-On.startOffset<2&&On.startContainer.hasChildNodes()){const zo=On.startContainer.childNodes[On.startOffset];zo&&zo.nodeName==="IMG"&&(Us.setBaseAndExtent(On.startContainer,On.startOffset,On.endContainer,On.endOffset),(Us.anchorNode!==On.startContainer||Us.focusNode!==On.endContainer)&&Us.setBaseAndExtent(zo,0,zo,1))}r.dispatch("AfterSetSelectionRange",{range:On,forward:go})},en=On=>(A(e.getOuterHTML(On)),On),yn=()=>y8(r.getBody(),nt()),Zn=(On,go)=>O2(e,nt(),On,go),Wt=()=>{const On=Ge(),go=On==null?void 0:On.anchorNode,Us=On==null?void 0:On.focusNode;if(!On||!go||!Us||jf(go)||jf(Us))return!0;const Hn=e.createRng(),zo=e.createRng();try{Hn.setStart(go,On.anchorOffset),Hn.collapse(!0),zo.setStart(Us,On.focusOffset),zo.collapse(!0)}catch(No){return!0}return Hn.compareBoundaryPoints(Hn.START_TO_START,zo)<=0},Pa={dom:e,win:n,serializer:o,editor:r,expand:(On={type:"word"})=>mt(ln(e).expand(nt(),On)),collapse:He,setCursorLocation:b,getContent:_,setContent:A,getBookmark:j,moveToBookmark:ne,select:fe,isCollapsed:se,isEditable:he,isForward:Wt,setNode:en,getNode:yn,getSel:Ge,setRng:mt,getRng:nt,getStart:B,getEnd:L,getSelectedBlocks:Zn,normalize:()=>{const On=nt(),go=Ge();if(!MA(go)&&xv(r)){const Us=Rn(e,On);return Us.each(Hn=>{mt(Hn,Wt())}),Us.getOr(On)}return On},selectorChanged:(On,go)=>(m(On,go),Pa),selectorChangedWithUnbind:m,getScrollContainer:()=>{let On,go=e.getRoot();for(;go&&go.nodeName!=="BODY";){if(go.scrollHeight>go.clientHeight){On=go;break}go=go.parentNode}return On},scrollIntoView:(On,go)=>{at(On)?s8(r,On,go):Dp(r,nt(),go)},placeCaretAt:(On,go)=>mt(y(On,go,r.getDoc())),getBoundingClientRect:()=>{const On=nt();return On.collapsed?Ft.fromRangeStart(On).getClientRects()[0]:On.getBoundingClientRect()},destroy:()=>{n=c=u=null,Ha.destroy()}},gi=Ep(Pa),Ha=kk(Pa,r);return Pa.bookmarkManager=gi,Pa.controlSelection=Ha,Pa},MK=(e,n,o)=>{n.addNodeFilter("br",(r,c,u)=>{const m=nn.extend({},o.getBlockElements()),b=o.getNonEmptyElements(),_=o.getWhitespaceElements();m.body=1;const A=B=>B.name in m||af(o,B);for(let B=0,L=r.length;B<L;B++){let j=r[B],ne=j.parent;if(ne&&A(ne)&&j===ne.lastChild){let fe=j.prev;for(;fe;){const se=fe.name;if(se!=="span"||fe.attr("data-mce-type")!=="bookmark"){se==="br"&&(j=null);break}fe=fe.prev}if(j&&(j.remove(),yc(o,b,_,ne))){const se=o.getElementRule(ne.name);se&&(se.removeEmpty?ne.remove():se.paddEmpty&&e4(e,u,A,ne))}}else{let fe=j;for(;ne&&ne.firstChild===fe&&ne.lastChild===fe&&(fe=ne,!m[ne.name]);)ne=ne.parent;if(fe===ne){const se=new kl("#text",3);se.value=ja,j.replace(se)}}}})},uH=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,c)=>{let u=r.length;for(;u--;){const m=r[u];m.attr("tabindex",m.attr("data-mce-tabindex")),m.attr(c,null)}}),e.addAttributeFilter("src,href,style",(r,c)=>{const u="data-mce-"+c,m=n.url_converter,b=n.url_converter_scope;let _=r.length;for(;_--;){const A=r[_];let B=A.attr(u);B!==void 0?(A.attr(c,B.length>0?B:null),A.attr(u,null)):(B=A.attr(c),c==="style"?B=o.serializeStyle(o.parseStyle(B),A.name):m&&(B=m.call(b,B,c,A.name)),A.attr(c,B.length>0?B:null))}}),e.addAttributeFilter("class",r=>{let c=r.length;for(;c--;){const u=r[c];let m=u.attr("class");m&&(m=m.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),u.attr("class",m.length>0?m:null))}}),e.addAttributeFilter("data-mce-type",(r,c,u)=>{let m=r.length;for(;m--;){const b=r[m];b.attr("data-mce-type")==="bookmark"&&!u.cleanup&&(U.from(b.firstChild).exists(A=>{var B;return!jy((B=A.value)!==null&&B!==void 0?B:"")})?b.unwrap():b.remove())}}),e.addNodeFilter("script,style",(r,c)=>{var u;const m=_=>_.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let b=r.length;for(;b--;){const _=r[b],A=_.firstChild,B=(u=A==null?void 0:A.value)!==null&&u!==void 0?u:"";if(c==="script"){const L=_.attr("type");L&&_.attr("type",L==="mce-no/type"?null:L.replace(/^mce\-/,"")),n.element_format==="xhtml"&&A&&B.length>0&&(A.value=`// <![CDATA[
`+m(B)+`
// ]]>`)}else n.element_format==="xhtml"&&A&&B.length>0&&(A.value=`<!--
`+m(B)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let c=r.length;for(;c--;){const u=r[c],m=u.value;n.preserve_cdata&&(m==null?void 0:m.indexOf("[CDATA["))===0?(u.name="#cdata",u.type=4,u.value=o.decode(m.replace(/^\[CDATA\[|\]\]$/g,""))):(m==null?void 0:m.indexOf("mce:protected "))===0&&(u.name="#text",u.type=3,u.raw=!0,u.value=unescape(m).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,c)=>{let u=r.length;for(;u--;){const m=r[u];m.type===7?m.remove():m.type===1&&c==="input"&&!m.attr("type")&&m.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{G(r,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,c)=>{let u=r.length;for(;u--;)r[u].attr(c,null)}),n.remove_trailing_brs&&MK(n,e,e.schema)},Ma=e=>{const n=r=>(r==null?void 0:r.name)==="br",o=e.lastChild;if(n(o)){const r=o.prev;n(r)&&(o.remove(),r.remove())}},o3=(e,n,o)=>{let r;const c=e.dom;let u=n.cloneNode(!0);const m=document.implementation;if(m.createHTMLDocument){const b=m.createHTMLDocument("");nn.each(u.nodeName==="BODY"?u.childNodes:[u],_=>{b.body.appendChild(b.importNode(_,!0))}),u.nodeName!=="BODY"?u=b.body.firstChild:u=b.body,r=c.doc,c.doc=b}return zv(e,Pt(ie({},o),{node:u})),r&&(c.doc=r),u},PK=(e,n)=>at(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,dH=(e,n,o)=>PK(e,o)?o3(e,n,o):n,fH=(e,n,o)=>{nn.inArray(n,o)===-1&&(e.addAttributeFilter(o,(r,c)=>{let u=r.length;for(;u--;)r[u].attr(c,null)}),n.push(o))},c0=(e,n,o)=>!n.no_events&&e?Nv(e,Pt(ie({},n),{content:o})).content:o,BK=(e,n,o)=>{const r=ou(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||U1(Ne.fromDom(n))?r:nn.trim(r)},$K=(e,n,o)=>{const r=o.selection?ie({forced_root_block:!1},o):o,c=e.parse(n,r);return Ma(c),c},Di=(e,n,o)=>Kh(e,n).serialize(o),dB=(e,n,o,r,c)=>{const u=Di(n,o,r);return c0(e,c,u)},fB=(e,n)=>{const o=["data-mce-selected"],r=ie({entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1},e),c=n&&n.dom?n.dom:Er.DOM,u=n&&n.schema?n.schema:or(r),m=qb(r,u);uH(m,r,c);const b=(_,A={})=>{const B=ie({format:"html"},A),L=dH(n,_,B),j=BK(c,L,B),ne=$K(m,j,B);return B.format==="tree"?ne:dB(n,r,u,ne,B)};return{schema:u,addNodeFilter:m.addNodeFilter,addAttributeFilter:m.addAttributeFilter,serialize:b,addRules:u.addValidElements,setRules:u.setValidElements,addTempAttr:Te(fH,m,o),getTempAttrs:_e(o),getNodeFilters:m.getNodeFilters,getAttributeFilters:m.getAttributeFilters,removeNodeFilter:m.removeNodeFilter,removeAttributeFilter:m.removeAttributeFilter}},s3=(e,n)=>{const o=fB(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},mH="html",gH=(e,n)=>Pt(ie({},e),{format:n,get:!0,getInner:!0}),Nx=(e,n={})=>{const o=n.format?n.format:mH,r=gH(n,o);return TP(e,r).fold(Ht,c=>{const u=X7(e,c);return V4(e,u,c)})},pH="html",r3=(e,n)=>Pt(ie({format:pH},e),{set:!0,content:n}),a3=(e,n,o={})=>{const r=r3(o,n);return Cx(e,r).map(c=>{const u=J7(e,c.content,c);return Sx(e,u.html,c),u.content}).getOr(n)},mB="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),gB=[],c3="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),i3=[],Mx=(e,n)=>{const o=Oe(n,r=>ao(e,r));return Vn(o)},hH=e=>{const n=Mx(e,mB),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),Vn(n)},yH=e=>Mx(e,gB),pB=(e,n)=>{const o=nn.makeMap(e.plugins," "),c=Oe(n,u=>ao(o,u));return Vn(c)},Gu=e=>pB(e,c3),bH=e=>pB(e,i3.map(n=>n.name)),vH=(e,n)=>{const o=hH(e),r=Gu(n),c=r.length>0,u=o.length>0,m=n.theme==="mobile";if(c||u||m){const b=`
- `,_=m?`

Themes:${b}mobile`:"",A=c?`

Plugins:${b}${r.join(b)}`:"",B=u?`

Options:${b}${o.join(b)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+_+A+B)}},wH=e=>Lt(i3,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),kH=(e,n)=>{const o=yH(e),r=bH(n),c=r.length>0,u=o.length>0;if(c||u){const m=`
- `,b=c?`

Plugins:${m}${r.map(wH).join(m)}`:"",_=u?`

Options:${m}${o.join(m)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+b+_)}},_H=(e,n)=>{vH(e,n),kH(e,n)},g_=Er.DOM,CH=e=>{g_.setStyle(e.id,"display",e.orgDisplay)},Px=e=>U.from(e).each(n=>n.destroy()),SH=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const r=o.dom;n.selection=o.win=o.dom=r.doc=null}},Bx=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),g_.unbind(n,"submit reset",e.formEventDelegate))},xH=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,r=e.getBody(),c=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&at(c==null?void 0:c.nextSibling)&&g_.remove(c.nextSibling),VA(e),e.editorManager.remove(e),!e.inline&&r&&CH(e),UA(e),g_.remove(e.getContainer()),Px(n),Px(o),e.destroy()}},EH=(e,n)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Px(o),Px(r)),Bx(e),SH(e),e.destroyed=!0}},i0=(()=>{const e={};return{add:(c,u)=>{e[c]=u},get:c=>e[c]?e[c]:{icons:{}},has:c=>ao(e,c)}})(),l0=Ei.ModelManager,hB=(e,n)=>n.dom[e],AH=(e,n)=>parseInt(da(n,e),10),OH=Te(hB,"clientWidth"),p_=Te(hB,"clientHeight"),yB=Te(AH,"margin-top"),bB=Te(AH,"margin-left"),DH=e=>e.dom.getBoundingClientRect(),vB=(e,n,o)=>{const r=OH(e),c=p_(e);return n>=0&&o>=0&&n<=r&&o<=c},RH=(e,n,o,r)=>{const c=DH(n),u=e?c.left+n.dom.clientLeft+bB(n):0,m=e?c.top+n.dom.clientTop+yB(n):0,b=o-u,_=r-m;return{x:b,y:_}},zH=(e,n,o)=>{const r=Ne.fromDom(e.getBody()),c=e.inline?r:Am(r),u=RH(e.inline,c,n,o);return vB(c,u.x,u.y)},NH=e=>U.from(e).map(Ne.fromDom),MH=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return NH(n).map(dd).getOr(!1)};var wB=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const kB=e=>{const n=[],o=()=>{const j=e.theme;return j&&j.getNotificationManagerImpl?j.getNotificationManagerImpl():wB()},r=()=>U.from(n[0]),c=(j,ne)=>j.type===ne.type&&j.text===ne.text&&!j.progressBar&&!j.timeout&&!ne.progressBar&&!ne.timeout,u=()=>{r().each(j=>{j.reposition()})},m=j=>{n.push(j)},b=j=>{Sn(n,ne=>ne===j).each(ne=>{n.splice(ne,1)})},_=(j,ne=!0)=>e.removed||!MH(e)?{}:(ne&&e.dispatch("BeforeOpenNotification",{notification:j}),Lt(n,fe=>c(o().getArgs(fe),j)).getOrThunk(()=>{e.editorManager.setActive(e);const fe=o().open(j,()=>{b(fe)},()=>dN(e));return m(fe),u(),e.dispatch("OpenNotification",{notification:ie({},fe)}),fe})),A=()=>{r().each(j=>{o().close(j),b(j),u()})},B=_e(n);return(j=>{j.on("SkinLoaded",()=>{const ne=Mw(j);ne&&_({text:ne,type:"warning",timeout:0},!1),u()}),j.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(u)}),j.on("remove",()=>{G(n.slice(),ne=>{o().close(ne)})}),j.on("keydown",ne=>{var fe;const se=((fe=ne.key)===null||fe===void 0?void 0:fe.toLowerCase())==="f12"||ne.keyCode===123;ne.altKey&&se&&(ne.preventDefault(),r().map(he=>Ne.fromDom(he.getEl())).each(he=>Db(he)))})})(e),{open:_,close:A,getNotifications:B}},u0=Ei.PluginManager,mm=Ei.ThemeManager;var _B=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const l3=e=>{let n=[];const o=()=>{const se=e.theme;return se&&se.getWindowManagerImpl?se.getWindowManagerImpl():_B()},r=(se,he)=>(...He)=>he?he.apply(se,He):void 0,c=se=>{e.dispatch("OpenWindow",{dialog:se})},u=se=>{e.dispatch("CloseWindow",{dialog:se})},m=se=>{n.push(se),c(se)},b=se=>{u(se),n=Oe(n,he=>he!==se),n.length===0&&e.focus()},_=()=>U.from(n[n.length-1]),A=se=>{e.editorManager.setActive(e),Ek(e),e.ui.show();const he=se();return m(he),he},B=(se,he)=>A(()=>o().open(se,he,b)),L=se=>A(()=>o().openUrl(se,b)),j=(se,he,He)=>{const Ge=o();Ge.alert(se,r(He||Ge,he))},ne=(se,he,He)=>{const Ge=o();Ge.confirm(se,r(He||Ge,he))},fe=()=>{_().each(se=>{o().close(se),b(se)})};return e.on("remove",()=>{G(n,se=>{o().close(se)})}),{open:B,openUrl:L,alert:j,confirm:ne,close:fe}},CB=(e,n)=>{e.notificationManager.open({type:"error",text:n})},$x=(e,n)=>{e._skinLoaded?CB(e,n):e.on("SkinLoaded",()=>{CB(e,n)})},PH=(e,n)=>{$x(e,kd.translate(["Failed to upload image: {0}",n]))},d0=(e,n,o)=>{du(e,n,{message:o}),console.error(o)},h_=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,BH=(e,n,o)=>{d0(e,"PluginLoadError",h_("plugin",n,o))},$H=(e,n,o)=>{d0(e,"IconsLoadError",h_("icons",n,o))},FH=(e,n,o)=>{d0(e,"LanguageLoadError",h_("language",n,o))},FK=(e,n,o)=>{d0(e,"ThemeLoadError",h_("theme",n,o))},gm=(e,n,o)=>{d0(e,"ModelLoadError",h_("model",n,o))},u3=(e,n,o)=>{const r=kd.translate(["Failed to initialize plugin: {0}",n]);du(e,"PluginLoadError",{message:r}),Fx(r,o),$x(e,r)},Fx=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},IH=e=>/^[a-z0-9\-]+$/i.test(e),d3=e=>"content/"+e+"/content.css",LH=e=>tinymce.Resource.has(d3(e)),Js=e=>f0(e,lp(e)),HH=e=>f0(e,iA(e)),f0=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return De(n,u=>LH(u)?u:IH(u)&&!e.inline?`${o}/${u}/${c}`:e.documentBaseURI.toAbsolute(u))},VH=e=>{e.contentCSS=e.contentCSS.concat(Js(e),HH(e))},UH=e=>e?_s(e.getElementsByTagName("img")):[],jH=(e,n)=>{const o={};return{findAll:(c,u=gt)=>{const m=Oe(UH(c),_=>{const A=_.src;return _.hasAttribute("data-mce-bogus")||_.hasAttribute("data-mce-placeholder")||!A||A===$e.transparentSrc?!1:Co(A,"blob:")?!e.isUploaded(A)&&u(_):Co(A,"data:")?u(_):!1}),b=De(m,_=>{const A=_.src;if(ao(o,A))return o[A].then(B=>ae(B)?B:{image:_,blobInfo:B.blobInfo});{const B=Jk(n,A).then(L=>(delete o[A],{image:_,blobInfo:L})).catch(L=>(delete o[A],L));return o[A]=B,B}});return Promise.all(b)}}},f3=()=>{let o={};const r=(j,ne)=>({status:j,resultUri:ne}),c=j=>j in o;return{hasBlobUri:c,getResultUri:j=>{const ne=o[j];return ne?ne.resultUri:null},isPending:j=>c(j)?o[j].status===1:!1,isUploaded:j=>c(j)?o[j].status===2:!1,markPending:j=>{o[j]=r(1,null)},markUploaded:(j,ne)=>{o[j]=r(2,ne)},removeFailed:j=>{delete o[j]},destroy:()=>{o={}}}};let dy=0;const Ll=()=>{const e=()=>Math.round(Hy()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},y_=e=>e+dy+++Ll(),fy=()=>{let e=[];const n=L=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[L.toLowerCase()]||"dat",o=(L,j,ne,fe,se)=>{if(ae(L))return r({id:L,name:fe,filename:se,blob:j,base64:ne});if(vt(L))return r(L);throw new Error("Unknown input type")},r=L=>{if(!L.blob||!L.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const j=L.id||y_("blobid"),ne=L.name||j,fe=L.blob;return{id:_e(j),name:_e(ne),filename:_e(L.filename||ne+"."+n(fe.type)),blob:_e(fe),base64:_e(L.base64),blobUri:_e(L.blobUri||URL.createObjectURL(fe)),uri:_e(L.uri)}},c=L=>{m(L.id())||e.push(L)},u=L=>Lt(e,L).getOrUndefined(),m=L=>u(j=>j.id()===L);return{create:o,add:c,get:m,getByUri:L=>u(j=>j.blobUri()===L),getByData:(L,j)=>u(ne=>ne.base64()===L&&ne.blob().type===j),findFirst:u,removeByUri:L=>{e=Oe(e,j=>j.blobUri()===L?(URL.revokeObjectURL(j.blobUri()),!1):!0)},destroy:()=>{G(e,L=>{URL.revokeObjectURL(L.blobUri())}),e=[]}}},hg=(e,n)=>{const o={},r=(se,he)=>se?se.replace(/\/$/,"")+"/"+he.replace(/^\//,""):he,c=(se,he)=>new Promise((He,Ge)=>{const nt=new XMLHttpRequest;nt.open("POST",n.url),nt.withCredentials=n.credentials,nt.upload.onprogress=en=>{he(en.loaded/en.total*100)},nt.onerror=()=>{Ge("Image upload failed due to a XHR Transport error. Code: "+nt.status)},nt.onload=()=>{if(nt.status<200||nt.status>=300){Ge("HTTP Error: "+nt.status);return}const en=JSON.parse(nt.responseText);if(!en||!ae(en.location)){Ge("Invalid JSON: "+nt.responseText);return}He(r(n.basePath,en.location))};const mt=new FormData;mt.append("file",se.blob(),se.filename()),nt.send(mt)}),u=ke(n.handler)?n.handler:c,m=()=>new Promise(se=>{se([])}),b=(se,he)=>({url:he,blobInfo:se,status:!0}),_=(se,he)=>({url:"",blobInfo:se,status:!1,error:he}),A=(se,he)=>{nn.each(o[se],He=>{He(he)}),delete o[se]},B=(se,he,He)=>(e.markPending(se.blobUri()),new Promise(Ge=>{let nt,mt;try{const en=()=>{nt&&(nt.close(),mt=Ye)},yn=Wt=>{en(),e.markUploaded(se.blobUri(),Wt),A(se.blobUri(),b(se,Wt)),Ge(b(se,Wt))},Zn=Wt=>{en(),e.removeFailed(se.blobUri()),A(se.blobUri(),_(se,Wt)),Ge(_(se,Wt))};mt=Wt=>{Wt<0||Wt>100||U.from(nt).orThunk(()=>U.from(He).map(et)).each(At=>{nt=At,At.progressBar.value(Wt)})},he(se,mt).then(yn,Wt=>{Zn(ae(Wt)?{message:Wt}:Wt)})}catch(en){Ge(_(se,en))}})),L=se=>se===c,j=se=>{const he=se.blobUri();return new Promise(He=>{o[he]=o[he]||[],o[he].push(He)})},ne=(se,he)=>(se=nn.grep(se,He=>!e.isUploaded(He.blobUri())),Promise.all(nn.map(se,He=>e.isPending(He.blobUri())?j(He):B(He,u,he))));return{upload:(se,he)=>!n.url&&L(u)?m():ne(se,he)}},m0=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),Ix=(e,n)=>hg(n,{url:Rw(e),basePath:zw(e),credentials:Nw(e),handler:dS(e)}),m3=e=>{const n=f3(),o=Ix(e,n);return{upload:(r,c=!0)=>o.upload(r,c?m0(e):void 0)}},SB=(e,n)=>e.dom.isEmpty(n.dom)&&at(e.schema.getTextBlockElements()[me(n)]),xB=e=>n=>{SB(e,n)&&$a(n,Ne.fromHtml('<br data-mce-bogus="1" />'))},WH=e=>{const n=fy();let o,r;const c=f3(),u=[],m=nt=>mt=>e.selection?nt(mt):[],b=nt=>nt+(nt.indexOf("?")===-1?"?":"&")+new Date().getTime(),_=(nt,mt,en)=>{let yn=0;do yn=nt.indexOf(mt,yn),yn!==-1&&(nt=nt.substring(0,yn)+en+nt.substr(yn+mt.length),yn+=en.length-mt.length+1);while(yn!==-1);return nt},A=(nt,mt,en)=>{const yn=`src="${en}"${en===$e.transparentSrc?' data-mce-placeholder="1"':""}`;return nt=_(nt,`src="${mt}"`,yn),nt=_(nt,'data-mce-src="'+mt+'"','data-mce-src="'+en+'"'),nt},B=(nt,mt)=>{G(e.undoManager.data,en=>{en.type==="fragmented"?en.fragments=De(en.fragments,yn=>A(yn,nt,mt)):en.content=A(en.content,nt,mt)})},L=(nt,mt)=>{const en=e.convertURL(mt,"src");B(nt.src,mt),Ca(Ne.fromDom(nt),{src:lc(e)?b(mt):mt,"data-mce-src":en})},j=()=>(o||(o=Ix(e,c)),he().then(m(nt=>{const mt=De(nt,en=>en.blobInfo);return o.upload(mt,m0(e)).then(m(en=>{const yn=[];let Zn=!1;const Wt=De(en,(At,sn)=>{const{blobInfo:qn,image:yo}=nt[sn];let gs=!1;return At.status&&Xs(e)?(At.url&&!io(yo.src,At.url)&&(Zn=!0),n.removeByUri(yo.src),pg(e)||L(yo,At.url)):At.error&&(At.error.remove&&(B(yo.src,$e.transparentSrc),yn.push(yo),gs=!0),PH(e,At.error.message)),{element:yo,status:At.status,uploadUri:At.url,blobInfo:qn,removed:gs}});return yn.length>0&&!pg(e)?e.undoManager.transact(()=>{G(Jl(yn),At=>{const sn=Cc(At);nr(At),sn.each(xB(e)),n.removeByUri(At.dom.src)})}):Zn&&e.undoManager.dispatchChange(),Wt}))}))),ne=()=>Vc(e)?j():Promise.resolve([]),fe=nt=>an(u,mt=>mt(nt)),se=nt=>{u.push(nt)},he=()=>(r||(r=jH(c,n)),r.findAll(e.getBody(),fe).then(m(nt=>{const mt=Oe(nt,en=>ae(en)?($x(e,en),!1):en.uriType!=="blob");return pg(e)||G(mt,en=>{B(en.image.src,en.blobInfo.blobUri()),en.image.src=en.blobInfo.blobUri(),en.image.removeAttribute("data-mce-src")}),mt}))),He=()=>{n.destroy(),c.destroy(),r=o=null},Ge=nt=>nt.replace(/src="(blob:[^"]+)"/g,(mt,en)=>{const yn=c.getResultUri(en);if(yn)return'src="'+yn+'"';let Zn=n.getByUri(en);return Zn||(Zn=Ie(e.editorManager.get(),(Wt,At)=>Wt||At.editorUpload&&At.editorUpload.blobCache.getByUri(en),void 0)),Zn?'src="data:'+Zn.blob().type+";base64,"+Zn.base64()+'"':mt});return e.on("SetContent",()=>{Vc(e)?ne():he()}),e.on("RawSaveContent",nt=>{nt.content=Ge(nt.content)}),e.on("GetContent",nt=>{nt.source_view||nt.format==="raw"||nt.format==="tree"||(nt.content=Ge(nt.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",nt=>{G(nt,mt=>{const en=mt.attr("src");if(!en||n.getByUri(en))return;const yn=c.getResultUri(en);yn&&mt.attr("src",yn)})})}),{blobCache:n,addFilter:se,uploadImages:j,uploadImagesAuto:ne,scanForImages:he,destroy:He}},ZH=e=>{const n=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},u={inline:"strike",remove:"all",preserve_attributes:["class","style"]},m={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[m,c,u]:[c,m,u]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,u,m)=>In(c)&&c.hasAttribute("href"),onformat:(c,u,m)=>{nn.each(m,(b,_)=>{n.setAttrib(c,_,b)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>{var u;return(u=c==null?void 0:c.customValue)!==null&&u!==void 0?u:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return nn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),c=>{r[c]={block:c,remove:"all"}}),r},g3={remove_similar:!0,inherit:!1},Jb=ie({selector:"td,th"},g3),EB={tablecellbackgroundcolor:ie({styles:{backgroundColor:"%value"}},Jb),tablecellverticalalign:ie({styles:{"vertical-align":"%value"}},Jb),tablecellbordercolor:ie({styles:{borderColor:"%value"}},Jb),tablecellclass:ie({classes:["%value"]},Jb),tableclass:ie({selector:"table",classes:["%value"]},g3),tablecellborderstyle:ie({styles:{borderStyle:"%value"}},Jb),tablecellborderwidth:ie({styles:{borderWidth:"%value"}},Jb)},TB=_e(EB),p3=e=>{const n={},o=m=>at(m)?n[m]:n,r=m=>ao(n,m),c=(m,b)=>{m&&(ae(m)?(Nt(b)||(b=[b]),G(b,_=>{Tn(_.deep)&&(_.deep=!lu(_)),Tn(_.split)&&(_.split=!lu(_)||Tc(_)),Tn(_.remove)&&lu(_)&&!Tc(_)&&(_.remove="none"),lu(_)&&Tc(_)&&(_.mixed=!0,_.block_expand=!0),ae(_.classes)&&(_.classes=_.classes.split(/\s+/))}),n[m]=b):on(m,(_,A)=>{c(A,_)}))},u=m=>(m&&n[m]&&delete n[m],n);return c(ZH(e)),c(TB()),c(rv(e)),{get:o,has:r,register:c,unregister:u}},h3=nn.each,Nd=Er.DOM,AB=e=>at(e)&&vt(e),OB=(e,n)=>{const o=n&&n.schema||or({}),r=(_,A)=>{A.classes.length>0&&Nd.addClass(_,A.classes.join(" ")),Nd.setAttribs(_,A.attrs)},c=_=>{const A=ae(_)?{name:_,classes:[],attrs:{}}:_,B=Nd.create(A.name);return r(B,A),B},u=(_,A)=>{const B=o.getElementRule(_.nodeName.toLowerCase()),L=B==null?void 0:B.parentsRequired;return L&&L.length?A&&re(L,A)?A:L[0]:!1},m=(_,A,B)=>{let L;const j=A[0],ne=AB(j)?j.name:void 0,fe=u(_,ne);if(fe)ne===fe?(L=j,A=A.slice(1)):L=fe;else if(j)L=j,A=A.slice(1);else if(!B)return _;const se=L?c(L):Nd.create("div");se.appendChild(_),B&&nn.each(B,He=>{const Ge=c(He);se.insertBefore(Ge,_)});const he=AB(L)?L.siblings:void 0;return m(se,A,he)},b=Nd.create("div");if(e.length>0){const _=e[0],A=c(_),B=AB(_)?_.siblings:void 0;b.appendChild(m(A,e.slice(1),B))}return b},qH=e=>{e=nn.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,c,u,m,b)=>{switch(c){case"#":o.attrs.id=u;break;case".":o.classes.push(u);break;case":":nn.inArray("checked disabled enabled read-only required".split(" "),u)!==-1&&(o.attrs[u]=u);break}if(m==="["){const _=b.match(/([\w\-]+)(?:\=\"([^\"]+))?/);_&&(o.attrs[_[1]]=_[2])}return""})),o.name=n||"div",o},yg=e=>ae(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),nn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=nn.map(n.split(/(?:~\+|~|\+)/),qH),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],IK=(e,n)=>{let o="",r=pS(e);if(r==="")return"";const c=j=>ae(j)?j.replace(/%(\w+)/g,""):"",u=(j,ne)=>Nd.getStyle(ne!=null?ne:e.getBody(),j,!0);if(ae(n)){const j=e.formatter.get(n);if(!j)return"";n=j[0]}if("preview"in n){const j=n.preview;if(j===!1)return"";r=j||r}let m=n.block||n.inline||"span",b;const _=yg(n.selector);_.length>0?(_[0].name||(_[0].name=m),m=n.selector,b=OB(_,e)):b=OB([m],e);const A=Nd.select(m,b)[0]||b.firstChild;h3(n.styles,(j,ne)=>{const fe=c(j);fe&&Nd.setStyle(A,ne,fe)}),h3(n.attributes,(j,ne)=>{const fe=c(j);fe&&Nd.setAttrib(A,ne,fe)}),h3(n.classes,j=>{const ne=c(j);Nd.hasClass(A,ne)||Nd.addClass(A,ne)}),e.dispatch("PreviewFormats"),Nd.setStyles(b,{position:"absolute",left:-65535}),e.getBody().appendChild(b);const B=u("fontSize"),L=/px$/.test(B)?parseInt(B,10):0;return h3(r.split(" "),j=>{let ne=u(j,A);if(!(j==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ne)&&(ne=u(j),Fy(ne).toLowerCase()==="#ffffff"))&&!(j==="color"&&Fy(ne).toLowerCase()==="#000000")){if(j==="font-size"&&/em|%$/.test(ne)){if(L===0)return;ne=parseFloat(ne)/(/%$/.test(ne)?100:1)*L+"px"}j==="border"&&ne&&(o+="padding:0 2px;"),o+=j+":"+ne+";"}}),e.dispatch("AfterPreviewFormats"),Nd.remove(b),o},LK=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},DB=e=>{const n=p3(e),o=fr({});return LK(e),MM(e),pg(e)||V6(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(r,c,u)=>{rB(e,r,c,u)},remove:(r,c,u,m)=>{G7(e,r,c,u,m)},toggle:(r,c,u)=>{K7(e,r,c,u)},match:(r,c,u,m)=>zx(e,r,c,u,m),closest:r=>sB(e,r),matchAll:(r,c)=>W7(e,r,c),matchNode:(r,c,u,m)=>Z7(e,r,c,u,m),canApply:r=>q7(e,r),formatChanged:(r,c,u,m)=>Y7(e,o,r,c,u,m),getCssText:Te(IK,e)}},g0=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},GH=(e,n,o)=>{const r=fr(!1),c=_=>{Dx(n,!1,o),n.add({},_)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",_=>{const A=_.command;g0(A)||(jP(n,o),n.beforeChange())}),e.on("ExecCommand",_=>{const A=_.command;g0(A)||c(_)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",_=>{const A=_.keyCode;if(_.isDefaultPrevented())return;const B=$e.os.isMacOS()&&_.key==="Meta";(A>=33&&A<=36||A>=37&&A<=40||A===45||_.ctrlKey||B)&&(c(),e.nodeChanged()),(A===46||A===8)&&e.nodeChanged(),r.get()&&n.typing&&!d_(l_(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",_=>{const A=_.keyCode;if(_.isDefaultPrevented())return;if(A>=33&&A<=36||A>=37&&A<=40||A===45){n.typing&&c(_);return}const B=_.ctrlKey&&!_.altKey||_.metaKey;if((A<16||A>20)&&A!==224&&A!==91&&!n.typing&&!B){n.beforeChange(),Dx(n,!0,o),n.add({},_),r.set(!0);return}($e.os.isMacOS()?_.metaKey:_.ctrlKey&&!_.altKey)&&n.beforeChange()}),e.on("mousedown",_=>{n.typing&&c(_)});const u=_=>_.inputType==="insertReplacementText",m=_=>_.inputType==="insertText"&&_.data===null,b=_=>_.inputType==="insertFromPaste"||_.inputType==="insertFromDrop";e.on("input",_=>{_.inputType&&(u(_)||m(_)||b(_))&&c(_)}),e.on("AddUndo Undo Redo ClearUndos",_=>{_.isDefaultPrevented()||e.nodeChanged()})},RB=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},y3=e=>{const n=gc(),o=fr(0),r=fr(0),c={data:[],typing:!1,beforeChange:()=>{JP(e,o,n)},add:(u,m)=>Q4(e,c,r,o,n,u,m),dispatchChange:()=>{e.setDirty(!0);const u=l_(e);u.bookmark=Q1(e.selection),e.dispatch("change",{level:u,lastLevel:Ho(c.data,r.get()).getOrUndefined()})},undo:()=>QP(e,c,o,r),redo:()=>eB(e,r,c.data),clear:()=>{e3(e,c,r)},reset:()=>{tB(e,c)},hasUndo:()=>nB(e,c,r),hasRedo:()=>oB(e,c,r),transact:u=>U7(e,c,o,u),ignore:u=>{t3(e,o,u)},extra:(u,m)=>{j7(e,c,r,u,m)}};return pg(e)||GH(e,c,o),RB(e),c},zB=[9,27,Wn.HOME,Wn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Wn.DOWN,Wn.UP,Wn.LEFT,Wn.RIGHT].concat($e.browser.isFirefox()?[224]:[]),NB="data-mce-placeholder",MB=e=>e.type==="keydown"||e.type==="keyup",Pp=e=>{const n=e.keyCode;return n===Wn.BACKSPACE||n===Wn.DELETE},KH=e=>{if(MB(e)){const n=e.keyCode;return!Pp(e)&&(Wn.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||re(zB,n))}else return!1},YH=e=>MB(e)&&!(Pp(e)||e.type==="keyup"&&e.keyCode===229),XH=(e,n,o)=>{if(e.isEmpty(n,void 0,{skipBogus:!1,includeZwsp:!0})){const r=n.firstElementChild;return r?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},JH=e=>{var n;const o=e.dom,r=Xc(e),c=(n=yf(e))!==null&&n!==void 0?n:"",u=(m,b)=>{if(KH(m))return;const _=e.getBody(),A=YH(m)?!1:XH(o,_,r);(o.getAttrib(_,NB)!==""!==A||b)&&(o.setAttrib(_,NB,A?c:null),di(e,A),e.on(A?"keydown":"keyup",u),e.off(A?"keyup":"keydown",u))};vo(c)&&e.on("init",m=>{u(m,!0),e.on("change SetContent ExecCommand",u),e.on("paste",b=>Uu.setEditorTimeout(e,()=>u(b)))})},QH=(e,n)=>({block:e,position:n}),e9=(e,n)=>({from:e,to:n}),b3=(e,n)=>{const o=Ne.fromDom(e),r=Ne.fromDom(n.container());return Mb(o,r).map(c=>QH(c,n))},t9=e=>!(_c(e.to.block,e.from.block)||_c(e.from.block,e.to.block)),n9=e=>!rs(e.from.block,e.to.block),b_=(e,n)=>Vr(n,c=>Uy(c)||Xt(c.dom),c=>rs(c,e)).filter(ts).getOr(e),o9=(e,n)=>{const o=Ne.fromDom(e);return rs(b_(o,n.from.block),b_(o,n.to.block))},s9=e=>Vs(e.from.block.dom)===!1&&Vs(e.to.block.dom)===!1,HK=e=>{const n=o=>gl(o)||ml(o.dom)||Qg(o);return n(e.from.block)&&n(e.to.block)},v_=(e,n,o,r)=>Hs(r.position.getNode())&&!Lc(e,r.block)?pp(!1,r.block.dom).bind(c=>c.isEqual(r.position)?Ml(o,n,c).bind(u=>b3(n,u)):U.some(r)).getOr(r):r,r9=(e,n,o,r)=>{const c=b3(n,Ft.fromRangeStart(r)),u=c.bind(m=>Ml(o,n,m.position).bind(b=>b3(n,b).map(_=>v_(e,n,o,_))));return Vo(c,u,e9).filter(m=>n9(m)&&o9(n,m)&&s9(m)&&HK(m)&&t9(m))},v3=(e,n,o,r)=>r.collapsed?r9(e,n,o,r):U.none(),a9=(e,n)=>{const o=Ua(e);return Sn(o,r=>n.isBlock(me(r))).fold(_e(o),r=>o.slice(0,r))},PB=(e,n)=>{const o=a9(e,n);return G(o,nr),o},BB=(e,n,o)=>{const r=fg(o,n);return Lt(r.reverse(),c=>Lc(e,c)).each(nr)},c9=(e,n)=>Oe(Kp(n),o=>!Lc(e,o)).length===0,Qb=(e,n,o,r,c)=>{if(Lc(r,o))return mf(o),Oi(o.dom);c9(r,c)&&Lc(r,n)&&dr(c,Ne.fromTag("br"));const u=bl(o.dom,Ft.before(c.dom));return G(PB(n,r),m=>{dr(c,m)}),BB(r,e,n),u},e1=(e,n)=>e.isInline(me(n)),Lx=(e,n,o,r)=>{if(Lc(r,o)){if(Lc(r,n)){const m=Tt((b=>{const _=(A,B)=>$c(A).fold(()=>B,L=>e1(r,L)?_(L,B.concat($u(L))):B);return _(b,[])})(o),(b,_)=>(ul(b,_),_),Cd());tf(n),$a(n,m)}return nr(o),Oi(n.dom)}const c=Pl(o.dom);return G(PB(n,r),u=>{$a(o,u)}),BB(r,e,n),c},Hx=(e,n)=>{const o=fg(n,e);return U.from(o[o.length-1])},t1=(e,n)=>_c(n,e)?Hx(n,e):U.none(),my=(e,n)=>{pp(e,n.dom).bind(o=>U.from(o.getNode())).map(Ne.fromDom).filter(Xf).each(nr)},w_=(e,n,o,r)=>(my(!0,n),my(!1,o),t1(n,o).fold(Te(Lx,e,n,o,r),Te(Qb,e,n,o,r))),k_=(e,n,o,r,c)=>n?w_(e,r,o,c):w_(e,o,r,c),Vx=(e,n)=>{const o=Ne.fromDom(e.getBody());return v3(e.schema,o.dom,n,e.selection.getRng()).map(c=>()=>{k_(o,n,c.from.block,c.to.block,e.schema).each(u=>{e.selection.setRng(u.toRange())})})},w3=(e,n,o)=>{const r=n.getRng();return Vo(Mb(e,Ne.fromDom(r.startContainer)),Mb(e,Ne.fromDom(r.endContainer)),(c,u)=>rs(c,u)?U.none():U.some(()=>{r.deleteContents(),k_(e,!0,c,u,o).each(m=>{n.setRng(m.toRange())})})).getOr(U.none())},Ux=(e,n)=>{const o=Ne.fromDom(n),r=Te(rs,e);return Hr(o,Uy,r).isSome()},$B=(e,n)=>Ux(e,n.startContainer)||Ux(e,n.endContainer),FB=(e,n)=>{const o=bl(e.dom,Ft.fromRangeStart(n)).isNone(),r=Ai(e.dom,Ft.fromRangeEnd(n)).isNone();return!$B(e,n)&&o&&r},p0=e=>U.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),IB=e=>{const n=Ne.fromDom(e.getBody()),o=e.selection.getRng();return FB(n,o)?p0(e):w3(n,e.selection,e.schema)},jx=(e,n)=>e.selection.isCollapsed()?U.none():IB(e),bg=(e,n,o,r,c)=>U.from(n._selectionOverrides.showCaret(e,o,r,c)),Wx=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},h0=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?U.none():U.some(Wx(n)),LB=(e,n,o)=>{const r=Yw(1,e.getBody(),n),c=Ft.fromRangeStart(r),u=c.getNode();if(mp(u))return bg(1,e,u,!c.isAtEnd(),!1);const m=c.getNode(!0);if(mp(m))return bg(1,e,m,!1,!1);const b=kf(e.dom.getRoot(),c.getNode());return mp(b)?bg(1,e,b,!1,o):U.none()},Zx=(e,n,o)=>n.collapsed?LB(e,n,o).getOr(n):n,HB=e=>Xh(e)||Xv(e),Bp=e=>Jh(e)||Ak(e),gy=(e,n)=>{dn(n)&&n.data.length===0&&e.remove(n)},Md=(e,n,o,r,c,u)=>{bg(r,e,u.getNode(!c),c,!0).each(m=>{if(n.collapsed){const b=n.cloneRange();c?b.setEnd(m.startContainer,m.startOffset):b.setStart(m.endContainer,m.endOffset),b.deleteContents()}else n.deleteContents();e.selection.setRng(m)}),gy(e.dom,o)},i9=(e,n)=>{const o=e.selection.getRng();if(!dn(o.commonAncestorContainer))return U.none();const r=n?jc.Forwards:jc.Backwards,c=Jc(e.getBody()),u=Te(Xw,n?c.next:c.prev),m=n?HB:Bp,b=gp(r,e.getBody(),o),_=u(b),A=_&&Od(n,_);if(!A||!gb(b,A))return U.none();if(m(A))return U.some(()=>Md(e,o,b.getNode(),r,n,A));const B=u(A);return B&&m(B)&&gb(A,B)?U.some(()=>Md(e,o,b.getNode(),r,n,B)):U.none()},k3=(e,n)=>i9(e,n),_3=(e,n)=>{const o=e.getBody();return n?Oi(o).filter(Xh):Pl(o).filter(Jh)},C3=e=>{const n=e.selection.getRng();return!n.collapsed&&(_3(e,!0).exists(o=>o.isEqual(Ft.fromRangeStart(n)))||_3(e,!1).exists(o=>o.isEqual(Ft.fromRangeEnd(n))))},l9=e=>at(e)&&(Uy(Ne.fromDom(e))||Qg(Ne.fromDom(e))),Ku=au.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),u9=(e,n)=>{const o=n.getNode(!e),r=e?"after":"before";return In(o)&&o.getAttribute("data-mce-caret")===r},d9=(e,n,o,r,c)=>{const u=m=>c.isInline(m.nodeName.toLowerCase())&&!Sd(o,r,e);return hv(!n,o).fold(()=>hv(n,r).fold(Pe,u),u)},VB=(e,n,o,r,c)=>{const u=c.getNode(!o);return Mb(Ne.fromDom(n),Ne.fromDom(r.getNode())).map(m=>Lc(e,m)?Ku.remove(m.dom):Ku.moveToElement(u)).orThunk(()=>U.some(Ku.moveToElement(u)))},UB=(e,n,o,r)=>Ml(n,e,o).bind(c=>l9(c.getNode())||d9(e,n,o,c,r)?U.none():n&&Vs(c.getNode())||!n&&Vs(c.getNode(!0))?VB(r,e,n,o,c):n&&Jh(o)||!n&&Xh(o)?U.some(Ku.moveToPosition(c)):U.none()),f9=(e,n)=>gn(n)?U.none():e&&Vs(n.nextSibling)?U.some(Ku.moveToElement(n.nextSibling)):!e&&Vs(n.previousSibling)?U.some(Ku.moveToElement(n.previousSibling)):U.none(),m9=(e,n,o)=>o.fold(r=>U.some(Ku.remove(r)),r=>U.some(Ku.moveToElement(r)),r=>Sd(n,r,e)?U.none():U.some(Ku.moveToPosition(r))),S3=(e,n,o,r)=>u9(n,o)?f9(n,o.getNode(!n)).orThunk(()=>UB(e,n,o,r)):UB(e,n,o,r).bind(c=>m9(e,o,c)),x3=(e,n,o,r)=>{const c=Yw(n?1:-1,e,o),u=Ft.fromRangeStart(c),m=Ne.fromDom(e);return!n&&Jh(u)?U.some(Ku.remove(u.getNode(!0))):n&&Xh(u)?U.some(Ku.remove(u.getNode())):!n&&Xh(u)&&M2(m,u,r)?Fo(m,u,r).map(b=>Ku.remove(b.getNode())):n&&Jh(u)&&TO(m,u,r)?L8(m,u,r).map(b=>Ku.remove(b.getNode())):S3(e,n,u,r)},jB=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),zb(e,n,Ne.fromDom(o)),!0),g9=(e,n)=>o=>{const r=n?Ft.before(o):Ft.after(o);return e.selection.setRng(r.toRange()),!0},p9=e=>n=>(e.selection.setRng(n.toRange()),!0),E3=(e,n)=>U.from(kf(e.getBody(),n)),WB=(e,n)=>{const o=e.selection.getNode();return E3(e,o).filter(Vs).fold(()=>x3(e.getBody(),n,e.selection.getRng(),e.schema).map(r=>()=>r.fold(jB(e,n),g9(e,n),p9(e))),()=>U.some(Ye))},T3=e=>{G(ai(e,".mce-offscreen-selection"),nr)},ZB=(e,n)=>{const o=e.selection.getNode();return Vs(o)&&!$g(o)?E3(e,o.parentNode).filter(Vs).fold(()=>U.some(()=>{T3(Ne.fromDom(e.getBody())),zb(e,n,Ne.fromDom(e.selection.getNode())),Qh(e)}),()=>U.some(Ye)):C3(e)?U.some(()=>{ju(e,e.selection.getRng(),Ne.fromDom(e.getBody()))}):U.none()},A3=e=>{const n=e.dom,o=e.selection,r=kf(e.getBody(),o.getNode());if(Xt(r)&&n.isBlock(r)&&n.isEmpty(r)){const c=n.create("br",{"data-mce-bogus":"1"});n.setHTML(r,""),r.appendChild(c),o.setRng(Ft.before(c).toRange())}return!0},__=(e,n)=>e.selection.isCollapsed()?WB(e,n):ZB(e,n),qB=e=>e.hasOwnProperty("text"),GB=e=>e.hasOwnProperty("marker"),pm=(e,n)=>{const o=(u,m)=>{if(dn(u))return{text:u,offset:m};{const b=n(),_=u.childNodes;return m<_.length?(u.insertBefore(b,_[m]),{marker:b,before:!0}):(u.appendChild(b),{marker:b,before:!1})}},r=o(e.endContainer,e.endOffset);return{start:o(e.startContainer,e.startOffset),end:r}},Pd=e=>{var n,o;const{start:r,end:c}=e,u=new window.Range;return qB(r)?u.setStart(r.text,r.offset):GB(r)&&(r.before?u.setStartBefore(r.marker):u.setStartAfter(r.marker),(n=r.marker.parentNode)===null||n===void 0||n.removeChild(r.marker)),qB(c)?u.setEnd(c.text,c.offset):GB(c)&&(c.before?u.setEndBefore(c.marker):u.setEndAfter(c.marker),(o=c.marker.parentNode)===null||o===void 0||o.removeChild(c.marker)),u},y0=(e,n)=>{var o;const r=e.dom,c=r.getParent(e.selection.getStart(),r.isBlock),u=r.getParent(e.selection.getEnd(),r.isBlock),m=e.getBody();if(((o=c==null?void 0:c.nodeName)===null||o===void 0?void 0:o.toLowerCase())==="div"&&c&&u&&c===m.firstChild&&u===m.lastChild&&!r.isEmpty(m)){const _=c.cloneNode(!1),A=()=>{if(n?nM(e):mg(e),m.firstChild!==c){const B=pm(e.selection.getRng(),()=>document.createElement("span"));Array.from(m.childNodes).forEach(L=>_.appendChild(L)),m.appendChild(_),e.selection.setRng(Pd(B))}};return U.some(A)}return U.none()},KB=(e,n)=>{const o=Ft.fromRangeStart(e.selection.getRng());return Ml(n,e.getBody(),o).filter(r=>n?So(r):PN(r)).bind(r=>Kw(n?0:-1,r)).map(r=>()=>e.selection.select(r))},b0=(e,n)=>e.selection.isCollapsed()?KB(e,n):U.none(),n1=dn,O3=e=>n1(e)&&e.data[0]===pc,D3=e=>n1(e)&&e.data[e.data.length-1]===pc,R3=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(pc)},YB=e=>{var n;if(n1(e.previousSibling))return D3(e.previousSibling)||e.previousSibling.appendData(pc),e.previousSibling;if(n1(e))return O3(e)||e.insertData(0,pc),e;{const o=R3(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},XB=e=>{var n,o;if(n1(e.nextSibling))return O3(e.nextSibling)||e.nextSibling.insertData(0,pc),e.nextSibling;if(n1(e))return D3(e)||e.appendData(pc),e;{const r=R3(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(r,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(r),r}},o1=(e,n)=>e?YB(n):XB(n),z3=Te(o1,!0),h9=Te(o1,!1),JB=(e,n)=>dn(e.container())?o1(n,e.container()):o1(n,e.getNode()),QB=(e,n)=>{const o=n.get();return o&&e.container()===o&&Fu(o)},N3=(e,n)=>n.fold(o=>{fp(e.get());const r=z3(o);return e.set(r),U.some(Ft(r,r.length-1))},o=>Oi(o).map(r=>{if(QB(r,e)){const c=e.get();return Ft(c,1)}else{fp(e.get());const c=JB(r,!0);return e.set(c),Ft(c,1)}}),o=>Pl(o).map(r=>{if(QB(r,e)){const c=e.get();return Ft(c,c.length-1)}else{fp(e.get());const c=JB(r,!1);return e.set(c),Ft(c,c.length-1)}}),o=>{fp(e.get());const r=h9(o);return e.set(r),U.some(Ft(r,1))}),M3=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,n);if(r.isSome())return r}return U.none()},Cl=au.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),e$=(e,n)=>{const o=yl(n,e);return o||e},P3=(e,n,o)=>{const r=QN(o),c=e$(n,r.container());return Rp(e,c,r).fold(()=>Ai(c,r).bind(Te(Rp,e,c)).map(u=>Cl.before(u)),U.none)},y9=(e,n)=>hp(e,n)===null,t$=(e,n,o)=>Rp(e,n,o).filter(Te(y9,n)),b9=(e,n,o)=>{const r=eM(o);return t$(e,n,r).bind(c=>bl(c,r).isNone()?U.some(Cl.start(c)):U.none())},v9=(e,n,o)=>{const r=QN(o);return t$(e,n,r).bind(c=>Ai(c,r).isNone()?U.some(Cl.end(c)):U.none())},w9=(e,n,o)=>{const r=eM(o),c=e$(n,r.container());return Rp(e,c,r).fold(()=>bl(c,r).bind(Te(Rp,e,c)).map(u=>Cl.after(u)),U.none)},n$=e=>!PO(v0(e)),vg=(e,n,o)=>M3([P3,b9,v9,w9],[e,n,o]).filter(n$),v0=e=>e.fold(Ht,Ht,Ht,Ht),qx=e=>e.fold(_e("before"),_e("start"),_e("end"),_e("after")),Gx=e=>e.fold(Cl.before,Cl.before,Cl.after,Cl.after),B3=e=>e.fold(Cl.start,Cl.start,Cl.end,Cl.end),k9=(e,n)=>qx(e)===qx(n)&&v0(e)===v0(n),_9=(e,n,o,r,c,u)=>Vo(Rp(n,o,r),Rp(n,o,c),(m,b)=>m!==b&&JN(o,m,b)?Cl.after(e?m:b):u).getOr(u),o$=(e,n)=>e.fold(gt,o=>!k9(o,n)),C9=(e,n,o,r,c)=>{const u=Od(e,c);return Ml(e,o,u).map(Te(Od,e)).fold(()=>r.map(Gx),_=>vg(n,o,_).map(Te(_9,e,n,o,u,_)).filter(Te(o$,r))).filter(n$)},S9=(e,n)=>e?n.fold(x(U.some,Cl.start),U.none,x(U.some,Cl.after),U.none):n.fold(U.none,x(U.some,Cl.before),U.none,x(U.some,Cl.end)),$3=(e,n,o,r)=>{const c=Od(e,r),u=vg(n,o,c);return vg(n,o,c).bind(Te(S9,e)).orThunk(()=>C9(e,n,o,u,r))},x9=e=>ke(e.selection.getSel().modify),s$=(e,n,o)=>{const r=e?1:-1;return n.setRng(Ft(o.container(),o.offset()+r).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},E9=(e,n)=>{const o=n.selection.getRng(),r=e?Ft.fromRangeEnd(o):Ft.fromRangeStart(o);return x9(n)?e&&gf(r)?s$(!0,n.selection,r):!e&&Jf(r)?s$(!1,n.selection,r):!1:!1};var wg;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(wg||(wg={}));const Kx=(e,n)=>e===jc.Backwards?pn(n):n,T9=(e,n,o)=>e===jc.Forwards?n.next(o):n.prev(o),A9=(e,n,o,r)=>Hs(r.getNode(n===jc.Forwards))?wg.Br:Sd(o,r)===!1?wg.Block:wg.Wrap,C_=(e,n,o,r)=>{const c=Jc(o);let u=r;const m=[];for(;u;){const b=T9(n,c,u);if(!b)break;if(Hs(b.getNode(!1)))return n===jc.Forwards?{positions:Kx(n,m).concat([b]),breakType:wg.Br,breakAt:U.some(b)}:{positions:Kx(n,m),breakType:wg.Br,breakAt:U.some(b)};if(!b.isVisible()){u=b;continue}if(e(u,b)){const _=A9(o,n,u,b);return{positions:Kx(n,m),breakType:_,breakAt:U.some(b)}}m.push(b),u=b}return{positions:Kx(n,m),breakType:wg.Eol,breakAt:U.none()}},S_=(e,n,o,r)=>n(o,r).breakAt.map(c=>{const u=n(o,c).positions;return e===jc.Backwards?u.concat(c):[c].concat(u)}).getOr([]),F3=(e,n)=>Ie(e,(o,r)=>o.fold(()=>U.some(r),c=>Vo(Ln(c.getClientRects()),Ln(r.getClientRects()),(u,m)=>{const b=Math.abs(n-u.left);return Math.abs(n-m.left)<=b?r:c}).or(o)),U.none()),Yx=(e,n)=>Ln(n.getClientRects()).bind(o=>F3(e,o.left)),py=Te(C_,Ft.isAbove,-1),x_=Te(C_,Ft.isBelow,1),r$=Te(S_,-1,py),a$=Te(S_,1,x_),c$=(e,n)=>py(e,n).breakAt.isNone(),i$=(e,n)=>x_(e,n).breakAt.isNone(),O9=e=>Oi(e).map(n=>[n].concat(x_(e,n).positions)).getOr([]),D9=e=>Pl(e).map(n=>py(e,n).positions.concat(n)).getOr([]),R9=(e,n)=>Yx(r$(e,n),n),z9=(e,n)=>Yx(a$(e,n),n),N9=Vs,l$=(e,n)=>Math.abs(e.left-n),M9=(e,n)=>Math.abs(e.right-n),Tf=e=>Ps(e,"node"),Xx=(e,n)=>xe(e,(o,r)=>{const c=Math.min(l$(o,n),M9(o,n)),u=Math.min(l$(r,n),M9(r,n));return u===c&&Tf(r)&&N9(r.node)||u<c?r:o}),u$=e=>{const n=o=>De(o,r=>{const c=Qf(r);return c.node=e,c});if(In(e))return n(e.getClientRects());if(dn(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},I3=e=>ft(e,u$);var E_;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(E_||(E_={}));const d$=(e,n,o,r)=>{let c=r;for(;c=fb(c,e,UC,n);)if(o(c))return},f$=(e,n,o,r,c,u)=>{let m=0;const b=[],_=L=>{let j=I3([L]);e===-1&&(j=j.reverse());for(let ne=0;ne<j.length;ne++){const fe=j[ne];if(!o(fe,A)){if(b.length>0&&n(fe,ht(b))&&m++,fe.line=m,c(fe))return!0;b.push(fe)}}return!1},A=ht(u.getClientRects());if(!A)return b;const B=u.getNode();return B&&(_(B),d$(e,r,_,B)),b},m$=(e,n)=>n.line>e,P9=(e,n)=>n.line===e,B9=Te(f$,E_.Up,Mr,Wy),$9=Te(f$,E_.Down,Wy,Mr),s1=e=>ht(e.getClientRects()),g$=(e,n,o,r)=>{const c=Jc(n);let u,m,b,_;const A=[];let B=0;e===1?(u=c.next,m=Wy,b=Mr,_=Ft.after(r)):(u=c.prev,m=Mr,b=Wy,_=Ft.before(r));const L=s1(_);do{if(!_.isVisible())continue;const j=s1(_);if(b(j,L))continue;A.length>0&&m(j,ht(A))&&B++;const ne=Qf(j);if(ne.position=_,ne.line=B,o(ne))return A;A.push(ne)}while(_=u(_));return A},L3=e=>n=>m$(e,n),Jx=e=>n=>P9(e,n),hm=(e,n)=>{e.selection.setRng(n),Dp(e,e.selection.getRng())},H3=(e,n,o)=>U.some(Zx(e,n,o)),p$=(e,n,o,r,c,u)=>{const m=n===jc.Forwards,b=Jc(e.getBody()),_=Te(Xw,m?b.next:b.prev),A=m?r:c;if(!o.collapsed){const fe=Zy(o);if(u(fe))return bg(n,e,fe,n===jc.Backwards,!1);if(C3(e)){const se=o.cloneRange();return se.collapse(n===jc.Backwards),U.from(se)}}const B=gp(n,e.getBody(),o);if(A(B))return h0(e,B.getNode(!m));let L=_(B);const j=Nr(o);if(L)L=Od(m,L);else return j?U.some(o):U.none();if(A(L))return bg(n,e,L.getNode(!m),m,!1);const ne=_(L);return ne&&A(ne)&&gb(L,ne)?bg(n,e,ne.getNode(!m),m,!1):j?H3(e,L.toRange(),!1):U.none()},h$=(e,n,o,r,c,u)=>{const m=gp(n,e.getBody(),o),b=ht(m.getClientRects()),_=n===E_.Down,A=e.getBody();if(!b)return U.none();if(C3(e)){const he=_?Ft.fromRangeEnd(o):Ft.fromRangeStart(o);return(_?z9:R9)(A,he).orThunk(()=>U.from(he)).map(Ge=>Ge.toRange())}const L=(_?$9:B9)(A,L3(1),m),j=Oe(L,Jx(1)),ne=b.left,fe=Xx(j,ne);if(fe&&u(fe.node)){const he=Math.abs(ne-fe.left),He=Math.abs(ne-fe.right);return bg(n,e,fe.node,he<He,!1)}let se;if(r(m)?se=m.getNode():c(m)?se=m.getNode(!0):se=Zy(o),se){const he=g$(n,A,L3(1),se);let He=Xx(Oe(he,Jx(1)),ne);if(He||(He=ht(Oe(he,Jx(0))),He))return H3(e,He.position.toRange(),!1)}return j.length===0?V3(e,_).filter(_?c:r).map(he=>Zx(e,he.toRange(),!1)):U.none()},V3=(e,n)=>{const o=e.selection.getRng(),r=n?Ft.fromRangeEnd(o):Ft.fromRangeStart(o),c=AA(r.container(),e.getBody());if(n){const u=x_(c,r);return Wo(u.positions)}else{const u=py(c,r);return Ln(u.positions)}},F9=(e,n,o)=>V3(e,n).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),U3=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},I9=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},Bd=(e,n,o)=>N3(n,o).map(r=>(U3(e,r),o)),L9=(e,n,o)=>{const r=Ft.fromRangeStart(e);if(e.collapsed)return r;{const c=Ft.fromRangeEnd(e);return o?bl(n,c).getOr(c):Ai(n,r).getOr(r)}},H9=(e,n,o)=>{const r=e.getBody(),c=L9(e.selection.getRng(),r,o),u=Te(Nb,e);return $3(o,u,r,c).bind(b=>Bd(e,n,b))},r1=(e,n,o)=>{const r=De(ai(Ne.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),m=>m.dom),c=Oe(r,e),u=Oe(o,e);G(po(c,u),Te(I9,!1)),G(po(u,c),Te(I9,!0))},y$=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=Ft.fromRangeStart(e.selection.getRng());Ft.isTextPosition(r)&&!_l(r)&&(U3(e,SA(o,r)),n.set(null))}},V9=(e,n,o,r)=>{if(n.selection.isCollapsed()){const c=Oe(r,e);G(c,u=>{const m=Ft.fromRangeStart(n.selection.getRng());vg(e,n.getBody(),m).bind(b=>Bd(n,o,b))})}},T_=(e,n,o)=>ob(e)?H9(e,n,o).isSome():!1,b$=(e,n,o)=>ob(n)?E9(e,n):!1,U9=e=>{const n=fr(null),o=Te(Nb,e);return e.on("NodeChange",r=>{ob(e)&&(r1(o,e.dom,r.parents),y$(e,n),V9(o,e,n,r.parents))}),n},j9=Te(b$,!0),W9=Te(b$,!1),A_=(e,n,o)=>{if(ob(e)){const r=V3(e,n).getOrThunk(()=>{const c=e.selection.getRng();return n?Ft.fromRangeEnd(c):Ft.fromRangeStart(c)});return vg(Te(Nb,e),e.getBody(),r).exists(c=>{const u=Gx(c);return N3(o,u).exists(m=>(U3(e,m),!0))})}else return!1},Z9=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},$p=e=>Vo(Oi(e),Pl(e),(n,o)=>{const r=Od(!0,n),c=Od(!1,o);return Ai(e,r).forall(u=>u.isEqual(c))}).getOr(!0),Qx=(e,n)=>o=>N3(n,o).map(r=>()=>U3(e,r)),v$=(e,n,o,r)=>{const c=e.getBody(),u=Te(Nb,e);e.undoManager.ignore(()=>{e.selection.setRng(Z9(o,r)),mg(e),vg(u,c,Ft.fromRangeStart(e.selection.getRng())).map(B3).bind(Qx(e,n)).each(rn)}),e.nodeChanged()},q9=(e,n)=>{const o=yl(n,e);return o||e},G9=(e,n,o,r)=>{const c=q9(e.getBody(),r.container()),u=Te(Nb,e),m=vg(u,c,r);return m.bind(_=>o?_.fold(_e(U.some(B3(_))),U.none,_e(U.some(Gx(_))),U.none):_.fold(U.none,_e(U.some(Gx(_))),U.none,_e(U.some(B3(_))))).map(Qx(e,n)).getOrThunk(()=>{const _=sg(o,c,r),A=_.bind(B=>vg(u,c,B));return Vo(m,A,()=>Rp(u,c,r).bind(B=>$p(B)?U.some(()=>{zb(e,o,Ne.fromDom(B))}):U.none())).getOrThunk(()=>A.bind(()=>_.map(B=>()=>{o?v$(e,n,r,B):v$(e,n,B,r)})))})},j3=(e,n,o)=>{if(e.selection.isCollapsed()&&ob(e)){const r=Ft.fromRangeStart(e.selection.getRng());return G9(e,n,o,r)}return U.none()},K9=e=>Xd(e)>1,eE=(e,n)=>{const o=Ne.fromDom(e.getBody()),r=Ne.fromDom(e.selection.getStart()),c=fg(r,o);return Sn(c,n).fold(_e(c),u=>c.slice(0,u))},W3=e=>Xd(e)===1,Z3=e=>eE(e,n=>e.schema.isBlock(me(n))||K9(n)),w$=e=>eE(e,n=>e.schema.isBlock(me(n))),q3=(e,n)=>{const o=Te(f4,e);return ft(n,r=>o(r)?[r.dom]:[])},G3=e=>{const n=w$(e);return q3(e,n)},Y9=(e,n,o,r)=>{const c=q3(n,r);if(c.length===0)zb(n,e,o);else{const u=sx(o.dom,c);n.selection.setRng(u.toRange())}},O_=(e,n)=>{const o=Oe(Z3(e),W3);return Wo(o).bind(r=>{const c=Ft.fromRangeStart(e.selection.getRng());return oM(n,c,r.dom)&&!_b(r)?U.some(()=>Y9(n,e,r,o)):U.none()})},tE=(e,n)=>{const o=n.parentElement;return Hs(n)&&!J(o)&&e.dom.isEmpty(o)},k$=e=>_b(Ne.fromDom(e)),K3=(e,n)=>{const o=e.selection.getStart(),r=tE(e,o)||k$(o)?sx(o,n):PM(e.selection.getRng(),n);e.selection.setRng(r.toRange())},_$=(e,n)=>{const o=po(n,G3(e));o.length>0&&K3(e,o)},Y3=e=>dn(e.startContainer),nE=e=>e.startOffset===0&&Y3(e),X3=(e,n)=>{const o=n.startContainer.parentElement;return!J(o)&&f4(e,Ne.fromDom(o))},D_=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!J(n)&&!J(o)&&n.isEqualNode(o)},X9=e=>{const n=e.endContainer;return e.endOffset===(dn(n)?n.length:n.childNodes.length)},C$=e=>D_(e)&&X9(e),J9=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),Q9=e=>C$(e)||J9(e),S$=e=>{const n=e.selection.getRng();return nE(n)&&X3(e,n)&&Q9(n)},eV=e=>{if(S$(e)){const n=G3(e);return U.some(()=>{mg(e),_$(e,n)})}else return U.none()},oE=(e,n)=>e.selection.isCollapsed()?O_(e,n):eV(e),VK=(e,n)=>Ng(e,o=>Bl(o.dom),o=>n.isBlock(me(o))),tV=e=>VK(Ne.fromDom(e.selection.getStart()),e.schema),nV=e=>{const n=e.selection.getRng();return n.collapsed&&(Y3(n)||e.dom.isEmpty(n.startContainer))&&!tV(e)},R_=e=>(nV(e)&&K3(e,[]),!0),J3=(e,n,o)=>at(o)?U.some(()=>{e._selectionOverrides.hideFakeCaret(),zb(e,n,Ne.fromDom(o))}):U.none(),oV=(e,n)=>{const o=n?Xv:Ak,r=n?jc.Forwards:jc.Backwards,c=gp(r,e.getBody(),e.selection.getRng());return o(c)?J3(e,n,c.getNode(!n)):U.from(Od(n,c)).filter(u=>o(u)&&gb(c,u)).bind(u=>J3(e,n,u.getNode(!n)))},sV=(e,n)=>{const o=e.selection.getNode();return Ic(o)?J3(e,n,o):U.none()},Q3=(e,n)=>e.selection.isCollapsed()?oV(e,n):sV(e,n),rV=e=>Vr(e,n=>Xt(n.dom)||Vs(n.dom)).exists(n=>Xt(n.dom)),sE=e=>aa(e!=null?e:"").getOr(0),x$=(e,n)=>{const o=e||LT(n)?"margin":"padding",r=da(n,"direction")==="rtl"?"-right":"-left";return o+r},a1=(e,n,o,r,c,u)=>{const m=x$(o,Ne.fromDom(u)),b=sE(e.getStyle(u,m));if(n==="outdent"){const _=Math.max(0,b-r);e.setStyle(u,m,_?_+c:"")}else{const _=b+r+c;e.setStyle(u,m,_)}},E$=(e,n)=>an(n,o=>{const r=x$(mS(e),o),c=Ou(o,r).map(sE).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&c>0}),rE=e=>{const n=Fp(e);return!e.mode.isReadOnly()&&(n.length>1||E$(e,n))},eD=e=>_d(e)||Qg(e),tD=e=>Cc(e).exists(eD),Fp=e=>Oe(Jl(e.selection.getSelectedBlocks()),n=>!eD(n)&&!tD(n)&&rV(n)),nD=(e,n)=>{var o,r;if(e.mode.isReadOnly())return;const{dom:c}=e,u=cA(e),m=(r=(o=/[a-z%]+$/i.exec(u))===null||o===void 0?void 0:o[0])!==null&&r!==void 0?r:"px",b=sE(u),_=mS(e);G(Fp(e),A=>{a1(c,n,_,b,m,A.dom)})},$d=e=>nD(e,"indent"),hy=e=>nD(e,"outdent"),aE=e=>{if(e.selection.isCollapsed()&&rE(e)){const n=e.dom,o=e.selection.getRng(),r=Ft.fromRangeStart(o),c=n.getParent(o.startContainer,n.isBlock);if(c!==null&&N2(Ne.fromDom(c),r,e.schema))return U.some(()=>hy(e))}return U.none()},T$=(e,n,o)=>es([aE,__,k3,(r,c)=>j3(r,n,c),Vx,G2,b0,Q3,jx,oE,y0],r=>r(e,o)).filter(r=>e.selection.isEditable()),A$=(e,n)=>{T$(e,n,!1).fold(()=>{e.selection.isEditable()&&(mg(e),Qh(e))},rn)},aV=(e,n)=>{T$(e,n,!0).fold(()=>{e.selection.isEditable()&&nM(e)},rn)},cV=(e,n)=>{e.addCommand("delete",()=>{A$(e,n)}),e.addCommand("forwardDelete",()=>{aV(e,n)})},O$=5,iV=400,D$=e=>e.touches===void 0||e.touches.length!==1?U.none():U.some(e.touches[0]),R$=(e,n)=>{const o=Math.abs(e.clientX-n.x),r=Math.abs(e.clientY-n.y);return o>O$||r>O$},lV=e=>{const n=gc(),o=fr(!1),r=I1(c=>{e.dispatch("longpress",Pt(ie({},c),{type:"longpress"})),o.set(!0)},iV);e.on("touchstart",c=>{D$(c).each(u=>{r.cancel();const m={x:u.clientX,y:u.clientY,target:c.target};r.throttle(c),o.set(!1),n.set(m)})},!0),e.on("touchmove",c=>{r.cancel(),D$(c).each(u=>{n.on(m=>{R$(u,m)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{r.cancel(),c.type!=="touchcancel"&&n.get().filter(u=>u.target.isEqualNode(c.target)).each(()=>{o.get()?c.preventDefault():e.dispatch("tap",Pt(ie({},c),{type:"tap"}))})},!0)},oD=(e,n)=>ao(e,n.nodeName),w0=(e,n)=>dn(n)?!0:In(n)?!oD(e.getBlockElements(),n)&&!vl(n)&&!gd(e,n)&&!oh(n):!1,cE=(e,n,o)=>de(Ok(Ne.fromDom(o),Ne.fromDom(n)),r=>oD(e,r.dom)),z$=(e,n)=>{if(dn(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data))return!n.nextSibling||oD(e,n.nextSibling)||oh(n.nextSibling)}return!1},iE=e=>e.dom.create(Xc(e),Xm(e)),sD=e=>{const n=e.dom,o=e.selection,r=e.schema,c=r.getBlockElements(),u=o.getStart(),m=e.getBody();let b,_,A=null;const B=Xc(e);if(!u||!In(u))return;const L=m.nodeName.toLowerCase();if(!r.isValidChild(L,B.toLowerCase())||cE(c,m,u))return;if(m.firstChild===m.lastChild&&Hs(m.firstChild)){b=iE(e),b.appendChild(Cd().dom),m.replaceChild(b,m.firstChild),e.selection.setCursorLocation(b,0),e.nodeChanged();return}let j=m.firstChild;for(;j;)if(In(j)&&jr(r,j),w0(r,j)){if(z$(c,j)){_=j,j=j.nextSibling,n.remove(_);continue}if(!b){if(!A&&e.hasFocus()&&(A=pm(e.selection.getRng(),()=>document.createElement("span"))),!j.parentNode){j=null;break}b=iE(e),m.insertBefore(b,j)}_=j,j=j.nextSibling,b.appendChild(_)}else b=null,j=j.nextSibling;A&&(e.selection.setRng(Pd(A)),e.nodeChanged())},N$=(e,n,o)=>{const r=Ne.fromDom(iE(e)),c=Cd();$a(r,c),o(n,r);const u=document.createRange();return u.setStartBefore(c.dom),u.setEndBefore(c.dom),u},uV=e=>{e.on("NodeChange",()=>sD(e))},M$=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,dV=(e,n,o)=>function(r){const c=arguments,u=c[c.length-2],m=u>0?n.charAt(u-1):"";if(m==='"')return r;if(m===">"){const b=n.lastIndexOf("<",u);if(b!==-1&&n.substring(b,u).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},fV=(e,n,o)=>{let r=n.length,c=o.content;if(o.format!=="raw"){for(;r--;)c=c.replace(n[r],dV(e,c,iv(e)));o.content=c}},mV=(e,n)=>an(e,o=>{const r=n.match(o);return r!==null&&r[0].length===n.length}),gV=e=>{const n="contenteditable",o=" "+nn.trim(Vu(e))+" ",r=" "+nn.trim(iv(e))+" ",c=M$(o),u=M$(r),m=lv(e);m.length>0&&e.on("BeforeSetContent",b=>{fV(e,m,b)}),e.parser.addAttributeFilter("class",b=>{let _=b.length;for(;_--;){const A=b[_];c(A)?A.attr(n,"true"):u(A)&&A.attr(n,"false")}}),e.serializer.addAttributeFilter(n,b=>{let _=b.length;for(;_--;){const A=b[_];if(!c(A)&&!u(A))continue;const B=A.attr("data-mce-content");m.length>0&&B?mV(m,B)?(A.name="#text",A.type=3,A.raw=!0,A.value=B):A.remove():A.attr(n,null)}})},P$=e=>uo(Ne.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),B$=(e,n)=>{n.hasAttribute("data-mce-caret")&&(_h(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},pV=(e,n)=>{const o=P$(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),B$(e,o);return}BC(o)&&(B$(e,o),e.undoManager.add())}},Yu=e=>{e.on("keyup compositionstart",Te(pV,e))},$$=Vs,rD=(e,n,o)=>p$(n,e,o,Xh,Jh,$$),F$=(e,n,o)=>h$(n,e,o,u=>Xh(u)||z2(u),u=>Jh(u)||xO(u),$$),aD=e=>{const n=e.dom.create(Xc(e));return n.innerHTML='<br data-mce-bogus="1">',n},I$=(e,n,o)=>{const r=Jc(e.getBody()),c=Te(Xw,n===1?r.next:r.prev);if(o.collapsed){const u=e.dom.getParent(o.startContainer,"PRE");if(!u)return;if(!c(Ft.fromRangeStart(o))){const b=Ne.fromDom(aD(e));n===1?el(Ne.fromDom(u),b):dr(Ne.fromDom(u),b),e.selection.select(b.dom,!0),e.selection.collapse()}}},hV=(e,n)=>{const o=n?jc.Forwards:jc.Backwards,r=e.selection.getRng();return rD(o,e,r).orThunk(()=>(I$(e,o,r),U.none()))},yV=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return F$(o,e,r).orThunk(()=>(I$(e,o,r),U.none()))},bV=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return PO(o)?!n:n},L$=(e,n)=>hV(e,bV(e.selection,n)).exists(o=>(hm(e,o),!0)),cD=(e,n)=>yV(e,n).exists(o=>(hm(e,o),!0)),H$=(e,n)=>F9(e,n,n?Jh:Xh),lE=(e,n)=>_3(e,!n).map(o=>{const r=o.toRange(),c=e.selection.getRng();return n?r.setStart(c.startContainer,c.startOffset):r.setEnd(c.endContainer,c.endOffset),r}).exists(o=>(hm(e,o),!0)),z_=e=>re(["figcaption"],me(e)),Ip=(e,n,o)=>{const r=Te(rs,n);return Vr(Ne.fromDom(e.container()),c=>o.isBlock(me(c)),r).filter(z_)},c1=(e,n,o)=>n?i$(e.dom,o):c$(e.dom,o),uE=(e,n)=>{const o=Ne.fromDom(e.getBody()),r=Ft.fromRangeStart(e.selection.getRng());return Ip(r,o,e.schema).exists(()=>{if(c1(o,n,r)){const u=N$(e,o,n?$a:fd);return e.selection.setRng(u),!0}else return!1})},dE=(e,n)=>e.selection.isCollapsed()?uE(e,n):!1,iD=(e,n,o)=>{const r=e.selection.getRng(),c=Ft.fromRangeStart(r);return e.getBody().firstChild===n&&c$(o,c)?(e.execCommand("InsertNewBlockBefore"),!0):!1},V$=(e,n)=>{const o=e.selection.getRng(),r=Ft.fromRangeStart(o);return e.getBody().lastChild===n&&i$(n,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},vV=(e,n)=>n?U.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>V$(e,o)).getOr(!1):U.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>U.from(e.dom.getParent(o,"details")).map(r=>iD(e,r,o))).getOr(!1),lD=(e,n)=>vV(e,n),uD={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},wV=e=>De(e,n=>ie(ie({},uD),n)),kV=e=>De(e,n=>ie(ie({},uD),n)),U$=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,_V=(e,n)=>ft(wV(e),o=>U$(o,n)?[o]:[]),CV=(e,n)=>ft(kV(e),o=>U$(o,n)?[o]:[]),qo=(e,...n)=>()=>e.apply(null,n),k0=(e,n)=>Lt(_V(e,n),o=>o.action()),dD=(e,n)=>es(CV(e,n),o=>o.action()),SV=(e,n)=>{const o=n?jc.Forwards:jc.Backwards,r=e.selection.getRng();return p$(e,o,r,Xv,Ak,Ic).exists(c=>(hm(e,c),!0))},xV=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return h$(e,o,r,Xv,Ak,Ic).exists(c=>(hm(e,c),!0))},EV=(e,n)=>F9(e,n,n?Ak:Xv),j$=au.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),UK=e=>j$.none(e),fE=Pt(ie({},j$),{none:UK}),TV=(e,n)=>W$(e,n,gt),W$=(e,n,o)=>ft(Ua(e),r=>_i(r,n)?o(r)?[r]:[]:W$(r,n,o)),jK=(e,n,o=Pe)=>{if(o(n))return U.none();if(re(e,me(n)))return U.some(n);const r=c=>_i(c,"table")||o(c);return za(n,e.join(","),r)},AV=(e,n)=>jK(["td","th"],e,n),Hl=e=>TV(e,"th,td"),fD=(e,n)=>Xl(e,"table",n),i1=(e,n,o,r,c=gt)=>{const u=r===1;if(!u&&o<=0)return fE.first(e[0]);if(u&&o>=e.length-1)return fE.last(e[e.length-1]);{const m=o+r,b=e[m];return c(b)?fE.middle(n,b):i1(e,n,m,r,c)}},Z$=(e,n)=>fD(e,n).bind(o=>{const r=Hl(o);return Sn(r,u=>rs(e,u)).map(u=>({index:u,all:r}))}),q$=(e,n,o)=>Z$(e,o).fold(()=>fE.none(e),c=>i1(c.all,e,c.index,1,n)),G$=(e,n,o)=>Z$(e,o).fold(()=>fE.none(),c=>i1(c.all,e,c.index,-1,n)),K$=e=>zC(e).filter(n=>n.trim().length!==0||n.indexOf(ja)>-1).isSome(),mD=e=>vs(e)&&tc(e,"contenteditable")==="false",Y$=["img","br"],OV=e=>K$(e)||re(Y$,me(e))||mD(e),X$=e=>Og(e,OV),DV=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),RV=(e,n)=>ft(n,o=>{const r=DV(Qf(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),zV=(e,n,o)=>Ie(e,(r,c)=>r.fold(()=>U.some(c),u=>{const m=Math.sqrt(Math.abs(u.x-n)+Math.abs(u.y-o)),b=Math.sqrt(Math.abs(c.x-n)+Math.abs(c.y-o));return U.some(b<m?c:u)}),U.none()),mE=(e,n,o,r,c)=>{const u=ai(Ne.fromDom(o),"td,th,caption").map(b=>b.dom),m=Oe(RV(e,u),b=>n(b,c));return zV(m,r,c).map(b=>b.cell)},NV=e=>e.bottom,MV=e=>e.top,WK=(e,n)=>e.y<n,PV=(e,n)=>e.y>n,J$=Te(mE,NV,WK),ZK=Te(mE,MV,PV),BV=(e,n)=>Ln(n.getClientRects()).bind(o=>J$(e,o.left,o.top)).bind(o=>Yx(D9(o),n)),$V=(e,n)=>Wo(n.getClientRects()).bind(o=>ZK(e,o.left,o.top)).bind(o=>Yx(O9(o),n)),FV=(e,n,o)=>o.breakAt.exists(r=>e(n,r).breakAt.isSome()),gD=e=>e.breakType===wg.Wrap&&e.positions.length===0,gE=e=>e.breakType===wg.Br&&e.positions.length===1,pD=(e,n,o)=>{const r=e(n,o);return gD(r)||!Hs(o.getNode())&&gE(r)?!FV(e,n,r):r.breakAt.isNone()},Q$=Te(pD,py),IV=Te(pD,x_),LV=(e,n,o)=>{const r=Ft.fromRangeStart(n);return pp(!e,o).exists(c=>c.isEqual(r))},hD=(e,n,o,r)=>{const c=e.selection.getRng(),u=n?1:-1;return EA()&&LV(n,c,o)?(bg(u,e,o,!n,!1).each(m=>{hm(e,m)}),!0):!1},HV=(e,n,o)=>BV(n,o).orThunk(()=>Ln(o.getClientRects()).bind(r=>F3(r$(e,Ft.before(n)),r.left))).getOr(Ft.before(n)),VV=(e,n,o)=>$V(n,o).orThunk(()=>Ln(o.getClientRects()).bind(r=>F3(a$(e,Ft.after(n)),r.left))).getOr(Ft.after(n)),eF=(e,n)=>{const o=n.getNode(e);return Ql(o)?U.some(o):U.none()},UV=(e,n,o)=>{n.undoManager.transact(()=>{const r=e?el:dr,c=N$(n,Ne.fromDom(o),r);hm(n,c)})},Fd=(e,n,o)=>{const r=eF(!!n,o),c=n===!1;r.fold(()=>hm(e,o.toRange()),u=>pp(c,e.getBody()).filter(m=>m.isEqual(o)).fold(()=>hm(e,o.toRange()),m=>UV(n,e,u)))},tF=(e,n,o,r)=>{const c=e.selection.getRng(),u=Ft.fromRangeStart(c),m=e.getBody();if(!n&&Q$(r,u)){const b=HV(m,o,u);return Fd(e,n,b),!0}else if(n&&IV(r,u)){const b=VV(m,o,u);return Fd(e,n,b),!0}else return!1},yD=(e,n,o)=>U.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>U.from(e.dom.getParent(r,"table")).map(c=>o(e,n,c,r))).getOr(!1),jV=(e,n)=>yD(e,n,hD),nF=(e,n)=>yD(e,n,tF),qK=e=>{const n=Ab.exact(e,0,e,0);return l(n)},WV=(e,n,o)=>o.fold(U.none,U.none,(r,c)=>X$(c).map(u=>qK(u)),r=>e.mode.isReadOnly()?U.none():(e.execCommand("mceTableInsertRowAfter"),oF(e,n,r))),oF=(e,n,o)=>WV(e,n,q$(o,Ii)),pE=(e,n,o)=>WV(e,n,G$(o,Ii)),sF=(e,n)=>{const o=["table","li","dl"],r=Ne.fromDom(e.getBody()),c=b=>{const _=me(b);return rs(b,r)||re(o,_)},u=e.selection.getRng(),m=Ne.fromDom(n?u.endContainer:u.startContainer);return AV(m,c).map(b=>(fD(b,c).each(B=>{e.model.table.clearSelectedCells(B.dom)}),e.selection.collapse(!n),(n?oF:pE)(e,c,b).each(B=>{e.selection.setRng(B)}),!0)).getOr(!1)},bD=(e,n,o)=>{const r=$e.os.isMacOS()||$e.os.isiOS();k0([{keyCode:Wn.RIGHT,action:qo(L$,e,!0)},{keyCode:Wn.LEFT,action:qo(L$,e,!1)},{keyCode:Wn.UP,action:qo(cD,e,!1)},{keyCode:Wn.DOWN,action:qo(cD,e,!0)},...r?[{keyCode:Wn.UP,action:qo(lE,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Wn.DOWN,action:qo(lE,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Wn.RIGHT,action:qo(jV,e,!0)},{keyCode:Wn.LEFT,action:qo(jV,e,!1)},{keyCode:Wn.UP,action:qo(nF,e,!1)},{keyCode:Wn.DOWN,action:qo(nF,e,!0)},{keyCode:Wn.UP,action:qo(nF,e,!1)},{keyCode:Wn.UP,action:qo(lD,e,!1)},{keyCode:Wn.DOWN,action:qo(lD,e,!0)},{keyCode:Wn.RIGHT,action:qo(SV,e,!0)},{keyCode:Wn.LEFT,action:qo(SV,e,!1)},{keyCode:Wn.UP,action:qo(xV,e,!1)},{keyCode:Wn.DOWN,action:qo(xV,e,!0)},{keyCode:Wn.RIGHT,action:qo(T_,e,n,!0)},{keyCode:Wn.LEFT,action:qo(T_,e,n,!1)},{keyCode:Wn.RIGHT,ctrlKey:!r,altKey:r,action:qo(j9,e,n)},{keyCode:Wn.LEFT,ctrlKey:!r,altKey:r,action:qo(W9,e,n)},{keyCode:Wn.UP,action:qo(dE,e,!1)},{keyCode:Wn.DOWN,action:qo(dE,e,!0)}],o).each(c=>{o.preventDefault()})},rF=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||bD(e,n,o)})},Af=(e,n)=>({container:e,offset:n}),N_=Er.DOM,hE=e=>n=>e===n?-1:0,ZV=e=>n=>e.isBlock(n)||re(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",vD=(e,n,o)=>{if(dn(e)&&n>=0)return U.some(Af(e,n));{const r=Xg(N_);return U.from(r.backwards(e,n,hE(e),o)).map(c=>Af(c.container,c.container.data.length))}},qV=(e,n,o)=>{if(dn(e)&&n>=e.length)return U.some(Af(e,n));{const r=Xg(N_);return U.from(r.forwards(e,n,hE(e),o)).map(c=>Af(c.container,0))}},_0=(e,n,o)=>{if(!dn(e))return U.none();const r=e.data;if(n>=0&&n<=r.length)return U.some(Af(e,n));{const c=Xg(N_);return U.from(c.backwards(e,n,hE(e),o)).bind(u=>{const m=u.container.data;return _0(u.container,n+m.length,o)})}},aF=(e,n,o)=>{if(!dn(e))return U.none();const r=e.data;if(n<=r.length)return U.some(Af(e,n));{const c=Xg(N_);return U.from(c.forwards(e,n,hE(e),o)).bind(u=>aF(u.container,n-r.length,o))}},wD=(e,n,o,r,c)=>{const u=Xg(e,ZV(e));return U.from(u.backwards(n,o,r,c))},GV=e=>e.collapsed&&dn(e.startContainer),kD=e=>ou(e.toString().replace(/\u00A0/g," ")),cF=e=>e!==""&&`  \uFEFF\f
\r	\v`.indexOf(e)!==-1,KV=(e,n)=>e.substring(n.length),iF=(e,n,o,r=!1)=>{let c;const u=o.charAt(0);for(c=n-1;c>=0;c--){const m=e.charAt(c);if(!r&&cF(m))return U.none();if(u===m&&io(e,o,c,n))break}return U.some(c)},_D=(e,n,o,r=!1)=>{if(!GV(n))return U.none();const c={text:"",offset:0},u=(b,_,A)=>(c.text=A+c.text,c.offset+=_,iF(c.text,c.offset,o,r).getOr(_)),m=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return wD(e,n.startContainer,n.startOffset,u,m).bind(b=>{const _=n.cloneRange();if(_.setStart(b.container,b.offset),_.setEnd(n.endContainer,n.endOffset),_.collapsed)return U.none();const A=kD(_);return A.lastIndexOf(o)!==0?U.none():U.some({text:KV(A,o),range:_,trigger:o})})},YV=e=>e.nodeType===ce,XV=e=>e.nodeType===sd,lF=e=>{if(YV(e))return Af(e,e.data.length);{const n=e.childNodes;return n.length>0?lF(n[n.length-1]):Af(e,n.length)}},uF=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?uF(o[n],0):o.length>0&&XV(e)&&o.length===n?lF(o[o.length-1]):Af(e,n)},JV=(e,n)=>{var o;const r=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return wD(e,n.container,n.offset,(c,u)=>u===0?-1:u,r).filter(c=>{const u=c.container.data.charAt(c.offset-1);return!cF(u)}).isSome()},CD=e=>n=>{const o=uF(n.startContainer,n.startOffset);return!JV(e,o)},QV=(e,n,o)=>es(o.triggers,r=>_D(e,n,r)),dF=(e,n)=>{const o=n(),r=e.selection.getRng();return QV(e.dom,r,o).bind(c=>fF(e,n,c))},fF=(e,n,o,r={})=>{var c;const u=n(),b=(c=e.selection.getRng().startContainer.nodeValue)!==null&&c!==void 0?c:"",_=Oe(u.lookupByTrigger(o.trigger),B=>o.text.length>=B.minChars&&B.matches.getOrThunk(()=>CD(e.dom))(o.range,b,o.text));if(_.length===0)return U.none();const A=Promise.all(De(_,B=>B.fetch(o.text,B.maxResults,r).then(j=>({matchText:o.text,items:j,columns:B.columns,onAction:B.onAction,highlightOn:B.highlightOn}))));return U.some({lookupData:A,context:o})};var ym;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(ym||(ym={}));const SD=(e,n,o)=>e.stype===ym.Error?n(e.serror):o(e.svalue),eU=e=>{const n=[],o=[];return G(e,r=>{SD(r,c=>o.push(c),c=>n.push(c))}),{values:n,errors:o}},tU=(e,n)=>e.stype===ym.Error?{stype:ym.Error,serror:n(e.serror)}:e,nU=(e,n)=>e.stype===ym.Value?{stype:ym.Value,svalue:n(e.svalue)}:e,Dc=(e,n)=>e.stype===ym.Value?n(e.svalue):e,oU=(e,n)=>e.stype===ym.Error?n(e.serror):e,mF=e=>({stype:ym.Value,svalue:e}),gF=e=>({stype:ym.Error,serror:e}),mi={fromResult:e=>e.fold(gF,mF),toResult:e=>SD(e,ac.error,ac.value),svalue:mF,partition:eU,serror:gF,bind:Dc,bindError:oU,map:nU,mapError:tU,fold:SD},kg=e=>vt(e)&&_o(e).length>100?" removed due to size":JSON.stringify(e,null,2),xD=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:_e("... (only showing first ten failures)")}]):e;return De(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},M_=(e,n)=>mi.serror([{path:e,getErrorInfo:n}]),ED=(e,n,o)=>M_(e,()=>'Could not find valid *required* value for "'+n+'" in '+kg(o)),TD=(e,n)=>M_(e,()=>'Choice schema did not contain choice key: "'+n+'"'),AD=(e,n,o)=>M_(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+kg(n)),hF=(e,n)=>M_(e,_e(n)),yE=(e,n,o,r)=>ys(o,r).fold(()=>AD(e,o,r),u=>u.extract(e.concat(["branch: "+r]),n)),bE=(e,n)=>({extract:(c,u)=>ys(u,e).fold(()=>TD(c,e),b=>yE(c,u,n,b)),toString:()=>"chooseOn("+e+"). Possible values: "+_o(n)}),P_=(e,n)=>n,B_=(e,n)=>Pn(e)&&Pn(n)?yy(e,n):n,Id=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<n.length;r++){const c=n[r];for(const u in c)ao(c,u)&&(o[u]=e(o[u],c[u]))}return o},yy=Id(B_),OD=Id(P_),DD=()=>({tag:"required",process:{}}),rU=e=>({tag:"defaultedThunk",process:e}),RD=e=>rU(_e(e)),aU=()=>({tag:"option",process:{}}),cU=(e,n)=>e.length>0?mi.svalue(yy(n,OD.apply(void 0,e))):mi.svalue(n),C0=e=>x(mi.serror,rt)(e),iU={consolidateObj:(e,n)=>{const o=mi.partition(e);return o.errors.length>0?C0(o.errors):cU(o.values,n)},consolidateArr:e=>{const n=mi.partition(e);return n.errors.length>0?C0(n.errors):mi.svalue(n.values)}},lU=(e,n,o,r)=>({tag:"field",key:e,newKey:n,presence:o,prop:r}),uU=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),yF=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},zD=e=>{const n=(r,c)=>mi.bindError(e(c),u=>hF(r,u)),o=_e("val");return{extract:n,toString:o}},dU=zD(mi.svalue),fU=(e,n,o,r)=>ys(n,o).fold(()=>ED(e,o,n),r),bF=(e,n,o,r)=>{const c=ys(e,n).getOrThunk(()=>o(e));return r(c)},mU=(e,n,o)=>o(ys(e,n)),gU=(e,n,o,r)=>{const c=ys(e,n).map(u=>u===!0?o(e):u);return r(c)},pU=(e,n,o,r,c)=>{const u=b=>c.extract(n.concat([r]),b),m=b=>b.fold(()=>mi.svalue(U.none()),_=>{const A=c.extract(n.concat([r]),_);return mi.map(A,U.some)});switch(e.tag){case"required":return fU(n,o,r,u);case"defaultedThunk":return bF(o,r,e.process,u);case"option":return mU(o,r,m);case"defaultedOptionThunk":return gU(o,r,e.process,m);case"mergeWithThunk":return bF(o,r,_e({}),b=>{const _=yy(e.process(o),b);return u(_)})}},hU=(e,n,o)=>{const r={},c=[];for(const u of o)yF(u,(m,b,_,A)=>{const B=pU(_,e,n,m,A);mi.fold(B,L=>{c.push(...L)},L=>{r[b]=L})},(m,b)=>{r[m]=b(n)});return c.length>0?mi.serror(c):mi.svalue(r)},vE=e=>({extract:(r,c)=>hU(r,c,e),toString:()=>`obj{
`+De(e,c=>yF(c,(u,m,b,_)=>u+" -> "+_.toString(),(u,m)=>"state("+u+")")).join(`
`)+"}"}),ND=e=>({extract:(r,c)=>{const u=De(c,(m,b)=>e.extract(r.concat(["["+b+"]"]),m));return iU.consolidateArr(u)},toString:()=>"array("+e.toString()+")"}),vF=e=>zD(n=>e(n).fold(mi.serror,mi.svalue)),yU=(e,n,o)=>{const r=n.extract([e],o);return mi.mapError(r,c=>({input:o,errors:c}))},bU=(e,n,o)=>mi.toResult(yU(e,n,o)),vU=e=>`Errors: 
`+xD(e.errors).join(`
`)+`

Input object: `+kg(e.input),wF=(e,n)=>bE(e,Go(n,vE)),kF=_e(dU),wE=(e,n)=>zD(o=>{const r=typeof o;return e(o)?mi.svalue(o):mi.serror(`Expected type: ${n} but got: ${r}`)}),_F=wE(bo,"number"),kE=wE(ae,"string"),CF=wE(Zt,"boolean"),_E=wE(ke,"function"),$_=lU,SF=uU,wU=e=>vF(n=>re(e,n)?ac.value(n):ac.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),xF=(e,n)=>$_(e,e,DD(),n),MD=e=>xF(e,kE),EF=e=>xF(e,_E),kU=(e,n)=>$_(e,e,DD(),ND(n)),CE=(e,n)=>$_(e,e,aU(),n),SE=e=>CE(e,kE),_U=e=>CE(e,_E),TF=(e,n)=>$_(e,e,RD(n),kF()),S0=(e,n,o)=>$_(e,e,RD(n),o),AF=(e,n)=>S0(e,n,_F),OF=(e,n)=>S0(e,n,kE),PD=(e,n,o)=>S0(e,n,wU(o)),xE=(e,n)=>S0(e,n,CF),BD=(e,n)=>S0(e,n,_E),CU=(e,n,o)=>S0(e,n,ND(o)),SU=MD("type"),xU=EF("fetch"),$D=EF("onAction"),EU=BD("onSetup",()=>Ye),TU=SE("text"),AU=SE("icon"),YK=SE("tooltip"),OU=SE("label"),EE=xE("active",!1),DF=xE("enabled",!0),FD=xE("primary",!1),DU=e=>TF("columns",e),x0=e=>OF("type",e),RF=vE([SU,MD("trigger"),AF("minChars",1),DU(1),AF("maxResults",10),_U("matches"),xU,$D,CU("highlightOn",[],kE)]),RU=e=>bU("Autocompleter",RF,e),ID=[DF,YK,AU,TU,EU,OF("context","mode:design")],zF=[EE].concat(ID),NF=[BD("predicate",Pe),PD("scope","node",["node","editor"]),PD("position","selection",["node","selection","line"])],zU=ID.concat([x0("contextformbutton"),FD,$D,SF("original",Ht)]),LD=zF.concat([x0("contextformbutton"),FD,$D,SF("original",Ht)]),NU=ID.concat([x0("contextformbutton")]),MU=zF.concat([x0("contextformtogglebutton")]),PU=wF("type",{contextformbutton:zU,contextformtogglebutton:LD});vE([x0("contextform"),BD("initValue",_e("")),OU,kU("commands",PU),CE("launch",wF("type",{contextformbutton:NU,contextformtogglebutton:MU}))].concat(NF));const MF=e=>{const n=e.ui.registry.getAll().popups,o=Go(n,m=>RU(m).fold(b=>{throw new Error(vU(b))},Ht)),r=Ct(Jr(o,m=>m.trigger)),c=Zr(o);return{dataset:o,triggers:r,lookupByTrigger:m=>Oe(c,b=>b.trigger===m)}},BU=(e,n)=>{const o=I1(n.load,50);e.on("input",r=>{r.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",r=>{const c=r.which;c===8?o.throttle():c===27?(o.cancel(),n.cancelIfNecessary()):(c===38||c===40)&&o.cancel()},!0),e.on("remove",o.cancel)},$U=e=>{const n=gc(),o=fr(!1),r=n.isSet,c=()=>{r()&&(GA(e),o.set(!1),n.clear())},u=L=>{r()||n.set({trigger:L.trigger,matchLength:L.text.length})},m=Mt(()=>MF(e)),b=L=>n.get().map(j=>_D(e.dom,e.selection.getRng(),j.trigger,!0).bind(ne=>fF(e,m,ne,L))).getOrThunk(()=>dF(e,m)),_=L=>{b(L).fold(c,j=>{u(j.context),j.lookupData.then(ne=>{n.get().map(fe=>{const se=j.context;fe.trigger===se.trigger&&(n.set(Pt(ie({},fe),{matchLength:se.text.length})),o.get()?($v(e,{range:se.range}),qA(e,{lookupData:ne})):(o.set(!0),$v(e,{range:se.range}),Bv(e,{lookupData:ne})))})})})},A=(L,j)=>{const ne=L.compareBoundaryPoints(window.Range.START_TO_START,j),fe=L.compareBoundaryPoints(window.Range.END_TO_END,j);return ne>=0&&fe<=0},B=()=>n.get().bind(({trigger:L})=>{const j=e.selection.getRng();return _D(e.dom,j,L,o.get()).filter(({range:ne})=>A(j,ne)).map(({range:ne})=>ne)});e.addCommand("mceAutocompleterReload",(L,j)=>{const ne=vt(j)?j.fetchOptions:{};_(ne)}),e.addCommand("mceAutocompleterClose",c),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{B().each(L=>{$v(e,{range:L})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>B().isSome()),BU(e,{cancelIfNecessary:c,load:_})},FU=ee().browser.isSafari(),PF=e=>mf(Ne.fromDom(e)),Rc=(e,n)=>{var o;return e.startOffset===0&&e.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},Ld=(e,n)=>U.from(e.getParent(n.container(),"details")),BF=(e,n)=>Ld(e,n).isSome(),JK=(e,n)=>{const o=U.from(e.getParent(n.startContainer,"details")),r=U.from(e.getParent(n.endContainer,"details"));if(o.isSome()||r.isSome()){const c=o.bind(u=>U.from(e.select("summary",u)[0]));return U.some({startSummary:c,startDetails:o,endDetails:r})}else return U.none()},IU=(e,n)=>Oi(n).exists(o=>o.isEqual(e)),LU=(e,n)=>Pl(n).exists(o=>Hs(o.getNode())&&bl(n,o).exists(r=>r.isEqual(e))||o.isEqual(e)),HU=(e,n)=>n.startSummary.exists(o=>IU(e,o)),VU=(e,n)=>n.startSummary.exists(o=>LU(e,o)),$F=(e,n)=>n.startDetails.exists(o=>bl(o,e).forall(r=>n.startSummary.exists(c=>!c.contains(e.container())&&c.contains(r.container())))),E0=(e,n,o)=>o.startDetails.exists(r=>Ai(e,n).forall(c=>!r.contains(c.container()))),UU=(e,n)=>{const o=n.getNode();Tn(o)||e.selection.setCursorLocation(o,n.offset())},FF=(e,n,o)=>{const r=e.dom.getParent(n.container(),"details");if(r&&!r.open){const c=e.dom.select("summary",r)[0];c&&(o?Oi(c):Pl(c)).each(m=>UU(e,m))}else UU(e,n)},jU=(e,n)=>{const o=_=>_.contains(e.startContainer),r=_=>_.contains(e.endContainer),c=n.startSummary.exists(o),u=n.startSummary.exists(r),m=n.startDetails.forall(_=>n.endDetails.forall(A=>_!==A));return(c||u)&&!(c&&u)||m},Of=(e,n,o)=>{const{dom:r,selection:c}=e,u=e.getBody();if(o==="character"){const m=Ft.fromRangeStart(c.getRng()),b=r.getParent(m.container(),r.isBlock),_=Ld(r,m),A=b&&r.isEmpty(b),B=J(b==null?void 0:b.previousSibling),L=J(b==null?void 0:b.nextSibling);return A&&(n?L:B)&&sg(!n,u,m).exists(fe=>BF(r,fe)&&!ba(_,Ld(r,fe)))?!0:sg(n,u,m).fold(Pe,j=>{const ne=Ld(r,j);if(BF(r,j)&&!ba(_,ne)){if(n||FF(e,j,!1),b&&A){if(n&&B)return!0;if(!n&&L)return!0;FF(e,j,n),e.dom.remove(b)}return!0}else return!1})}else return!1},WU=(e,n,o,r)=>{const u=e.selection.getRng(),m=Ft.fromRangeStart(u),b=e.getBody();return r==="selection"?jU(u,n):o?VU(m,n)||E0(b,m,n):HU(m,n)||$F(m,n)},ZU=(e,n,o)=>JK(e.dom,e.selection.getRng()).fold(()=>Of(e,n,o),r=>WU(e,r,n,o)||Of(e,n,o)),IF=(e,n,o)=>{const r=e.selection,c=r.getNode(),u=r.getRng(),m=Ft.fromRangeStart(u);return sf(c)?(o==="selection"&&Rc(u,c)||oM(n,m,c)?PF(c):e.undoManager.transact(()=>{const b=r.getSel();let{anchorNode:_,anchorOffset:A,focusNode:B,focusOffset:L}=b!=null?b:{};const j=()=>{at(_)&&at(A)&&at(B)&&at(L)&&(b==null||b.setBaseAndExtent(_,A,B,L))},ne=()=>{_=b==null?void 0:b.anchorNode,A=b==null?void 0:b.anchorOffset,B=b==null?void 0:b.focusNode,L=b==null?void 0:b.focusOffset},fe=(he,He)=>{G(he.childNodes,Ge=>{wp(Ge)&&He.appendChild(Ge)})},se=e.dom.create("span",{"data-mce-bogus":"1"});fe(c,se),c.appendChild(se),j(),(o==="word"||o==="line")&&(b==null||b.modify("extend",n?"right":"left",o)),!r.isCollapsed()&&Rc(r.getRng(),se)?PF(c):(e.execCommand(n?"ForwardDelete":"Delete"),ne(),fe(se,c),j()),e.dom.remove(se)}),!0):!1},l1=(e,n,o)=>ZU(e,n,o)||FU&&IF(e,n,o)?U.some(Ye):U.none(),TE=e=>(n,o,r={})=>{const c=n.getBody(),u={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:Ye,inputType:o},m=J0(new InputEvent(e));return n.dispatch(e,ie(ie(ie({},m),u),r))},Xu=TE("input"),F_=TE("beforeinput"),HD=ee(),LF=HD.os,I_=LF.isMacOS()||LF.isiOS(),VF=HD.browser.isFirefox(),UF=(e,n,o)=>{const r=o.keyCode===Wn.BACKSPACE?"deleteContentBackward":"deleteContentForward",c=e.selection.isCollapsed(),u=c?"character":"selection",m=b=>c?b?"word":"line":"selection";dD([{keyCode:Wn.BACKSPACE,action:qo(aE,e)},{keyCode:Wn.BACKSPACE,action:qo(__,e,!1)},{keyCode:Wn.DELETE,action:qo(__,e,!0)},{keyCode:Wn.BACKSPACE,action:qo(k3,e,!1)},{keyCode:Wn.DELETE,action:qo(k3,e,!0)},{keyCode:Wn.BACKSPACE,action:qo(j3,e,n,!1)},{keyCode:Wn.DELETE,action:qo(j3,e,n,!0)},{keyCode:Wn.BACKSPACE,action:qo(G2,e,!1)},{keyCode:Wn.DELETE,action:qo(G2,e,!0)},{keyCode:Wn.BACKSPACE,action:qo(l1,e,!1,u)},{keyCode:Wn.DELETE,action:qo(l1,e,!0,u)},...I_?[{keyCode:Wn.BACKSPACE,altKey:!0,action:qo(l1,e,!1,m(!0))},{keyCode:Wn.DELETE,altKey:!0,action:qo(l1,e,!0,m(!0))},{keyCode:Wn.BACKSPACE,metaKey:!0,action:qo(l1,e,!1,m(!1))}]:[{keyCode:Wn.BACKSPACE,ctrlKey:!0,action:qo(l1,e,!1,m(!0))},{keyCode:Wn.DELETE,ctrlKey:!0,action:qo(l1,e,!0,m(!0))}],{keyCode:Wn.BACKSPACE,action:qo(b0,e,!1)},{keyCode:Wn.DELETE,action:qo(b0,e,!0)},{keyCode:Wn.BACKSPACE,action:qo(Q3,e,!1)},{keyCode:Wn.DELETE,action:qo(Q3,e,!0)},{keyCode:Wn.BACKSPACE,action:qo(jx,e,!1)},{keyCode:Wn.DELETE,action:qo(jx,e,!0)},{keyCode:Wn.BACKSPACE,action:qo(Vx,e,!1)},{keyCode:Wn.DELETE,action:qo(Vx,e,!0)},{keyCode:Wn.BACKSPACE,action:qo(oE,e,!1)},{keyCode:Wn.DELETE,action:qo(oE,e,!0)},{keyCode:Wn.BACKSPACE,action:qo(y0,e,!1)},{keyCode:Wn.DELETE,action:qo(y0,e,!0)}],o).filter(b=>e.selection.isEditable()).each(b=>{o.preventDefault(),F_(e,r).isDefaultPrevented()||(b(),Xu(e,r))})},qU=(e,n,o)=>k0([{keyCode:Wn.BACKSPACE,action:qo(A3,e)},{keyCode:Wn.DELETE,action:qo(A3,e)},...I_?[{keyCode:Wn.BACKSPACE,altKey:!0,action:qo(R_,e)},{keyCode:Wn.DELETE,altKey:!0,action:qo(R_,e)},...o?[{keyCode:VF?224:91,action:qo(R_,e)}]:[]]:[{keyCode:Wn.BACKSPACE,ctrlKey:!0,action:qo(R_,e)},{keyCode:Wn.DELETE,ctrlKey:!0,action:qo(R_,e)}]],n),GU=(e,n)=>{let o=!1;e.on("keydown",r=>{o=r.keyCode===Wn.BACKSPACE,r.isDefaultPrevented()||UF(e,n,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||qU(e,r,o),o=!1})},KU=e=>{for(;e;){if(In(e)||dn(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},T0=(e,n)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const u=KU(n.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&n.insertBefore(o.doc.createTextNode(ja),n.firstChild)}const c=o.createRng();if(n.normalize(),n.hasChildNodes()){const u=new oc(n,n);let m=n,b;for(;b=u.current();){if(dn(b)){c.setStart(b,0),c.setEnd(b,0);break}if(r[b.nodeName.toLowerCase()]){c.setStartBefore(b),c.setEndBefore(b);break}m=b,b=u.next()}b||(c.setStart(m,0),c.setEnd(m,0))}else Hs(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)):(c.setStart(n,0),c.setEnd(n,0));e.selection.setRng(c),Dp(e,c)},L_=(e,n)=>{const o=e.getRoot();let r,c=n;for(;c!==o&&c&&e.getContentEditable(c)!=="false";){if(e.getContentEditable(c)==="true"){r=c;break}c=c.parentNode}return c!==o?r:o},AE=e=>U.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),YU=e=>AE(e).fold(_e(""),n=>n.nodeName.toUpperCase()),XU=e=>AE(e).filter(n=>Qg(Ne.fromDom(n))).isSome(),VD=e=>{e.innerHTML='<br data-mce-bogus="1">'},JU=(e,n,o)=>{const r=e.dom;U.from(o.style).map(r.parseStyle).each(_=>{const A=Ci(Ne.fromDom(n)),B=ie(ie({},A),_);r.setStyles(n,B)});const c=U.from(o.class).map(_=>_.split(/\s+/)),u=U.from(n.className).map(_=>Oe(_.split(/\s+/),A=>A!==""));Vo(c,u,(_,A)=>{const B=Oe(A,j=>!re(_,j)),L=[..._,...B];r.setAttrib(n,"class",L.join(" "))});const m=["style","class"],b=Cs(o,(_,A)=>!re(m,A));r.setAttribs(n,b)},H_=(e,n)=>{if(Xc(e).toLowerCase()===n.tagName.toLowerCase()){const r=Xm(e);JU(e,n,r)}},UD=(e,n,o,r,c=!0,u,m)=>{const b=e.dom,_=e.schema,A=Xc(e),B=o?o.nodeName.toUpperCase():"";let L=n;const j=_.getTextInlineElements();let ne;u||B==="TABLE"||B==="HR"?ne=b.create(u||A,m||{}):ne=o.cloneNode(!1);let fe=ne;if(!c)b.setAttrib(ne,"style",null),b.setAttrib(ne,"class",null);else do if(j[L.nodeName]){if(Bl(L)||vl(L))continue;const se=L.cloneNode(!1);b.setAttrib(se,"id",""),ne.hasChildNodes()?(se.appendChild(ne.firstChild),ne.appendChild(se)):(fe=se,ne.appendChild(se))}while((L=L.parentNode)&&L!==r);return H_(e,ne),VD(fe),ne},jF=(e,n)=>e.dom.getParent(n,zy),QU=(e,n,o)=>{let r=n;for(;r&&r!==e&&J(r.nextSibling);){const c=r.parentElement;if(!c||!o(c))return zy(c);r=c}return!1},ej=(e,n,o)=>!n&&o.nodeName.toLowerCase()===Xc(e)&&e.dom.isEmpty(o)&&QU(e.getBody(),o,r=>ao(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),QK=(e,n,o)=>{var r,c,u;const m=n(Xc(e)),b=jF(e,o);b&&(e.dom.insertAfter(m,b),T0(e,m),((u=(c=(r=o.parentElement)===null||r===void 0?void 0:r.childNodes)===null||c===void 0?void 0:c.length)!==null&&u!==void 0?u:0)>1&&e.dom.remove(o))},jD=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,tj=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},WF=(e,n)=>{const o=e==null?void 0:e.parentNode;return at(o)&&o.nodeName===n},ZF=e=>at(e)&&/^(OL|UL|LI)$/.test(e.nodeName),OE=e=>at(e)&&/^(LI|DT|DD)$/.test(e.nodeName),nj=e=>ZF(e)&&ZF(e.parentNode),V_=e=>{const n=e.parentNode;return OE(n)?n:e},DE=(e,n,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!In(r);)r=r[o?"nextSibling":"previousSibling"];return r===n},qF=e=>Ie(Jr(Ci(Ne.fromDom(e)),(n,o)=>`${o}: ${n};`),(n,o)=>n+o,""),oj=(e,n,o,r,c)=>{const u=e.dom,m=e.selection.getRng(),b=o.parentNode;if(o===e.getBody()||!b)return;nj(o)&&(c="LI");const _=OE(r)?qF(r):void 0;let A=OE(r)&&_?n(c,{style:qF(r)}):n(c);if(DE(o,r,!0)&&DE(o,r,!1))if(WF(o,"LI")){const B=V_(o);u.insertAfter(A,B),tj(o)?u.remove(B):u.remove(o)}else u.replace(A,o);else if(DE(o,r,!0))WF(o,"LI")?(u.insertAfter(A,V_(o)),A.appendChild(u.doc.createTextNode(" ")),A.appendChild(o)):b.insertBefore(A,o),u.remove(r);else if(DE(o,r,!1))u.insertAfter(A,V_(o)),u.remove(r);else{o=V_(o);const B=m.cloneRange();B.setStartAfter(r),B.setEndAfter(o);const L=B.extractContents();if(c==="LI"&&jD(L,"LI")){const j=Oe(De(A.children,Ne.fromDom),Vt(ec("br")));A=L.firstChild,u.insertAfter(L,o),G(j,ne=>fd(Ne.fromDom(A),ne)),_&&A.setAttribute("style",_)}else u.insertAfter(L,o),u.insertAfter(A,o);u.remove(r)}T0(e,A)},Ki=e=>{G(zg(Ne.fromDom(e),tr),n=>{const o=n.dom;o.nodeValue=ou(o.data)})},sj=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},rj=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),WD=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,aj=(e,n)=>e.nodeName===n||e.nextSibling&&e.nextSibling.nodeName===n,ZD=(e,n)=>at(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",cj=(e,n,o)=>{var r;const c=[];if(!o)return;let u=o;for(;u=u.firstChild;){if(e.isBlock(u))return;In(u)&&!n[u.nodeName.toLowerCase()]&&c.push(u)}let m=c.length;for(;m--;)u=c[m],(!u.hasChildNodes()||u.firstChild===u.lastChild&&((r=u.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||rj(e,u))&&e.remove(u)},qD=(e,n,o)=>dn(n)?e?o===1&&n.data.charAt(o-1)===pc?0:o:o===n.data.length-1&&n.data.charAt(o)===pc?n.data.length:o:o,RE=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,qD(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,qD(!1,e.endContainer,e.endOffset)),n},ij=e=>{let n=e;do dn(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},lj=(e,n,o,r,c)=>{var u,m;const b=e.dom,_=(u=L_(b,r))!==null&&u!==void 0?u:b.getRoot();let A=b.getParent(r,b.isBlock);if(!A||!ZD(b,A)){if(A=A||_,!A.hasChildNodes()){const ne=b.create(n);return H_(e,ne),A.appendChild(ne),o.setStart(ne,0),o.setEnd(ne,0),ne}let B=r;for(;B&&B.parentNode!==A;)B=B.parentNode;let L;for(;B&&!b.isBlock(B);)L=B,B=B.previousSibling;const j=(m=L==null?void 0:L.parentElement)===null||m===void 0?void 0:m.nodeName;if(L&&j&&e.schema.isValidChild(j,n.toLowerCase())){const ne=L.parentNode,fe=b.create(n);for(H_(e,fe),ne.insertBefore(fe,L),B=L;B&&!b.isBlock(B);){const se=B.nextSibling;fe.appendChild(B),B=se}o.setStart(r,c),o.setEnd(r,c)}}return r},GD=(e,n)=>{n.normalize();const o=n.lastChild;(!o||In(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},KD=(e,n)=>{const o=ic(e);return gn(n)?!1:ae(o)?re(nn.explode(o),n.nodeName.toLowerCase()):o},uj={insert:(e,n)=>{let o,r,c,u,m=!1;const b=e.dom,_=e.schema,A=_.getNonEmptyElements(),B=e.selection.getRng(),L=Xc(e),j=Ne.fromDom(B.startContainer),ne=oi(j,B.startOffset),fe=ne.exists(sn=>vs(sn)&&!Ii(sn)),se=B.collapsed&&fe,he=(sn,qn)=>UD(e,o,yn,en,cc(e),sn,qn),He=sn=>{const qn=qD(sn,o,r);if(dn(o)&&(sn?qn>0:qn<o.data.length))return!1;if((o.parentNode===yn||o===yn)&&m&&!sn||sn&&In(o)&&o===yn.firstChild)return!0;if(WD(o,"TABLE")||WD(o,"HR"))return aj(o,"BR")?!sn:m&&!sn||!m&&sn;const yo=new oc(o,yn);dn(o)&&(sn&&qn===0?yo.prev():!sn&&qn===o.data.length&&yo.next());let gs;for(;gs=yo.current();){if(In(gs)){if(!gs.getAttribute("data-mce-bogus")){const ps=gs.nodeName.toLowerCase();if(A[ps]&&ps!=="br")return!1}}else if(dn(gs)&&!nl(gs.data))return!1;sn?yo.prev():yo.next()}return!0},Ge=()=>{let sn;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&Zn!=="HGROUP"?sn=he(L):sn=he(),KD(e,u)&&ZD(b,u)&&b.isEmpty(yn,void 0,{includeZwsp:!0})?sn=b.split(u,yn):b.insertAfter(sn,yn),T0(e,sn),sn};Rn(b,B).each(sn=>{B.setStart(sn.startContainer,sn.startOffset),B.setEnd(sn.endContainer,sn.endOffset)}),o=B.startContainer,r=B.startOffset;const nt=!!(n&&n.shiftKey),mt=!!(n&&n.ctrlKey);In(o)&&o.hasChildNodes()&&!se&&(m=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,m&&dn(o)?r=o.data.length:r=0);const en=L_(b,o);if(!en||sj(e,o))return;nt||(o=lj(e,L,B,o,r));let yn=b.getParent(o,b.isBlock)||b.getRoot();u=at(yn==null?void 0:yn.parentNode)?b.getParent(yn.parentNode,b.isBlock):null,c=yn?yn.nodeName.toUpperCase():"";const Zn=u?u.nodeName.toUpperCase():"";if(Zn==="LI"&&!mt){const sn=u;yn=sn,u=sn.parentNode,c=Zn}if(In(u)&&ej(e,nt,yn))return QK(e,he,yn);if(/^(LI|DT|DD)$/.test(c)&&In(u)&&b.isEmpty(yn)){oj(e,he,u,yn,L);return}if(!se&&(yn===e.getBody()||!ZD(b,yn)))return;const Wt=yn.parentNode;let At;if(se)At=he(L),ne.fold(()=>{$a(j,Ne.fromDom(At))},sn=>{dr(sn,Ne.fromDom(At))}),e.selection.setCursorLocation(At,0);else if(Zm(yn))At=_h(yn),b.isEmpty(yn)&&VD(yn),H_(e,At),T0(e,At);else if(He(!1))At=Ge();else if(He(!0)&&Wt){const sn=Ft.fromRangeStart(B),qn=xO(sn),yo=Ne.fromDom(yn),ps=M2(yo,sn,e.schema)?Fo(yo,sn,e.schema).bind(lr=>U.from(lr.getNode())):U.none();At=Wt.insertBefore(he(),yn);const Ks=WD(yn,"HR")||qn?At:ps.getOr(yn);T0(e,Ks)}else{const sn=RE(B).cloneRange();sn.setEndAfter(yn);const qn=sn.extractContents();Ki(qn),ij(qn),At=qn.firstChild,b.insertAfter(qn,yn),cj(b,A,At),GD(b,yn),b.isEmpty(yn)&&VD(yn),At.normalize(),b.isEmpty(At)?(b.remove(At),Ge()):(H_(e,At),T0(e,At))}b.setAttrib(At,"id",""),e.dispatch("NewBlock",{newBlock:At})},fakeEventName:"insertParagraph"},tY=(e,n,o)=>{const r=new oc(n,o);let c;const u=e.getNonEmptyElements();for(;c=r.next();)if(u[c.nodeName.toLowerCase()]||dn(c)&&c.length>0)return!0;return!1},GF=(e,n,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.selection.setRng(r),Dp(e,r)},dj=(e,n)=>{const o=e.selection,r=e.dom,c=o.getRng();let u,m=!1;Rn(r,c).each(ne=>{c.setStart(ne.startContainer,ne.startOffset),c.setEnd(ne.endContainer,ne.endOffset)});let b=c.startOffset,_=c.startContainer;if(In(_)&&_.hasChildNodes()){const ne=b>_.childNodes.length-1;_=_.childNodes[Math.min(b,_.childNodes.length-1)]||_,ne&&dn(_)?b=_.data.length:b=0}let A=r.getParent(_,r.isBlock);const B=A&&A.parentNode?r.getParent(A.parentNode,r.isBlock):null,L=B?B.nodeName.toUpperCase():"",j=!!(n&&n.ctrlKey);L==="LI"&&!j&&(A=B),dn(_)&&b>=_.data.length&&(tY(e.schema,_,A||r.getRoot())||(u=r.create("br"),c.insertNode(u),c.setStartAfter(u),c.setEndAfter(u),m=!0)),u=r.create("br"),Xy(r,c,u),GF(e,u,m),e.undoManager.add()},nY=(e,n)=>{const o=Ne.fromTag("br");dr(Ne.fromDom(n),o),e.undoManager.add()},fj=(e,n)=>{mj(e.getBody(),n)||el(Ne.fromDom(n),Ne.fromTag("br"));const o=Ne.fromTag("br");el(Ne.fromDom(n),o),GF(e,o.dom,!1),e.undoManager.add()},bm=e=>Hs(e.getNode()),mj=(e,n)=>bm(Ft.after(n))?!0:Ai(e,Ft.after(n)).map(o=>Hs(o.getNode())).getOr(!1),YD=e=>e&&e.nodeName==="A"&&"href"in e,gj=e=>e.fold(Pe,YD,YD,Pe),pj=e=>{const n=Te(Nb,e),o=Ft.fromRangeStart(e.selection.getRng());return vg(n,e.getBody(),o).filter(gj)},hj=(e,n)=>{n.fold(Ye,Te(nY,e),Te(fj,e),Ye)},KF={insert:(e,n)=>{const o=pj(e);o.isSome()?o.each(Te(hj,e)):dj(e,n)},fakeEventName:"insertLineBreak"},YF=(e,n)=>AE(e).filter(o=>n.length>0&&_i(Ne.fromDom(o),n)).isSome(),XD=e=>YF(e,ip(e)),XF=e=>YF(e,aA(e)),Sl=au.generate([{br:[]},{block:[]},{none:[]}]),yj=(e,n)=>XF(e),JF=e=>(n,o)=>XU(n)===e,QF=(e,n)=>(o,r)=>YU(o)===e.toUpperCase()===n,bj=e=>{const n=L_(e.dom,e.selection.getStart());return gn(n)},U_=e=>QF("pre",e),e5=()=>QF("summary",!0),zE=e=>(n,o)=>uS(n)===e,t5=(e,n)=>XD(e),j_=(e,n)=>n,vj=e=>{const n=Xc(e),o=L_(e.dom,e.selection.getStart());return at(o)&&e.schema.isValidChild(o.nodeName,n)},wj=e=>{const n=e.selection.getRng(),o=Ne.fromDom(n.startContainer),c=oi(o,n.startOffset).map(u=>vs(u)&&!Ii(u));return n.collapsed&&c.getOr(!0)},bu=(e,n)=>(o,r)=>Ie(e,(u,m)=>u&&m(o,r),!0)?U.some(n):U.none(),kj=(e,n)=>M3([bu([yj],Sl.none()),bu([U_(!0),bj],Sl.none()),bu([e5()],Sl.br()),bu([U_(!0),zE(!1),j_],Sl.br()),bu([U_(!0),zE(!1)],Sl.block()),bu([U_(!0),zE(!0),j_],Sl.block()),bu([U_(!0),zE(!0)],Sl.br()),bu([JF(!0),j_],Sl.br()),bu([JF(!0)],Sl.block()),bu([t5],Sl.br()),bu([j_],Sl.br()),bu([vj],Sl.block()),bu([wj],Sl.block())],[e,!!(n&&n.shiftKey)]).getOr(Sl.none()),NE=(e,n,o)=>{n.mode.isReadOnly()||(n.selection.isCollapsed()||i6(n),!(at(o)&&F_(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),at(o)&&Xu(n,e.fakeEventName)))},W_=(e,n)=>{if(e.mode.isReadOnly())return;const o=()=>NE(KF,e,n),r=()=>NE(uj,e,n),c=kj(e,n);switch(Dw(e)){case"linebreak":c.fold(o,o,Ye);break;case"block":c.fold(r,r,Ye);break;case"invert":c.fold(r,o,Ye);break;default:c.fold(o,r,Ye);break}},n5=ee(),JD=n5.os.isiOS()&&n5.browser.isSafari(),ME=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),WP(e.undoManager),e.undoManager.transact(()=>{W_(e,n)}))},o5=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(dn(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=n.data.charAt(e.startOffset-1);return o.test(r)}else return!1},_j=e=>{let n=U.none();const o=c=>{n=U.some(c.selection.getBookmark()),c.undoManager.add()},r=(c,u)=>{c.undoManager.undo(),n.fold(Ye,m=>c.selection.moveToBookmark(m)),ME(c,u),n=U.none()};e.on("keydown",c=>{c.keyCode===Wn.ENTER&&(JD&&o5(e.selection.getRng())?o(e):ME(e,c))}),e.on("keyup",c=>{c.keyCode===Wn.ENTER&&n.each(()=>r(e,c))})},rY=(e,n,o)=>{const r=$e.os.isMacOS()||$e.os.isiOS();k0([{keyCode:Wn.END,action:qo(H$,e,!0)},{keyCode:Wn.HOME,action:qo(H$,e,!1)},...r?[]:[{keyCode:Wn.HOME,action:qo(lE,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Wn.END,action:qo(lE,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Wn.END,action:qo(EV,e,!0)},{keyCode:Wn.HOME,action:qo(EV,e,!1)},{keyCode:Wn.END,action:qo(A_,e,!0,n)},{keyCode:Wn.HOME,action:qo(A_,e,!1,n)}],o).each(c=>{o.preventDefault()})},by=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||rY(e,n,o)})},Cj=e=>{e.on("input",n=>{n.isComposing||ZN(e)})},Sj=ee(),xj=(e,n,o)=>{k0([{keyCode:Wn.PAGE_UP,action:qo(A_,e,!1,n)},{keyCode:Wn.PAGE_DOWN,action:qo(A_,e,!0,n)}],o)},Z_=e=>e.stopImmediatePropagation(),QD=e=>e.keyCode===Wn.PAGE_UP||e.keyCode===Wn.PAGE_DOWN,eR=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",Z_,!0):!o&&e.get()&&n.off("NodeChange",Z_),e.set(o)},Ej=(e,n)=>{if(Sj.os.isMacOS())return;const o=fr(!1);e.on("keydown",r=>{QD(r)&&eR(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||xj(e,n,r),QD(r)&&o.get()&&(eR(o,e,!1),e.nodeChanged())})},s5=e=>{e.on("beforeinput",n=>{(!e.selection.isEditable()||de(n.getTargetRanges(),o=>!bO(e.dom,o)))&&n.preventDefault()})},r5=(e,n)=>{const o=n.container(),r=n.offset();return dn(o)?(o.insertData(r,e),U.some(Ft(o,r+e.length))):mb(n).map(c=>{const u=Ne.fromText(e);return n.isAtEnd()?el(c,u):dr(c,u),Ft(u.dom,e.length)})},a5=Te(r5,ja),c5=Te(r5," "),tR=(e,n,o)=>HN(e,n,o)?a5(n):c5(n),nR=e=>n=>n.fold(o=>bl(e.dom,Ft.before(o)),o=>Oi(o),o=>Pl(o),o=>Ai(e.dom,Ft.after(o))),Tj=(e,n,o)=>r=>HN(e,r,o)?a5(n):c5(n),PE=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},i5=(e,n)=>e.isEditable(e.getParent(n,"summary")),BE=e=>{const n=Ft.fromRangeStart(e.selection.getRng()),o=Ne.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=Te(Nb,e),c=Ft.fromRangeStart(e.selection.getRng());return vg(r,e.getBody(),c).bind(nR(o)).map(u=>()=>Tj(o,n,e.schema)(u).each(PE(e)))}else return U.none()},l5=e=>{const n=()=>{const o=Ne.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=Ft.fromRangeStart(e.selection.getRng());tR(o,r,e.schema).each(PE(e))};return ni($e.browser.isFirefox()&&e.selection.isEditable()&&i5(e.dom,e.selection.getRng().startContainer),n)},u5=(e,n)=>{dD([{keyCode:Wn.SPACEBAR,action:qo(BE,e)},{keyCode:Wn.SPACEBAR,action:qo(l5,e)}],n).each(o=>{n.preventDefault(),F_(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),Xu(e,"insertText",{data:" "}))})},Aj=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||u5(e,n)})},Oj=e=>wA(e)?[{keyCode:Wn.TAB,action:qo(sF,e,!0)},{keyCode:Wn.TAB,shiftKey:!0,action:qo(sF,e,!1)}]:[],$E=(e,n)=>{k0([...Oj(e)],n).each(o=>{n.preventDefault()})},d5=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||$E(e,n)})},Dj=e=>{if(e.addShortcut("Meta+P","","mcePrint"),$U(e),pg(e))return fr(null);{const n=U9(e);return s5(e),Yu(e),rF(e,n),GU(e,n),_j(e),Aj(e),Cj(e),d5(e),by(e,n),Ej(e,n),n}};class Rj{constructor(n){this.lastPath=[],this.editor=n;let o;const r=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",c=>{const u=n.selection.getRng(),m={startContainer:u.startContainer,startOffset:u.startOffset,endContainer:u.endContainer,endOffset:u.endOffset};(c.type==="nodechange"||!w(m,o))&&n.dispatch("SelectionChange"),o=m}),n.on("contextmenu",()=>{Ek(n),n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const c=n.selection.getStart(!0);c&&xv(n)&&!r.isSameElementPath(c)&&n.dom.isChildOf(c,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",c=>{!c.isDefaultPrevented()&&xv(n)&&(n.selection.getNode().nodeName==="IMG"?Uu.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor,r=o.selection;let c;if(o.initialized&&r&&!fA(o)){const u=o.getBody();c=r.getStart(!0)||u,(c.ownerDocument!==o.getDoc()||!o.dom.isChildOf(c,u))&&(c=u);const m=[];o.dom.getParent(c,b=>b===u?!0:(m.push(b),!1)),o.dispatch("NodeChange",Pt(ie({},n),{element:c,parents:m}))}}isSameElementPath(n){let o;const r=this.editor,c=pn(r.dom.getParents(n,gt,r.getBody()));if(c.length===this.lastPath.length){for(o=c.length;o>=0&&c[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const oR=bh("image"),zj=e=>{const n=e;return U.from(n[oR])},Nj=(e,n)=>{const o=e;o[oR]=n},sR=bh("event"),Mj=e=>{const n=e;return U.from(n[sR])},FE=e=>n=>{const o=n;o[sR]=e},f5=(e,n)=>FE(n)(e),m5=FE(0),g5=FE(2),Pj=FE(1),Bj=(e=>n=>{const o=n;return U.from(o[sR]).exists(r=>r===e)})(0),$j=()=>Object.freeze({length:0,item:e=>null}),rR=bh("mode"),A0=e=>{const n=e;return U.from(n[rR])},IE=e=>n=>{const o=n;o[rR]=e},p5=(e,n)=>IE(n)(e),aR=IE(0),cR=IE(2),Fj=IE(1),h5=e=>n=>{const o=n;return U.from(o[rR]).exists(r=>r===e)},u1=h5(0),y5=h5(1),Ij=(e,n)=>Pt(ie({},n),{get length(){return n.length},add:(o,r)=>{if(u1(e))if(ae(o)){if(!Tn(r))return n.add(o,r)}else return n.add(o);return null},remove:o=>{u1(e)&&n.remove(o)},clear:()=>{u1(e)&&n.clear()}}),cY=["none","copy","link","move"],LE=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],iR=()=>{const e=new window.DataTransfer;let n="move",o="all";const r={get dropEffect(){return n},set dropEffect(c){re(cY,c)&&(n=c)},get effectAllowed(){return o},set effectAllowed(c){Bj(r)&&re(LE,c)&&(o=c)},get items(){return Ij(r,e.items)},get files(){return y5(r)?$j():e.files},get types(){return e.types},setDragImage:(c,u,m)=>{u1(r)&&(Nj(r,{image:c,x:u,y:m}),e.setDragImage(c,u,m))},getData:c=>y5(r)?"":e.getData(c),setData:(c,u)=>{u1(r)&&e.setData(c,u)},clearData:c=>{u1(r)&&e.clearData(c)}};return aR(r),r},Lj=e=>{const n=iR(),o=A0(e);return cR(e),m5(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,zj(e).each(r=>n.setDragImage(r.image,r.x,r.y)),G(e.types,r=>{r!=="Files"&&n.setData(r,e.getData(r))}),G(e.files,r=>n.items.add(r)),Mj(e).each(r=>{f5(n,r)}),o.each(r=>{p5(e,r),p5(n,r)}),n},Hj=e=>{const n=e.getData("text/html");return n===""?U.none():U.some(n)},b5=(e,n)=>e.setData("text/html",n),v5="x-tinymce/html",HE=_e(v5),lR="<!-- "+v5+" -->",Vj=e=>lR+e,Uj=e=>e.replace(lR,""),w5=e=>e.indexOf(lR)!==-1,jj=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),Wj=(e,n)=>{let o="<"+e;const r=Jr(n,(c,u)=>u+'="'+$m.encodeAllRaw(c)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},Zj=(e,n,o)=>{const r=e.split(/\n\n/),c=Wj(n,o),u="</"+n+">",m=De(r,_=>_.split(/\n/).join("<br />")),b=_=>c+_+u;return m.length===1?m[0]:De(m,b).join("")},Tr="%MCEPASTEBIN%",qj=(e,n)=>{const{dom:o,selection:r}=e,c=e.getBody();n.set(r.getRng());const u=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},Tr);$e.browser.isFirefox()&&o.setStyle(u,"left",o.getStyle(c,"direction",!0)==="rtl"?65535:-65535),o.bind(u,"beforedeactivate focusin focusout",m=>{m.stopPropagation()}),u.focus(),r.select(u,!0)},k5=(e,n)=>{const o=e.dom;if(uR(e)){let r;const c=n.get();for(;r=uR(e);)o.remove(r),o.unbind(r);c&&e.selection.setRng(c)}n.set(null)},uR=e=>e.dom.get("mcepastebin"),dR=e=>at(e)&&e.id==="mcepastebin",_5=e=>{const n=e.dom,o=(m,b)=>{m.appendChild(b),n.remove(b,!0)},[r,...c]=Oe(e.getBody().childNodes,dR);G(c,m=>{o(r,m)});const u=n.select("div[id=mcepastebin]",r);for(let m=u.length-1;m>=0;m--){const b=n.create("div");r.insertBefore(b,u[m]),o(b,u[m])}return r?r.innerHTML:""},C5=e=>e===Tr,Gj=e=>{const n=fr(null);return{create:()=>qj(e,n),remove:()=>k5(e,n),getEl:()=>uR(e),getHtml:()=>_5(e),getLastRng:n.get}},fR=(e,n)=>(nn.each(n,o=>{qe(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),mR=e=>{const n=or(),o=qb({},n);let r="";const c=n.getVoidElements(),u=nn.makeMap("script noscript style textarea video audio iframe object"," "),m=n.getBlockElements(),b=_=>{const A=_.name,B=_;if(A==="br"){r+=`
`;return}if(A!=="wbr"){if(c[A]&&(r+=" "),u[A]){r+=" ";return}if(_.type===3&&(r+=_.value),!(_.name in n.getVoidElements())){let L=_.firstChild;if(L)do b(L);while(L=L.next)}m[A]&&B.next&&(r+=`
`,A==="p"&&(r+=`
`))}};return e=fR(e,[/<!\[[^\]]+\]>/g]),b(o.parse(e)),r},S5=e=>(e=fR(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,c)=>!r&&!c?" ":ja],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),Kj=e=>{let n=0;return()=>e+n++},Yj=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return nn.hasOwn(o,n)?"image/"+o[n]:"image/"+n},x5=(e,n)=>{const o=qb({sanitize:OS(e),sandbox_iframes:lb(e),sandbox_iframes_exclusions:jw(e),convert_unsafe_embeds:_A(e)},e.schema);o.addNodeFilter("meta",c=>{nn.each(c,u=>{u.remove()})});const r=o.parse(n,{forced_root_block:!1,isRootContent:!0});return Kh({validate:!0},e.schema).serialize(r)},E5=(e,n)=>({content:e,cancelled:n}),Xj=(e,n,o)=>{const r=e.dom.create("div",{style:"display:none"},n),c=h2(e,r,o);return E5(c.node.innerHTML,c.isDefaultPrevented())},O0=(e,n,o)=>{const r=KA(e,n,o),c=x5(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?Xj(e,c,o):E5(c,r.isDefaultPrevented())},Jj=(e,n,o)=>O0(e,n,o),vy=(e,n)=>(e.insertContent(n,{merge:ES(e),paste:!0}),!0),d1=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),Qj=(e,n)=>d1(n)&&de(RS(e),o=>ds(n.toLowerCase(),`.${o.toLowerCase()}`)),eW=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),D0=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),tW=(e,n,o)=>!e.selection.isCollapsed()&&d1(n)?D0(e,n,o):!1,gR=(e,n,o)=>Qj(e,n)?eW(e,n,o):!1,nW=(e,n)=>{nn.each([tW,gR,vy],o=>!o(e,n,vy))},T5=(e,n,o)=>{o||!Vw(e)?vy(e,n):nW(e,n)},A5=Kj("mceclip"),pR=e=>{const n=iR();return b5(n,e),cR(n),n},hR=(e,n,o,r,c)=>{const u=Jj(e,n,o);if(!u.cancelled){const m=u.content,b=()=>T5(e,m,r);c?F_(e,"insertFromPaste",{dataTransfer:pR(m)}).isDefaultPrevented()||(b(),Xu(e,"insertFromPaste")):b()}},VE=(e,n,o,r)=>{const c=o||w5(n);hR(e,Uj(n),c,!1,r)},yR=(e,n,o)=>{const r=e.dom.encode(n).replace(/\r\n/g,`
`),c=Al(r,Qm(e)),u=Zj(c,Xc(e),Xm(e));hR(e,u,!1,!0,o)},bR=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{n[r]=e.getData(r)}catch(c){n[r]=""}}return n},wy=(e,n)=>n in e&&e[n].length>0,vR=e=>wy(e,"text/html")||wy(e,"text/plain"),wR=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return at(o)?e.dom.encode(o[1]):void 0},O5=(e,n,o,r)=>{const c=A5(),u=lc(e)&&at(o.name),m=u?wR(e,o.name):c,b=u?o.name:void 0,_=n.create(c,o,r,m,b);return n.add(_),_},oW=(e,n)=>{Hb(n.uri).each(({data:o,type:r,base64Encoded:c})=>{const u=c?o:btoa(o),m=n.file,b=e.editorUpload.blobCache,_=b.getByData(u,r),A=_!=null?_:O5(e,b,m,u);VE(e,`<img src="${A.blobUri()}">`,!1,!0)})},sW=e=>e.type==="paste",rW=e=>Promise.all(De(e,n=>lP(n).then(o=>({file:n,uri:o})))),D5=e=>{const n=RS(e);return o=>Co(o.type,"image/")&&de(n,r=>Yj(r)===o.type)},kR=(e,n)=>{const o=n.items?ft(_s(n.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],r=n.files?_s(n.files):[];return Oe(o.length>0?o:r,D5(e))},R5=(e,n,o)=>{const r=sW(n)?n.clipboardData:n.dataTransfer;if(ib(e)&&r){const c=kR(e,r);if(c.length>0)return n.preventDefault(),rW(c).then(u=>{o&&e.selection.setRng(o),G(u,m=>{oW(e,m)})}),!0}return!1},z5=e=>{var n,o;return $e.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},N5=e=>Wn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,_R=(e,n,o,r,c)=>{let u=S5(o);const m=wy(n,HE())||w5(o),b=!m&&jj(u),_=d1(u);(C5(u)||!u.length||b&&!_)&&(r=!0),(r||_)&&(wy(n,"text/plain")&&b?u=n["text/plain"]:u=mR(u)),!C5(u)&&(r?yR(e,u,c):VE(e,u,m,c))},M5=(e,n,o)=>{let r;const c=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",u=>{N5(u)&&!u.isDefaultPrevented()&&(r=u.shiftKey&&u.keyCode===86)}),e.on("paste",u=>{if(u.isDefaultPrevented()||z5(u))return;const m=o.get()==="text"||r;r=!1;const b=bR(u.clipboardData);!vR(b)&&R5(e,u,c())||(wy(b,"text/html")?(u.preventDefault(),_R(e,b,b["text/html"],m,!0)):wy(b,"text/plain")&&wy(b,"text/uri-list")?(u.preventDefault(),_R(e,b,b["text/plain"],m,!0)):(n.create(),Uu.setEditorTimeout(e,()=>{const _=n.getHtml();n.remove(),_R(e,b,_,m,!1)},0)))})},aW=e=>{const n=c=>Co(c,"webkit-fake-url"),o=c=>Co(c,"data:"),r=c=>{var u;return((u=c.data)===null||u===void 0?void 0:u.paste)===!0};e.parser.addNodeFilter("img",(c,u,m)=>{if(!ib(e)&&r(m))for(const b of c){const _=b.attr("src");ae(_)&&!b.attr("data-mce-object")&&_!==$e.transparentSrc&&(n(_)||!AS(e)&&o(_))&&b.remove()}})},cW=(e,n,o)=>{M5(e,n,o),aW(e)},iW=(e,n)=>{n.get()==="text"?(n.set("html"),Fv(e,!1)):(n.set("text"),Fv(e,!0)),e.focus()},lW=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{iW(e,n)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&VE(e,r.html,r.internal,!1),r.text&&yR(e,r.text,!1)})},uW=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(HE(),n),!0}catch(r){return!1}else return!1},q_=(e,n,o,r)=>{uW(e.clipboardData,n.html,n.text)?(e.preventDefault(),r()):o(n.html,r)},P5=e=>(n,o)=>{const{dom:r,selection:c}=e,u=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),m=r.create("div",{contenteditable:"true"},n);r.setStyles(u,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),u.appendChild(m),r.add(e.getBody(),u);const b=c.getRng();m.focus();const _=r.createRng();_.selectNodeContents(m),c.setRng(_),Uu.setEditorTimeout(e,()=>{c.setRng(b),r.remove(u),o()},0)},CR=e=>({html:Vj(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),dW=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),B5=e=>!e.selection.isCollapsed()||dW(e),$5=e=>n=>{!n.isDefaultPrevented()&&B5(e)&&e.selection.isEditable()&&q_(n,CR(e),P5(e),()=>{if($e.browser.isChromium()||$e.browser.isFirefox()){const o=e.selection.getRng();Uu.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},F5=e=>n=>{!n.isDefaultPrevented()&&B5(e)&&q_(n,CR(e),P5(e),Ye)},fW=e=>{e.on("cut",$5(e)),e.on("copy",F5(e))},I5=(e,n)=>{var o,r;return ln.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(r=n.clientY)!==null&&r!==void 0?r:0,e.getDoc())},mW=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},L5=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},gW=e=>de(e.files,n=>/^image\//.test(n.type)),H5=(e,n,o,r)=>{const c=e.getParent(o,m=>gd(n,m));if(!J(e.getParent(o,"summary")))return!0;if(c&&ao(r,"text/html")){const m=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!J(m.querySelector(c.nodeName.toLowerCase()))}else return!1},pW=e=>{e.on("input",n=>{const o=r=>J(r.querySelector("summary"));if(n.inputType==="deleteByDrag"){const r=Oe(e.dom.select("details"),o);G(r,c=>{Hs(c.firstChild)&&c.firstChild.remove();const u=e.dom.create("summary");u.appendChild(Cd().dom),c.prepend(u)})}})},hW=(e,n)=>{Lw(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),ib(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&gW(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=I5(e,o);if(gn(r))return;const c=bR(o.dataTransfer),u=wy(c,HE());if((!vR(c)||mW(c))&&R5(e,o,r))return;const m=c[HE()],b=m||c["text/html"]||c["text/plain"],_=H5(e.dom,e.schema,r.startContainer,c),A=n.get();A&&!_||b&&(o.preventDefault(),Uu.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(m||A&&_)&&e.execCommand("Delete"),L5(e,r);const B=S5(b);c["text/html"]?VE(e,B,u,!0):yR(e,B,!0)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{ib(e)&&!n.get()&&(o.preventDefault(),L5(e,I5(e,o))),o.type==="dragend"&&n.set(!1)}),pW(e)},yW=e=>{const n=c=>u=>{c(e,u)},o=Hw(e);ke(o)&&e.on("PastePreProcess",n(o));const r=CS(e);ke(r)&&e.on("PastePostProcess",n(r))},bW=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},vW=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,V5=e=>nn.trim(e).replace(vW,Fy).toLowerCase(),wW=(e,n,o)=>{const r=xS(e);if(o||r==="all"||!yA(e))return n;const c=r?r.split(/[, ]/):[];if(c&&r!=="none"){const u=e.dom,m=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(b,_,A,B)=>{const L=u.parseStyle(u.decode(A)),j={};for(let fe=0;fe<c.length;fe++){const se=L[c[fe]];let he=se,He=u.getStyle(m,c[fe],!0);/color/.test(c[fe])&&(he=V5(he),He=V5(He)),He!==he&&(j[c[fe]]=se)}const ne=u.serializeStyle(j,"span");return ne?_+' style="'+ne+'"'+B:_+B})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(u,m,b,_)=>m+' style="'+b+'"'+_),n},kW=e=>{($e.browser.isChromium()||$e.browser.isSafari())&&bW(e,wW)},U5=e=>{const n=fr(!1),o=fr(TS(e)?"text":"html"),r=Gj(e);kW(e),lW(e,o),yW(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>o.get()==="text"),e.on("PreInit",()=>{fW(e),hW(e,n),cW(e,r,o)})},j5=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},_W=e=>{e.parser.addNodeFilter("details",n=>{const o=kA(e);G(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=zS(e);G(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})})},CW=e=>{j5(e),_W(e)},SW=Hs,W5=dn,xW=e=>Vs(e.dom),EW=e=>Xt(e.dom),Z5=e=>n=>rs(Ne.fromDom(e),n),UE=(e,n,o)=>Vr(Ne.fromDom(e),r=>EW(r)||o.isBlock(me(r)),Z5(n)).getOr(Ne.fromDom(n)).dom,SR=(e,n)=>Vr(Ne.fromDom(e),xW,Z5(n)),q5=(e,n,o)=>{const r=new oc(e,n),c=o?r.next.bind(r):r.prev.bind(r);let u=e;for(let m=o?e:c();m&&!SW(m);m=c())Lu(m)&&(u=m);return u},G5=(e,n,o)=>{const c=Ft.fromRangeStart(e).getNode(),u=UE(c,n,o),m=q5(c,u,!1),b=q5(c,u,!0),_=document.createRange();return SR(m,u).fold(()=>{W5(m)?_.setStart(m,0):_.setStartBefore(m)},A=>_.setStartBefore(A.dom)),SR(b,u).fold(()=>{W5(b)?_.setEnd(b,b.data.length):_.setEndAfter(b)},A=>_.setEndAfter(A.dom)),_},K5=e=>{const n=G5(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(K2(n))},xR=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),K5(e))})};var R0;(function(e){e.Before="before",e.After="after"})(R0||(R0={}));const Y5=(e,n)=>Math.abs(e.left-n),TW=(e,n)=>Math.abs(e.right-n),X5=(e,n)=>e>=n.top&&e<=n.bottom,AW=(e,n)=>e.top<n.bottom&&e.bottom>n.top,J5=(e,n)=>{const o=Iu(e,n)/Math.min(e.height,n.height);return AW(e,n)&&o>.5},OW=(e,n)=>{const o=Oe(e,r=>X5(n,r));return IC(o).fold(()=>[[],e],r=>{const{pass:c,fail:u}=Ce(e,m=>J5(m,r));return[c,u]})},DW=(e,n)=>({node:e.node,position:Y5(e,n)<TW(e,n)?R0.Before:R0.After}),RW=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),f1=(e,n,o,r)=>{const c=L=>Lu(L.node)?U.some(L):In(L.node)?f1(_s(L.node.childNodes),n,o,!1):U.none(),u=(L,j,ne)=>c(j).filter(fe=>Math.abs(ne(L,n,o)-ne(fe,n,o))<2&&dn(fe.node)),m=(L,j)=>{const ne=Vn(L,(fe,se)=>j(fe,n,o)-j(se,n,o));return es(ne,c).map(fe=>r&&!dn(fe.node)&&ne.length>1?u(fe,ne[1],j).getOr(fe):fe)},[b,_]=OW(I3(e),o),{pass:A,fail:B}=Ce(_,L=>L.top<o);return m(b,RW).orThunk(()=>m(B,op)).orThunk(()=>m(A,op))},zW=(e,n,o,r)=>{const c=(u,m)=>{const b=A=>In(A)&&A.classList.contains("mce-drag-container"),_=Oe(u.dom.childNodes,Vt(b));return m.fold(()=>f1(_,o,r,!0),A=>{const B=Oe(_,L=>L!==A.dom);return f1(B,o,r,!0)}).orThunk(()=>(rs(u,e)?U.none():Ff(u)).bind(B=>c(B,U.some(u))))};return c(n,U.none())},NW=(e,n,o)=>{const r=Ne.fromDom(e),c=xu(r),m=Ne.fromPoint(c,n,o).filter(b=>_c(r,b)).getOr(r);return zW(r,m,n,o)},ER=(e,n,o)=>NW(e,n,o).filter(r=>Mh(r.node)).map(r=>DW(r,n)),Q5=e=>{var n,o;const r=e.getBoundingClientRect(),c=e.ownerDocument,u=c.documentElement,m=c.defaultView;return{top:r.top+((n=m==null?void 0:m.scrollY)!==null&&n!==void 0?n:0)-u.clientTop,left:r.left+((o=m==null?void 0:m.scrollX)!==null&&o!==void 0?o:0)-u.clientLeft}},MW=e=>e.inline?Q5(e.getBody()):{left:0,top:0},PW=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},BW=e=>{const n=e.getBody(),o=e.getDoc().documentElement,r={left:n.scrollLeft,top:n.scrollTop},c={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?r:c},$W=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=Q5(e.getContentAreaContainer()),r=BW(e);return{left:n.pageX-o.left+r.left,top:n.pageY-o.top+r.top}}return{left:n.pageX,top:n.pageY}},jE=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),eI=(e,n)=>jE(MW(e),PW(e),$W(e,n)),TR=e=>({target:e,srcElement:e}),FW=(e,n,o,r)=>ie(Pt(ie({},n),{dataTransfer:r,type:e}),TR(o)),IW=(e,n,o)=>{const r=En("Function not supported on simulated event.");return ie({bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:Ye,stopImmediatePropagation:Ye,stopPropagation:Ye,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:o},TR(n))},LW=(e,n)=>{const o=Lj(e);return n==="dragstart"?(m5(o),aR(o)):n==="drop"?(g5(o),cR(o)):(Pj(o),Fj(o)),o},iY=(e,n,o,r)=>{const c=LW(o,e);return Tn(r)?IW(e,n,c):FW(e,r,n,c)},WE=32,tI=100,z0=8,m1=16,nI=Vs,HW=HC(nI,Xt),oI=(e,n,o)=>nI(o)&&o!==n&&e.isEditable(o.parentElement),VW=(e,n,o)=>gn(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),AR=(e,n,o,r)=>{const c=e.dom,u=n.cloneNode(!0);c.setStyles(u,{width:o,height:r}),c.setAttrib(u,"data-mce-selected",null);const m=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(m,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),c.setStyles(u,{margin:0,boxSizing:"border-box"}),m.appendChild(u),m},sI=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},ZE=(e,n)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+n,behavior:"smooth"})},rI=ZE("left",-WE),OR=ZE("left",WE),aI=ZE("top",-WE),UW=ZE("top",WE),jW=(e,n,o,r,c,u,m,b,_,A,B,L)=>{let j=0,ne=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>c&&(j=n.pageX+o-c),n.pageY+r>u&&(ne=n.pageY+r-u),e.style.width=o-j+"px",e.style.height=r-ne+"px";const fe=_.clientHeight,se=_.clientWidth,he=m+_.getBoundingClientRect().top,He=b+_.getBoundingClientRect().left;B.on(Ge=>{Ge.intervalId.clear(),Ge.dragging&&L&&(m+z0>=fe?Ge.intervalId.set(UW(A)):m-z0<=0?Ge.intervalId.set(aI(A)):b+z0>=se?Ge.intervalId.set(OR(A)):b-z0<=0?Ge.intervalId.set(rI(A)):he+m1>=window.innerHeight?Ge.intervalId.set(UW(window)):he-m1<=0?Ge.intervalId.set(aI(window)):He+m1>=window.innerWidth?Ge.intervalId.set(OR(window)):He-m1<=0&&Ge.intervalId.set(rI(window)))})},cI=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},WW=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);cI(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&mf(Ne.fromDom(o))},iI=e=>e.button===0,ZW=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),lI=(e,n)=>o=>{if(iI(o)){const r=Lt(n.dom.getParents(o.target),HW).getOr(null);if(at(r)&&oI(n.dom,n.getBody(),r)){const c=n.dom.getPos(r),u=n.getBody(),m=n.getDoc().documentElement;e.set({element:r,dataTransfer:iR(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?u.scrollWidth:m.offsetWidth)-2,maxY:(n.inline?u.scrollHeight:m.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:r.offsetWidth,height:r.offsetHeight,ghost:AR(n,r,r.offsetWidth,r.offsetHeight),intervalId:xa(tI)})}}},qW=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),ER(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),r=>{const c=e._selectionOverrides.showCaret(1,r.node,r.position===R0.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(n,o)})},G_=(e,n,o,r,c)=>{n==="dragstart"&&b5(r,e.dom.getOuterHTML(o));const u=iY(n,o,r,c);return e.dispatch(n,u)},GW=(e,n)=>{const o=gh((c,u)=>qW(n,c,u),0);n.on("remove",o.cancel);const r=e;return c=>e.on(u=>{const m=Math.max(Math.abs(c.screenX-u.screenX),Math.abs(c.screenY-u.screenY));if(!u.dragging&&m>10){const b=G_(n,"dragstart",u.element,u.dataTransfer,c);if(at(b.dataTransfer)&&(u.dataTransfer=b.dataTransfer),b.isDefaultPrevented())return;u.dragging=!0,n.focus()}if(u.dragging){const b=c.currentTarget===n.getDoc().documentElement,_=ZW(u,eI(n,c));sI(u.ghost,n.getBody()),jW(u.ghost,_,u.width,u.height,u.maxX,u.maxY,c.clientY,c.clientX,n.getContentAreaContainer(),n.getWin(),r,b),o.throttle(c.clientX,c.clientY)}})},KW=e=>{const n=e.getSel();if(at(n)){const r=n.getRangeAt(0).startContainer;return dn(r)?r.parentNode:r}else return null},YW=(e,n)=>o=>{e.on(r=>{var c;if(r.intervalId.clear(),r.dragging){if(VW(n,KW(n.selection),r.element)){const u=(c=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&c!==void 0?c:n.getBody();G_(n,"drop",u,r.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{WW(n.dom,r.element),Hj(r.dataTransfer).each(b=>n.insertContent(b)),n._selectionOverrides.hideFakeCaret()})}G_(n,"dragend",n.getBody(),r.dataTransfer,o)}}),uI(e)},DR=(e,n,o)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&o.fold(()=>G_(n,"dragend",r.element,r.dataTransfer),c=>G_(n,"dragend",r.element,r.dataTransfer,c))}),uI(e)},lY=(e,n)=>o=>DR(e,n,U.some(o)),uI=e=>{e.on(n=>{n.intervalId.clear(),cI(n.ghost)}),e.clear()},dI=e=>{const n=gc(),o=Er.DOM,r=document,c=lI(n,e),u=GW(n,e),m=YW(n,e),b=lY(n,e);e.on("mousedown",c),e.on("mousemove",u),e.on("mouseup",m),o.bind(r,"mousemove",u),o.bind(r,"mouseup",b),e.on("remove",()=>{o.unbind(r,"mousemove",u),o.unbind(r,"mouseup",b)}),e.on("keydown",_=>{_.keyCode===Wn.ESC&&DR(n,e,U.none())})},XW=e=>{const n=c=>{if(!c.isDefaultPrevented()){const u=c.dataTransfer;u&&(re(u.types,"Files")||u.files.length>0)&&(c.preventDefault(),c.type==="drop"&&$x(e,"Dropped file type is not supported"))}},o=c=>{x2(e,c.target)&&n(c)},r=()=>{const c=Er.DOM,u=e.dom,m=document,b=e.inline?e.getBody():e.getDoc(),_=["drop","dragover"];G(_,A=>{c.bind(m,A,o),u.bind(b,A,n)}),e.on("remove",()=>{G(_,A=>{c.unbind(m,A,o),u.unbind(b,A,n)})})};e.on("init",()=>{Uu.setEditorTimeout(e,r,0)})},RR=e=>{dI(e),Wi(e)&&XW(e)},JW=e=>{const n=gh(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=Zx(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},QW=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(Ic(o)){const r=kf(e.getBody(),o),c=Vs(r)?r:o;e.selection.getNode()!==c&&h0(e,c).each(u=>e.selection.setRng(u))}})})},K_=Vs,zR=(e,n)=>kf(e.getBody(),n),qE=e=>{const n=e.selection,o=e.dom,r=e.getBody(),c=LS(e,r,o.isBlock,()=>Kv(e)),u="sel-"+o.uniqueId(),m="data-mce-selected";let b;const _=Zn=>at(Zn)&&o.hasClass(Zn,"mce-offscreen-selection"),A=Zn=>Zn!==r&&(K_(Zn)||Ic(Zn))&&o.isChildOf(Zn,r)&&o.isEditable(Zn.parentNode),B=Zn=>{Zn&&n.setRng(Zn)},L=(Zn,Wt,At,sn=!0)=>e.dispatch("ShowCaret",{target:Wt,direction:Zn,before:At}).isDefaultPrevented()?null:(sn&&n.scrollIntoView(Wt,Zn===-1),c.show(At,Wt)),j=Zn=>{Zn.hasAttribute("data-mce-caret")&&(_h(Zn),n.scrollIntoView(Zn))},ne=()=>{e.on("click",Wt=>{o.isEditable(Wt.target)||(Wt.preventDefault(),e.focus())}),e.on("blur NewBlock",mt),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",Wt=>{const At=Wt.target,sn=zR(e,At);K_(sn)?(Wt.preventDefault(),h0(e,sn).each(nt)):A(At)&&h0(e,At).each(nt)},!0),e.on("mousedown",Wt=>{const At=Wt.target;if(At!==r&&At.nodeName!=="HTML"&&!o.isChildOf(At,r)||!zH(e,Wt.clientX,Wt.clientY))return;mt(),yn();const sn=zR(e,At);K_(sn)?(Wt.preventDefault(),h0(e,sn).each(nt)):ER(r,Wt.clientX,Wt.clientY).each(qn=>{Wt.preventDefault();const yo=L(1,qn.node,qn.position===R0.Before,!1);B(yo),Ol(sn)?sn.focus():e.getBody().focus()})}),e.on("keypress",Wt=>{Wn.modifierPressed(Wt)||K_(n.getNode())&&Wt.preventDefault()}),e.on("GetSelectionRange",Wt=>{let At=Wt.range;if(b){if(!b.parentNode){b=null;return}At=At.cloneRange(),At.selectNode(b),Wt.range=At}}),e.on("SetSelectionRange",Wt=>{Wt.range=he(Wt.range);const At=nt(Wt.range,Wt.forward);At&&(Wt.range=At)});const Zn=Wt=>In(Wt)&&Wt.id==="mcepastebin";e.on("AfterSetSelectionRange",Wt=>{const At=Wt.range,sn=At.startContainer.parentElement;!se(At)&&!Zn(sn)&&yn(),_(sn)||mt()}),RR(e),JW(e),QW(e)},fe=Zn=>su(Zn)||As(Zn)||li(Zn),se=Zn=>fe(Zn.startContainer)||fe(Zn.endContainer),he=Zn=>{const Wt=e.schema.getVoidElements(),At=o.createRng(),sn=Zn.startContainer,qn=Zn.startOffset,yo=Zn.endContainer,gs=Zn.endOffset;return ao(Wt,sn.nodeName.toLowerCase())?qn===0?At.setStartBefore(sn):At.setStartAfter(sn):At.setStart(sn,qn),ao(Wt,yo.nodeName.toLowerCase())?gs===0?At.setEndBefore(yo):At.setEndAfter(yo):At.setEnd(yo,gs),At},He=(Zn,Wt)=>{const At=Ne.fromDom(e.getBody()),sn=e.getDoc(),qn=uo(At,"#"+u).getOrThunk(()=>{const ps=Ne.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',sn);return ta(ps,"id",u),$a(At,ps),ps}),yo=o.createRng();tf(qn),Du(qn,[Ne.fromText(ja,sn),Ne.fromDom(Wt),Ne.fromText(ja,sn)]),yo.setStart(qn.dom.firstChild,1),yo.setEnd(qn.dom.lastChild,0),Jo(qn,{top:o.getPos(Zn,e.getBody()).y+"px"}),Db(qn);const gs=n.getSel();return gs&&(gs.removeAllRanges(),gs.addRange(yo)),yo},Ge=Zn=>{const Wt=Zn.cloneNode(!0),At=e.dispatch("ObjectSelected",{target:Zn,targetClone:Wt});if(At.isDefaultPrevented())return null;const sn=He(Zn,At.targetClone),qn=Ne.fromDom(Zn);return G(ai(Ne.fromDom(e.getBody()),`*[${m}]`),yo=>{rs(qn,yo)||Sr(yo,m)}),o.getAttrib(Zn,m)||Zn.setAttribute(m,"1"),b=Zn,yn(),sn},nt=(Zn,Wt)=>{if(!Zn)return null;if(Zn.collapsed){if(!se(Zn)){const yo=Wt?1:-1,gs=gp(yo,r,Zn),ps=gs.getNode(!Wt);if(at(ps)){if(Mh(ps))return L(yo,ps,Wt?!gs.isAtEnd():!1,!1);if(Fu(ps)&&Vs(ps.nextSibling)){const lr=o.createRng();return lr.setStart(ps,0),lr.setEnd(ps,0),lr}}const Ks=gs.getNode(Wt);if(at(Ks)){if(Mh(Ks))return L(yo,Ks,Wt?!1:!gs.isAtEnd(),!1);if(Fu(Ks)&&Vs(Ks.previousSibling)){const lr=o.createRng();return lr.setStart(Ks,1),lr.setEnd(Ks,1),lr}}}return null}let At=Zn.startContainer,sn=Zn.startOffset;const qn=Zn.endOffset;if(dn(At)&&sn===0&&K_(At.parentNode)&&(At=At.parentNode,sn=o.nodeIndex(At),At=At.parentNode),!In(At))return null;if(qn===sn+1&&At===Zn.endContainer){const yo=At.childNodes[sn];if(A(yo))return Ge(yo)}return null},mt=()=>{b&&b.removeAttribute(m),uo(Ne.fromDom(e.getBody()),"#"+u).each(nr),b=null},en=()=>{c.destroy(),b=null},yn=()=>{c.hide()};return pg(e)||ne(),{showCaret:L,showBlockCaretContainer:j,hideFakeCaret:yn,destroy:en}},fI=(e,n)=>{let o=n;for(let r=e.previousSibling;dn(r);r=r.previousSibling)o+=r.data.length;return o},NR=(e,n,o,r,c)=>{if(dn(o)&&(r<0||r>o.data.length))return[];const u=c&&dn(o)?[fI(o,r)]:[r];let m=o;for(;m!==n&&m.parentNode;)u.push(e.nodeIndex(m,c)),m=m.parentNode;return m===n?u.reverse():[]},MR=(e,n,o,r,c,u,m=!1)=>{const b=NR(e,n,o,r,m),_=NR(e,n,c,u,m);return{start:b,end:_}},mI=(e,n)=>{const o=n.slice(),r=o.pop();return bo(r)?Ie(o,(u,m)=>u.bind(b=>U.from(b.childNodes[m])),U.some(e)).bind(u=>dn(u)&&(r<0||r>u.data.length)?U.none():U.some({node:u,offset:r})):U.none()},PR=(e,n)=>mI(e,n.start).bind(({node:o,offset:r})=>mI(e,n.end).map(({node:c,offset:u})=>{const m=document.createRange();return m.setStart(o,r),m.setEnd(c,u),m})),eZ=(e,n,o,r=!1)=>MR(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),N0=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const r=n.parentNode;e.remove(n,dn(n.firstChild)&&nl(n.firstChild.data)),N0(e,r,o)}},GE=(e,n,o,r=!0)=>{const c=n.startContainer.parentNode,u=n.endContainer.parentNode;n.deleteContents(),r&&!o(n.startContainer)&&(dn(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),dn(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),N0(e,c,o),c!==u&&N0(e,u,o))},M0=(e,n)=>U.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),BR=(e,n,o)=>{const r=e.dynamicPatternsLookup({text:o,block:n});return Pt(ie({},e),{blockPatterns:rS(r).concat(e.blockPatterns),inlinePatterns:Km(r).concat(e.inlinePatterns)})},$R=(e,n,o,r)=>{const c=e.createRng();return c.setStart(n,0),c.setEnd(o,r),c.toString()},gI=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),KE=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},pI=(e,n,o)=>{const r=PR(e.getRoot(),o).getOrDie("Unable to resolve path range"),c=r.startContainer,u=r.endContainer,m=r.endOffset===0?u:u.splitText(r.endOffset),b=r.startOffset===0?c:c.splitText(r.startOffset),_=b.parentNode,A=m.parentNode;return{prefix:n,end:A.insertBefore(gI(e,n+"-end"),m),start:_.insertBefore(gI(e,n+"-start"),b)}},hI=(e,n,o)=>{N0(e,e.get(n.prefix+"-end"),o),N0(e,e.get(n.prefix+"-start"),o)},YE=e=>e.start.length===0,yI=e=>(n,o)=>{const c=n.data.substring(0,o),u=c.lastIndexOf(e.charAt(e.length-1)),m=c.lastIndexOf(e);return m!==-1?m+e.length:u!==-1?u+1:-1},XE=(e,n,o,r)=>{const c=n.start;return wD(e,r.container,r.offset,yI(c),o).bind(m=>{var b,_;const A=(_=(b=o.textContent)===null||b===void 0?void 0:b.indexOf(c))!==null&&_!==void 0?_:-1;if(A!==-1&&m.offset>=A+c.length){const L=e.createRng();return L.setStart(m.container,m.offset-c.length),L.setEnd(m.container,m.offset),U.some(L)}else{const L=m.offset-c.length;return _0(m.container,L,o).map(j=>{const ne=e.createRng();return ne.setStart(j.container,j.offset),ne.setEnd(m.container,m.offset),ne}).filter(j=>j.toString()===c).orThunk(()=>XE(e,n,o,Af(m.container,0)))}})},FR=(e,n,o,r,c,u=!1)=>{if(n.start.length===0&&!u){const m=e.createRng();return m.setStart(o,r),m.setEnd(o,r),U.some(m)}return vD(o,r,c).bind(m=>XE(e,n,c,m).bind(_=>{var A;if(u){if(_.endContainer===m.container&&_.endOffset===m.offset)return U.none();if(m.offset===0&&((A=_.endContainer.textContent)===null||A===void 0?void 0:A.length)===_.endOffset)return U.none()}return U.some(_)}))},tZ=(e,n,o,r)=>{const c=e.dom,u=c.getRoot(),m=o.pattern,b=o.position.container,_=o.position.offset;return _0(b,_-o.pattern.end.length,n).bind(A=>{const B=MR(c,u,A.container,A.offset,b,_,r);if(YE(m))return U.some({matches:[{pattern:m,startRng:B,endRng:B}],position:A});{const L=P0(e,o.remainingPatterns,A.container,A.offset,n,r),j=L.getOr({matches:[],position:A}),ne=j.position;return FR(c,m,ne.container,ne.offset,n,L.isNone()).map(se=>{const he=eZ(c,u,se,r);return{matches:j.matches.concat([{pattern:m,startRng:he,endRng:B}]),position:Af(se.startContainer,se.startOffset)}})}})},P0=(e,n,o,r,c,u)=>{const m=e.dom;return vD(o,r,m.getRoot()).bind(b=>{const _=$R(m,c,o,r);for(let A=0;A<n.length;A++){const B=n[A];if(!ds(_,B.end))continue;const L=n.slice();L.splice(A,1);const j=tZ(e,c,{pattern:B,remainingPatterns:L,position:b},u);if(j.isNone()&&r>0)return P0(e,n,o,r-1,c,u);if(j.isSome())return j}return U.none()})},bI=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?G(n.format,r=>{e.formatter.apply(r)}):e.execCommand(n.cmd,!1,n.value)},nZ=(e,n,o,r)=>{const c=KE(e.dom,o);GE(e.dom,c,r),bI(e,n,c)},vI=(e,n,o,r,c)=>{const u=e.dom,m=KE(u,r),b=KE(u,o);GE(u,b,c),GE(u,m,c);const _={prefix:o.prefix,start:o.end,end:r.start},A=KE(u,_);bI(e,n,A)},oZ=(e,n)=>{const o=bh("mce_textpattern"),r=Tt(n,(c,u)=>{const m=pI(e,o+`_end${c.length}`,u.endRng);return c.concat([Pt(ie({},u),{endMarker:m})])},[]);return Tt(r,(c,u)=>{const m=r.length-c.length-1,b=YE(u.pattern)?u.endMarker:pI(e,o+`_start${m}`,u.startRng);return c.concat([Pt(ie({},u),{startMarker:b})])},[])},sZ=e=>Vn(e,(n,o)=>o.end.length-n.end.length),rZ=(e,n)=>{const o=an(e,r=>de(n,c=>r.pattern.start===c.pattern.start&&r.pattern.end===c.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},wI=(e,n,o,r,c,u)=>{const m=P0(e,c.inlinePatterns,o,r,n,u).fold(()=>[],_=>_.matches),b=P0(e,sZ(c.inlinePatterns),o,r,n,u).fold(()=>[],_=>_.matches);return rZ(m,b)},kI=(e,n)=>{if(n.length===0)return;const o=e.dom,r=e.selection.getBookmark(),c=oZ(o,n);G(c,u=>{const m=o.getParent(u.startMarker.start,o.isBlock),b=_=>_===m;YE(u.pattern)?nZ(e,u.pattern,u.endMarker,b):vI(e,u.pattern,u.startMarker,u.endMarker,b),hI(o,u.endMarker,b),hI(o,u.startMarker,b)}),e.selection.moveToBookmark(r)},_I=(e,n,o)=>qV(n,0,n).map(r=>{const c=r.container;return aF(c,o.start.length,n).each(u=>{const m=e.createRng();m.setStart(c,0),m.setEnd(u.container,u.offset),GE(e,m,b=>b===n)}),c}),CI=e=>(n,o)=>{const r=n.dom,c=o.pattern,u=PR(r.getRoot(),o.range).getOrDie("Unable to resolve path range"),m=(b,_)=>{const A=_.get(b);return Nt(A)&&Ln(A).exists(B=>ao(B,"block"))};return M0(n,u).each(b=>{c.type==="block-format"?m(c.format,n.formatter)&&n.undoManager.transact(()=>{e(n.dom,b,c),n.formatter.apply(c.format)}):c.type==="block-command"&&n.undoManager.transact(()=>{e(n.dom,b,c),n.execCommand(c.cmd,!1,c.value)})}),!0},aZ=e=>Vn(e,(n,o)=>o.start.length-n.start.length),IR=e=>(n,o)=>{const r=aZ(n),c=o.replace(ja," ");return Lt(r,u=>e(u,o,c))},SI=(e,n)=>(o,r,c,u,m)=>{var b;m===void 0&&(m=(b=r.textContent)!==null&&b!==void 0?b:"");const _=o.dom,A=Xc(o);return _.is(r,A)?e(c.blockPatterns,m).map(B=>n&&nn.trim(m).length===B.start.length?[]:[{pattern:B,range:MR(_,_.getRoot(),r,0,r,0,u)}]).getOr([]):[]},LR=e=>/^\s[^\s]/.test(e),cZ=CI((e,n,o)=>{_I(e,n,o).each(r=>{const c=Ne.fromDom(r),u=wh(c);LR(u)&&kh(c,u.slice(1))})}),iZ=IR((e,n,o)=>n.indexOf(e.start)===0||o.indexOf(e.start)===0),lZ=SI(iZ,!0),uZ=(e,n)=>{const o=e.selection.getRng();return M0(e,o).map(r=>{var c;const u=Math.max(0,o.startOffset),m=BR(n,r,(c=r.textContent)!==null&&c!==void 0?c:""),b=wI(e,r,o.startContainer,u,m,!0),_=lZ(e,r,m,!0);return{inlineMatches:b,blockMatches:_}}).filter(({inlineMatches:r,blockMatches:c})=>c.length>0||r.length>0)},dZ=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();G(n,r=>cZ(e,r)),e.selection.moveToBookmark(o)},JE=CI(_I),fZ=IR((e,n,o)=>n===e.start||o===e.start),mZ=SI(fZ,!1),gZ=(e,n)=>{const o=e.selection.getRng();return M0(e,o).map(r=>{const c=Math.max(0,o.startOffset),u=$R(e.dom,r,o.startContainer,c),m=BR(n,r,u);return mZ(e,r,m,!1,u)}).filter(r=>r.length>0)},pZ=(e,n)=>{G(n,o=>JE(e,o))},hZ=(e,n)=>uZ(e,n).fold(Pe,({inlineMatches:o,blockMatches:r})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{j1(e),kI(e,o),dZ(e,r);const c=e.selection.getRng(),u=vD(c.startContainer,c.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),u.each(m=>{const b=m.container;b.data.charAt(m.offset-1)===Xp&&(b.deleteData(m.offset-1,1),N0(e.dom,b.parentNode,_=>_===e.dom.getRoot()))})}),!0)),yZ=(e,n)=>{const o=e.selection.getRng();M0(e,o).map(r=>{const c=Math.max(0,o.startOffset-1),u=$R(e.dom,r,o.startContainer,c),m=BR(n,r,u),b=wI(e,r,o.startContainer,c,m,!1);b.length>0&&e.undoManager.transact(()=>{kI(e,b)})})},bZ=(e,n)=>gZ(e,n).fold(Pe,o=>(e.undoManager.transact(()=>{pZ(e,o)}),!0)),xI=(e,n,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],n))return!0;return!1},vZ=(e,n)=>xI(e,n,(o,r)=>o===r.keyCode&&!Wn.modifierPressed(r)),EI=(e,n)=>xI(e,n,(o,r)=>o.charCodeAt(0)===r.charCode),wZ=e=>{const n=[",",".",";",":","!","?"],o=[32],r=()=>Kc(bA(e).filter(m=>m.type==="inline-command"||m.type==="block-command"?e.queryCommandSupported(m.cmd):!0),vA(e)),c=()=>DS(e);e.on("keydown",m=>{if(m.keyCode===13&&!Wn.modifierPressed(m)&&e.selection.isCollapsed()&&e.selection.isEditable()){const b=hf(r(),"enter");(b.inlinePatterns.length>0||b.blockPatterns.length>0||c())&&hZ(e,b)&&m.preventDefault()}},!0),e.on("keydown",m=>{if(m.keyCode===32&&e.selection.isCollapsed()&&e.selection.isEditable()){const b=hf(r(),"space");(b.blockPatterns.length>0||c())&&bZ(e,b)&&m.preventDefault()}},!0);const u=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const m=hf(r(),"space");(m.inlinePatterns.length>0||c())&&yZ(e,m)}};e.on("keyup",m=>{vZ(o,m)&&u()}),e.on("keypress",m=>{EI(n,m)&&Uu.setEditorTimeout(e,u)})},TI=e=>{wZ(e)},kZ=e=>{const n=nn.each,o=Wn.BACKSPACE,r=Wn.DELETE,c=e.dom,u=e.selection,m=e.parser,b=$e.browser,_=b.isFirefox(),A=b.isChromium()||b.isSafari(),B=$e.deviceType.isiPhone()||$e.deviceType.isiPad(),L=$e.os.isMacOS()||$e.os.isiOS(),j=(Hn,zo)=>{try{e.getDoc().execCommand(Hn,!1,String(zo))}catch(No){}},ne=Hn=>Hn.isDefaultPrevented(),fe=()=>{const Hn=No=>{const Nn=c.create("body"),hs=No.cloneContents();return Nn.appendChild(hs),u.serializer.serialize(Nn,{format:"html"})},zo=No=>{const Nn=Hn(No),hs=c.createRng();hs.selectNode(e.getBody());const Ss=Hn(hs);return Nn===Ss};e.on("keydown",No=>{const Nn=No.keyCode;if(!ne(No)&&(Nn===r||Nn===o)&&e.selection.isEditable()){const hs=e.selection.isCollapsed(),Ss=e.getBody();if(hs&&!rc(e.schema,Ss)||!hs&&!zo(e.selection.getRng()))return;No.preventDefault(),e.setContent(""),Ss.firstChild&&c.isBlock(Ss.firstChild)?e.selection.setCursorLocation(Ss.firstChild,0):e.selection.setCursorLocation(Ss,0),e.nodeChanged()}})},se=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},he=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",Hn=>{let zo;if(Hn.target===e.getDoc().documentElement)if(zo=u.getRng(),e.getBody().focus(),Hn.type==="mousedown"){if(su(zo.startContainer))return;u.placeCaretAt(Hn.clientX,Hn.clientY)}else u.setRng(zo)})},He=()=>{e.on("keydown",Hn=>{if(!ne(Hn)&&Hn.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(u.isCollapsed()&&u.getRng().startOffset===0){const zo=u.getNode(),No=zo.previousSibling;if(zo.nodeName==="HR"){c.remove(zo),Hn.preventDefault();return}No&&No.nodeName&&No.nodeName.toLowerCase()==="hr"&&(c.remove(No),Hn.preventDefault())}}})},Ge=()=>{Range.prototype.getClientRects||e.on("mousedown",Hn=>{if(!ne(Hn)&&Hn.target.nodeName==="HTML"){const zo=e.getBody();zo.blur(),Uu.setEditorTimeout(e,()=>{zo.focus()})}})},nt=()=>{const Hn=Fw(e);e.on("click",zo=>{const No=zo.target;/^(IMG|HR)$/.test(No.nodeName)&&c.isEditable(No)&&(zo.preventDefault(),e.selection.select(No),e.nodeChanged()),No.nodeName==="A"&&c.hasClass(No,Hn)&&No.childNodes.length===0&&c.isEditable(No.parentNode)&&(zo.preventDefault(),u.select(No))})},mt=()=>{const Hn=()=>{const No=c.getAttribs(u.getStart().cloneNode(!1));return()=>{const Nn=u.getStart();Nn!==e.getBody()&&(c.setAttrib(Nn,"style",null),n(No,hs=>{Nn.setAttributeNode(hs.cloneNode(!0))}))}},zo=()=>!u.isCollapsed()&&c.getParent(u.getStart(),c.isBlock)!==c.getParent(u.getEnd(),c.isBlock);e.on("keypress",No=>{let Nn;return!ne(No)&&(No.keyCode===8||No.keyCode===46)&&zo()?(Nn=Hn(),e.getDoc().execCommand("delete",!1),Nn(),No.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",No=>{if(!ne(No)&&zo()){const Nn=Hn();Uu.setEditorTimeout(e,()=>{Nn()})}})},en=()=>{e.on("keydown",Hn=>{if(!ne(Hn)&&Hn.keyCode===o&&u.isCollapsed()&&u.getRng().startOffset===0){const zo=u.getNode().previousSibling;if(zo&&zo.nodeName&&zo.nodeName.toLowerCase()==="table")return Hn.preventDefault(),!1}return!0})},yn=()=>{e.on("keydown",Hn=>{if(ne(Hn)||Hn.keyCode!==Wn.BACKSPACE)return;let zo=u.getRng();const No=zo.startContainer,Nn=zo.startOffset,hs=c.getRoot();let Ss=No;if(!(!zo.collapsed||Nn!==0)){for(;Ss.parentNode&&Ss.parentNode.firstChild===Ss&&Ss.parentNode!==hs;)Ss=Ss.parentNode;Ss.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Ss),zo=c.createRng(),zo.setStart(No,0),zo.setEnd(No,0),u.setRng(zo))}})},Zn=()=>{const Hn=()=>{j("StyleWithCSS",!1),j("enableInlineTableEditing",!1),Oh(e)||j("enableObjectResizing",!1)};bS(e)||e.on("BeforeExecCommand mousedown",Hn)},Wt=()=>{const Hn=()=>{n(c.select("a:not([data-mce-block])"),zo=>{var No;let Nn=zo.parentNode;const hs=c.getRoot();if((Nn==null?void 0:Nn.lastChild)===zo){for(;Nn&&!c.isBlock(Nn);){if(((No=Nn.parentNode)===null||No===void 0?void 0:No.lastChild)!==Nn||Nn===hs)return;Nn=Nn.parentNode}c.add(Nn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",zo=>{(zo.type==="setcontent"||zo.command==="mceInsertLink")&&Hn()})},At=()=>{e.on("init",()=>{j("DefaultParagraphSeparator",Xc(e))})},sn=Hn=>{const zo=Hn.getBody(),No=Hn.selection.getRng();return No.startContainer===No.endContainer&&No.startContainer===zo&&No.startOffset===0&&No.endOffset===zo.childNodes.length},qn=()=>{e.on("keyup focusin mouseup",Hn=>{!Wn.modifierPressed(Hn)&&!sn(e)&&u.normalize()},!0)},yo=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},gs=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},ps=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",Hn=>{let zo;Hn.target.nodeName==="HTML"&&(zo=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(zo),e.selection.normalize(),e.nodeChanged())}))},Ks=()=>{L&&e.on("keydown",Hn=>{Wn.metaKeyPressed(Hn)&&!Hn.shiftKey&&(Hn.keyCode===37||Hn.keyCode===39)&&(Hn.preventDefault(),e.selection.getSel().modify("move",Hn.keyCode===37?"backward":"forward","lineboundary"))})},lr=()=>{e.on("click",Hn=>{let zo=Hn.target;do if(zo.tagName==="A"){Hn.preventDefault();return}while(zo=zo.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Pa=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",Hn=>{Hn.preventDefault()})})},gi=()=>{m.addNodeFilter("br",Hn=>{let zo=Hn.length;for(;zo--;)Hn[zo].attr("class")==="Apple-interchange-newline"&&Hn[zo].remove()})},Ha=Ye,On=()=>{if(!_||e.removed)return!1;const Hn=e.selection.getSel();return!Hn||!Hn.rangeCount||Hn.rangeCount===0},go=()=>{A&&(he(),nt(),Pa(),se(),B&&(gs(),ps(),lr())),_&&(Ge(),Zn(),yo(),Ks())},Us=()=>{yn(),fe(),$e.windowsPhone||qn(),A&&(he(),nt(),At(),Pa(),en(),gi(),B?(gs(),ps(),lr()):se()),_&&(He(),Ge(),mt(),Zn(),Wt(),yo(),Ks(),en())};return pg(e)?go():Us(),{refreshContentEditable:Ha,isHidden:On}},_Z=e=>e.toLowerCase()==="gpl",AI=e=>e.length>=64&&e.length<=255,Y_=e=>_Z(e)||AI(e)?"VALID":"INVALID",CZ=e=>{const n=Rh(e);!ae(NS(e))&&(Tn(n)||Y_(n)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},QE=Er.DOM,SZ=(e,n)=>{const o=Ne.fromDom(e.getBody()),r=Qd(ll(o)),c=Ne.fromTag("style");ta(c,"type","text/css"),$a(c,Ne.fromText(n)),$a(r,c),e.on("remove",()=>{nr(c)})},xZ=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,HR=e=>Cs(e,n=>Tn(n)===!1),OI=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return HR({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_mathml_annotation_encodings:n("allow_mathml_annotation_encodings"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_unsafe_embeds:n("convert_unsafe_embeds"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:xZ(e),sandbox_iframes:n("sandbox_iframes"),sandbox_iframes_exclusions:jw(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},VR=e=>{const n=e.options.get;return HR({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},EZ=e=>{const n=e.options.get;return ie(ie(ie({},OI(e)),VR(e)),HR({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")}))},DI=e=>{const n=qb(OI(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const c=e.dom,u="data-mce-"+r;let m=o.length;for(;m--;){const b=o[m];let _=b.attr(r);if(_&&!b.attr(u)){if(_.indexOf("data:")===0||_.indexOf("blob:")===0)continue;r==="style"?(_=c.serializeStyle(c.parseStyle(_),b.name),_.length||(_=null),b.attr(u,_),b.attr(r,_)):r==="tabindex"?(b.attr(u,_),b.attr(r,null)):b.attr(u,e.convertURL(_,r,b.name))}}}),n.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const c=o[r],u=c.attr("type")||"no/type";u.indexOf("mce-")!==0&&c.attr("type","mce-"+u)}}),uv(e)&&n.addNodeFilter("#cdata",o=>{var r;let c=o.length;for(;c--;){const u=o[c];u.type=8,u.name="#comment",u.value="[CDATA["+e.dom.encode((r=u.value)!==null&&r!==void 0?r:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const c=e.schema.getNonEmptyElements();for(;r--;){const u=o[r];u.isEmpty(c)&&u.getAll("br").length===0&&u.append(new kl("br",1))}}),n},TZ=e=>{const n=cv(e);n&&Uu.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},AZ=e=>{const n=e.dom.getRoot();!e.inline&&(!xv(e)||e.selection.getStart(!0)===n)&&Oi(n).each(o=>{const r=o.getNode(),c=Ql(r)?Oi(r).getOr(o):o;e.selection.setRng(c.toRange())})},OZ=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Mv(e),e.focus(!0),AZ(e),e.nodeChanged({initial:!0});const n=pA(e);ke(n)&&n.call(e,e),TZ(e)},UR=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,DZ=(e,n,o)=>{const{pass:r,fail:c}=Ce(n,b=>tinymce.Resource.has(d3(b))),m=[...r.map(b=>{const _=tinymce.Resource.get(d3(b));return ae(_)?Promise.resolve(UR(e).loadRawCss(b,_)):Promise.resolve()}),UR(e).loadAll(c)];return e.inline?m:m.concat([e.ui.styleSheetLoader.loadAll(o)])},RI=e=>{const n=UR(e),o=iA(e),r=e.contentCSS,c=()=>{n.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},u=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let _="";nn.each(e.contentStyles,A=>{_+=A+`\r
`}),e.dom.addStyle(_)}const m=Promise.all(DZ(e,r,o)).then(u).catch(u),b=hl(e);return b&&SZ(e,b),m},RZ=e=>{const n=e.getDoc(),o=e.getBody();g2(e),_S(e)||(n.body.spellcheck=!1,QE.setAttrib(o,"spellcheck","false")),e.quirks=kZ(e),bk(e);const r=lA(e);r!==void 0&&(o.dir=r);const c=Iw(e);c&&e.on("BeforeSetContent",u=>{nn.each(c,m=>{u.content=u.content.replace(m,b=>"<!--mce:protected "+escape(b)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",u=>{e.composing=u.type==="compositionstart"})},zZ=e=>{pg(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},jR=e=>{e.removed!==!0&&(zZ(e),OZ(e))},zI=e=>{let n=!1;const o=setTimeout(()=>{n||e.setProgressState(!0)},500);return()=>{clearTimeout(o),n=!0,e.setProgressState(!1)}},eT=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(QE.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const r=e.getBody();r.disabled=!0,e.readonly=bS(e),e._editableRoot=mA(e),e.hasEditableRoot()&&(e.inline&&QE.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=WH(e),e.schema=or(VR(e)),e.dom=Er(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:fS(e),referrerPolicy:tb(e),onSetAttrib:m=>{e.dispatch("SetAttrib",m)}}),e.parser=DI(e),e.serializer=s3(EZ(e),e),e.selection=uB(e.dom,e.getWin(),e.serializer,e),e.annotator=Ed(e),e.formatter=DB(e),e.undoManager=y3(e),e._nodeChangeDispatcher=new Rj(e),e._selectionOverrides=qE(e),lV(e),CW(e),gV(e),pg(e)||(xR(e),TI(e));const c=Dj(e);cV(e,c),uV(e),JH(e),U5(e);const u=XP(e);RZ(e),CZ(e),u.fold(()=>{const m=zI(e);RI(e).then(()=>{jR(e),m()})},m=>{e.setProgressState(!0),RI(e).then(()=>{m().then(b=>{e.setProgressState(!1),jR(e),cB(e)},b=>{e.notificationManager.open({type:"error",text:String(b)}),jR(e),cB(e)})})})},NI=gt,MI=(e,n,o)=>T(e,n,NI,o),WR=Er.DOM,NZ=(e,n,o,r)=>{const c=Ne.fromTag("iframe");return r.each(u=>ta(c,"tabindex",u)),Ca(c,o),Ca(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),Tl(c,"tox-edit-area__iframe"),c},MZ=e=>{let n=Yc(e)+"<html><head>";iS(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=Ym(e),r=lS(e),c=e.translate(cb(e));return Ow(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+Ow(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${c}"><br></body></html>`,n},PI=(e,n)=>{const o=$e.browser.isFirefox()?cb(e):"Rich Text Area",r=e.translate(o),c=Rr(Ne.fromDom(e.getElement()),"tabindex").bind(aa),u=NZ(e.id,r,rA(e),c).dom;u.onload=()=>{u.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=u,e.iframeHTML=MZ(e),WR.add(n.iframeContainer,u)},BI=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,eT(e)};if(Ka(e)||$e.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),o()}else{const r=MI(Ne.fromDom(n),"load",()=>{r.unbind(),o()});n.srcdoc=e.iframeHTML}},PZ=(e,n)=>{PI(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=WR.isHidden(n.editorContainer)),e.getElement().style.display="none",WR.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,BI(e)},$I=Er.DOM,ZR=(e,n,o)=>{const r=u0.get(o),c=u0.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=nn.trim(o),r&&nn.inArray(n,o)===-1){if(e.plugins[o])return;try{const u=r(e,c)||{};e.plugins[o]=u,ke(u.init)&&(u.init(e,c),n.push(o))}catch(u){u3(e,o,u)}}},tT=e=>e.replace(/^\-/,""),nT=e=>{const n=[];G(ab(e),o=>{ZR(e,n,tT(o))})},Lp=e=>{const n=nn.trim(Ga(e)),o=e.ui.registry.getAll().icons,r=ie(ie({},i0.get("default").icons),i0.get(n).icons);on(r,(c,u)=>{ao(o,u)||e.ui.registry.addIcon(u,c)})},oT=e=>{const n=Jm(e);if(ae(n)){const o=mm.get(n);e.theme=o(e,mm.urls[n])||{},ke(e.theme.init)&&e.theme.init(e,mm.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},B0=e=>{const n=sv(e),o=l0.get(n);e.model=o(e,l0.urls[n])},FI=e=>{const n=e.theme.renderUI;return n?n():HI(e)},BZ=e=>{const n=e.getElement(),r=Jm(e)(e,n);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:n.offsetHeight,r},II=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),LI=e=>{const n=$I.create("div");return $I.insertAfter(n,e),II(n,n)},HI=e=>{const n=e.getElement();return e.inline?II(null):LI(n)},qR=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,ae(Jm(e))?FI(e):ke(Jm(e))?BZ(e):HI(e)},sT=(e,n)=>{const o={show:U.from(n.show).getOr(Ye),hide:U.from(n.hide).getOr(Ye),isEnabled:U.from(n.isEnabled).getOr(gt),setEnabled:r=>{r&&e.mode.get()==="readonly"||U.from(n.setEnabled).each(u=>u(r))}};e.ui=ie(ie({},e.ui),o)},ky=e=>Nf(this,null,function*(){e.dispatch("ScriptsLoaded"),Lp(e),oT(e),B0(e),nT(e);const n=yield qR(e);sT(e,U.from(n.api).getOr({})),e.editorContainer=n.editorContainer,VH(e),e.inline?eT(e):PZ(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})}),Hd=Er.DOM,GR=e=>e.charAt(0)==="-",$Z=(e,n)=>{const o=ov(n),r=nb(n);if(!kd.hasCode(o)&&o!=="en"){const c=vo(r)?r:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(c).catch(()=>{FH(n,c,o)})}},FZ=(e,n)=>{const o=Jm(e);if(ae(o)&&!GR(o)&&!ao(mm.urls,o)){const r=gS(e),c=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${n}.js`;mm.load(o,c).catch(()=>{FK(e,c,o)})}},IZ=(e,n)=>{const o=sv(e);if(o!=="plugin"&&!ao(l0.urls,o)){const r=Pw(e),c=ae(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${n}.js`;l0.load(o,c).catch(()=>{gm(e,c,o)})}},LZ=e=>U.from(nv(e)).filter(vo).map(n=>({url:n,name:U.none()})),VI=(e,n,o)=>U.from(n).filter(r=>vo(r)&&!i0.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:U.some(r)})),HZ=(e,n,o)=>{const r=VI(n,"default",o),c=LZ(n).orThunk(()=>VI(n,Ga(n),""));G($i([r,c]),u=>{e.add(u.url).catch(()=>{$H(n,u.url,u.name.getOrUndefined())})})},UI=(e,n)=>{const o=(r,c)=>{u0.load(r,c).catch(()=>{BH(e,c,r)})};on(wS(e),(r,c)=>{o(c,r),e.options.set("plugins",ab(e).concat(c))}),G(ab(e),r=>{r=nn.trim(r),r&&!u0.urls[r]&&!GR(r)&&o(r,`plugins/${r}/plugin${n}.js`)})},VZ=e=>{const n=Jm(e);return!ae(n)||at(mm.get(n))},UZ=e=>{const n=sv(e);return at(l0.get(n))},jZ=(e,n)=>{const o=df.ScriptLoader,r=()=>{!e.removed&&VZ(e)&&UZ(e)&&ky(e)};FZ(e,n),IZ(e,n),$Z(o,e),HZ(o,e,n),UI(e,n),o.loadQueue().then(r,r)},dY=(e,n)=>Kr.forElement(e,{contentCssCors:vS(n),referrerPolicy:tb(n)}),WZ=e=>{const n=e.id;kd.setCode(ov(e));const o=()=>{Hd.unbind(window,"ready",o),e.render()};if(!Gg.Event.domLoaded){Hd.bind(window,"ready",o);return}if(!e.getElement())return;const r=Ne.fromDom(e.getElement()),c=Gd(r);e.on("remove",()=>{pe(r.dom.attributes,m=>Sr(r,m.name)),Ca(r,c)}),e.ui.styleSheetLoader=dY(r,e),dp(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const u=e.getElement().form||Hd.getParent(n,"form");u&&(e.formElement=u,rb(e)&&!sa(e.getElement())&&(Hd.insertAfter(Hd.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=m=>{e.dispatch(m.type,m)},Hd.bind(u,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),uA(e)&&!u.submit.nodeType&&!u.submit.length&&!u._mceOldSubmit&&(u._mceOldSubmit=u.submit,u.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),u._mceOldSubmit(u)))),e.windowManager=l3(e),e.notificationManager=kB(e),dv(e)&&e.on("GetContent",m=>{m.save&&(m.content=Hd.encode(m.content))}),Bw(e)&&e.on("submit",()=>{e.initialized&&e.save()}),dA(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),jZ(e,e.suffix)},KR=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged(),vr(e,n))},ZZ=e=>e._editableRoot,qZ=(e,n)=>({sections:_e(e),options:_e(n)}),YR=ee().deviceType,jI=YR.isPhone(),WI=YR.isTablet(),X_=e=>{if(gn(e))return[];{const n=Nt(e)?e:e.split(/[ ,]/),o=De(n,Is);return Oe(o,vo)}},XR=(e,n)=>{const o=_r(n,(r,c)=>re(e,c));return qZ(o.t,o.f)},GZ=(e,n,o={})=>{const r=e.sections(),c=ys(r,n).getOr({});return nn.extend({},o,c)},JR=(e,n)=>ao(e.sections(),n),KZ=(e,n)=>JR(e,n)?e.sections()[n]:{},YZ=(e,n)=>{const o={table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:ys(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},r={menubar:!1};return ie(ie({},o),n?r:{})},ZI=(e,n)=>{var o;const r=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?nn.extend({},e.external_plugins,r):r},QR=(e,n)=>[...X_(e),...X_(n)],qI=(e,n,o,r)=>e&&JR(n,"mobile")?r:o,ez=(e,n,o,r)=>{const c=X_(o.forced_plugins),u=X_(r.plugins),m=KZ(n,"mobile"),b=m.plugins?X_(m.plugins):u,_=qI(e,n,u,b),A=QR(c,_);return nn.extend(r,{forced_plugins:c,plugins:A})},XZ=(e,n)=>e&&JR(n,"mobile"),fY=(e,n,o,r,c)=>{var u;const m=e?{mobile:YZ((u=c.mobile)!==null&&u!==void 0?u:{},n)}:{},b=XR(["mobile"],yy(m,c)),_=nn.extend(o,r,b.options(),XZ(e,b)?GZ(b,"mobile"):{},{external_plugins:ZI(r,b.options())});return ez(e,b,r,_)},mY=(e,n)=>{const o=OD(n);return fY(jI||WI,jI,o,e,o)},JZ=(e,n)=>Q7(e,n),GI=e=>{const n=(r,c)=>{e.formatter.toggle(r,c),e.nodeChanged()},o=r=>()=>{G("left,center,right,justify".split(","),c=>{r!==c&&e.formatter.remove("align"+c)}),r!=="none"&&n("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},QZ=e=>{const n=o=>()=>{const r=e.selection,c=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return de(c,u=>at(e.formatter.matchNode(u,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},eq=e=>{GI(e),QZ(e)},tq=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let r;try{o.execCommand(n)}catch(c){r=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(r=!0),r||!o.queryCommandSupported(n)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");($e.os.isMacOS()||$e.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:c,type:"error"})}}})},gY=(e,n,o,r)=>{const c=Ne.fromDom(e.getRoot());return Dk(c,Ft.fromRangeStart(n),r)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),Rk(c,Ft.fromRangeEnd(n),r)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},pY=e=>{if(typeof e!="string"){const n=nn.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},KI=(e,n)=>{const o=e.selection,r=e.dom;return/^ | $/.test(n)?gY(r,o.getRng(),n,e.schema):n},J_=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:r}=pY(n);Cx(e,Pt(ie({},r),{content:KI(e,o),format:"html",set:!1,selection:!0})).each(c=>{const u=aB(e,c.content,r);Sx(e,u,c),e.addVisual()})}},nq=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,r)=>{J_(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,r)=>{J_(e,e.dom.encode(r))},insertHTML:(n,o,r)=>{J_(e,r)},mceInsertContent:(n,o,r)=>{J_(e,r)},mceSetContent:(n,o,r)=>{e.setContent(r)},mceReplaceContent:(n,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(SS(e))}})},oq={"font-size":"size","font-family":"face"},sq=ec("font"),hY=(e,n,o)=>{const r=u=>Ou(u,e).orThunk(()=>sq(u)?ys(oq,e).bind(m=>Rr(u,m)):U.none()),c=u=>rs(Ne.fromDom(n),u);return Uk(Ne.fromDom(o),u=>r(u),c)},yY=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),bY=(e,n)=>U.from(Er.DOM.getStyle(n,e,!0)),YI=e=>(n,o)=>U.from(o).map(Ne.fromDom).filter(ts).bind(r=>hY(e,n,r.dom).or(bY(e,r.dom))).getOr(""),vY=YI("font-size"),rq=x(yY,YI("font-family")),g1=e=>Oi(e.getBody()).bind(n=>{const o=n.container();return U.from(dn(o)?o.parentNode:o)}),tz=e=>U.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?U.none():U.from(e.selection.getStart(!0))}),rT=(e,n)=>tz(e).orThunk(Te(g1,e)).map(Ne.fromDom).filter(ts).bind(n),aT=(e,n)=>rT(e,bt(U.some,n)),nz=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const r=Dh(e),c=eg(e);return c.length>0?c[o-1]||n:r[o-1]||n}else return n}else return n},XI=e=>{const n=e.split(/\s*,\s*/);return De(n,o=>o.indexOf(" ")!==-1&&!(Co(o,'"')||Co(o,"'"))?`'${o}'`:o).join(",")},aq=(e,n)=>{const o=nz(e,n);e.formatter.toggle("fontname",{value:XI(o)}),e.nodeChanged()},cq=e=>aT(e,n=>rq(e.getBody(),n.dom)).getOr(""),iq=(e,n)=>{e.formatter.toggle("fontsize",{value:nz(e,n)}),e.nodeChanged()},lq=e=>aT(e,n=>vY(e.getBody(),n.dom)).getOr(""),uq=e=>aT(e,n=>{const o=Ne.fromDom(e.getBody()),r=Uk(n,u=>Ou(u,"line-height"),Te(rs,o)),c=()=>{const u=parseFloat(da(n,"line-height")),m=parseFloat(da(n,"font-size"));return String(u/m)};return r.getOrThunk(c)}).getOr(""),dq=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},_y=e=>{const n=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,r,c)=>{n(o,{value:c})},BackColor:(o,r,c)=>{n("hilitecolor",{value:c})},FontName:(o,r,c)=>{aq(e,c)},FontSize:(o,r,c)=>{iq(e,c)},LineHeight:(o,r,c)=>{dq(e,c)},Lang:(o,r,c)=>{var u;n(o,{value:c.code,customValue:(u=c.customCode)!==null&&u!==void 0?u:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,r,c)=>{n(ae(c)?c:"p")},mceToggleFormat:(o,r,c)=>{n(c)}})},fq=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>cq(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>lq(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>uq(e))},JI=e=>{_y(e),fq(e)},mq=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},cT=e=>{e.editorCommands.addCommands({Indent:()=>{$d(e)},Outdent:()=>{hy(e)}}),e.editorCommands.addCommands({Outdent:()=>rE(e)},"state")},gq=e=>{const n=(o,r,c)=>{if(e.mode.isReadOnly())return;const u=ae(c)?{href:c}:c,m=e.dom.getParent(e.selection.getNode(),"a");vt(u)&&ae(u.href)&&(u.href=u.href.replace(/ /g,"%20"),(!m||!u.href)&&e.formatter.remove("link"),u.href&&e.formatter.apply("link",u,m))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},pq=(e,n,o,r)=>{const c=e.dom,u=b=>c.isBlock(b)&&b.parentElement===o,m=u(n)?n:c.getParent(r,u,o);return U.from(m).map(Ne.fromDom)},QI=(e,n)=>{if(e.mode.isReadOnly())return;const o=e.dom,r=e.selection.getRng(),c=n?e.selection.getStart():e.selection.getEnd(),u=n?r.startContainer:r.endContainer,m=L_(o,u);if(!m||!m.isContentEditable)return;const b=n?dr:el,_=Xc(e);pq(e,c,m,u).each(A=>{const B=UD(e,u,A.dom,m,!1,_);b(A,Ne.fromDom(B)),e.selection.setCursorLocation(B,0),e.dispatch("NewBlock",{newBlock:B}),Xu(e,"insertParagraph")})},eL=e=>QI(e,!0),hq=e=>QI(e,!1),yq=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{eL(e)},InsertNewBlockAfter:()=>{hq(e)}})},bq=e=>{e.editorCommands.addCommands({insertParagraph:()=>{NE(uj,e)},mceInsertNewLine:(n,o,r)=>{W_(e,r)},InsertLineBreak:(n,o,r)=>{NE(KF,e)}})},vq=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,r)=>{let c=0;e.dom.getParent(e.selection.getNode(),u=>In(u)&&c++===r?(e.selection.select(u),!1):!0,e.getBody())},mceSelectNode:(n,o,r)=>{e.selection.select(r)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),Xt);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},oz=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,r)=>{const c=r!=null?r:e.selection.getNode();if(c!==e.getBody()){const u=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(u)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,r)=>{fN(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},wq=e=>{eq(e),tq(e),mq(e),vq(e),nq(e),gq(e),cT(e),yq(e),bq(e),JI(e),oz(e)},kq=["toggleview"],vc=e=>re(kq,e.toLowerCase());class tL{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,r,c){const u=this.editor,m=n.toLowerCase(),b=c==null?void 0:c.skip_focus;if(u.removed||(m!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(m)&&!b?u.focus():S2(u)),u.dispatch("BeforeExecCommand",{command:n,ui:o,value:r}).isDefaultPrevented()))return!1;const A=this.commands.exec[m];return ke(A)?(A(m,o,r),u.dispatch("ExecCommand",{command:n,ui:o,value:r}),!0):!1}queryCommandState(n){if(!vc(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),r=this.commands.state[o];return ke(r)?r(o):!1}queryCommandValue(n){if(!vc(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),r=this.commands.value[o];return ke(r)?r(o):""}addCommands(n,o="exec"){const r=this.commands;on(n,(c,u)=>{G(u.toLowerCase().split(","),m=>{r[o][m]=c})})}addCommand(n,o,r){const c=n.toLowerCase();this.commands.exec[c]=(u,m,b)=>o.call(r!=null?r:this.editor,m,b)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,r){this.commands.state[n.toLowerCase()]=()=>o.call(r!=null?r:this.editor)}addQueryValueHandler(n,o,r){this.commands.value[n.toLowerCase()]=()=>o.call(r!=null?r:this.editor)}}const _q=(e,n,o)=>{Bf(e,n)&&!o?cd(e,n):o&&Tl(e,n)},Q_=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch(r){}},sz=(e,n)=>{e.dom.contentEditable="true"},rz=e=>{U.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},Cq=e=>{e.selection.setRng(e.selection.getRng())},Sq=(e,n)=>{Q_(e,"StyleWithCSS",n),Q_(e,"enableInlineTableEditing",n),Q_(e,"enableObjectResizing",n)},xq=e=>{e.readonly=!0,e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),rz(e)},Eq=(e,n)=>{e.readonly=!1,e.hasEditableRoot()&&sz(n),Sq(e,!1),dN(e)&&e.focus(),Cq(e),e.nodeChanged()},Tq=(e,n)=>{const o=Ne.fromDom(e.getBody());_q(o,"mce-content-readonly",n),n?(xq(e),e.hasEditableRoot()&&sz(o)):Eq(e,o)},$0=e=>e.readonly,Aq=e=>e.type==="click",Oq=["copy"],F0=e=>re(Oq,e.type),vm=(e,n)=>Xl(n,"a",r=>rs(r,Ne.fromDom(e.getBody()))).bind(r=>Rr(r,"href")),Dq=(e,n)=>{if(Aq(n)&&!Wn.metaKeyPressed(n)){const o=Ne.fromDom(n.target);vm(e,o).each(r=>{if(n.preventDefault(),/^#/.test(r)){const c=e.dom.select(`${r},[name="${Gn(r,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else F0(n)&&e.dispatch(n.type,n)},Rq=e=>{e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",n=>{$0(e)&&n.preventDefault()}),e.on("BeforeExecCommand",n=>{(n.command==="Undo"||n.command==="Redo")&&$0(e)&&n.preventDefault()}),e.on("input",n=>{if(!n.isComposing&&$0(e)){const o=e.undoManager.add();at(o)&&e.undoManager.undo()}}),e.on("compositionend",()=>{if($0(e)){const n=e.undoManager.add();at(n)&&e.undoManager.undo()}})},zq=nn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class az{static isNative(n){return!!zq[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Pe}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const r=n.toLowerCase(),c=qg(r,o!=null?o:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const u=this.bindings[r];if(u)for(let m=0,b=u.length;m<b;m++){const _=u[m];if(!_.removed){if(_.once&&this.off(r,_.func),c.isImmediatePropagationStopped())return c;if(_.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(n,o,r,c){if(o===!1&&(o=Pe),o){const u={func:o,removed:!1};c&&nn.extend(u,c);const m=n.toLowerCase().split(" ");let b=m.length;for(;b--;){const _=m[b];let A=this.bindings[_];A||(A=[],this.toggleEvent(_,!0)),r?A=[u,...A]:A=[...A,u],this.bindings[_]=A}}return this}off(n,o){if(n){const r=n.toLowerCase().split(" ");let c=r.length;for(;c--;){const u=r[c];let m=this.bindings[u];if(!u)return on(this.bindings,(b,_)=>{this.toggleEvent(_,!1),delete this.bindings[_]}),this;if(m){if(!o)m.length=0;else{const b=Ce(m,_=>_.func===o);m=b.fail,this.bindings[u]=m,G(b.pass,_=>{_.removed=!0})}m.length||(this.toggleEvent(n,!1),delete this.bindings[u])}}}else on(this.bindings,(r,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(n,o,r){return this.on(n,o,r,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const eC=e=>(e._eventDispatcher||(e._eventDispatcher=new az({scope:e,toggleEvent:(n,o)=>{az.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),cz={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return qg(e.toLowerCase(),n!=null?n:{},r);const c=eC(r).dispatch(e,n);if(o!==!1&&r.parent){let u=r.parent();for(;u&&!c.isPropagationStopped();)u.dispatch(e,c,!1),u=u.parent?u.parent():void 0}return c},on(e,n,o){return eC(this).on(e,n,o)},off(e,n){return eC(this).off(e,n)},once(e,n){return eC(this).once(e,n)},hasEventListeners(e){return eC(this).has(e)}},iT=Er.DOM;let p1;const lT=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=Ti(e);return o?(e.eventRoot||(e.eventRoot=iT.select(o)[0]),e.eventRoot):e.getBody()},wY=e=>!e.hidden,nL=(e,n,o)=>{wY(e)?e.dispatch(n,o):$0(e)&&Dq(e,o)},oL=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=lT(e,n);if(Ti(e)){if(p1||(p1={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||p1&&(on(p1,(c,u)=>{e.dom.unbind(lT(e,u))}),p1=null)})),p1[n])return;const r=c=>{const u=c.target,m=e.editorManager.get();let b=m.length;for(;b--;){const _=m[b].getBody();(_===u||iT.isChildOf(u,_))&&nL(m[b],n,c)}};p1[n]=r,iT.bind(o,n,r)}else{const r=c=>{nL(e,n,c)};iT.bind(o,n,r),e.delegates[n]=r}},sL=Pt(ie({},cz),{bindPendingEventDelegates(){const e=this;nn.each(e._pendingNativeEvents,n=>{oL(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?oL(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(lT(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(on(e.delegates,(r,c)=>{e.dom.unbind(lT(e,c),c,r)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}}),Nq=e=>ae(e)?{value:e.split(/[ ,]/),valid:!0}:We(e,ae)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Mq=e=>{const n=(()=>{switch(e){case"array":return Nt;case"boolean":return Zt;case"function":return ke;case"number":return bo;case"object":return vt;case"string":return ae;case"string[]":return Nq;case"object[]":return o=>We(o,vt);case"regexp":return o=>qe(o,RegExp);default:return gt}})();return o=>iz(o,n,`The value must be a ${e}.`)},Pq=e=>ae(e.processor),rL=(e,n)=>{const o=cs(n.message)?"":`. ${n.message}`;return e+o},aL=e=>e.valid,iz=(e,n,o="")=>{const r=n(e);return Zt(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},Bq=(e,n,o)=>{if(!Tn(n)){const r=iz(n,o);if(aL(r))return r.value;console.error(rL(`Invalid default value passed for the "${e}" option`,r))}},$q=(e,n,o=n)=>{const r={},c={},u=(ne,fe,se)=>{const he=iz(fe,se);return aL(he)?(c[ne]=he.value,!0):(console.warn(rL(`Invalid value passed for the ${ne} option`,he)),!1)},m=(ne,fe)=>{const se=Pq(fe)?Mq(fe.processor):fe.processor,he=Bq(ne,fe.default,se);r[ne]=Pt(ie({},fe),{default:he,processor:se}),ys(c,ne).orThunk(()=>ys(n,ne)).each(Ge=>u(ne,Ge,se))},b=ne=>ao(r,ne);return{register:m,isRegistered:b,get:ne=>ys(c,ne).orThunk(()=>ys(r,ne).map(fe=>fe.default)).getOrUndefined(),set:(ne,fe)=>{if(b(ne)){const se=r[ne];return se.immutable?(console.error(`"${ne}" is an immutable option and cannot be updated`),!1):u(ne,fe,se.processor)}else return console.warn(`"${ne}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:ne=>{const fe=b(ne);return fe&&delete c[ne],fe},isSet:ne=>ao(c,ne),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(ne,fe)=>Zt(fe)||bo(fe)||ae(fe)||J(fe)||Nt(fe)||Pn(fe)?fe:Object.prototype.toString.call(fe))))}catch(ne){console.error(ne)}}}},Fq=["design","readonly"],cL=(e,n,o,r)=>{const c=o[n.get()],u=o[r];try{u.activate()}catch(m){console.error(`problem while activating editor mode ${r}:`,m);return}c.deactivate(),c.editorReadOnly!==u.editorReadOnly&&Tq(e,u.editorReadOnly),n.set(r),jA(e,r)},Iq=(e,n,o,r)=>{if(r!==o.get()){if(!ao(n,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?cL(e,o,n,r):e.on("init",()=>cL(e,o,n,r))}},Lq=(e,n,o)=>{if(re(Fq,n))throw new Error(`Cannot override default mode ${n}`);return Pt(ie({},e),{[n]:Pt(ie({},o),{deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${n}:`,r)}}})})},Hq=e=>{const n=fr("design"),o=fr({design:{activate:Ye,deactivate:Ye,editorReadOnly:!1},readonly:{activate:Ye,deactivate:Ye,editorReadOnly:!0}});return Rq(e),{isReadOnly:()=>$0(e),set:r=>Iq(e,o.get(),n,r),get:()=>n.get(),register:(r,c)=>{o.set(Lq(o.get(),r,c))}}},lz=nn.each,uz=nn.explode,Vq={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},iL=nn.makeMap("alt,ctrl,shift,meta,access"),Uq=e=>e in iL,jq=e=>{const n={},o=$e.os.isMacOS()||$e.os.isiOS();lz(uz(e.toLowerCase(),"+"),u=>{Uq(u)?n[u]=!0:/^[0-9]{2,}$/.test(u)?n.keyCode=parseInt(u,10):(n.charCode=u.charCodeAt(0),n.keyCode=Vq[u]||u.toUpperCase().charCodeAt(0))});const r=[n.keyCode];let c;for(c in iL)n[c]?r.push(c):n[c]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class lL{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(lz(o.shortcuts,c=>{o.matchShortcut(r,c)&&(o.pendingPatterns=c.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(c))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,r,c){const u=this,m=u.normalizeCommandFunc(r);return lz(uz(nn.trim(n)),b=>{const _=u.createShortcut(b,o,m,c);u.shortcuts[_.id]=_}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,r=n;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:nn.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(n,o,r,c){const u=nn.map(uz(n,">"),jq);return u[u.length-1]=nn.extend(u[u.length-1],{func:r,scope:c||this.editor}),nn.extend(u[0],{desc:this.editor.translate(o),subpatterns:u.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const uL=()=>{const e={},n={},o={},r={},c={},u={},m={},b={},_={},A=(j,ne)=>(fe,se)=>{j[fe.toLowerCase()]=Pt(ie({},se),{type:ne})},B=(j,ne)=>r[j.toLowerCase()]=ne,L=(j,ne)=>m[j.toLowerCase()]=ne;return{addButton:A(e,"button"),addGroupToolbarButton:A(e,"grouptoolbarbutton"),addToggleButton:A(e,"togglebutton"),addMenuButton:A(e,"menubutton"),addSplitButton:A(e,"splitbutton"),addMenuItem:A(n,"menuitem"),addNestedMenuItem:A(n,"nestedmenuitem"),addToggleMenuItem:A(n,"togglemenuitem"),addAutocompleter:A(o,"autocompleter"),addContextMenu:A(c,"contextmenu"),addContextToolbar:A(u,"contexttoolbar"),addContextForm:A(u,"contextform"),addSidebar:A(b,"sidebar"),addView:A(_,"views"),addIcon:B,addContext:L,getAll:()=>({buttons:e,menuItems:n,icons:r,popups:o,contextMenus:c,contextToolbars:u,sidebars:b,views:_,contexts:m})}},Wq=()=>{const e=uL();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},h1=Er.DOM,dL=nn.extend,Zq=nn.each;class uT{constructor(n,o,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,dL(this,sL);const c=this;this.id=n,this.hidden=!1;const u=mY(r.defaultOptions,o);this.options=$q(c,u,o),cS(c);const m=this.options.get;m("deprecation_warnings")&&_H(o,u);const b=m("suffix");b&&(r.suffix=b),this.suffix=r.suffix;const _=m("base_url");_&&r._setBaseUrl(_),this.baseUri=r.baseURI;const A=tb(c);A&&(df.ScriptLoader._setReferrerPolicy(A),Er.DOM.styleSheetLoader._setReferrerPolicy(A));const B=vS(c);at(B)&&Er.DOM.styleSheetLoader._setContentCssCors(B),Ei.languageLoad=m("language_load"),Ei.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new Ef(iS(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=dp(c),this.hasVisual=$w(c),this.shortcuts=new lL(this),this.editorCommands=new tL(this),wq(this);const L=m("cache_suffix");L&&($e.cacheSuffix=L.replace(/^[\?\&]+/,"")),this.ui={registry:Wq(),styleSheetLoader:void 0,show:Ye,hide:Ye,setEnabled:Ye,isEnabled:gt},this.mode=Hq(c),r.dispatch("SetupEditor",{editor:this});const j=gA(c);ke(j)&&j.call(c,c)}render(){WZ(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return Kv(this)}translate(n){return kd.translate(n)}getParam(n,o,r){const c=this.options;return c.isRegistered(n)||(at(r)?c.register(n,{processor:r,default:o}):c.register(n,{processor:gt,default:o})),!c.isSet(n)&&!Tn(o)?o:c.get(n)}hasPlugin(n,o){return re(ab(this),n)?o?u0.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,r){this.editorCommands.addCommand(n,o,r)}addQueryStateHandler(n,o,r){this.editorCommands.addQueryStateHandler(n,o,r)}addQueryValueHandler(n,o,r){this.editorCommands.addQueryValueHandler(n,o,r)}addShortcut(n,o,r,c){this.shortcuts.add(n,o,r,c)}execCommand(n,o,r,c){return this.editorCommands.execCommand(n,o,r,c)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(h1.show(n.getContainer()),h1.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(h1.hide(n.getContainer()),h1.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,r=o.getElement();if(o.removed)return"";if(r){const c=Pt(ie({},n),{load:!0}),u=sa(r)?r.value:r.innerHTML,m=o.setContent(u,c);return c.no_events||o.dispatch("LoadContent",Pt(ie({},c),{element:r})),m}else return""}save(n={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const c=Pt(ie({},n),{save:!0,element:r});let u=o.getContent(c);const m=Pt(ie({},c),{content:u});if(m.no_events||o.dispatch("SaveContent",m),m.format==="raw"&&o.dispatch("RawSaveContent",m),u=m.content,sa(r))r.value=u;else{(n.is_removing||!o.inline)&&(r.innerHTML=u);const b=h1.getParent(o.id,"form");b&&Zq(b.elements,_=>_.name===o.id?(_.value=u,!1):!0)}return m.element=c.element=r=null,m.set_dirty!==!1&&o.setDirty(!1),u}setContent(n,o){return a3(this,n,o)}getContent(n){return Nx(this,n)}insertContent(n,o){o&&(n=dL({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?a3(this,this.startContent,{format:"raw"}):a3(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||h1.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=h1.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const r=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:r==null?void 0:r.body)!==null&&o!==void 0?o:null}convertURL(n,o,r){const c=this,u=c.options.get,m=hA(c);if(ke(m))return m.call(c,n,r,!0,o);if(!u("convert_urls")||r==="link"||vt(r)&&r.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0)return n;const b=new Ef(n);return b.protocol!=="http"&&b.protocol!=="https"&&b.protocol!==""?n:u("relative_urls")?c.documentBaseURI.toRelative(n):(n=c.documentBaseURI.toAbsolute(n,u("remove_script_host")),n)}addVisual(n){JZ(this,n)}setEditableRoot(n){KR(this,n)}hasEditableRoot(){return ZZ(this)}remove(){xH(this)}destroy(n){EH(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const I0=Er.DOM,dT=nn.each;let fL=!1,tC,Vl=[];const fT=e=>{const n=e.type;dT(Cy.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},mL=e=>{if(e!==fL){const n=Er.DOM;e?(n.bind(window,"resize",fT),n.bind(window,"scroll",fT)):(n.unbind(window,"resize",fT),n.unbind(window,"scroll",fT)),fL=e}},gL=e=>{const n=Vl;return Vl=Oe(Vl,o=>e!==o),Cy.activeEditor===e&&(Cy.activeEditor=Vl.length>0?Vl[0]:null),Cy.focusedEditor===e&&(Cy.focusedEditor=null),n.length!==Vl.length},qq=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(gL(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},Gq=document.compatMode!=="CSS1Compat",Cy=Pt(ie({},cz),{baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"5.0",releaseDate:"2024-11-06",i18n:kd,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",r=Ef.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)n=c.base||c.baseURL,o=c.suffix;else{const u=document.getElementsByTagName("script");for(let m=0;m<u.length;m++){const b=u[m].src||"";if(b==="")continue;const _=b.substring(b.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(b)){_.indexOf(".min")!==-1&&(o=".min"),n=b.substring(0,b.lastIndexOf("/"));break}}if(!n&&document.currentScript){const m=document.currentScript.src;m.indexOf(".min")!==-1&&(o=".min"),n=m.substring(0,m.lastIndexOf("/"))}}e.baseURL=new Ef(r).toAbsolute(n),e.documentBaseURL=r,e.baseURI=new Ef(e.baseURL),e.suffix=o,m8(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&on(r,(c,u)=>{Ei.PluginManager.urls[u]=c})},init(e){const n=this;let o;const r=nn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=(B,L)=>B.inline&&L.tagName.toLowerCase()in r,u=B=>{let L=B.id;return L||(L=ys(B,"name").filter(j=>!I0.get(j)).getOrThunk(I0.uniqueId),B.setAttribute("id",L)),L},m=B=>{const L=e[B];if(L)return L.apply(n,[])},b=B=>$e.browser.isIE()||$e.browser.isEdge()?(Fx("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):Gq?(Fx("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):ae(B.selector)?I0.select(B.selector):at(B.target)?[B.target]:[];let _=B=>{o=B};const A=()=>{let B=0;const L=[];let j;const ne=(fe,se,he)=>{const He=new uT(fe,se,n);L.push(He),He.on("init",()=>{++B===j.length&&_(L)}),He.targetElm=He.targetElm||he,He.render()};I0.unbind(window,"ready",A),m("onpageload"),j=Gs(b(e)),nn.each(j,fe=>{qq(n.get(fe.id))}),j=nn.grep(j,fe=>!n.get(fe.id)),j.length===0?_([]):dT(j,fe=>{c(e,fe)?Fx("Could not initialize inline editor on invalid inline target element",fe):ne(u(fe),e,fe)})};return I0.bind(window,"ready",A),new Promise(B=>{o?B(o):_=L=>{B(L)}})},get(e){return arguments.length===0?Vl.slice(0):ae(e)?Lt(Vl,n=>n.id===e).getOr(null):bo(e)&&Vl[e]?Vl[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&Vl.push(e),mL(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),tC||(tC=r=>{const c=n.dispatch("BeforeUnload");if(c.returnValue)return r.preventDefault(),r.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",tC))),e},createEditor(e,n){return this.add(new uT(e,n,this))},remove(e){const n=this;let o;if(!e){for(let r=Vl.length-1;r>=0;r--)n.remove(Vl[r]);return}if(ae(e)){dT(I0.select(e),r=>{o=n.get(r.id),o&&n.remove(o)});return}return o=e,J(n.get(o.id))?null:(gL(o)&&n.dispatch("RemoveEditor",{editor:o}),Vl.length===0&&window.removeEventListener("beforeunload",tC),o.remove(),mL(Vl.length>0),o)},execCommand(e,n,o){var r;const c=this,u=vt(o)?(r=o.id)!==null&&r!==void 0?r:o.index:o;switch(e){case"mceAddEditor":{if(!c.get(u)){const m=o.options;new uT(u,m,c).render()}return!0}case"mceRemoveEditor":{const m=c.get(u);return m&&m.remove(),!0}case"mceToggleEditor":{const m=c.get(u);return m?(m.isHidden()?m.show():m.hide(),!0):(c.execCommand("mceAddEditor",!1,o),!0)}}return c.activeEditor?c.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{dT(Vl,e=>{e.save()})},addI18n:(e,n)=>{kd.add(e,n)},translate:e=>kd.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Ef(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Ef(this.baseURL)}});Cy.setup();const pL=(()=>{const e=gc(),n=u=>({items:u,types:_o(u),getType:m=>ys(u,m).getOrUndefined()}),o=u=>{e.set(u)},r=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:n,write:o,read:r,clear:c}})(),Kq=Math.min,y1=Math.max,mT=Math.round,dz=(e,n,o)=>{let r=n.x,c=n.y;const u=e.w,m=e.h,b=n.w,_=n.h,A=(o||"").split("");return A[0]==="b"&&(c+=_),A[1]==="r"&&(r+=b),A[0]==="c"&&(c+=mT(_/2)),A[1]==="c"&&(r+=mT(b/2)),A[3]==="b"&&(c-=m),A[4]==="r"&&(r-=u),A[3]==="c"&&(c-=mT(m/2)),A[4]==="c"&&(r-=mT(u/2)),L0(r,c,u,m)},Yq=(e,n,o,r)=>{for(let c=0;c<r.length;c++){const u=dz(e,n,r[c]);if(u.x>=o.x&&u.x+u.w<=o.w+o.x&&u.y>=o.y&&u.y+u.h<=o.h+o.y)return r[c]}return null},Xq=(e,n,o)=>L0(e.x-n,e.y-o,e.w+n*2,e.h+o*2),Jq=(e,n)=>{const o=y1(e.x,n.x),r=y1(e.y,n.y),c=Kq(e.x+e.w,n.x+n.w),u=Kq(e.y+e.h,n.y+n.h);return c-o<0||u-r<0?null:L0(o,r,c-o,u-r)},Qq=(e,n,o)=>{let r=e.x,c=e.y,u=e.x+e.w,m=e.y+e.h;const b=n.x+n.w,_=n.y+n.h,A=y1(0,n.x-r),B=y1(0,n.y-c),L=y1(0,u-b),j=y1(0,m-_);return r+=A,c+=B,o&&(u+=A,m+=B,r-=L,c-=j),u-=L,m-=j,L0(r,c,u-r,m-c)},L0=(e,n,o,r)=>({x:e,y:n,w:o,h:r}),fz={inflate:Xq,relativePosition:dz,findBestRelativePosition:Yq,intersect:Jq,clamp:Qq,create:L0,fromClientRect:e=>L0(e.left,e.top,e.width,e.height)},mz=(e,n,o=1e3)=>{let r=!1,c=null;const u=A=>(...B)=>{r||(r=!0,c!==null&&(clearTimeout(c),c=null),A.apply(null,B))},m=u(e),b=u(n);return{start:(...A)=>{!r&&c===null&&(c=setTimeout(()=>b.apply(null,A),o))},resolve:m,reject:b}},hL=(()=>{const e={},n={},o={};return{load:(_,A)=>{const B=`Script at URL "${A}" failed to load`,L=`Script at URL "${A}" did not call \`tinymce.Resource.add('${_}', data)\` within 1 second`;if(e[_]!==void 0)return e[_];{const j=new Promise((ne,fe)=>{const se=mz(ne,fe);n[_]=se.resolve,df.ScriptLoader.loadScript(A).then(()=>se.start(L),()=>se.reject(B))});return e[_]=j,j}},add:(_,A)=>{n[_]!==void 0&&(n[_](A),delete n[_]),e[_]=Promise.resolve(A),o[_]=A},has:_=>_ in o,get:_=>o[_],unload:_=>{delete e[_],delete o[_]}}})(),eG=()=>(()=>{let e={},n=[];const o={getItem:r=>{const c=e[r];return c||null},setItem:(r,c)=>{n.push(r),e[r]=String(c)},key:r=>n[r],removeItem:r=>{n=n.filter(c=>c===r),delete e[r]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let nC;try{const e="__storage_test__";nC=window.localStorage,nC.setItem(e,e),nC.removeItem(e)}catch(e){nC=eG()}var tG=nC;const nG={geom:{Rect:fz},util:{Delay:Uu,Tools:nn,VK:Wn,URI:Ef,EventDispatcher:az,Observable:cz,I18n:kd,LocalStorage:tG,ImageUploader:m3},dom:{EventUtils:Gg,TreeWalker:oc,TextSeeker:Xg,DOMUtils:Er,ScriptLoader:df,RangeUtils:ln,Serializer:s3,StyleSheetLoader:cf,ControlSelection:kk,BookmarkManager:Ep,Selection:uB,Event:Gg.Event},html:{Styles:Lm,Entities:$m,Node:kl,Schema:or,DomParser:qb,Writer:_O,Serializer:Kh},Env:$e,AddOnManager:Ei,Annotator:Ed,Formatter:DB,UndoManager:y3,EditorCommands:tL,WindowManager:l3,NotificationManager:kB,EditorObservable:sL,Shortcuts:lL,Editor:uT,FocusManager:fO,EditorManager:Cy,DOM:Er.DOM,ScriptLoader:df.ScriptLoader,PluginManager:u0,ThemeManager:mm,ModelManager:l0,IconManager:i0,Resource:hL,FakeClipboard:pL,trim:nn.trim,isArray:nn.isArray,is:nn.is,toArray:nn.toArray,makeMap:nn.makeMap,each:nn.each,map:nn.map,grep:nn.grep,inArray:nn.inArray,extend:nn.extend,walk:nn.walk,resolve:nn.resolve,explode:nn.explode,_addCacheSuffix:nn._addCacheSuffix},yL=nn.extend(Cy,nG),oG=e=>{try{p.exports=e}catch(n){}};(e=>{window.tinymce=e,window.tinyMCE=e})(yL),oG(yL)})()})(soe);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const p=Object.getPrototypeOf,v=(t,s,a)=>{var i;return a(t,s.prototype)?!0:((i=t.constructor)===null||i===void 0?void 0:i.name)===s.name},E=t=>{const s=typeof t;return t===null?"null":s==="object"&&Array.isArray(t)?"array":s==="object"&&v(t,String,(a,i)=>i.isPrototypeOf(a))?"string":s},z=t=>s=>E(s)===t,F=t=>s=>typeof s===t,H=t=>s=>t===s,q=(t,s)=>Re(t)&&v(t,s,(a,i)=>p(a)===i),Y=z("string"),Re=z("object"),Ue=t=>q(t,Object),Xe=z("array"),$t=H(null),zt=F("boolean"),Bt=H(void 0),lt=t=>t==null,It=t=>!lt(t),Me=F("function"),tt=F("number"),qe=(t,s)=>{if(Xe(t)){for(let a=0,i=t.length;a<i;++a)if(!s(t[a]))return!1;return!0}return!1},ae=()=>{},vt=t=>()=>t(),Pn=(t,s)=>(...a)=>t(s.apply(null,a)),Nt=(t,s)=>a=>t(s(a)),J=t=>()=>t,Zt=t=>t,Tn=(t,s)=>t===s;function gn(t,...s){return(...a)=>{const i=s.concat(a);return t.apply(null,i)}}const at=t=>s=>!t(s),ke=t=>()=>{throw new Error(t)},bo=t=>t(),We=J(!1),Ye=J(!0);class x{constructor(s,a){this.tag=s,this.value=a}static some(s){return new x(!0,s)}static none(){return x.singletonNone}fold(s,a){return this.tag?a(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?x.some(s(this.value)):x.none()}bind(s){return this.tag?s(this.value):x.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:x.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s!=null?s:"Called getOrDie on None")}static from(s){return It(s)?x.some(s):x.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}x.singletonNone=new x(!1);const bt=Array.prototype.slice,_e=Array.prototype.indexOf,Ht=Array.prototype.push,Gt=(t,s)=>_e.call(t,s),Te=(t,s)=>{const a=Gt(t,s);return a===-1?x.none():x.some(a)},Vt=(t,s)=>Gt(t,s)>-1,En=(t,s)=>{for(let a=0,i=t.length;a<i;a++){const d=t[a];if(s(d,a))return!0}return!1},et=(t,s)=>{const a=[];for(let i=0;i<t;i++)a.push(s(i));return a},rn=(t,s)=>{const a=[];for(let i=0;i<t.length;i+=s){const d=bt.call(t,i,i+s);a.push(d)}return a},Pe=(t,s)=>{const a=t.length,i=new Array(a);for(let d=0;d<a;d++){const g=t[d];i[d]=s(g,d)}return i},gt=(t,s)=>{for(let a=0,i=t.length;a<i;a++){const d=t[a];s(d,a)}},U=(t,s)=>{for(let a=t.length-1;a>=0;a--){const i=t[a];s(i,a)}},ko=(t,s)=>{const a=[],i=[];for(let d=0,g=t.length;d<g;d++){const h=t[d];(s(h,d)?a:i).push(h)}return{pass:a,fail:i}},wt=(t,s)=>{const a=[];for(let i=0,d=t.length;i<d;i++){const g=t[i];s(g,i)&&a.push(g)}return a},Yt=(t,s,a)=>(U(t,(i,d)=>{a=s(a,i,d)}),a),st=(t,s,a)=>(gt(t,(i,d)=>{a=s(a,i,d)}),a),Dt=(t,s,a)=>{for(let i=0,d=t.length;i<d;i++){const g=t[i];if(s(g,i))return x.some(g);if(a(g,i))break}return x.none()},re=(t,s)=>Dt(t,s,We),de=(t,s)=>{for(let a=0,i=t.length;a<i;a++){const d=t[a];if(s(d,a))return x.some(a)}return x.none()},De=t=>{const s=[];for(let a=0,i=t.length;a<i;++a){if(!Xe(t[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+t);Ht.apply(s,t[a])}return s},G=(t,s)=>De(Pe(t,s)),pe=(t,s)=>{for(let a=0,i=t.length;a<i;++a){const d=t[a];if(s(d,a)!==!0)return!1}return!0},Ce=t=>{const s=bt.call(t,0);return s.reverse(),s},Oe=(t,s)=>wt(t,a=>!Vt(s,a)),Tt=(t,s)=>{const a={};for(let i=0,d=t.length;i<d;i++){const g=t[i];a[String(g)]=s(g,i)}return a},Ie=t=>[t],ut=(t,s)=>{const a=bt.call(t,0);return a.sort(s),a},Lt=(t,s)=>s>=0&&s<t.length?x.some(t[s]):x.none(),Sn=t=>Lt(t,0),rt=t=>Lt(t,t.length-1),ft=Me(Array.from)?Array.from:t=>bt.call(t),an=(t,s)=>{for(let a=0;a<t.length;a++){const i=s(t[a],a);if(i.isSome())return i}return x.none()},pn=Object.keys,po=Object.hasOwnProperty,Un=(t,s)=>{const a=pn(t);for(let i=0,d=a.length;i<d;i++){const g=a[i],h=t[g];s(h,g)}},Vn=(t,s)=>Ho(t,(a,i)=>({k:i,v:s(a,i)})),Ho=(t,s)=>{const a={};return Un(t,(i,d)=>{const g=s(i,d);a[g.k]=g.v}),a},Ln=t=>(s,a)=>{t[a]=s},Wo=(t,s,a,i)=>{Un(t,(d,g)=>{(s(d,g)?a:i)(d,g)})},_s=(t,s)=>{const a={},i={};return Wo(t,s,Ln(a),Ln(i)),{t:a,f:i}},es=(t,s)=>{const a={};return Wo(t,s,Ln(a),ae),a},Gs=(t,s)=>{const a=[];return Un(t,(i,d)=>{a.push(s(i,d))}),a},_o=(t,s)=>{const a=pn(t);for(let i=0,d=a.length;i<d;i++){const g=a[i],h=t[g];if(s(h,g,t))return x.some(h)}return x.none()},Ir=t=>Gs(t,Zt),on=(t,s)=>Go(t,s)?x.from(t[s]):x.none(),Go=(t,s)=>po.call(t,s),ur=(t,s)=>Go(t,s)&&t[s]!==void 0&&t[s]!==null,Qs=(t,s,a=Tn)=>t.exists(i=>a(i,s)),Ar=(t,s,a=Tn)=>Jr(t,s,a).getOr(t.isNone()&&s.isNone()),_r=t=>{const s=[],a=i=>{s.push(i)};for(let i=0;i<t.length;i++)t[i].each(a);return s},Cs=t=>{const s=[];for(let a=0;a<t.length;a++){const i=t[a];if(i.isSome())s.push(i.getOrDie());else return x.none()}return x.some(s)},Jr=(t,s,a)=>t.isSome()&&s.isSome()?x.some(a(t.getOrDie(),s.getOrDie())):x.none(),Zr=(t,s,a,i)=>t.isSome()&&s.isSome()&&a.isSome()?x.some(i(t.getOrDie(),s.getOrDie(),a.getOrDie())):x.none(),ys=(t,s)=>t!=null?x.some(s(t)):x.none(),ao=(t,s)=>t?x.some(s):x.none(),Ps=(t,s)=>t+s,Qe=(t,s)=>t.substring(s),Ct=(t,s,a)=>s===""||t.length>=s.length&&t.substr(a,a+s.length)===s,An=(t,s)=>ss(t,s)?Qe(t,s.length):t,Fn=(t,s)=>mr(t,s)?t:Ps(t,s),jo=(t,s,a=0,i)=>{const d=t.indexOf(s,a);return d!==-1?Bt(i)?!0:d+s.length<=i:!1},ss=(t,s)=>Ct(t,s,0),mr=(t,s)=>Ct(t,s,t.length-s.length),cr=(t=>s=>s.replace(t,""))(/^\s+|\s+$/g),xe=t=>t.length>0,we=t=>!xe(t),ht=t=>t.style!==void 0&&Me(t.style.getPropertyValue),Mt=(t,s)=>{const i=(s||document).createElement("div");if(i.innerHTML=t,!i.hasChildNodes()||i.childNodes.length>1){const d="HTML does not have a single root node";throw console.error(d,t),new Error(d)}return Bo(i.childNodes[0])},oo=(t,s)=>{const i=(s||document).createElement(t);return Bo(i)},Eo=(t,s)=>{const i=(s||document).createTextNode(t);return Bo(i)},Bo=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Le={fromHtml:Mt,fromTag:oo,fromText:Eo,fromDom:Bo,fromPoint:(t,s,a)=>x.from(t.dom.elementFromPoint(s,a)).map(Bo)},Mo=typeof window!="undefined"?window:Function("return this;")(),ze=(t,s)=>{let a=s!=null?s:Mo;for(let i=0;i<t.length&&a!==void 0&&a!==null;++i)a=a[t[i]];return a},Be=(t,s)=>{const a=t.split(".");return ze(a,s)},Qt=(t,s)=>Be(t,s),cn=(t,s)=>{const a=Qt(t,s);if(a==null)throw new Error(t+" not available on this browser");return a},zn=Object.getPrototypeOf,Qn=t=>cn("HTMLElement",t),no=t=>{const s=Be("ownerDocument.defaultView",t);return Re(t)&&(Qn(s).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(zn(t).constructor.name))},Gn=9,io=11,Co=1,ds=3,Ds=t=>t.dom.nodeName.toLowerCase(),Is=t=>t.dom.nodeType,_a=t=>s=>Is(s)===t,ua=t=>vo(t)&&no(t.dom),vo=_a(Co),cs=_a(ds),is=_a(Gn),aa=_a(io),Qr=t=>s=>vo(s)&&Ds(s)===t,Or=(t,s)=>{const a=t.dom;if(a.nodeType!==Co)return!1;{const i=a;if(i.matches!==void 0)return i.matches(s);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(s);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(s);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},er=t=>t.nodeType!==Co&&t.nodeType!==Gn&&t.nodeType!==io||t.childElementCount===0,El=(t,s)=>{const a=s===void 0?document:s.dom;return er(a)?[]:Pe(a.querySelectorAll(t),Le.fromDom)},Xa=(t,s)=>{const a=s===void 0?document:s.dom;return er(a)?x.none():x.from(a.querySelector(t)).map(Le.fromDom)},Rs=(t,s)=>t.dom===s.dom,pa=(t,s)=>{const a=t.dom,i=s.dom;return a===i?!1:a.contains(i)},ha=t=>Le.fromDom(t.dom.ownerDocument),qr=t=>is(t)?t:ha(t),yi=t=>Le.fromDom(qr(t).dom.documentElement),Ba=t=>Le.fromDom(qr(t).dom.defaultView),Oa=t=>x.from(t.dom.parentNode).map(Le.fromDom),Ja=t=>Oa(t),Qa=t=>x.from(t.dom.parentElement).map(Le.fromDom),Mi=(t,s)=>{const a=Me(s)?s:We;let i=t.dom;const d=[];for(;i.parentNode!==null&&i.parentNode!==void 0;){const g=i.parentNode,h=Le.fromDom(g);if(d.push(h),a(h)===!0)break;i=g}return d},Pi=t=>x.from(t.dom.offsetParent).map(Le.fromDom),ei=t=>x.from(t.dom.nextSibling).map(Le.fromDom),Da=t=>Pe(t.dom.childNodes,Le.fromDom),Gr=(t,s)=>{const a=t.dom.childNodes;return x.from(a[s]).map(Le.fromDom)},ti=t=>Gr(t,0),bi=(t,s)=>({element:t,offset:s}),Bi=(t,s)=>{const a=Da(t);return a.length>0&&s<a.length?bi(a[s],0):bi(t,s)},qc=t=>aa(t)&&It(t.dom.host),Lr=t=>Le.fromDom(t.dom.getRootNode()),Va=t=>qc(t)?t:Le.fromDom(qr(t).dom.body),ya=t=>Ra(t).isSome(),Ra=t=>{const s=Lr(t);return qc(s)?x.some(s):x.none()},Xi=t=>Le.fromDom(t.dom.host),Ji=t=>{if(It(t.target)){const s=Le.fromDom(t.target);if(vo(s)&&ee(s)&&t.composed&&t.composedPath){const a=t.composedPath();if(a)return Sn(a)}}return x.from(t.target)},ee=t=>It(t.dom.shadowRoot),ve=t=>{const s=cs(t)?t.dom.parentNode:t.dom;if(s==null||s.ownerDocument===null)return!1;const a=s.ownerDocument;return Ra(Le.fromDom(s)).fold(()=>a.body.contains(s),Nt(ve,Xi))},Ze=()=>Ut(Le.fromDom(document)),Ut=t=>{const s=t.dom.body;if(s==null)throw new Error("Body is not available yet");return Le.fromDom(s)},mn=(t,s,a)=>{if(Y(a)||zt(a)||tt(a))t.setAttribute(s,a+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",a,":: Element ",t),new Error("Attribute value was not simple")},V=(t,s,a)=>{mn(t.dom,s,a)},be=(t,s)=>{const a=t.dom;Un(s,(i,d)=>{mn(a,d,i)})},$e=(t,s)=>{const a=t.dom.getAttribute(s);return a===null?void 0:a},kt=(t,s)=>x.from($e(t,s)),lo=(t,s)=>{const a=t.dom;return a&&a.hasAttribute?a.hasAttribute(s):!1},$=(t,s)=>{t.dom.removeAttribute(s)},oe=t=>st(t.dom.attributes,(s,a)=>(s[a.name]=a.value,s),{}),Ee=(t,s,a)=>{if(!Y(a))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",a,":: Element ",t),new Error("CSS value must be a string: "+a);ht(t)&&t.style.setProperty(s,a)},ct=(t,s)=>{ht(t)&&t.style.removeProperty(s)},yt=(t,s,a)=>{const i=t.dom;Ee(i,s,a)},Ro=(t,s)=>{const a=t.dom;Un(s,(i,d)=>{Ee(a,d,i)})},bs=(t,s)=>{const a=t.dom;Un(s,(i,d)=>{i.fold(()=>{ct(a,d)},g=>{Ee(a,d,g)})})},Ls=(t,s)=>{const a=t.dom,d=window.getComputedStyle(a).getPropertyValue(s);return d===""&&!ve(t)?nn(a,s):d},nn=(t,s)=>ht(t)?t.style.getPropertyValue(s):"",Bs=(t,s)=>{const a=t.dom,i=nn(a,s);return x.from(i).filter(d=>d.length>0)},ba=t=>{const s={},a=t.dom;if(ht(a))for(let i=0;i<a.style.length;i++){const d=a.style.item(i);s[d]=a.style[d]}return s},$i=(t,s,a)=>{const i=Le.fromTag(t);return yt(i,s,a),Bs(i,s).isSome()},Vo=(t,s)=>{const a=t.dom;ct(a,s),Qs(kt(t,"style").map(cr),"")&&$(t,"style")},Mc=t=>t.dom.offsetWidth,ni=(t,s)=>{const a=(k,S)=>{if(!tt(S)&&!S.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+S);const D=k.dom;ht(D)&&(D.style[t]=S+"px")},i=k=>{const S=s(k);if(S<=0||S===null){const D=Ls(k,t);return parseFloat(D)||0}return S},d=i,g=(k,S)=>st(S,(D,N)=>{const I=Ls(k,N),X=I===void 0?0:parseInt(I,10);return isNaN(X)?D:D+X},0);return{set:a,get:i,getOuter:d,aggregate:g,max:(k,S,D)=>{const N=g(k,D);return S>N?S-N:0}}},va=ni("height",t=>{const s=t.dom;return ve(t)?s.getBoundingClientRect().height:s.offsetHeight}),Ys=t=>va.get(t),Fi=t=>va.getOuter(t),Sm=(t,s)=>{const a=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],i=va.max(t,s,a);yt(t,"max-height",i+"px")},qd=(t,s)=>({left:t,top:s,translate:(i,d)=>qd(t+i,s+d)}),Dr=qd,od=t=>{const s=t.getBoundingClientRect();return Dr(s.left,s.top)},vi=(t,s)=>t!==void 0?t:s!==void 0?s:0,Cr=t=>{const s=t.dom.ownerDocument,a=s.body,i=s.defaultView,d=s.documentElement;if(a===t.dom)return Dr(a.offsetLeft,a.offsetTop);const g=vi(i==null?void 0:i.pageYOffset,d.scrollTop),h=vi(i==null?void 0:i.pageXOffset,d.scrollLeft),k=vi(d.clientTop,a.clientTop),S=vi(d.clientLeft,a.clientLeft);return wi(t).translate(h-S,g-k)},wi=t=>{const s=t.dom,i=s.ownerDocument.body;return i===s?Dr(i.offsetLeft,i.offsetTop):ve(t)?od(s):Dr(0,0)},wc=ni("width",t=>t.dom.offsetWidth),sd=(t,s)=>wc.set(t,s),ce=t=>wc.get(t),me=t=>wc.getOuter(t),dt=(t,s)=>{const a=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],i=wc.max(t,s,a);yt(t,"max-width",i+"px")},jt=t=>{let s=!1,a;return(...i)=>(s||(s=!0,a=t.apply(null,i)),a)},ho=(t,s,a,i)=>{const d=t.isiOS()&&/ipad/i.test(a)===!0,g=t.isiOS()&&!d,h=t.isiOS()||t.isAndroid(),k=h||i("(pointer:coarse)"),S=d||!g&&h&&i("(min-device-width:768px)"),D=g||h&&!S,N=s.isSafari()&&t.isiOS()&&/safari/i.test(a)===!1,I=!D&&!S&&!N;return{isiPad:J(d),isiPhone:J(g),isTablet:J(S),isPhone:J(D),isTouch:J(k),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:J(N),isDesktop:J(I)}},vs=(t,s)=>{for(let a=0;a<t.length;a++){const i=t[a];if(i.test(s))return i}},ts=(t,s)=>{const a=vs(t,s);if(!a)return{major:0,minor:0};const i=d=>Number(s.replace(a,"$"+d));return kc(i(1),i(2))},tr=(t,s)=>{const a=String(s).toLowerCase();return t.length===0?ca():ts(t,a)},ca=()=>kc(0,0),kc=(t,s)=>({major:t,minor:s}),ec={nu:kc,detect:tr,unknown:ca},ea=(t,s)=>an(s.brands,a=>{const i=a.brand.toLowerCase();return re(t,d=>{var g;return i===((g=d.brand)===null||g===void 0?void 0:g.toLowerCase())}).map(d=>({current:d.name,version:ec.nu(parseInt(a.version,10),0)}))}),ta=(t,s)=>{const a=String(s).toLowerCase();return re(t,i=>i.search(a))},Ca=(t,s)=>ta(t,s).map(a=>{const i=ec.detect(a.versionRegexes,s);return{current:a.name,version:i}}),tc=(t,s)=>ta(t,s).map(a=>{const i=ec.detect(a.versionRegexes,s);return{current:a.name,version:i}}),Rr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,na=t=>s=>jo(s,t),Sr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>jo(t,"edge/")&&jo(t,"chrome")&&jo(t,"safari")&&jo(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Rr],search:t=>jo(t,"chrome")&&!jo(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>jo(t,"msie")||jo(t,"trident")},{name:"Opera",versionRegexes:[Rr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:na("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:na("firefox")},{name:"Safari",versionRegexes:[Rr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(jo(t,"safari")||jo(t,"mobile/"))&&jo(t,"applewebkit")}],il=[{name:"Windows",search:na("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>jo(t,"iphone")||jo(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:na("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:na("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:na("linux"),versionRegexes:[]},{name:"Solaris",search:na("sunos"),versionRegexes:[]},{name:"FreeBSD",search:na("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:na("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Gd={browsers:J(Sr),oses:J(il)},Gl="Edge",rd="Chromium",ad="IE",ku="Opera",_u="Firefox",ki="Safari",Pc=()=>Sg({current:void 0,version:ec.unknown()}),Sg=t=>{const s=t.current,a=t.version,i=d=>()=>s===d;return{current:s,version:a,isEdge:i(Gl),isChromium:i(rd),isIE:i(ad),isOpera:i(ku),isFirefox:i(_u),isSafari:i(ki)}},Tl={unknown:Pc,nu:Sg,edge:J(Gl),chromium:J(rd),ie:J(ad),opera:J(ku),firefox:J(_u),safari:J(ki)},xm="Windows",cd="iOS",Em="Android",Bf="Linux",id="macOS",$f="Solaris",Tm="FreeBSD",Cu="ChromeOS",xg=()=>Ne({current:void 0,version:ec.unknown()}),Ne=t=>{const s=t.current,a=t.version,i=d=>()=>s===d;return{current:s,version:a,isWindows:i(xm),isiOS:i(cd),isAndroid:i(Em),isMacOS:i(id),isLinux:i(Bf),isSolaris:i($f),isFreeBSD:i(Tm),isChromeOS:i(Cu)}},ld={unknown:xg,nu:Ne,windows:J(xm),ios:J(cd),android:J(Em),linux:J(Bf),macos:J(id),solaris:J($f),freebsd:J(Tm),chromeos:J(Cu)},qp={detect:(t,s,a)=>{const i=Gd.browsers(),d=Gd.oses(),g=s.bind(S=>ea(i,S)).orThunk(()=>Ca(i,t)).fold(Tl.unknown,Tl.nu),h=tc(d,t).fold(ld.unknown,ld.nu),k=ho(h,g,t,a);return{browser:g,os:h,deviceType:k}}},Gp=t=>window.matchMedia(t).matches;let Su=jt(()=>qp.detect(window.navigator.userAgent,x.from(window.navigator.userAgentData),Gp));const rs=()=>Su(),_c=(t,s,a,i,d,g,h)=>({target:t,x:s,y:a,stop:i,prevent:d,kill:g,raw:h}),nc=t=>{const s=Le.fromDom(Ji(t).getOr(t.target)),a=()=>t.stopPropagation(),i=()=>t.preventDefault(),d=Pn(i,a);return _c(s,t.clientX,t.clientY,a,i,d,t)},xu=(t,s)=>a=>{t(a)&&s(nc(a))},Am=(t,s,a,i,d)=>{const g=xu(a,i);return t.dom.addEventListener(s,g,d),{unbind:gn(Ff,t,s,g,d)}},Kd=(t,s,a,i)=>Am(t,s,a,i,!1),Cc=(t,s,a,i)=>Am(t,s,a,i,!0),Ff=(t,s,a,i)=>{t.dom.removeEventListener(s,a,i)},Kl=(t,s)=>{Oa(t).each(i=>{i.dom.insertBefore(s.dom,t.dom)})},If=(t,s)=>{ei(t).fold(()=>{Oa(t).each(d=>{Bc(d,s)})},i=>{Kl(i,s)})},Yl=(t,s)=>{ti(t).fold(()=>{Bc(t,s)},i=>{t.dom.insertBefore(s.dom,i.dom)})},Bc=(t,s)=>{t.dom.appendChild(s.dom)},Kp=(t,s,a)=>{Gr(t,a).fold(()=>{Bc(t,s)},i=>{Kl(i,s)})},Yd=(t,s)=>{gt(s,a=>{Bc(t,a)})},Ua=t=>{t.dom.textContent="",gt(Da(t),s=>{oi(s)})},oi=t=>{const s=t.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},$c=t=>{const s=t!==void 0?t.dom:document,a=s.body.scrollLeft||s.documentElement.scrollLeft,i=s.body.scrollTop||s.documentElement.scrollTop;return Dr(a,i)},ud=(t,s,a)=>{const d=(a!==void 0?a.dom:document).defaultView;d&&d.scrollTo(t,s)},Xd=t=>{const s=t===void 0?window:t;return rs().browser.isFirefox()?x.none():x.from(s.visualViewport)},Eg=(t,s,a,i)=>({x:t,y:s,width:a,height:i,right:t+a,bottom:s+i}),Jd=t=>{const s=t===void 0?window:t,a=s.document,i=$c(Le.fromDom(a));return Xd(s).fold(()=>{const d=s.document.documentElement,g=d.clientWidth,h=d.clientHeight;return Eg(i.left,i.top,g,h)},d=>Eg(Math.max(d.pageLeft,i.left),Math.max(d.pageTop,i.top),d.width,d.height))},ll=()=>Le.fromDom(document),Qd=(t,s)=>t.view(s).fold(J([]),i=>{const d=t.owner(i),g=Qd(t,d);return[i].concat(g)}),Ay=(t,s)=>{const a=s.owner(t),i=Qd(s,a);return x.some(i)};var Ag=Object.freeze({__proto__:null,view:t=>{var s;return(t.dom===document?x.none():x.from((s=t.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(Le.fromDom)},owner:t=>ha(t)});const ef=t=>{const s=ll(),a=$c(s);return Ay(t,Ag).fold(gn(Cr,t),d=>{const g=wi(t),h=Yt(d,(k,S)=>{const D=wi(S);return{left:k.left+D.left,top:k.top+D.top}},{left:0,top:0});return Dr(h.left+g.left+a.left,h.top+g.top+a.top)})},dd=(t,s,a)=>({point:t,width:s,height:a}),Lf=(t,s,a,i)=>({x:t,y:s,width:a,height:i}),Hr=(t,s,a,i)=>({x:t,y:s,width:a,height:i,right:t+a,bottom:s+i}),Vr=t=>{const s=Cr(t),a=me(t),i=Fi(t);return Hr(s.left,s.top,a,i)},Eu=t=>{const s=ef(t),a=me(t),i=Fi(t);return Hr(s.left,s.top,a,i)},Qi=(t,s)=>{const a=Math.max(t.x,s.x),i=Math.max(t.y,s.y),d=Math.min(t.right,s.right),g=Math.min(t.bottom,s.bottom),h=d-a,k=g-i;return Hr(a,i,h,k)},Og=(t,s)=>st(s,(a,i)=>Qi(a,i),t),za=()=>Jd(window),uo=t=>{let s=t;return{get:()=>s,set:d=>{s=d}}},Xl=t=>{const s=uo(x.none()),a=()=>s.get().each(t);return{clear:()=>{a(),s.set(x.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:k=>{a(),s.set(x.some(k))}}},Dg=()=>Xl(t=>t.destroy()),Ii=()=>Xl(t=>t.unbind()),$s=()=>{const t=Xl(ae),s=a=>t.get().each(a);return Pt(ie({},t),{on:s})};var Tu=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Hf=t=>{const s=g=>g(t),a=J(t),i=()=>d,d={tag:!0,inner:t,fold:(g,h)=>h(t),isValue:Ye,isError:We,map:g=>Jo.value(g(t)),mapError:i,bind:s,exists:s,forall:s,getOr:a,or:i,getOrThunk:a,orThunk:i,getOrDie:a,each:g=>{g(t)},toOptional:()=>x.some(t)};return d},Om=t=>{const s=()=>a,a={tag:!1,inner:t,fold:(i,d)=>i(t),isValue:We,isError:Ye,map:s,mapError:i=>Jo.error(i(t)),bind:s,exists:We,forall:Ye,getOr:Zt,or:Zt,getOrThunk:bo,orThunk:bo,getOrDie:ke(String(t)),each:ae,toOptional:x.none};return a},Jo={value:Hf,error:Om,fromOption:(t,s)=>t.fold(()=>Om(s),Hf)};var da;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(da||(da={}));const Au=(t,s,a)=>t.stype===da.Error?s(t.serror):a(t.svalue),Ou=t=>{const s=[],a=[];return gt(t,i=>{Au(i,d=>a.push(d),d=>s.push(d))}),{values:s,errors:a}},Ci=(t,s)=>t.stype===da.Error?{stype:da.Error,serror:s(t.serror)}:t,si=(t,s)=>t.stype===da.Value?{stype:da.Value,svalue:s(t.svalue)}:t,Li=(t,s)=>t.stype===da.Value?s(t.svalue):t,dr=(t,s)=>t.stype===da.Error?s(t.serror):t,el=t=>({stype:da.Value,svalue:t}),fd=t=>({stype:da.Error,serror:t}),oa={fromResult:t=>t.fold(fd,el),toResult:t=>Au(t,Jo.error,Jo.value),svalue:el,partition:Ou,serror:fd,bind:Li,bindError:dr,map:si,mapError:Ci,fold:Au},Du=(t,s,a,i)=>({tag:"field",key:t,newKey:s,presence:a,prop:i}),tf=(t,s)=>({tag:"custom",newKey:t,instantiator:s}),nr=(t,s,a)=>{switch(t.tag){case"field":return s(t.key,t.newKey,t.presence,t.prop);case"custom":return a(t.newKey,t.instantiator)}},dl=(t,s)=>s,Dm=(t,s)=>Ue(t)&&Ue(s)?br(t,s):s,Jl=t=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const a={};for(let i=0;i<s.length;i++){const d=s[i];for(const g in d)Go(d,g)&&(a[g]=t(a[g],d[g]))}return a},br=Jl(Dm),Ru=Jl(dl),ri=()=>({tag:"required",process:{}}),nf=t=>({tag:"defaultedThunk",process:t}),fs=t=>nf(J(t)),of=()=>({tag:"option",process:{}}),Rm=t=>({tag:"mergeWithThunk",process:t}),T=t=>Rm(J(t)),P=(t,s)=>t.length>0?oa.svalue(br(s,Ru.apply(void 0,t))):oa.svalue(s),K=t=>Pn(oa.serror,De)(t),tn={consolidateObj:(t,s)=>{const a=oa.partition(t);return a.errors.length>0?K(a.errors):P(a.values,s)},consolidateArr:t=>{const s=oa.partition(t);return s.errors.length>0?K(s.errors):oa.svalue(s.values)}},Ao=t=>Re(t)&&pn(t).length>100?" removed due to size":JSON.stringify(t,null,2),Xo=t=>{const s=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:J("... (only showing first ten failures)")}]):t;return Pe(s,a=>"Failed path: ("+a.path.join(" > ")+`)
`+a.getErrorInfo())},Uo=(t,s)=>oa.serror([{path:t,getErrorInfo:s}]),fo=(t,s,a)=>Uo(t,()=>'Could not find valid *required* value for "'+s+'" in '+Ao(a)),Ur=(t,s)=>Uo(t,()=>'Choice schema did not contain choice key: "'+s+'"'),Sa=(t,s,a)=>Uo(t,()=>'The chosen schema: "'+a+'" did not exist in branches: '+Ao(s)),Fc=(t,s)=>Uo(t,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),zu=(t,s)=>Uo(t,J(s)),Vf=t=>{const s=(i,d)=>oa.bindError(t(d),g=>zu(i,g)),a=J("val");return{extract:s,toString:a}},zg=Vf(oa.svalue),ai=(t,s,a,i)=>on(s,a).fold(()=>fo(t,a,s),i),Ng=(t,s,a,i)=>{const d=on(t,s).getOrThunk(()=>a(t));return i(d)},E1=(t,s,a)=>a(on(t,s)),Oy=(t,s,a,i)=>{const d=on(t,s).map(g=>g===!0?a(t):g);return i(d)},oc=(t,s,a,i,d)=>{const g=k=>d.extract(s.concat([i]),k),h=k=>k.fold(()=>oa.svalue(x.none()),S=>{const D=d.extract(s.concat([i]),S);return oa.map(D,x.some)});switch(t.tag){case"required":return ai(s,a,i,g);case"defaultedThunk":return Ng(a,i,t.process,g);case"option":return E1(a,i,h);case"defaultedOptionThunk":return Oy(a,i,t.process,h);case"mergeWithThunk":return Ng(a,i,J({}),k=>{const S=br(t.process(a),k);return g(S)})}},Xp=(t,s,a)=>{const i={},d=[];for(const g of a)nr(g,(h,k,S,D)=>{const N=oc(S,t,s,h,D);oa.fold(N,I=>{d.push(...I)},I=>{i[k]=I})},(h,k)=>{i[h]=k(s)});return d.length>0?oa.serror(d):oa.svalue(i)},ja=t=>({extract:(i,d)=>t().extract(i,d),toString:()=>t().toString()}),Jp=t=>pn(es(t,It)),tl=t=>{const s=To(t),a=Yt(t,(d,g)=>nr(g,h=>br(d,{[h]:!0}),J(d)),{});return{extract:(d,g)=>{const h=zt(g)?[]:Jp(g),k=wt(h,S=>!ur(a,S));return k.length===0?s.extract(d,g):Fc(d,k)},toString:s.toString}},To=t=>({extract:(i,d)=>Xp(i,d,t),toString:()=>`obj{
`+Pe(t,d=>nr(d,(g,h,k,S)=>g+" -> "+S.toString(),(g,h)=>"state("+g+")")).join(`
`)+"}"}),nl=t=>({extract:(i,d)=>{const g=Pe(d,(h,k)=>t.extract(i.concat(["["+k+"]"]),h));return tn.consolidateArr(g)},toString:()=>"array("+t.toString()+")"}),Dy=(t,s)=>{const a=s!==void 0?s:Zt;return{extract:(g,h)=>{const k=[];for(const S of t){const D=S.extract(g,h);if(D.stype===da.Value)return{stype:da.Value,svalue:a(D.svalue)};k.push(D)}return tn.consolidateArr(k)},toString:()=>"oneOf("+Pe(t,g=>g.toString()).join(", ")+")"}},Qp=(t,s)=>{const a=(g,h)=>nl(Vf(t)).extract(g,h);return{extract:(g,h)=>{const k=pn(h),S=a(g,k);return oa.bind(S,D=>{const N=Pe(D,I=>Du(I,I,ri(),s));return To(N).extract(g,h)})},toString:()=>"setOf("+s.toString()+")"}},Uf=(t,s)=>{const a=jt(s);return{extract:(g,h)=>a().extract(g,h),toString:()=>a().toString()}},Ry=Pn(nl,To),Al=J(zg),Nu=(t,s)=>Vf(a=>{const i=typeof a;return t(a)?oa.svalue(a):oa.serror(`Expected type: ${s} but got: ${i}`)}),jf=Nu(tt,"number"),In=Nu(Y,"string"),Ol=Nu(zt,"boolean"),eh=Nu(Me,"function"),zm=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(s=>zm(t[s]));default:return!1}},Dl=Vf(t=>zm(t)?oa.svalue(t):oa.serror("Expected value to be acceptable for sending via postMessage")),Mg=(t,s,a,i)=>on(a,i).fold(()=>Sa(t,a,i),g=>g.extract(t.concat(["branch: "+i]),s)),Wf=(t,s)=>({extract:(d,g)=>on(g,t).fold(()=>Ur(d,t),k=>Mg(d,g,s,k)),toString:()=>"chooseOn("+t+"). Possible values: "+pn(s)}),md=()=>nl(zg),Pg=t=>Vf(s=>t(s).fold(oa.serror,oa.svalue)),Ql=(t,s)=>Qp(a=>oa.fromResult(t(a)),s),T1=(t,s,a)=>{const i=s.extract([t],a);return oa.mapError(i,d=>({input:a,errors:d}))},sa=(t,s,a)=>oa.toResult(T1(t,s,a)),dn=t=>t.fold(s=>{throw new Error(Zf(s))},Zt),ci=(t,s,a)=>dn(sa(t,s,a)),Zf=t=>`Errors: 
`+Xo(t.errors).join(`
`)+`

Input object: `+Ao(t.input),wa=(t,s)=>Wf(t,Vn(s,To)),Nm=(t,s)=>Uf(t,s),sc=Du,Hs=tf,Bg=t=>Pg(s=>Vt(t,s)?Jo.value(s):Jo.error(`Unsupported value: "${s}", choose one of "${t.join(", ")}".`)),Xt=t=>sc(t,t,ri(),Al()),Vs=(t,s)=>sc(t,t,ri(),s),$g=t=>Vs(t,jf),Wa=t=>Vs(t,In),Ic=(t,s)=>sc(t,t,ri(),Bg(s)),fl=t=>Vs(t,eh),zy=(t,s)=>sc(t,t,of(),Vf(a=>oa.serror("The field: "+t+" is forbidden. "+s))),sf=(t,s)=>sc(t,t,ri(),To(s)),Ny=(t,s)=>sc(t,t,ri(),Ry(s)),ol=(t,s)=>sc(t,t,ri(),nl(s)),Fs=t=>sc(t,t,of(),Al()),Mu=(t,s)=>sc(t,t,of(),s),Fg=t=>Mu(t,jf),Za=t=>Mu(t,In),th=(t,s)=>Mu(t,Bg(s)),eu=t=>Mu(t,eh),Ig=(t,s)=>Mu(t,nl(s)),rc=(t,s)=>Mu(t,To(s)),Lc=(t,s)=>Mu(t,tl(s)),it=(t,s)=>sc(t,t,fs(s),Al()),fr=(t,s,a)=>sc(t,t,fs(s),a),nh=(t,s)=>fr(t,s,jf),xa=(t,s)=>fr(t,s,In),gc=(t,s,a)=>fr(t,s,Bg(a)),qa=(t,s)=>fr(t,s,Ol),zr=(t,s)=>fr(t,s,eh),oh=(t,s)=>fr(t,s,Dl),rf=(t,s,a)=>fr(t,s,nl(a)),C=(t,s,a)=>fr(t,s,To(a)),Z={generate:t=>{if(!Xe(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const s=[],a={};return gt(t,(i,d)=>{const g=pn(i);if(g.length!==1)throw new Error("one and only one name per case");const h=g[0],k=i[h];if(a[h]!==void 0)throw new Error("duplicate key detected:"+h);if(h==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Xe(k))throw new Error("case arguments must be an array");s.push(h),a[h]=(...S)=>{const D=S.length;if(D!==k.length)throw new Error("Wrong number of arguments to case "+h+". Expected "+k.length+" ("+k+"), got "+D);return{fold:(...I)=>{if(I.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+I.length);return I[d].apply(null,S)},match:I=>{const X=pn(I);if(s.length!==X.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+X.join(","));if(!pe(s,ue=>Vt(X,ue)))throw new Error("Not all branches were specified when using match. Specified: "+X.join(", ")+`
Required: `+s.join(", "));return I[h].apply(null,S)},log:I=>{console.log(I,{constructors:s,constructor:h,params:S})}}}}),a}};Z.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const le=t=>{const s=[],a=[];return gt(t,i=>{i.fold(d=>{s.push(d)},d=>{a.push(d)})}),{errors:s,values:a}},je=(t,s)=>{const a={};return Un(t,(i,d)=>{Vt(s,d)||(a[d]=i)}),a},Kt=(t,s)=>({[t]:s}),vn=t=>{const s={};return gt(t,a=>{s[a.key]=a.value}),s},eo=(t,s)=>je(t,s),$o=(t,s)=>Kt(t,s),Qo=t=>vn(t),xr=(t,s)=>t.length===0?Jo.value(s):Jo.value(br(s,Ru.apply(void 0,t))),qs=t=>Jo.error(De(t)),jr=(t,s)=>{const a=le(t);return a.errors.length>0?qs(a.errors):xr(a.values,s)},Si=t=>Me(t)?t:We,ml=(t,s,a)=>{let i=t.dom;const d=Si(a);for(;i.parentNode;){i=i.parentNode;const g=Le.fromDom(i),h=s(g);if(h.isSome())return h;if(d(g))break}return x.none()},Sc=(t,s,a)=>{const i=s(t),d=Si(a);return i.orThunk(()=>d(t)?x.none():ml(t,s,d))},Pu=(t,s)=>Rs(t.element,s.event.target),gd={can:Ye,abort:We,run:ae},pd=t=>{if(!ur(t,"can")&&!ur(t,"abort")&&!ur(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return ie(ie({},gd),t)},af=(t,s)=>(...a)=>st(t,(i,d)=>i&&s(d).apply(void 0,a),!0),Mm=(t,s)=>(...a)=>st(t,(i,d)=>i||s(d).apply(void 0,a),!1),Lg=t=>Me(t)?{can:Ye,abort:We,run:t}:t,sh=t=>{const s=af(t,d=>d.can),a=Mm(t,d=>d.abort);return{can:s,abort:a,run:(...d)=>{gt(t,g=>{g.run.apply(void 0,d)})}}},Fa=J,tu=Fa("touchstart"),cf=Fa("touchmove"),zs=Fa("touchend"),Kr=Fa("touchcancel"),ia=Fa("mousedown"),ii=Fa("mousemove"),rh=Fa("mouseout"),ah=Fa("mouseup"),Hi=Fa("mouseover"),Vi=Fa("focusin"),yC=Fa("focusout"),nu=Fa("keydown"),Hg=Fa("keyup"),hd=Fa("input"),lf=Fa("change"),Vg=Fa("click"),DT=Fa("transitioncancel"),My=Fa("transitionend"),Pm=Fa("transitionstart"),RT=Fa("selectstart"),Na=t=>J("alloy."+t),A1={tap:Na("tap")},yd=Na("focus"),Ug=Na("blur.post"),Py=Na("paste.post"),bd=Na("receive"),Hc=Na("execute"),Bm=Na("focus.item"),O1=A1.tap,$m=Na("longpress"),xc=Na("sandbox.close"),D1=Na("typeahead.cancel"),R1=Na("system.init"),zT=Na("system.touchmove"),bC=Na("system.touchend"),Fm=Na("system.scroll"),jg=Na("system.resize"),sl=Na("system.attached"),Rl=Na("system.detached"),zl=Na("system.dismissRequested"),By=Na("system.repositionRequested"),$y=Na("focusmanager.shifted"),ch=Na("slotcontainer.visibility"),q0=Na("system.external.element.scroll"),vC=Na("change.tab"),wC=Na("dismiss.tab"),G0=Na("highlight"),ih=Na("dehighlight"),ms=(t,s)=>{N1(t,t.element,s,{})},co=(t,s,a)=>{N1(t,t.element,s,a)},Im=t=>{ms(t,Hc())},z1=(t,s,a)=>{N1(t,s,a,{})},N1=(t,s,a,i)=>{const d=ie({target:s},i);t.getSystem().triggerEvent(a,s,d)},K0=(t,s,a,i)=>{const d=Pt(ie({},i),{target:s});t.getSystem().triggerEvent(a,s,d)},M1=(t,s,a,i)=>{t.getSystem().triggerEvent(a,s,i.event)},or=t=>Qo(t),Y0=(t,s)=>({key:t,value:pd({abort:s})}),kC=(t,s)=>({key:t,value:pd({can:s})}),X0=t=>({key:t,value:pd({run:(s,a)=>{a.event.prevent()}})}),Jt=(t,s)=>({key:t,value:pd({run:s})}),lh=(t,s,a)=>({key:t,value:pd({run:(i,d)=>{s.apply(void 0,[i,d].concat(a))}})}),_C=t=>s=>Jt(t,s),Wg=t=>s=>({key:t,value:pd({run:(a,i)=>{Pu(a,i)&&s(a,i)}})}),CC=(t,s)=>Jt(t,(a,i)=>{a.getSystem().getByUid(s).each(d=>{M1(d,d.element,t,i)})}),qf=(t,s,a)=>{const i=s.partUids[a];return CC(t,i)},P1=(t,s)=>Jt(t,(a,i)=>{const d=i.event,g=a.getSystem().getByDom(d.target).getOrThunk(()=>Sc(d.target,k=>a.getSystem().getByDom(k).toOptional(),We).getOr(a));s(a,g,i)}),Zg=t=>Jt(t,(s,a)=>{a.cut()}),Fy=t=>Jt(t,(s,a)=>{a.stop()}),Lm=(t,s)=>Wg(t)(s),Wr=Wg(sl()),uf=Wg(Rl()),SC=Wg(R1()),Gf=_C(Hc()),J0=(t,s,a)=>{const i=a.toString(),d=i.indexOf(")")+1,g=i.indexOf("("),h=i.substring(g+1,d-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:qg(h.slice(0,1).concat(h.slice(3)))}),t},qg=t=>Pe(t,s=>mr(s,"/*")?s.substring(0,s.length-2):s),Q0=(t,s)=>{const a=t.toString(),i=a.indexOf(")")+1,d=a.indexOf("("),g=a.substring(d+1,i-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:qg(g)}),t},ew=(t,s)=>{const a=s.toString(),i=a.indexOf(")")+1,d=a.indexOf("("),g=a.substring(d+1,i-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:qg(g.slice(1))}),t},Ui=t=>({classes:Bt(t.classes)?[]:t.classes,attributes:Bt(t.attributes)?{}:t.attributes,styles:Bt(t.styles)?{}:t.styles}),uh=(t,s)=>Pt(ie({},t),{attributes:ie(ie({},t.attributes),s.attributes),styles:ie(ie({},t.styles),s.styles),classes:t.classes.concat(s.classes)}),NT=(t,s,a)=>Gf(i=>{a(i,t,s)}),Hm=(t,s,a)=>SC((i,d)=>{a(i,t,s)}),MT=(t,s,a,i,d,g)=>{const h=tl(t),k=rc(s,[Lc("config",t)]);return Iy(h,k,s,a,i,d,g)},Gg=(t,s,a,i,d,g)=>{const h=t,k=rc(s,[Mu("config",t)]);return Iy(h,k,s,a,i,d,g)},B1=(t,s,a)=>J0((d,...g)=>{const h=[d].concat(g);return d.config({name:J(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+a)},k=>{const S=Array.prototype.slice.call(h,1);return s.apply(void 0,[d,k.config,k.state].concat(S))})},a,s),PT=t=>({key:t,value:void 0}),Iy=(t,s,a,i,d,g,h)=>{const k=I=>ur(I,a)?I[a]():x.none(),S=Vn(d,(I,X)=>B1(a,I,X)),D=Vn(g,(I,X)=>Q0(I,X)),N=Pt(ie(ie({},D),S),{revoke:gn(PT,a),config:I=>{const X=ci(a+"-config",t,I);return{key:a,value:{config:X,me:N,configAsRaw:jt(()=>ci(a+"-config",t,I)),initialConfig:I,state:h}}},schema:J(s),exhibit:(I,X)=>Jr(k(I),on(i,"exhibit"),(Q,ue)=>ue(X,Q.config,Q.state)).getOrThunk(()=>Ui({})),name:J(a),handlers:I=>k(I).map(X=>on(i,"events").getOr(()=>({}))(X.config,X.state)).getOr({})});return N},vd={init:()=>xi({readState:J("No State required")})},xi=t=>t,hn=t=>Qo(t),dh=tl([Xt("fields"),Xt("name"),it("active",{}),it("apis",{}),it("state",vd),it("extra",{})]),Ec=t=>{const s=ci("Creating behaviour: "+t.name,dh,t);return MT(s.fields,s.name,s.active,s.apis,s.extra,s.state)},tw=tl([Xt("branchKey"),Xt("branches"),Xt("name"),it("active",{}),it("apis",{}),it("state",vd),it("extra",{})]),nw=t=>{const s=ci("Creating behaviour: "+t.name,tw,t);return Gg(wa(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},ow=J(void 0),Er=(t,s)=>{const a=$e(t,s);return a===void 0||a===""?[]:a.split(" ")},BT=(t,s,a)=>{const d=Er(t,s).concat([a]);return V(t,s,d.join(" ")),!0},Kg=(t,s,a)=>{const i=wt(Er(t,s),d=>d!==a);return i.length>0?V(t,s,i.join(" ")):$(t,s),!1},Kf=t=>t.dom.classList!==void 0,fh=t=>Er(t,"class"),sw=(t,s)=>BT(t,"class",s),df=(t,s)=>Kg(t,"class",s),xC=(t,s)=>Vt(fh(t),s)?df(t,s):sw(t,s),Ia=(t,s)=>{Kf(t)?t.dom.classList.add(s):sw(t,s)},$1=t=>{(Kf(t)?t.dom.classList:fh(t)).length===0&&$(t,"class")},sr=(t,s)=>{Kf(t)?t.dom.classList.remove(s):df(t,s),$1(t)},rw=(t,s)=>{const a=Kf(t)?t.dom.classList.toggle(s):xC(t,s);return $1(t),a},ji=(t,s)=>Kf(t)&&t.dom.classList.contains(s),mh=(t,s)=>{gt(s,a=>{Ia(t,a)})},wd=(t,s)=>{gt(s,a=>{sr(t,a)})},Iz=(t,s)=>{gt(s,a=>{rw(t,a)})},F1=(t,s)=>pe(s,a=>ji(t,a)),$T=t=>{const s=t.dom.classList,a=new Array(s.length);for(let i=0;i<s.length;i++){const d=s.item(i);d!==null&&(a[i]=d)}return a},EC=t=>Kf(t)?$T(t):fh(t),Bu=(t,s,a,i,d)=>{const g=h=>h+"px";return{position:t,left:s.map(g),top:a.map(g),right:i.map(g),bottom:d.map(g)}},kd=t=>Pt(ie({},t),{position:x.some(t.position)}),Ei=(t,s)=>{bs(t,kd(s))},gh=t=>(Qs(Bs(t,"position"),"fixed")?x.none():Pi(t)).orThunk(()=>{const i=Le.fromTag("span");return Oa(t).bind(d=>{Bc(d,i);const g=Pi(i);return oi(i),g})}),I1=t=>gh(t).map(Cr).getOrThunk(()=>Dr(0,0)),L1=(t,s)=>{const a=t.element;Ia(a,s.transitionClass),sr(a,s.fadeOutClass),Ia(a,s.fadeInClass),s.onShow(t)},ph=(t,s)=>{const a=t.element;Ia(a,s.transitionClass),sr(a,s.fadeInClass),Ia(a,s.fadeOutClass),s.onHide(t)},Vm=(t,s)=>t.y<s.bottom&&t.bottom>s.y,ff=(t,s)=>t.y>=s.y,hh=(t,s)=>t.bottom<=s.bottom,Um=(t,s,a)=>({location:"top",leftX:s,topY:a.bounds.y-t.y}),Yf=(t,s,a)=>({location:"bottom",leftX:s,bottomY:t.bottom-a.bounds.bottom}),Yg=t=>t.box.x-t.win.x,Ly=(t,s,a)=>{const i=s.win,d=s.box,g=Yg(s);return an(t,h=>{switch(h){case"bottom":return hh(d,a.bounds)?x.none():x.some(Yf(i,g,a));case"top":return ff(d,a.bounds)?x.none():x.some(Um(i,g,a));default:return x.none()}}).getOr({location:"no-dock"})},H1=(t,s,a)=>pe(t,i=>{switch(i){case"bottom":return hh(s,a.bounds);case"top":return ff(s,a.bounds)}}),TC=(t,s)=>{const a=s.optScrollEnv.fold(J(t.bounds.y),i=>i.scrollElmTop+(t.bounds.y-i.currentScrollTop));return Dr(t.bounds.x,a)},aw=(t,s)=>{const a=s.optScrollEnv.fold(J(t.y),i=>t.y+i.currentScrollTop-i.scrollElmTop);return Dr(t.x,a)},yh=(t,s,a)=>a.getInitialPos().map(i=>{const d=TC(i,s);return{box:Hr(d.left,d.top,ce(t),Ys(t)),location:i.location}}),AC=(t,s,a,i,d)=>{const g=aw(s,a),h=Hr(g.left,g.top,s.width,s.height);i.setInitialPos({style:ba(t),position:Ls(t,"position")||"static",bounds:h,location:d.location})},FT=(t,s,a,i,d)=>{i.getInitialPos().fold(()=>AC(t,s,a,i,d),()=>ae)},V1=(t,s,a)=>a.getInitialPos().bind(i=>{var d;switch(a.clearInitialPos(),i.position){case"static":return x.some({morph:"static"});case"absolute":const g=gh(t).getOr(Ze()),h=Vr(g),k=(d=g.dom.scrollTop)!==null&&d!==void 0?d:0;return x.some({morph:"absolute",positionCss:Bu("absolute",on(i.style,"left").map(S=>s.x-h.x),on(i.style,"top").map(S=>s.y-h.y+k),on(i.style,"right").map(S=>h.right-s.right),on(i.style,"bottom").map(S=>h.bottom-s.bottom))});default:return x.none()}}),cw=(t,s,a)=>yh(t,s,a).filter(({box:i})=>H1(a.getModes(),i,s)).bind(({box:i})=>V1(t,i,a)),Hy=t=>{switch(t.location){case"top":return x.some({morph:"fixed",positionCss:Bu("fixed",x.some(t.leftX),x.some(t.topY),x.none(),x.none())});case"bottom":return x.some({morph:"fixed",positionCss:Bu("fixed",x.some(t.leftX),x.none(),x.none(),x.some(t.bottomY))});default:return x.none()}},iw=(t,s,a)=>{const i=Vr(t),d=za(),g=Ly(a.getModes(),{win:d,box:i},s);return g.location==="top"||g.location==="bottom"?(AC(t,i,s,a,g),Hy(g)):x.none()},bh=(t,s,a)=>cw(t,s,a).orThunk(()=>s.optScrollEnv.bind(i=>yh(t,s,a)).bind(({box:i,location:d})=>{const g=za(),h=Yg({win:g,box:i}),k=d==="top"?Um(g,h,s):Yf(g,h,s);return Hy(k)})),Lz=(t,s,a)=>{const i=t.element;return Qs(Bs(i,"position"),"fixed")?bh(i,s,a):iw(i,s,a)},Hz=(t,s,a)=>{const i=t.element;return yh(i,s,a).bind(({box:d})=>V1(i,d,a))},vh=(t,s,a,i)=>{const d=Vr(t),g=za(),h=Yg({win:g,box:d}),k=i(g,h,s);return k.location==="bottom"||k.location==="top"?(FT(t,d,s,a,k),Hy(k)):x.none()},$u=(t,s,a)=>{a.setDocked(!1),gt(["left","right","top","bottom","position"],i=>Vo(t.element,i)),s.onUndocked(t)},Vy=(t,s,a,i)=>{const d=i.position==="fixed";a.setDocked(d),Ei(t.element,i),(d?s.onDocked:s.onUndocked)(t)},OC=(t,s,a,i,d=!1)=>{s.contextual.each(g=>{g.lazyContext(t).each(h=>{const k=Vm(h,i.bounds);k!==a.isVisible()&&(a.setVisible(k),d&&!k?(mh(t.element,[g.fadeOutClass]),g.onHide(t)):(k?L1:ph)(t,g))})})},DC=(t,s,a,i,d)=>{OC(t,s,a,i,!0),Vy(t,s,a,d.positionCss)},RC=(t,s,a,i,d)=>{switch(d.morph){case"static":return $u(t,s,a);case"absolute":return Vy(t,s,a,d.positionCss);case"fixed":return DC(t,s,a,i,d)}},Xg=(t,s,a)=>{const i=s.lazyViewport(t);OC(t,s,a,i),Lz(t,i,a).each(d=>{RC(t,s,a,i,d)})},Vz=(t,s,a)=>{const i=t.element;a.setDocked(!1);const d=s.lazyViewport(t);Hz(t,d,a).each(g=>{switch(g.morph){case"static":{$u(t,s,a);break}case"absolute":{Vy(t,s,a,g.positionCss);break}}}),a.setVisible(!0),s.contextual.each(g=>{wd(i,[g.fadeInClass,g.fadeOutClass,g.transitionClass]),g.onShow(t)}),Jg(t,s,a)},Jg=(t,s,a)=>{t.getSystem().isConnected()&&Xg(t,s,a)},wh=(t,s,a)=>{a.isDocked()&&Vz(t,s,a)},zC=t=>(s,a,i)=>{const d=a.lazyViewport(s);vh(s.element,d,i,t).each(h=>{DC(s,a,i,d,h)})},kh=zC(Um),IT=zC(Yf);var Gc=Object.freeze({__proto__:null,refresh:Jg,reset:wh,isDocked:(t,s,a)=>a.isDocked(),getModes:(t,s,a)=>a.getModes(),setModes:(t,s,a,i)=>a.setModes(i),forceDockToTop:kh,forceDockToBottom:IT}),jm=Object.freeze({__proto__:null,events:(t,s)=>or([Lm(My(),(a,i)=>{t.contextual.each(d=>{ji(a.element,d.transitionClass)&&(wd(a.element,[d.transitionClass,d.fadeInClass]),(s.isVisible()?d.onShown:d.onHidden)(a)),i.stop()})}),Jt(Fm(),(a,i)=>{Jg(a,t,s)}),Jt(q0(),(a,i)=>{Jg(a,t,s)}),Jt(jg(),(a,i)=>{wh(a,t,s)})])});const LT=(t,s)=>{const i=(s||document).createElement("div");return i.innerHTML=t,Da(Le.fromDom(i))},Xf=t=>t.dom.innerHTML,gl=(t,s)=>{const i=ha(t).dom,d=Le.fromDom(i.createDocumentFragment()),g=LT(s,i);Yd(d,g),Ua(t),Bc(t,d)},_d=t=>{const s=Le.fromTag("div"),a=Le.fromDom(t.dom.cloneNode(!0));return Bc(s,a),Xf(s)},Qg=(t,s)=>Le.fromDom(t.dom.cloneNode(s)),PC=t=>Qg(t,!1),Uy=t=>Qg(t,!0),U1=t=>{if(qc(t))return"#shadow-root";{const s=PC(t);return _d(s)}},Wm=t=>U1(t),uw="unknown";var Cd;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(Cd||(Cd={}));const mf=uo({}),HT=(t,s)=>{const a=[],i=new Date().getTime();return{logEventCut:(d,g,h)=>{a.push({outcome:"cut",target:g,purpose:h})},logEventStopped:(d,g,h)=>{a.push({outcome:"stopped",target:g,purpose:h})},logNoParent:(d,g,h)=>{a.push({outcome:"no-parent",target:g,purpose:h})},logEventNoHandlers:(d,g)=>{a.push({outcome:"no-handlers-left",target:g})},logEventResponse:(d,g,h)=>{a.push({outcome:"response",purpose:h,target:g})},write:()=>{const d=new Date().getTime();Vt(["mousemove","mouseover","mouseout",R1()],t)||console.log(t,{event:t,time:d-i,target:s.dom,sequence:Pe(a,g=>Vt(["cut","stopped","response"],g.outcome)?"{"+g.purpose+"} "+g.outcome+" at ("+Wm(g.target)+")":g.outcome)})}}},pc=(t,s,a)=>{switch(on(mf.get(),t).orThunk(()=>{const d=pn(mf.get());return an(d,g=>t.indexOf(g)>-1?x.some(mf.get()[g]):x.none())}).getOr(Cd.NORMAL)){case Cd.NORMAL:return a(ep());case Cd.LOGGING:{const d=HT(t,s),g=a(d);return d.write(),g}case Cd.STOP:return!0}},jy=["alloy/data/Fields","alloy/debugging/Debugging"],ou=()=>{const t=new Error;if(t.stack!==void 0){const s=t.stack.split(`
`);return re(s,a=>a.indexOf("alloy")>0&&!En(jy,i=>a.indexOf(i)>-1)).getOr(uw)}else return uw},j1={logEventCut:ae,logEventStopped:ae,logNoParent:ae,logEventNoHandlers:ae,logEventResponse:ae,write:ae},dw=(t,s,a)=>pc(t,s,a),ep=J(j1),Zm=J([Xt("menu"),Xt("selectedMenu")]),Fu=J([Xt("item"),Xt("selectedItem")]);J(To(Fu().concat(Zm())));const su=J(To(Fu())),BC=sf("initSize",[Xt("numColumns"),Xt("numRows")]),VT=()=>Vs("markers",su()),gf=()=>sf("markers",[Xt("backgroundMenu")].concat(Zm()).concat(Fu())),Jf=t=>sf("markers",Pe(t,Xt)),W1=(t,s,a)=>(ou(),sc(s,s,a,Pg(i=>Jo.value((...d)=>i.apply(void 0,d))))),As=t=>W1("onHandler",t,fs(ae)),li=t=>W1("onKeyboardHandler",t,fs(x.none)),tp=t=>W1("onHandler",t,ri()),_h=t=>W1("onKeyboardHandler",t,ri()),Nr=(t,s)=>Hs(t,J(s)),np=t=>Hs(t,Zt),Qf=J(BC);var $C=[rc("contextual",[Wa("fadeInClass"),Wa("fadeOutClass"),Wa("transitionClass"),fl("lazyContext"),As("onShow"),As("onShown"),As("onHide"),As("onHidden")]),zr("lazyViewport",()=>({bounds:za(),optScrollEnv:x.none()})),rf("modes",["top","bottom"],In),As("onDocked"),As("onUndocked")],FC=Object.freeze({__proto__:null,init:t=>{const s=uo(!1),a=uo(!0),i=$s(),d=uo(t.modes),g=()=>`docked:  ${s.get()}, visible: ${a.get()}, modes: ${d.get().join(",")}`;return xi({isDocked:s.get,setDocked:s.set,getInitialPos:i.get,setInitialPos:i.set,clearInitialPos:i.clear,isVisible:a.get,setVisible:a.set,getModes:d.get,setModes:d.set,readState:g})}});const Mr=Ec({fields:$C,name:"docking",active:jm,apis:Gc,state:FC}),Wy=(t,s,a)=>Rs(s,t.element)&&!Rs(s,a),jT=or([kC(yd(),(t,s)=>{const a=s.event,i=a.originator,d=a.target;return Wy(t,i,d)?(console.warn(yd()+` did not get interpreted by the desired target. 
Originator: `+Wm(i)+`
Target: `+Wm(d)+`
Check the `+yd()+" event handlers"),!1):!0})]);var IC=Object.freeze({__proto__:null,events:jT});const op=(t,s,a,i)=>{const d=t+s;return d>i?a:d<a?i:d},Iu=(t,s,a)=>Math.min(Math.max(t,s),a),Zy=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let em=0;const Xn=t=>{const a=new Date().getTime(),i=Math.floor(Zy()*1e9);return em++,t+"_"+i+em+String(a)},LC=J("alloy-id-"),Z1=J("data-alloy-id"),HC=LC(),VC=Z1(),fw=(t,s)=>{const a=Xn(HC+t);return mw(s,a),a},mw=(t,s)=>{Object.defineProperty(t.dom,VC,{value:s,writable:!0})},Ch=t=>{const s=vo(t)?t.dom[VC]:null;return x.from(s)},qy=t=>Xn(t),sp=Zt,Gy=t=>{const s=d=>`The component must be in a context to execute: ${d}`+(t?`
`+Wm(t().element)+" is not in context.":""),a=d=>()=>{throw new Error(s(d))},i=d=>()=>{console.warn(s(d))};return{debugInfo:J("fake"),triggerEvent:i("triggerEvent"),triggerFocus:i("triggerFocus"),triggerEscape:i("triggerEscape"),broadcast:i("broadcast"),broadcastOn:i("broadcastOn"),broadcastEvent:i("broadcastEvent"),build:a("build"),buildOrPatch:a("buildOrPatch"),addToWorld:a("addToWorld"),removeFromWorld:a("removeFromWorld"),addToGui:a("addToGui"),removeFromGui:a("removeFromGui"),getByUid:a("getByUid"),getByDom:a("getByDom"),isConnected:We}},Sh=Gy(),q1=Xn("alloy-premade"),Lu=t=>(Object.defineProperty(t.element.dom,q1,{value:t.uid,writable:!0}),$o(q1,t)),WT=t=>Go(t.dom,q1),G1=t=>on(t,q1),K1=t=>ew((s,...a)=>t(s.getApis(),s,...a),t),ZT=(t,s)=>{const a=Pe(s,d=>rc(d.name(),[Xt("config"),it("state",vd)])),i=sa("component.behaviours",To(a),t.behaviours).fold(d=>{throw new Error(Zf(d)+`
Complete spec:
`+JSON.stringify(t,null,2))},Zt);return{list:s,data:Vn(i,d=>{const g=d.map(h=>({config:h.config,state:h.state.init(h.config)}));return J(g)})}},qT=t=>t.list,UC=t=>t.data,Ky=(t,s)=>{const a={};return Un(t,(i,d)=>{Un(i,(g,h)=>{const k=on(a,h).getOr([]);a[h]=k.concat([s(d,g)])})}),a},jC=(t,s,a,i)=>{const d=ie({},s);gt(a,N=>{d[N.name()]=N.exhibit(t,i)});const g=Ky(d,(N,I)=>({name:N,modification:I})),h=N=>Yt(N,(I,X)=>ie(ie({},X.modification),I),{}),k=Yt(g.classes,(N,I)=>I.modification.concat(N),[]),S=h(g.attributes),D=h(g.styles);return Ui({classes:k,attributes:S,styles:D})},gw=(t,s,a,i)=>{try{const d=ut(a,(g,h)=>{const k=g[s],S=h[s],D=i.indexOf(k),N=i.indexOf(S);if(D===-1)throw new Error("The ordering for "+t+" does not have an entry for "+k+`.
Order specified: `+JSON.stringify(i,null,2));if(N===-1)throw new Error("The ordering for "+t+" does not have an entry for "+S+`.
Order specified: `+JSON.stringify(i,null,2));return D<N?-1:N<D?1:0});return Jo.value(d)}catch(d){return Jo.error([d])}},GT=(t,s)=>({handler:t,purpose:s}),Yy=(t,s)=>({cHandler:t,purpose:s}),xh=(t,s)=>Yy(gn.apply(void 0,[t.handler].concat(s)),t.purpose),qm=t=>t.cHandler,Y1=(t,s)=>({name:t,handler:s}),pw=(t,s)=>{const a={};return gt(t,i=>{a[i.name()]=i.handlers(s)}),a},X1=(t,s,a)=>{const i=ie(ie({},a),pw(s,t));return Ky(i,Y1)},hw=(t,s,a,i)=>{const d=X1(t,a,i);return pl(d,s)},yw=t=>{const s=Lg(t);return(a,i,...d)=>{const g=[a,i].concat(d);s.abort.apply(void 0,g)?i.stop():s.can.apply(void 0,g)&&s.run.apply(void 0,g)}},bw=(t,s)=>Jo.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Pe(s,a=>a.name),null,2)]),WC=(t,s,a)=>{const i=s[a];return i?gw("Event: "+a,"name",t,i).map(d=>{const g=Pe(d,h=>h.handler);return sh(g)}):bw(a,t)},pl=(t,s)=>{const a=Gs(t,(i,d)=>(i.length===1?Jo.value(i[0].handler):WC(i,s,d)).map(h=>{const k=yw(h),S=i.length>1?wt(s[d],D=>En(i,N=>N.name===D)).join(" > "):i[0].name;return $o(d,GT(k,S))}));return jr(a,{})},rp="alloy.base.behaviour",ZC=To([sc("dom","dom",ri(),To([Xt("tag"),it("styles",{}),it("classes",[]),it("attributes",{}),Fs("value"),Fs("innerHtml")])),Xt("components"),Xt("uid"),it("events",{}),it("apis",{}),sc("eventOrder","eventOrder",T({[Hc()]:["disabling",rp,"toggling","typeaheadevents"],[yd()]:[rp,"focusing","keying"],[R1()]:[rp,"disabling","toggling","representing","tooltipping"],[hd()]:[rp,"representing","streaming","invalidating"],[Rl()]:[rp,"representing","item-events","toolbar-button-events","tooltipping"],[ia()]:["focusing",rp,"item-type-events"],[tu()]:["focusing",rp,"item-type-events"],[Hi()]:["item-type-events","tooltipping"],[bd()]:["receiving","reflecting","tooltipping"]}),Al()),Fs("domModification")]),Gm=t=>sa("custom.definition",ZC,t),ap=t=>Pt(ie({},t.dom),{uid:t.uid,domChildren:Pe(t.components,s=>s.element)}),vw=t=>t.domModification.fold(()=>Ui({}),Ui),Ft=t=>t.events,Hu=t=>t.dom.value,cp=(t,s)=>{if(s===void 0)throw new Error("Value.set was undefined");t.dom.value=s},KT=(t,s,a)=>Gr(t,s).map(d=>{if(a.exists(h=>!Rs(h,d))){const h=a.map(Ds).getOr("span"),k=Le.fromTag(h);return Kl(d,k),k}else return d}),Xy=(t,s,a)=>{a.fold(()=>Bc(t,s),i=>{Rs(i,s)||(Kl(i,s),oi(i))})},ru=(t,s,a)=>{const i=Pe(s,a),d=Da(t);return gt(d.slice(i.length),oi),i},Eh=(t,s,a,i)=>{const d=Gr(t,s),g=i(a,d),h=KT(t,s,d);return Xy(t,g.element,h),g},qC=(t,s,a)=>ru(t,s,(i,d)=>Eh(t,d,i,a)),GC=(t,s)=>ru(t,s,(a,i)=>{const d=Gr(t,i);return Xy(t,a,d),a}),ui=(t,s)=>{const a=pn(t),i=pn(s),d=Oe(i,a),g=_s(t,(h,k)=>!Go(s,k)||h!==s[k]).t;return{toRemove:d,toSet:g}},J1=(t,s)=>{const ot=oe(s),{class:a,style:i}=ot,d=sC(ot,["class","style"]),{toSet:g,toRemove:h}=ui(t.attributes,d),k=()=>{gt(h,_t=>$(s,_t)),be(s,g)},S=ba(s),{toSet:D,toRemove:N}=ui(t.styles,S),I=()=>{gt(N,_t=>Vo(s,_t)),Ro(s,D)},X=EC(s),Q=Oe(X,t.classes),ue=Oe(t.classes,X),ye=()=>{mh(s,ue),wd(s,Q)},Je=_t=>{gl(s,_t)},Ae=()=>{const _t=t.domChildren;GC(s,_t)},Ke=()=>{const _t=s,Et=t.value.getOrUndefined();Et!==Hu(_t)&&cp(_t,Et!=null?Et:"")};return k(),ye(),I(),t.innerHtml.fold(Ae,Je),Ke(),s},KC=t=>{const s=Le.fromTag(t.tag);be(s,t.attributes),mh(s,t.classes),Ro(s,t.styles),t.innerHtml.each(i=>gl(s,i));const a=t.domChildren;return Yd(s,a),t.value.each(i=>{cp(s,i)}),s},YT=(t,s)=>{try{const a=J1(t,s);return x.some(a)}catch(a){return x.none()}},YC=t=>t.innerHtml.isSome()&&t.domChildren.length>0,XT=(t,s)=>{const a=d=>Ds(d)===t.tag&&!YC(t)&&!WT(d),i=s.filter(a).bind(d=>YT(t,d)).getOrThunk(()=>KC(t));return mw(i,t.uid),i},XC=t=>{const s=on(t,"behaviours").getOr({});return G(pn(s),a=>{const i=s[a];return It(i)?[i.me]:[]})},JT=(t,s)=>ZT(t,s),QT=t=>{const s=XC(t);return JT(t,s)},JC=(t,s,a)=>{const i=ap(t),d=vw(t),g={"alloy.base.modification":d},h=s.length>0?jC(a,g,s,i):d;return uh(i,h)},Th=(t,s,a)=>{const i={"alloy.base.behaviour":Ft(t)};return hw(a,t.eventOrder,s,i).getOrDie()},eA=(t,s)=>{const a=()=>ot,i=uo(Sh),d=dn(Gm(t)),g=QT(t),h=qT(g),k=UC(g),S=JC(d,h,k),D=XT(S,s),N=Th(d,h,k),I=uo(d.components),X=_t=>{i.set(_t)},Q=()=>{i.set(Gy(a))},ue=()=>{const _t=Da(D),Et=G(_t,Cn=>i.get().getByDom(Cn).fold(()=>[],Ie));I.set(Et)},ye=_t=>{const Et=k;return(Me(Et[_t.name()])?Et[_t.name()]:()=>{throw new Error("Could not find "+_t.name()+" in "+JSON.stringify(t,null,2))})()},Je=_t=>Me(k[_t.name()]),Ae=()=>d.apis,Ke=_t=>k[_t]().map(Et=>Et.state.readState()).getOr("not enabled"),ot={uid:t.uid,getSystem:i.get,config:ye,hasConfigured:Je,spec:t,readState:Ke,getApis:Ae,connect:X,disconnect:Q,element:D,syncComponents:ue,components:I.get,events:N};return ot},QC=(t,s)=>{const a=on(t,"components").getOr([]);return s.fold(()=>Pe(a,hc),i=>Pe(a,(d,g)=>kw(d,Gr(i,g))))},tA=(t,s)=>{const h=sp(t),{events:a}=h,i=sC(h,["events"]),d=QC(i,s),g=Pt(ie({},i),{events:ie(ie({},IC),a),components:d});return Jo.value(eA(g,s))},la=t=>{const s=Le.fromText(t);return ww({element:s})},ww=t=>{const s=ci("external.component",tl([Xt("element"),Fs("uid")]),t),a=uo(Gy()),i=k=>{a.set(k)},d=()=>{a.set(Gy(()=>h))},g=s.uid.getOrThunk(()=>qy("external"));mw(s.element,g);const h={uid:g,getSystem:a.get,config:x.none,hasConfigured:We,connect:i,disconnect:d,getApis:()=>({}),element:s.element,spec:t,readState:J("No state"),syncComponents:ae,components:J([]),events:{}};return Lu(h)},eS=qy,tS=t=>Go(t,"uid"),kw=(t,s)=>G1(t).getOrThunk(()=>{const a=tS(t)?t:ie({uid:eS("")},t);return tA(a,s).getOrDie()}),hc=t=>kw(t,x.none()),Nl=Lu;var nS=(t,s,a,i,d)=>t(a,i)?x.some(a):Me(d)&&d(a)?x.none():s(a,i,d);const _w=(t,s,a)=>{let i=t.dom;const d=Me(a)?a:We;for(;i.parentNode;){i=i.parentNode;const g=Le.fromDom(i);if(s(g))return x.some(g);if(d(g))break}return x.none()},Cw=(t,s,a)=>nS((d,g)=>g(d),_w,t,s,a),nA=(t,s)=>{const a=t.dom;return a.parentNode?Q1(Le.fromDom(a.parentNode),i=>!Rs(t,i)&&s(i)):x.none()},Q1=(t,s)=>{const a=d=>s(Le.fromDom(d));return re(t.dom.childNodes,a).map(Le.fromDom)},oS=(t,s)=>{const a=i=>{for(let d=0;d<i.childNodes.length;d++){const g=Le.fromDom(i.childNodes[d]);if(s(g))return x.some(g);const h=a(i.childNodes[d]);if(h.isSome())return h}return x.none()};return a(t.dom)},Jy=(t,s,a)=>Cw(t,s,a).isSome(),sS=t=>Xa(t),ac=(t,s,a)=>_w(t,i=>Or(i,s),a),oA=(t,s)=>nA(t,a=>Or(a,s)),au=(t,s)=>Q1(t,a=>Or(a,s)),Yr=(t,s)=>Xa(s,t),pf=(t,s,a)=>nS((d,g)=>Or(d,g),ac,t,s,a),Ah="aria-controls",Sw=t=>Cw(t,a=>{if(!vo(a))return!1;const i=$e(a,"id");return i!==void 0&&i.indexOf(Ah)>-1}).bind(a=>{const i=$e(a,"id"),d=Lr(a);return Yr(d,`[${Ah}="${i}"]`)}),Qy=()=>{const t=Xn(Ah);return{id:t,link:i=>{V(i,Ah,t)},unlink:i=>{$(i,Ah)}}},rS=(t,s)=>Sw(s).exists(a=>Km(t,a)),Km=(t,s)=>Jy(s,a=>Rs(a,t.element),We)||rS(t,s),Kc=(t,s,a,i,d,g,h,k=!1)=>({x:t,y:s,bubble:a,direction:i,placement:d,restriction:g,label:`${h}-${d}`,alwaysFit:k}),hf=Z.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),aS=(t,s,a,i,d,g,h,k,S)=>t.fold(s,a,i,d,g,h,k,S),sA=(t,s,a,i)=>t.fold(s,s,i,i,s,i,a,a),xw=(t,s,a,i)=>t.fold(s,i,s,i,a,a,s,i),ev=hf.southeast,Ew=hf.southwest,Tw=hf.northeast,tv=hf.northwest,Jn=hf.south,eb=hf.north,Aw=hf.east,cS=hf.west,rA=(t,s)=>{switch(s){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Yc=(t,s)=>Tt(["left","right","top","bottom"],a=>on(s,a).map(i=>rA(t,i))),iS=(t,s,a)=>{const i=(S,D)=>s[S].map(N=>{const I=S==="top"||S==="bottom",X=I?a.top:a.left,ue=(S==="left"||S==="top"?Math.max:Math.min)(N,D)+X;return I?Iu(ue,t.y,t.bottom):Iu(ue,t.x,t.right)}).getOr(D),d=i("left",t.x),g=i("top",t.y),h=i("right",t.right),k=i("bottom",t.bottom);return Hr(d,g,h-d,k-g)},Ym="layout",lS=t=>t.x,Ow=(t,s)=>t.x+t.width/2-s.width/2,uS=(t,s)=>t.x+t.width-s.width,Xc=(t,s)=>t.y-s.height,Xm=t=>t.y+t.height,Dw=(t,s)=>t.y+t.height/2-s.height/2,ip=t=>t.x+t.width,aA=(t,s)=>t.x-s.width,cc=(t,s,a)=>Kc(lS(t),Xm(t),a.southeast(),ev(),"southeast",Yc(t,{left:1,top:3}),Ym),ic=(t,s,a)=>Kc(uS(t,s),Xm(t),a.southwest(),Ew(),"southwest",Yc(t,{right:0,top:3}),Ym),Vc=(t,s,a)=>Kc(lS(t),Xc(t,s),a.northeast(),Tw(),"northeast",Yc(t,{left:1,bottom:2}),Ym),lc=(t,s,a)=>Kc(uS(t,s),Xc(t,s),a.northwest(),tv(),"northwest",Yc(t,{right:0,bottom:2}),Ym),Xs=(t,s,a)=>Kc(Ow(t,s),Xc(t,s),a.north(),eb(),"north",Yc(t,{bottom:2}),Ym),Ga=(t,s,a)=>Kc(Ow(t,s),Xm(t),a.south(),Jn(),"south",Yc(t,{top:3}),Ym),nv=(t,s,a)=>Kc(ip(t),Dw(t,s),a.east(),Aw(),"east",Yc(t,{left:0}),Ym),Rw=(t,s,a)=>Kc(aA(t,s),Dw(t,s),a.west(),cS(),"west",Yc(t,{right:1}),Ym),zw=()=>[cc,ic,Vc,lc,Ga,Xs,nv,Rw],Nw=()=>[ic,cc,lc,Vc,Ga,Xs,nv,Rw],dS=()=>[Vc,lc,cc,ic,Xs,Ga],fS=()=>[lc,Vc,ic,cc,Xs,Ga],tb=()=>[cc,ic,Vc,lc,Ga,Xs],ov=()=>[ic,cc,lc,Vc,Ga,Xs],nb=(t,s)=>s.universal?t:wt(t,a=>Vt(s.channels,a));var cA=Object.freeze({__proto__:null,events:t=>or([Jt(bd(),(s,a)=>{const i=t.channels,d=pn(i),g=a,h=nb(d,g);gt(h,k=>{const S=i[k],D=S.schema,N=ci("channel["+k+`] data
Receiver: `+Wm(s.element),D,g.data);S.onReceive(s,N)})})])}),lp=[Vs("channels",Ql(Jo.value,tl([tp("onReceive"),it("schema",Al())])))];const hl=Ec({fields:lp,name:"receiving",active:cA});var lA=Object.freeze({__proto__:null,exhibit:(t,s)=>Ui({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const cu=(t,s=!1)=>t.dom.focus({preventScroll:s}),Oh=t=>t.dom.blur(),up=t=>{const s=Lr(t).dom;return t.dom===s.activeElement},yf=(t=ll())=>x.from(t.dom.activeElement).map(Le.fromDom),Ti=t=>yf(Lr(t)).filter(s=>t.dom.contains(s.dom)),Mw=(t,s)=>{const a=Lr(s),i=yf(a).bind(g=>{const h=k=>Rs(g,k);return h(s)?x.some(s):oS(s,h)}),d=t(s);return i.each(g=>{yf(a).filter(h=>Rs(h,g)).fold(()=>{cu(g)},ae)}),d},Jm=Z.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),gS=(t,s,a,i,d,g)=>{const h=s.rect,k=h.x-a,S=h.y-i,D=h.width,N=h.height,I=d-(k+D),X=g-(S+N),Q=x.some(k),ue=x.some(S),ye=x.some(I),Je=x.some(X),Ae=x.none();return aS(s.direction,()=>Bu(t,Q,ue,Ae,Ae),()=>Bu(t,Ae,ue,ye,Ae),()=>Bu(t,Q,Ae,Ae,Je),()=>Bu(t,Ae,Ae,ye,Je),()=>Bu(t,Q,ue,Ae,Ae),()=>Bu(t,Q,Ae,Ae,Je),()=>Bu(t,Q,ue,Ae,Ae),()=>Bu(t,Ae,ue,ye,Ae))},sv=(t,s)=>t.fold(()=>{const a=s.rect;return Bu("absolute",x.some(a.x),x.some(a.y),x.none(),x.none())},(a,i,d,g)=>gS("absolute",s,a,i,d,g),(a,i,d,g)=>gS("fixed",s,a,i,d,g)),Pw=(t,s)=>{const a=gn(ef,s),i=t.fold(a,a,()=>{const h=$c();return ef(s).translate(-h.left,-h.top)}),d=me(s),g=Fi(s);return Hr(i.left,i.top,d,g)},ob=(t,s)=>s.fold(()=>t.fold(za,za,Hr),a=>t.fold(J(a),J(a),()=>{const i=rv(t,a.x,a.y);return Hr(i.left,i.top,a.width,a.height)})),rv=(t,s,a)=>{const i=Dr(s,a),d=()=>{const g=$c();return i.translate(-g.left,-g.top)};return t.fold(J(i),J(i),d)},pS=(t,s,a,i)=>t.fold(s,a,i);Jm.none;const hS=Jm.relative,yS=Jm.fixed,sb=(t,s)=>({anchorBox:t,origin:s}),dp=(t,s)=>sb(t,s),rb="data-alloy-placement",uA=(t,s)=>{V(t,rb,s)},Bw=t=>kt(t,rb),dA=t=>$(t,rb),av=Z.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),fA=(t,s)=>{const{x:a,y:i,right:d,bottom:g}=s,{x:h,y:k,right:S,bottom:D,width:N,height:I}=t,X=h>=a&&h<=d,Q=k>=i&&k<=g,ue=X&&Q,ye=S<=d&&S>=a,Je=D<=g&&D>=i,Ae=ye&&Je,Ke=Math.min(N,h>=a?d-h:S-a),ot=Math.min(I,k>=i?g-k:D-i);return{originInBounds:ue,sizeInBounds:Ae,visibleW:Ke,visibleH:ot}},bS=(t,s)=>{const{x:a,y:i,right:d,bottom:g}=s,{x:h,y:k,width:S,height:D}=t,N=Math.max(a,d-S),I=Math.max(i,g-D),X=Iu(h,a,N),Q=Iu(k,i,I),ue=Math.min(X+S,d)-X,ye=Math.min(Q+D,g)-Q;return Hr(X,Q,ue,ye)},mA=(t,s,a)=>{const i=J(s.bottom-a.y),d=J(a.bottom-s.y),g=sA(t,d,d,i),h=J(s.right-a.x),k=J(a.right-s.x);return{maxWidth:xw(t,k,k,h),maxHeight:g}},vS=(t,s,a,i)=>{const d=t.bubble,g=d.offset,h=iS(i,t.restriction,g),k=t.x+g.left,S=t.y+g.top,D=Hr(k,S,s,a),{originInBounds:N,sizeInBounds:I,visibleW:X,visibleH:Q}=fA(D,h),ue=N&&I,ye=ue?D:bS(D,h),Je=ye.width>0&&ye.height>0,{maxWidth:Ae,maxHeight:Ke}=mA(t.direction,ye,i),ot={rect:ye,maxHeight:Ke,maxWidth:Ae,direction:t.direction,placement:t.placement,classes:{on:d.classesOn,off:d.classesOff},layout:t.label,testY:S};return ue||t.alwaysFit?av.fit(ot):av.nofit(ot,X,Q,Je)},ab=(t,s,a,i,d,g)=>{const h=i.width,k=i.height,S=(N,I,X,Q,ue)=>{const ye=N(a,i,d,t,g),Je=vS(ye,h,k,g);return Je.fold(J(Je),(Ae,Ke,ot,_t)=>(ue===_t?ot>Q||Ke>X:!ue&&_t)?Je:av.nofit(I,X,Q,ue))};return st(s,(N,I)=>{const X=gn(S,I);return N.fold(J(N),X)},av.nofit({rect:a,maxHeight:i.height,maxWidth:i.width,direction:ev(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:a.y},-1,-1,!1)).fold(Zt,Zt)},wS=Ye,Wi=(t,s,a)=>Kd(t,s,wS,a),$w=(t,s,a)=>Cc(t,s,wS,a),kS=nc,Fw=["top","bottom","right","left"],cb="data-alloy-transition-timer",gA=(t,s)=>F1(t,s.classes),pA=(t,s,a)=>a.exists(i=>{const d=t.mode;return d==="all"?!0:i[d]!==s[d]}),hA=(t,s)=>{const a=i=>parseFloat(i).toFixed(3);return _o(s,(i,d)=>{const g=t[d].map(a),h=i.map(a);return!Ar(g,h)}).isSome()},cv=t=>{const s=g=>{const k=Ls(t,g).split(/\s*,\s*/);return wt(k,xe)},a=g=>{if(Y(g)&&/^[\d.]+/.test(g)){const h=parseFloat(g);return mr(g,"ms")?h:h*1e3}else return 0},i=s("transition-delay"),d=s("transition-duration");return st(d,(g,h,k)=>{const S=a(i[k])+a(h);return Math.max(g,S)},0)},_S=(t,s)=>{const a=Ii(),i=Ii();let d;const g=D=>{var N;const I=(N=D.raw.pseudoElement)!==null&&N!==void 0?N:"";return Rs(D.target,t)&&we(I)&&Vt(Fw,D.raw.propertyName)},h=D=>{if(lt(D)||g(D)){a.clear(),i.clear();const N=D==null?void 0:D.raw.type;(lt(N)||N===My())&&(clearTimeout(d),$(t,cb),wd(t,s.classes))}},k=Wi(t,Pm(),D=>{g(D)&&(k.unbind(),a.set(Wi(t,My(),h)),i.set(Wi(t,DT(),h)))}),S=cv(t);requestAnimationFrame(()=>{d=setTimeout(h,S+17),V(t,cb,d)})},Iw=(t,s)=>{mh(t,s.classes),kt(t,cb).each(a=>{clearTimeout(parseInt(a,10)),$(t,cb)}),_S(t,s)},Lw=(t,s,a,i,d,g)=>{const h=pA(i,d,g);if(h||gA(t,i)){yt(t,"position",a.position);const k=Pw(s,t),S=sv(s,Pt(ie({},d),{rect:k})),D=Tt(Fw,N=>S[N]);hA(a,D)&&(bs(t,D),h&&Iw(t,i),Mc(t))}else wd(t,i.classes)},ib=t=>({width:me(t),height:Fi(t)}),Hw=(t,s,a,i)=>{Vo(s,"max-height"),Vo(s,"max-width");const d=ib(s);return ab(s,i.preference,t,d,a,i.bounds)},CS=(t,s)=>{const a=s.classes;wd(t,a.off),mh(t,a.on)},SS=(t,s,a)=>{const i=a.maxHeightFunction;i(t,s.maxHeight)},xS=(t,s,a)=>{const i=a.maxWidthFunction;i(t,s.maxWidth)},yA=(t,s,a)=>{const i=sv(a.origin,s);a.transition.each(d=>{Lw(t,a.origin,i,d,s,a.lastPlacement)}),Ei(t,i)},ES=(t,s)=>{uA(t,s.placement)},Vw=(t,s)=>{Sm(t,Math.floor(s))},TS=J((t,s)=>{Vw(t,s),Ro(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Qm=J((t,s)=>{Vw(t,s)}),AS=(t,s,a)=>t[s]===void 0?a:t[s],bA=(t,s,a,i,d,g,h,k)=>{const S=AS(h,"maxHeightFunction",TS()),D=AS(h,"maxWidthFunction",ae),N=t.anchorBox,I=t.origin,X={bounds:ob(I,g),origin:I,preference:i,maxHeightFunction:S,maxWidthFunction:D,lastPlacement:d,transition:k};return vA(N,s,a,X)},vA=(t,s,a,i)=>{const d=Hw(t,s,a,i);return yA(s,d,i),ES(s,d),CS(s,d),SS(s,d,i),xS(s,d,i),{layout:d.layout,placement:d.placement}},iv=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Vu=(t,s,a,i=1)=>{const d=t*i,g=s*i,h=S=>on(a,S).getOr([]),k=(S,D,N)=>{const I=Oe(iv,N);return{offset:Dr(S,D),classesOn:G(N,h),classesOff:G(I,h)}};return{southeast:()=>k(-t,s,["top","alignLeft"]),southwest:()=>k(t,s,["top","alignRight"]),south:()=>k(-t/2,s,["top","alignCentre"]),northeast:()=>k(-t,-s,["bottom","alignLeft"]),northwest:()=>k(t,-s,["bottom","alignRight"]),north:()=>k(-t/2,-s,["bottom","alignCentre"]),east:()=>k(t,-s/2,["valignCentre","left"]),west:()=>k(-t,-s/2,["valignCentre","right"]),insetNortheast:()=>k(d,g,["top","alignLeft","inset"]),insetNorthwest:()=>k(-d,g,["top","alignRight","inset"]),insetNorth:()=>k(-d/2,g,["top","alignCentre","inset"]),insetSoutheast:()=>k(d,-g,["bottom","alignLeft","inset"]),insetSouthwest:()=>k(-d,-g,["bottom","alignRight","inset"]),insetSouth:()=>k(-d/2,-g,["bottom","alignCentre","inset"]),insetEast:()=>k(-d,-g/2,["valignCentre","right","inset"]),insetWest:()=>k(d,-g/2,["valignCentre","left","inset"])}},lv=()=>Vu(0,0,{}),uv=Zt,Uw=(t,s)=>a=>OS(a)==="rtl"?s:t,OS=t=>Ls(t,"direction")==="rtl"?"rtl":"ltr";var Ka;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(Ka||(Ka={}));const DS="data-alloy-vertical-dir",Dh=t=>Jy(t,s=>vo(s)&&$e(s,"data-alloy-vertical-dir")===Ka.BottomToTop),eg=()=>rc("layouts",[Xt("onLtr"),Xt("onRtl"),Fs("onBottomLtr"),Fs("onBottomRtl")]),dv=(t,s,a,i,d,g,h)=>{const k=h.map(Dh).getOr(!1),S=s.layouts.map(Q=>Q.onLtr(t)),D=s.layouts.map(Q=>Q.onRtl(t)),N=k?s.layouts.bind(Q=>Q.onBottomLtr.map(ue=>ue(t))).or(S).getOr(d):S.getOr(a),I=k?s.layouts.bind(Q=>Q.onBottomRtl.map(ue=>ue(t))).or(D).getOr(g):D.getOr(i);return Uw(N,I)(t)},RS=(t,s,a)=>{const i=s.hotspot,d=Pw(a,i.element),g=dv(t.element,s,tb(),ov(),dS(),fS(),x.some(s.hotspot.element));return x.some(uv({anchorBox:d,bubble:s.bubble.getOr(lv()),overrides:s.overrides,layouts:g}))};var wA=[Xt("hotspot"),Fs("bubble"),it("overrides",{}),eg(),Nr("placement",RS)];const kA=(t,s,a)=>{const i=rv(a,s.x,s.y),d=Hr(i.left,i.top,s.width,s.height),g=dv(t.element,s,zw(),Nw(),zw(),Nw(),x.none());return x.some(uv({anchorBox:d,bubble:s.bubble,overrides:s.overrides,layouts:g}))};var zS=[Xt("x"),Xt("y"),it("height",0),it("width",0),it("bubble",lv()),it("overrides",{}),eg(),Nr("placement",kA)];const lb=Z.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),jw=t=>t.fold(Zt,(s,a,i)=>s.translate(-a,-i)),_A=t=>t.fold(Zt,Zt),Rh=t=>st(t,(s,a)=>s.translate(a.left,a.top),Dr(0,0)),NS=t=>{const s=Pe(t,jw);return Rh(s)},MS=t=>{const s=Pe(t,_A);return Rh(s)},PS=lb.screen,Ww=lb.absolute,fv=(t,s,a)=>{const i=Ba(a.root).dom,d=g=>{const h=ha(g),k=ha(t.element);return Rs(h,k)};return x.from(i.frameElement).map(Le.fromDom).filter(d).map(Cr)},BS=(t,s,a)=>{const i=ha(t.element),d=$c(i),g=fv(t,s,a).getOr(d);return Ww(g,d.left,d.top)},tg=(t,s,a,i)=>{const d=PS(Dr(t,s));return x.some(dd(d,a,i))},CA=(t,s,a,i,d)=>t.map(g=>{const h=[s,g.point],k=pS(i,()=>MS(h),()=>MS(h),()=>NS(h)),S=Lf(k.left,k.top,g.width,g.height),D=a.showAbove?dS():tb(),N=a.showAbove?fS():ov(),I=dv(d,a,D,N,D,N,x.none());return uv({anchorBox:S,bubble:a.bubble.getOr(lv()),overrides:a.overrides,layouts:I})}),$S=(t,s,a)=>{const i=BS(t,a,s);return s.node.filter(ve).bind(d=>{const g=d.dom.getBoundingClientRect(),h=tg(g.left,g.top,g.width,g.height),k=s.node.getOr(t.element);return CA(h,i,s,a,k)})};var FS=[Xt("node"),Xt("root"),Fs("bubble"),eg(),it("overrides",{}),it("showAbove",!1),Nr("placement",$S)];const mv="\uFEFF",SA=" ",gv={create:(t,s,a,i)=>({start:t,soffset:s,finish:a,foffset:i})},ub=Z.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),IS=(t,s,a,i)=>t.fold(s,a,i),zh=t=>t.fold(Zt,Zt,Zt),Nh=ub.before,xA=ub.on,LS=ub.after,EA={before:Nh,on:xA,after:LS,cata:IS,getStart:zh},mp=Z.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Mh=t=>mp.exact(t.start,t.soffset,t.finish,t.foffset),Zw=t=>t.match({domRange:s=>Le.fromDom(s.startContainer),relative:(s,a)=>EA.getStart(s),exact:(s,a,i,d)=>s}),qw=mp.domRange,TA=mp.relative,Gw=mp.exact,HS=t=>{const s=Zw(t);return Ba(s)},VS=gv.create,Ph={domRange:qw,relative:TA,exact:Gw,exactFromRange:Mh,getWin:HS,range:VS},US=(t,s)=>{s.fold(a=>{t.setStartBefore(a.dom)},(a,i)=>{t.setStart(a.dom,i)},a=>{t.setStartAfter(a.dom)})},pv=(t,s)=>{s.fold(a=>{t.setEndBefore(a.dom)},(a,i)=>{t.setEnd(a.dom,i)},a=>{t.setEndAfter(a.dom)})},ng=(t,s,a)=>{const i=t.document.createRange();return US(i,s),pv(i,a),i},tm=(t,s,a,i,d)=>{const g=t.document.createRange();return g.setStart(s.dom,a),g.setEnd(i.dom,d),g},db=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),fb=t=>{const s=t.getClientRects(),a=s.length>0?s[0]:t.getBoundingClientRect();return a.width>0||a.height>0?x.some(a).map(db):x.none()},AA=t=>{const s=t.getBoundingClientRect();return s.width>0||s.height>0?x.some(s).map(db):x.none()},yl=Z.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Sd=(t,s,a)=>s(Le.fromDom(a.startContainer),a.startOffset,Le.fromDom(a.endContainer),a.endOffset),Kw=(t,s)=>s.match({domRange:a=>({ltr:J(a),rtl:x.none}),relative:(a,i)=>({ltr:jt(()=>ng(t,a,i)),rtl:jt(()=>x.some(ng(t,i,a)))}),exact:(a,i,d,g)=>({ltr:jt(()=>tm(t,a,i,d,g)),rtl:jt(()=>x.some(tm(t,d,g,a,i)))})}),jS=(t,s)=>{const a=s.ltr();return a.collapsed?s.rtl().filter(d=>d.collapsed===!1).map(d=>yl.rtl(Le.fromDom(d.endContainer),d.endOffset,Le.fromDom(d.startContainer),d.startOffset)).getOrThunk(()=>Sd(t,yl.ltr,a)):Sd(t,yl.ltr,a)},OA=(t,s)=>{const a=Kw(t,s);return jS(t,a)},og=(t,s)=>OA(t,s).match({ltr:(i,d,g,h)=>{const k=t.document.createRange();return k.setStart(i.dom,d),k.setEnd(g.dom,h),k},rtl:(i,d,g,h)=>{const k=t.document.createRange();return k.setStart(g.dom,h),k.setEnd(i.dom,d),k}});yl.ltr,yl.rtl;const Bh=(t,s,a)=>wt(Mi(t,a),s),Uc=(t,s)=>El(s,t),Yw=(t,s,a,i)=>{const g=ha(t).dom.createRange();return g.setStart(t.dom,s),g.setEnd(a.dom,i),g},hv=(t,s,a,i)=>{const d=Yw(t,s,a,i),g=Rs(t,a)&&s===i;return d.collapsed&&!g},gp=t=>x.from(t.getSelection()),mb=t=>{if(t.rangeCount>0){const s=t.getRangeAt(0),a=t.getRangeAt(t.rangeCount-1);return x.some(gv.create(Le.fromDom(s.startContainer),s.startOffset,Le.fromDom(a.endContainer),a.endOffset))}else return x.none()},DA=t=>{if(t.anchorNode===null||t.focusNode===null)return mb(t);{const s=Le.fromDom(t.anchorNode),a=Le.fromDom(t.focusNode);return hv(s,t.anchorOffset,a,t.focusOffset)?x.some(gv.create(s,t.anchorOffset,a,t.focusOffset)):mb(t)}},Xw=t=>gp(t).filter(s=>s.rangeCount>0).bind(DA),gb=(t,s)=>{const a=og(t,s);return fb(a)},jc=(t,s)=>{const a=og(t,s);return AA(a)},iu=((t,s)=>{const a=g=>{if(!t(g))throw new Error("Can only get "+s+" value of a "+s+" node");return i(g).getOr("")},i=g=>t(g)?x.from(g.dom.nodeValue):x.none();return{get:a,getOption:i,set:(g,h)=>{if(!t(g))throw new Error("Can only set raw "+s+" value of a "+s+" node");g.dom.nodeValue=h}}})(cs,"text"),Qw=t=>iu.get(t),$h=(t,s)=>({element:t,offset:s}),Fh=(t,s)=>{const a=Da(t);if(a.length===0)return $h(t,s);if(s<a.length)return $h(a[s],0);{const i=a[a.length-1],d=cs(i)?Qw(i).length:Da(i).length;return $h(i,d)}},ek=(t,s)=>cs(t)?$h(t,s):Fh(t,s),nm=t=>t.foffset!==void 0,tk=(t,s)=>s.getSelection.getOrThunk(()=>()=>Xw(t))().map(i=>{if(nm(i)){const d=ek(i.start,i.soffset),g=ek(i.finish,i.foffset);return Ph.range(d.element,d.offset,g.element,g.offset)}else return i}),nk=(t,s,a)=>{const i=Ba(s.root).dom,d=BS(t,a,s),g=tk(i,s).bind(S=>{if(nm(S))return jc(i,Ph.exactFromRange(S)).orThunk(()=>{const N=Le.fromText(mv);Kl(S.start,N);const I=gb(i,Ph.exact(N,0,N,1));return oi(N),I}).bind(N=>tg(N.left,N.top,N.width,N.height));{const D=Vn(S,I=>I.dom.getBoundingClientRect()),N={left:Math.min(D.firstCell.left,D.lastCell.left),right:Math.max(D.firstCell.right,D.lastCell.right),top:Math.min(D.firstCell.top,D.lastCell.top),bottom:Math.max(D.firstCell.bottom,D.lastCell.bottom)};return tg(N.left,N.top,N.right-N.left,N.bottom-N.top)}}),k=tk(i,s).bind(S=>nm(S)?vo(S.start)?x.some(S.start):Qa(S.start):x.some(S.firstCell)).getOr(t.element);return CA(g,d,s,a,k)};var ok=[Fs("getSelection"),Xt("root"),Fs("bubble"),eg(),it("overrides",{}),it("showAbove",!1),Nr("placement",nk)];const bf="link-layout",yv=t=>t.x+t.width,Jc=(t,s)=>t.x-s.width,WS=(t,s)=>t.y-s.height+t.height,sk=t=>t.y,rk=(t,s,a)=>Kc(yv(t),sk(t),a.southeast(),ev(),"southeast",Yc(t,{left:0,top:2}),bf),ZS=(t,s,a)=>Kc(Jc(t,s),sk(t),a.southwest(),Ew(),"southwest",Yc(t,{right:1,top:2}),bf),ak=(t,s,a)=>Kc(yv(t),WS(t,s),a.northeast(),Tw(),"northeast",Yc(t,{left:0,bottom:3}),bf),qS=(t,s,a)=>Kc(Jc(t,s),WS(t,s),a.northwest(),tv(),"northwest",Yc(t,{right:1,bottom:3}),bf),GS=()=>[rk,ZS,ak,qS],Ml=()=>[ZS,rk,qS,ak],sg=(t,s,a)=>{const i=Pw(a,s.item.element),d=dv(t.element,s,GS(),Ml(),GS(),Ml(),x.none());return x.some(uv({anchorBox:i,bubble:lv(),overrides:s.overrides,layouts:d}))};var KS=[Xt("item"),eg(),it("overrides",{}),Nr("placement",sg)],pp=wa("type",{selection:ok,node:FS,hotspot:wA,submenu:KS,makeshift:zS});const Ai=[ol("classes",In),gc("mode","all",["all","layout","placement"])],bl=[it("useFixed",We),Fs("getBounds")],Oi=[Vs("anchor",pp),rc("transition",Ai)],Pl=()=>{const t=document.documentElement;return yS(0,0,t.clientWidth,t.clientHeight)},bv=t=>{const s=Cr(t.element),a=t.element.dom.getBoundingClientRect();return hS(s.left,s.top,a.width,a.height)},Bl=(t,s,a,i,d,g)=>{const h=dp(s.anchorBox,t);return bA(h,i.element,s.bubble,s.layouts,d,a,s.overrides,g)},hp=(t,s,a,i,d)=>{const g=x.none();YS(t,s,a,i,d,g)},YS=(t,s,a,i,d,g)=>{const h=ci("placement.info",To(Oi),d),k=h.anchor,S=i.element,D=a.get(i.uid);Mw(()=>{yt(S,"position","fixed");const N=Bs(S,"visibility");yt(S,"visibility","hidden");const I=s.useFixed()?Pl():bv(t);k.placement(t,k,I).each(X=>{const Q=g.orThunk(()=>s.getBounds.map(bo)),ue=Bl(I,X,Q,i,D,h.transition);a.set(i.uid,ue)}),N.fold(()=>{Vo(S,"visibility")},X=>{yt(S,"visibility",X)}),Bs(S,"left").isNone()&&Bs(S,"top").isNone()&&Bs(S,"right").isNone()&&Bs(S,"bottom").isNone()&&Qs(Bs(S,"position"),"fixed")&&Vo(S,"position")},S)};var ck=Object.freeze({__proto__:null,position:hp,positionWithinBounds:YS,getMode:(t,s,a)=>s.useFixed()?"fixed":"absolute",reset:(t,s,a,i)=>{const d=i.element;gt(["position","left","right","top","bottom"],g=>Vo(d,g)),dA(d),a.clear(i.uid)}}),vv=Object.freeze({__proto__:null,init:()=>{let t={};return xi({readState:()=>t,clear:d=>{It(d)?delete t[d]:t={}},set:(d,g)=>{t[d]=g},get:d=>on(t,d)})}});const Wc=Ec({fields:bl,name:"positioning",active:lA,apis:ck,state:vv}),pb=t=>t.getSystem().isConnected(),hb=t=>{ms(t,Rl());const s=t.components();gt(s,hb)},rg=t=>{const s=t.components();gt(s,rg),ms(t,sl())},ik=(t,s)=>{t.getSystem().addToWorld(s),ve(t.element)&&rg(s)},wv=t=>{hb(t),t.getSystem().removeFromWorld(t)},lk=(t,s)=>{Bc(t.element,s.element)},kv=t=>{gt(t.components(),s=>oi(s.element)),Ua(t.element),t.syncComponents()},uk=(t,s,a)=>{const i=t.components();kv(t);const d=a(s),g=Oe(i,d);gt(g,h=>{hb(h),t.getSystem().removeFromWorld(h)}),gt(d,h=>{pb(h)?lk(t,h):(t.getSystem().addToWorld(h),lk(t,h),ve(t.element)&&rg(h))}),t.syncComponents()},Ih=(t,s,a)=>{const i=t.components(),d=G(s,k=>G1(k).toArray());gt(i,k=>{Vt(d,k)||wv(k)});const g=a(s),h=Oe(i,g);gt(h,k=>{pb(k)&&wv(k)}),gt(g,k=>{pb(k)||ik(t,k)}),t.syncComponents()},om=(t,s)=>{yb(t,s,Bc)},yb=(t,s,a)=>{t.getSystem().addToWorld(s),a(t.element,s.element),ve(t.element)&&rg(s),t.syncComponents()},yp=t=>{hb(t),oi(t.element),t.getSystem().removeFromWorld(t)},sm=t=>{const s=Oa(t.element).bind(a=>t.getSystem().getByDom(a).toOptional());yp(t),s.each(a=>{a.syncComponents()})},XS=t=>{const s=t.components();gt(s,yp),Ua(t.element),t.syncComponents()},vl=(t,s)=>{ag(t,s,Bc)},dk=(t,s)=>{ag(t,s,If)},ag=(t,s,a)=>{a(t,s.element);const i=Da(s.element);gt(i,d=>{s.getByDom(d).each(rg)})},bp=t=>{const s=Da(t.element);gt(s,a=>{t.getByDom(a).each(hb)}),oi(t.element)},_v=(t,s,a,i)=>{a.get().each(h=>{XS(t)});const d=s.getAttachPoint(t);om(d,t);const g=t.getSystem().build(i);return om(t,g),a.set(g),g},Cv=(t,s,a,i)=>{const d=_v(t,s,a,i);return s.onOpen(t,d),d},NA=(t,s,a,i)=>a.get().map(()=>_v(t,s,a,i)),MA=(t,s,a,i,d)=>{e2(t,s),Cv(t,s,a,i),d(),Sv(t,s)},JS=(t,s,a)=>{a.get().each(i=>{XS(t),sm(t),s.onClose(t,i),a.clear()})},QS=(t,s,a)=>a.isOpen(),vp=(t,s,a,i)=>QS(t,s,a)&&a.get().exists(d=>s.isPartOf(t,d,i)),Lh=(t,s,a)=>a.get(),bb=(t,s,a,i)=>{Bs(t.element,s).fold(()=>{$(t.element,a)},d=>{V(t.element,a,d)}),yt(t.element,s,i)},PA=(t,s,a)=>{kt(t.element,a).fold(()=>Vo(t.element,s),i=>yt(t.element,s,i))},e2=(t,s,a)=>{const i=s.getAttachPoint(t);yt(t.element,"position",Wc.getMode(i)),bb(t,"visibility",s.cloakVisibilityAttr,"hidden")},vb=t=>En(["top","left","right","bottom"],s=>Bs(t,s).isSome()),Sv=(t,s,a)=>{vb(t.element)||Vo(t.element,"position"),PA(t,"visibility",s.cloakVisibilityAttr)};var fk=Object.freeze({__proto__:null,cloak:e2,decloak:Sv,open:Cv,openWhileCloaked:MA,close:JS,isOpen:QS,isPartOf:vp,getState:Lh,setContent:NA}),xv=Object.freeze({__proto__:null,events:(t,s)=>or([Jt(xc(),(a,i)=>{JS(a,t,s)})])}),Hh=[As("onOpen"),As("onClose"),Xt("isPartOf"),Xt("getAttachPoint"),it("cloakVisibilityAttr","data-precloak-visibility")],wp=Object.freeze({__proto__:null,init:()=>{const t=$s(),s=J("not-implemented");return xi({readState:s,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const Ns=Ec({fields:Hh,name:"sandboxing",active:xv,apis:fk,state:wp}),rm=J("dismiss.popups"),cg=J("reposition.popups"),Ev=J("mouse.released"),mk=tl([it("isExtraPart",We),rc("fireEventInstead",[it("event",zl())])]),wb=t=>{const s=ci("Dismissal",mk,t);return{[rm()]:{schema:tl([Xt("target")]),onReceive:(a,i)=>{Ns.isOpen(a)&&(Ns.isPartOf(a,i.target)||s.isExtraPart(a,i.target)||s.fireEventInstead.fold(()=>Ns.close(a),g=>ms(a,g.event)))}}}},kp=tl([rc("fireEventInstead",[it("event",By())]),fl("doReposition")]),kb=t=>{const s=ci("Reposition",kp,t);return{[cg()]:{onReceive:a=>{Ns.isOpen(a)&&s.fireEventInstead.fold(()=>s.doReposition(a),i=>ms(a,i.event))}}}},Tv=(t,s,a)=>{s.store.manager.onLoad(t,s,a)},o2=(t,s,a)=>{s.store.manager.onUnload(t,s,a)};var ig=Object.freeze({__proto__:null,onLoad:Tv,onUnload:o2,setValue:(t,s,a,i)=>{s.store.manager.setValue(t,s,a,i)},getValue:(t,s,a)=>s.store.manager.getValue(t,s,a),getState:(t,s,a)=>a}),pk=Object.freeze({__proto__:null,events:(t,s)=>{const a=t.resetOnDom?[Wr((i,d)=>{Tv(i,t,s)}),uf((i,d)=>{o2(i,t,s)})]:[Hm(t,s,Tv)];return or(a)}});const Cp=()=>{const t=uo(null),s=()=>({mode:"memory",value:t.get()}),a=()=>t.get()===null,i=()=>{t.set(null)};return xi({set:t.set,get:t.get,isNotSet:a,clear:i,readState:s})},hk=()=>xi({readState:ae}),s2=()=>{const t=uo({}),s=uo({});return xi({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:s.get()}),lookup:h=>on(t.get(),h).orThunk(()=>on(s.get(),h)),update:h=>{const k=t.get(),S=s.get(),D={},N={};gt(h,I=>{D[I.value]=I,on(I,"meta").each(X=>{on(X,"text").each(Q=>{N[Q]=I})})}),t.set(ie(ie({},k),D)),s.set(ie(ie({},S),N))},clear:()=>{t.set({}),s.set({})}})};var vf=Object.freeze({__proto__:null,memory:Cp,dataset:s2,manual:hk,init:t=>t.store.manager.state(t)});const a2=(t,s,a,i)=>{const d=s.store;a.update([i]),d.setValue(t,i),s.onSetValue(t,i)},Ov=(t,s,a)=>{const i=s.store,d=i.getDataKey(t);return a.lookup(d).getOrThunk(()=>i.getFallbackEntry(d))},lu=(t,s,a)=>{s.store.initialValue.each(d=>{a2(t,s,a,d)})},Tc=(t,s,a)=>{a.clear()};var $A=[Fs("initialValue"),Xt("getFallbackEntry"),Xt("getDataKey"),Xt("setValue"),Nr("manager",{setValue:a2,getValue:Ov,onLoad:lu,onUnload:Tc,state:s2})];const xd=(t,s,a)=>s.store.getValue(t),FA=(t,s,a,i)=>{s.store.setValue(t,i),s.onSetValue(t,i)},c2=(t,s,a)=>{s.store.initialValue.each(i=>{s.store.setValue(t,i)})};var _b=[Xt("getValue"),it("setValue",ae),Fs("initialValue"),Nr("manager",{setValue:FA,getValue:xd,onLoad:c2,onUnload:ae,state:vd.init})];const Vh=(t,s,a,i)=>{a.set(i),s.onSetValue(t,i)},i2=(t,s,a)=>a.get(),l2=(t,s,a)=>{s.store.initialValue.each(i=>{a.isNotSet()&&a.set(i)})},Wz=(t,s,a)=>{a.clear()};var Zz=[Fs("initialValue"),Nr("manager",{setValue:Vh,getValue:i2,onLoad:l2,onUnload:Wz,state:Cp})],u2=[fr("store",{mode:"memory"},wa("mode",{memory:Zz,manual:_b,dataset:$A})),As("onSetValue"),it("resetOnDom",!1)];const jn=Ec({fields:u2,name:"representing",active:pk,apis:ig,extra:{setValueFrom:(t,s)=>{const a=jn.getValue(s);jn.setValue(t,a)}},state:vf}),Ac=(t,s)=>C(t,{},Pe(s,a=>zy(a.name(),"Cannot configure "+a.name()+" for "+t)).concat([Hs("dump",Zt)])),Dv=t=>t.dump,Oc=(t,s)=>ie(ie({},hn(s)),t.dump),uu={field:Ac,augment:Oc,get:Dv},yk="placeholder",Cb=Z.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Uh=t=>Go(t,"uiType"),d2=(t,s,a,i)=>t.exists(d=>d!==a.owner)?Cb.single(!0,J(a)):on(i,a.name).fold(()=>{throw new Error("Unknown placeholder component: "+a.name+`
Known: [`+pn(i)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(a,null,2))},d=>d.replace()),lg=(t,s,a,i)=>Uh(a)&&a.uiType===yk?d2(t,s,a,i):Cb.single(!1,J(a)),jh=(t,s,a,i)=>lg(t,s,a,i).fold((g,h)=>{const k=Uh(a)?h(s,a.config,a.validated):h(s),S=on(k,"components").getOr([]),D=G(S,N=>jh(t,s,N,i));return[Pt(ie({},k),{components:D})]},(g,h)=>{if(Uh(a)){const k=h(s,a.config,a.validated);return a.validated.preprocess.getOr(Zt)(k)}else return h(s)}),IA=(t,s,a,i)=>G(a,d=>jh(t,s,d,i)),LA=(t,s)=>{let a=!1;const i=()=>a,d=()=>{if(a)throw new Error("Trying to use the same placeholder more than once: "+t);return a=!0,s},g=()=>s.fold((h,k)=>h,(h,k)=>h);return{name:J(t),required:g,used:i,replace:d}},HA=(t,s,a,i)=>{const d=Vn(i,(h,k)=>LA(k,h)),g=IA(t,s,a,d);return Un(d,h=>{if(h.used()===!1&&h.required())throw new Error("Placeholder: "+h.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),g},f2=Cb.single,Sp=Cb.multiple,Wh=J(yk),xp=Z.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Rv=it("factory",{sketch:Zt}),$l=it("schema",[]),Ed=Xt("name"),Ep=sc("pname","pname",nf(t=>"<alloy."+Xn(t.name)+">"),Al()),Zh=Hs("schema",()=>[Fs("preprocess")]),zv=it("defaults",J({})),Nv=it("overrides",J({})),VA=To([Rv,$l,Ed,Ep,zv,Nv]),UA=To([Rv,$l,Ed,zv,Nv]),jA=To([Rv,$l,Ed,Ep,zv,Nv]),WA=To([Rv,Zh,Ed,Xt("unit"),Ep,zv,Nv]),m2=t=>t.fold(x.some,x.none,x.some,x.some),g2=t=>{const s=a=>a.name;return t.fold(s,s,s,s)},bk=t=>t.fold(Zt,Zt,Zt,Zt),Mv=(t,s)=>a=>{const i=ci("Converting part type",s,a);return t(i)},di=Mv(xp.required,VA),du=Mv(xp.external,UA),Fl=Mv(xp.optional,jA),Sb=Mv(xp.group,WA),vk=J("entirety");var p2=Object.freeze({__proto__:null,required:di,external:du,optional:Fl,group:Sb,asNamedPart:m2,name:g2,asCommon:bk,original:vk});const Pv=(t,s,a,i)=>br(s.defaults(t,a,i),a,{uid:t.partUids[s.name]},s.overrides(t,a,i)),ZA=(t,s,a)=>{const i={},d={};return gt(a,g=>{g.fold(h=>{i[h.pname]=f2(!0,(k,S,D)=>h.factory.sketch(Pv(k,h,S,D)))},h=>{const k=s.parts[h.name];d[h.name]=J(h.factory.sketch(Pv(s,h,k[vk()]),k))},h=>{i[h.pname]=f2(!1,(k,S,D)=>h.factory.sketch(Pv(k,h,S,D)))},h=>{i[h.pname]=Sp(!0,(k,S,D)=>{const N=k[h.name];return Pe(N,I=>h.factory.sketch(br(h.defaults(k,I,D),I,h.overrides(k,I))))})})}),{internals:J(i),externals:J(d)}},Bv=(t,s)=>{const a={};return gt(s,i=>{m2(i).each(d=>{const g=qA(t,d.pname);a[d.name]=h=>{const k=ci("Part: "+d.name+" in "+t,To(d.schema),h);return Pt(ie({},g),{config:h,validated:k})}})}),a},qA=(t,s)=>({uiType:Wh(),owner:t,name:s}),$v=(t,s,a)=>({uiType:Wh(),owner:t,name:s,config:a,validated:{}}),GA=t=>G(t,s=>s.fold(x.none,x.some,x.none,x.none).map(a=>sf(a.name,a.schema.concat([np(vk())]))).toArray()),KA=t=>Pe(t,g2),h2=(t,s,a)=>ZA(t,s,a),Fv=(t,s,a)=>HA(x.some(t),s,s.components,a),vr=(t,s,a)=>{const i=s.partUids[a];return t.getSystem().getByUid(i).toOptional()},Wn=(t,s,a)=>vr(t,s,a).getOrDie("Could not find part: "+a),Td=(t,s,a)=>{const i={},d=s.partUids,g=t.getSystem();return gt(a,h=>{i[h]=J(g.getByUid(d[h]))}),i},y2=(t,s)=>{const a=t.getSystem();return Vn(s.partUids,(i,d)=>J(a.getByUid(i)))},wk=t=>pn(t.partUids),qh=(t,s,a)=>{const i={},d=s.partUids,g=t.getSystem();return gt(a,h=>{i[h]=J(g.getByUid(d[h]).getOrDie())}),i},Iv=(t,s)=>{const a=KA(s);return Qo(Pe(a,i=>({key:i,value:t+"-"+i})))},xb=t=>sc("partUids","partUids",Rm(s=>Iv(s.uid,t)),Al());var kk=Object.freeze({__proto__:null,generate:Bv,generateOne:$v,schemas:GA,names:KA,substitutes:h2,components:Fv,defaultUids:Iv,defaultUidsSchema:xb,getAllParts:y2,getAllPartNames:wk,getPart:vr,getPartOrDie:Wn,getParts:Td,getPartsOrDie:qh});const b2=(t,s)=>(t.length>0?[sf("parts",t)]:[]).concat([Xt("uid"),it("dom",{}),it("components",[]),np("originalSpec"),it("debug.sketcher",{})]).concat(s),_k=(t,s,a,i,d)=>{const g=b2(i,d);return ci(t+" [SpecSchema]",tl(g.concat(s)),a)},v2=(t,s,a,i)=>{const d=Lv(i),g=_k(t,s,d,[],[]);return a(g,d)},Eb=(t,s,a,i,d)=>{const g=Lv(d),h=GA(a),k=xb(a),S=_k(t,s,g,h,[k]),D=h2(t,S,a),N=Fv(t,S,D.internals());return i(S,N,g,D.externals())},Tp=t=>Go(t,"uid"),Lv=t=>Tp(t)?t:Pt(ie({},t),{uid:qy("uid")}),YA=t=>t.uid!==void 0,XA=tl([Xt("name"),Xt("factory"),Xt("configFields"),it("apis",{}),it("extraApis",{})]),JA=tl([Xt("name"),Xt("factory"),Xt("configFields"),Xt("partFields"),it("apis",{}),it("extraApis",{})]),wl=t=>{const s=ci("Sketcher for "+t.name,XA,t),a=g=>v2(s.name,s.configFields,s.factory,g),i=Vn(s.apis,K1),d=Vn(s.extraApis,(g,h)=>Q0(g,h));return ie(ie({name:s.name,configFields:s.configFields,sketch:a},i),d)},Qc=t=>{const s=ci("Sketcher for "+t.name,JA,t),a=h=>Eb(s.name,s.configFields,s.partFields,s.factory,h),i=Bv(s.name,s.partFields),d=Vn(s.apis,K1),g=Vn(s.extraApis,(h,k)=>Q0(h,k));return ie(ie({name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:a,parts:i},d),g)},Gh=t=>Qr("input")(t)&&$e(t,"type")!=="radio"||Qr("textarea")(t);var QA=Object.freeze({__proto__:null,getCurrent:(t,s,a)=>s.find(t)});const eO=[Xt("find")],Es=Ec({fields:eO,name:"composing",apis:QA}),tO=["input","button","textarea","select"],nO=(t,s,a)=>{(s.disabled()?Sk:Hv)(t,s)},Ck=(t,s)=>s.useNative===!0&&Vt(tO,Ds(t.element)),Gz=t=>lo(t.element,"disabled"),Kz=t=>{V(t.element,"disabled","disabled")},ug=t=>{$(t.element,"disabled")},Tb=t=>$e(t.element,"aria-disabled")==="true",oO=t=>{V(t.element,"aria-disabled","true")},sO=t=>{V(t.element,"aria-disabled","false")},Sk=(t,s,a)=>{s.disableClass.each(d=>{Ia(t.element,d)}),(Ck(t,s)?Kz:oO)(t),s.onDisabled(t)},Hv=(t,s,a)=>{s.disableClass.each(d=>{sr(t.element,d)}),(Ck(t,s)?ug:sO)(t),s.onEnabled(t)},Vv=(t,s)=>Ck(t,s)?Gz(t):Tb(t);var rO=Object.freeze({__proto__:null,enable:Hv,disable:Sk,isDisabled:Vv,onLoad:nO,set:(t,s,a,i)=>{(i?Sk:Hv)(t,s)}}),aO=Object.freeze({__proto__:null,exhibit:(t,s)=>Ui({classes:s.disabled()?s.disableClass.toArray():[]}),events:(t,s)=>or([Y0(Hc(),(a,i)=>Vv(a,t)),Hm(t,s,nO)])}),w2=[zr("disabled",We),it("useNative",!0),Fs("disableClass"),As("onDisabled"),As("onEnabled")];const Po=Ec({fields:w2,name:"disabling",active:aO,apis:rO}),Uv=(t,s,a,i)=>{const d=Uc(t.element,"."+s.highlightClass);gt(d,g=>{En(i,k=>Rs(k.element,g))||(sr(g,s.highlightClass),t.getSystem().getByDom(g).each(k=>{s.onDehighlight(t,k),ms(k,ih())}))})},l=(t,s,a)=>Uv(t,s,a,[]),f=(t,s,a,i)=>{te(t,s,a,i)&&(sr(i.element,s.highlightClass),s.onDehighlight(t,i),ms(i,ih()))},y=(t,s,a,i)=>{Uv(t,s,a,[i]),te(t,s,a,i)||(Ia(i.element,s.highlightClass),s.onHighlight(t,i),ms(i,G0()))},w=(t,s,a)=>{pt(t,s).each(i=>{y(t,s,a,i)})},O=(t,s,a)=>{fn(t,s).each(i=>{y(t,s,a,i)})},M=(t,s,a,i)=>{Fe(t,s,a,i).fold(d=>{throw d},d=>{y(t,s,a,d)})},W=(t,s,a,i)=>{const d=so(t,s);re(d,i).each(h=>{y(t,s,a,h)})},te=(t,s,a,i)=>ji(i.element,s.highlightClass),ge=(t,s,a)=>Yr(t.element,"."+s.highlightClass).bind(i=>t.getSystem().getByDom(i).toOptional()),Fe=(t,s,a,i)=>{const d=Uc(t.element,"."+s.itemClass);return x.from(d[i]).fold(()=>Jo.error(new Error("No element found with index "+i)),t.getSystem().getByDom)},pt=(t,s,a)=>Yr(t.element,"."+s.itemClass).bind(i=>t.getSystem().getByDom(i).toOptional()),fn=(t,s,a)=>{const i=Uc(t.element,"."+s.itemClass);return(i.length>0?x.some(i[i.length-1]):x.none()).bind(g=>t.getSystem().getByDom(g).toOptional())},Bn=(t,s,a,i)=>{const d=Uc(t.element,"."+s.itemClass);return de(d,h=>ji(h,s.highlightClass)).bind(h=>{const k=op(h,i,0,d.length-1);return t.getSystem().getByDom(d[k]).toOptional()})},Rn=(t,s,a)=>Bn(t,s,a,-1),kn=(t,s,a)=>Bn(t,s,a,1),so=(t,s,a)=>{const i=Uc(t.element,"."+s.itemClass);return _r(Pe(i,d=>t.getSystem().getByDom(d).toOptional()))};var ln=Object.freeze({__proto__:null,dehighlightAll:l,dehighlight:f,highlight:y,highlightFirst:w,highlightLast:O,highlightAt:M,highlightBy:W,isHighlighted:te,getHighlighted:ge,getFirst:pt,getLast:fn,getPrevious:Rn,getNext:kn,getCandidates:so}),_n=[Xt("highlightClass"),Xt("itemClass"),As("onHighlight"),As("onDehighlight")];const xn=Ec({fields:_n,name:"highlighting",apis:ln}),Io=[8],Ts=[9],rr=[13],Pr=[27],ra=[32],Il=[37],Ad=[38],Ap=[39],wf=[40],wr=(t,s,a)=>{const i=Ce(t.slice(0,s)),d=Ce(t.slice(s+1));return re(i.concat(d),a)},Zi=(t,s,a)=>{const i=Ce(t.slice(0,s));return re(i,a)},qi=(t,s,a)=>{const i=t.slice(0,s),d=t.slice(s+1);return re(d.concat(i),a)},fu=(t,s,a)=>{const i=t.slice(s+1);return re(i,a)},ns=t=>s=>{const a=s.raw;return Vt(t,a.which)},rl=t=>s=>pe(t,a=>a(s)),uc=t=>t.raw.shiftKey===!0,jv=t=>t.raw.ctrlKey===!0,am=at(uc),ls=(t,s)=>({matches:t,classification:s}),fi=(t,s)=>re(t,i=>i.matches(s)).map(i=>i.classification),Wv=(t,s,a)=>{s.exists(d=>a.exists(g=>Rs(g,d)))||co(t,$y(),{prevFocus:s,newFocus:a})},Zv=()=>{const t=a=>Ti(a.element);return{get:t,set:(a,i)=>{const d=t(a);a.getSystem().triggerFocus(i,a.element);const g=t(a);Wv(a,d,g)}}},k2=()=>{const t=a=>xn.getHighlighted(a).map(i=>i.element);return{get:t,set:(a,i)=>{const d=t(a);a.getSystem().getByDom(i).fold(ae,h=>{xn.highlight(a,h)});const g=t(a);Wv(a,d,g)}}};var dg;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(dg||(dg={}));const Op=(t,s,a,i,d)=>{const g=()=>t.concat([it("focusManager",Zv()),fr("focusInside","onFocus",Pg(D=>Vt(["onFocus","onEnterOrSpace","onApi"],D)?Jo.value(D):Jo.error("Invalid value for focusInside"))),Nr("handler",S),Nr("state",s),Nr("sendFocusIn",d)]),h=(D,N,I,X,Q)=>{const ue=I(D,N,X,Q);return fi(ue,N.event).bind(ye=>ye(D,N,X,Q))},S={schema:g,processKey:h,toEvents:(D,N)=>{const I=D.focusInside!==dg.OnFocusMode?x.none():d(D).map(ue=>Jt(yd(),(ye,Je)=>{ue(ye,D,N),Je.stop()})),X=(ue,ye)=>{const Je=ns(ra.concat(rr))(ye.event);D.focusInside===dg.OnEnterOrSpaceMode&&Je&&Pu(ue,ye)&&d(D).each(Ae=>{Ae(ue,D,N),ye.stop()})},Q=[Jt(nu(),(ue,ye)=>{h(ue,ye,a,D,N).fold(()=>{X(ue,ye)},Je=>{ye.stop()})}),Jt(Hg(),(ue,ye)=>{h(ue,ye,i,D,N).each(Je=>{ye.stop()})})];return or(I.toArray().concat(Q))}};return S},qv=t=>{const s=[Fs("onEscape"),Fs("onEnter"),it("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),it("firstTabstop",0),it("useTabstopAt",Ye),Fs("visibilitySelector")].concat([t]),a=(Ae,Ke)=>{const ot=Ae.visibilitySelector.bind(_t=>pf(Ke,_t)).getOr(Ke);return Ys(ot)>0},i=(Ae,Ke)=>{const ot=Uc(Ae.element,Ke.selector),_t=wt(ot,Et=>a(Ke,Et));return x.from(_t[Ke.firstTabstop])},d=(Ae,Ke)=>Ke.focusManager.get(Ae).bind(ot=>pf(ot,Ke.selector)),g=(Ae,Ke)=>a(Ae,Ke)&&Ae.useTabstopAt(Ke),h=(Ae,Ke,ot)=>{i(Ae,Ke).each(_t=>{Ke.focusManager.set(Ae,_t)})},k=(Ae,Ke,ot,_t,Et)=>Et(Ke,ot,Cn=>g(_t,Cn)).fold(()=>_t.cyclic?x.some(!0):x.none(),Cn=>(_t.focusManager.set(Ae,Cn),x.some(!0))),S=(Ae,Ke,ot,_t)=>{const Et=Uc(Ae.element,ot.selector);return d(Ae,ot).bind(Cn=>de(Et,gn(Rs,Cn)).bind(qt=>k(Ae,Et,qt,ot,_t)))},D=(Ae,Ke,ot)=>{const _t=ot.cyclic?wr:Zi;return S(Ae,Ke,ot,_t)},N=(Ae,Ke,ot)=>{const _t=ot.cyclic?qi:fu;return S(Ae,Ke,ot,_t)},I=Ae=>Ja(Ae).bind(ti).exists(Ke=>Rs(Ke,Ae)),X=(Ae,Ke,ot)=>d(Ae,ot).filter(_t=>!ot.useTabstopAt(_t)).bind(_t=>(I(_t)?D:N)(Ae,Ke,ot)),Q=(Ae,Ke,ot)=>ot.onEnter.bind(_t=>_t(Ae,Ke)),ue=(Ae,Ke,ot)=>ot.onEscape.bind(_t=>_t(Ae,Ke)),ye=J([ls(rl([uc,ns(Ts)]),D),ls(ns(Ts),N),ls(rl([am,ns(rr)]),Q)]),Je=J([ls(ns(Pr),ue),ls(ns(Ts),X)]);return Op(s,vd.init,ye,Je,()=>x.some(h))};var cO=qv(Hs("cyclic",We)),Ob=qv(Hs("cyclic",Ye));const s8=(t,s,a)=>(z1(t,a,Hc()),x.some(!0)),Dp=(t,s,a)=>Gh(a)&&ns(ra)(s.event)?x.none():s8(t,s,a),Db=(t,s)=>x.some(!0),Xz=[it("execute",Dp),it("useSpace",!1),it("useEnter",!0),it("useControlEnter",!1),it("useDown",!1)],_2=(t,s,a)=>a.execute(t,s,t.element),r8=(t,s,a,i)=>{const d=a.useSpace&&!Gh(t.element)?ra:[],g=a.useEnter?rr:[],h=a.useDown?wf:[],k=d.concat(g).concat(h);return[ls(ns(k),_2)].concat(a.useControlEnter?[ls(rl([jv,ns(rr)]),_2)]:[])},Jz=(t,s,a,i)=>a.useSpace&&!Gh(t.element)?[ls(ns(ra),Db)]:[];var a8=Op(Xz,vd.init,r8,Jz,()=>x.none());const iO=()=>{const t=$s();return xi({readState:()=>t.get().map(d=>({numRows:String(d.numRows),numColumns:String(d.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(d,g)=>{t.set({numRows:d,numColumns:g})},getNumRows:()=>t.get().map(d=>d.numRows),getNumColumns:()=>t.get().map(d=>d.numColumns)})};var i8=Object.freeze({__proto__:null,flatgrid:iO,init:t=>t.state(t)});const Qz=t=>(s,a,i,d)=>{const g=t(s.element);return eN(g,s,a,i,d)},lO=(t,s)=>{const a=Uw(t,s);return Qz(a)},uO=(t,s)=>{const a=Uw(s,t);return Qz(a)},dO=t=>(s,a,i,d)=>eN(t,s,a,i,d),eN=(t,s,a,i,d)=>i.focusManager.get(s).bind(h=>t(s.element,h,i,d)).map(h=>(i.focusManager.set(s,h),!0)),Ek=dO,C2=dO,S2=dO,yK=t=>t.offsetWidth<=0&&t.offsetHeight<=0,fO=t=>!yK(t.dom),l8=(t,s)=>de(t,s).map(a=>({index:a,candidates:t})),tN=(t,s,a)=>{const i=h=>Rs(h,s),d=Uc(t,a),g=wt(d,fO);return l8(g,i)},Uu=(t,s)=>de(t,a=>Rs(s,a)),nN=(t,s,a,i)=>{const d=Math.floor(s/a),g=s%a;return i(d,g).bind(h=>{const k=h.row*a+h.column;return k>=0&&k<t.length?x.some(t[k]):x.none()})},oN=(t,s,a,i,d)=>nN(t,s,i,(g,h)=>{const S=g===a-1?t.length-g*i:i,D=op(h,d,0,S-1);return x.some({row:g,column:D})}),sN=(t,s,a,i,d)=>nN(t,s,i,(g,h)=>{const k=op(g,d,0,a-1),D=k===a-1?t.length-k*i:i,N=Iu(h,0,D-1);return x.some({row:k,column:N})}),u8=(t,s,a,i)=>oN(t,s,a,i,1),d8=(t,s,a,i)=>oN(t,s,a,i,-1),Gv=(t,s,a,i)=>sN(t,s,a,i,-1),mO=(t,s,a,i)=>sN(t,s,a,i,1),f8=[Xt("selector"),it("execute",Dp),li("onEscape"),it("captureTab",!1),Qf()],gO=(t,s,a)=>{Yr(t.element,s.selector).each(i=>{s.focusManager.set(t,i)})},x2=(t,s)=>s.focusManager.get(t).bind(a=>pf(a,s.selector)),pO=(t,s,a,i)=>x2(t,a).bind(d=>a.execute(t,s,d)),E2=t=>(s,a,i,d)=>tN(s,a,i.selector).bind(g=>t(g.candidates,g.index,d.getNumRows().getOr(i.initSize.numRows),d.getNumColumns().getOr(i.initSize.numColumns))),rN=(t,s,a)=>a.captureTab?x.some(!0):x.none(),m8=(t,s,a)=>a.onEscape(t,s),aN=E2(d8),cN=E2(u8),g8=E2(Gv),p8=E2(mO),iN=J([ls(ns(Il),lO(aN,cN)),ls(ns(Ap),uO(aN,cN)),ls(ns(Ad),Ek(g8)),ls(ns(wf),C2(p8)),ls(rl([uc,ns(Ts)]),rN),ls(rl([am,ns(Ts)]),rN),ls(ns(ra.concat(rr)),pO)]),T2=J([ls(ns(Pr),m8),ls(ns(ra),Db)]);var h8=Op(f8,iO,iN,T2,()=>x.some(gO));const lN=(t,s,a,i,d)=>{const g=k=>Ds(k)==="button"&&$e(k,"disabled")==="disabled",h=(k,S,D)=>d(k,S,i,0,D.length-1,D[S],N=>g(D[N])?h(k,N,D):x.from(D[N]));return tN(t,a,s).bind(k=>{const S=k.index,D=k.candidates;return h(S,S,D)})},uN=(t,s,a,i)=>lN(t,s,a,i,(d,g,h,k,S,D,N)=>{const I=Iu(g+h,k,S);return I===d?x.from(D):N(I)}),A2=(t,s,a,i)=>lN(t,s,a,i,(d,g,h,k,S,D,N)=>{const I=op(g,h,k,S);return I===d?x.none():N(I)}),Kv=[Xt("selector"),it("getInitial",x.none),it("execute",Dp),li("onEscape"),it("executeOnMove",!1),it("allowVertical",!0),it("allowHorizontal",!0),it("cycles",!0)],dN=(t,s)=>s.focusManager.get(t).bind(a=>pf(a,s.selector)),hO=(t,s,a)=>dN(t,a).bind(i=>a.execute(t,s,i)),yO=(t,s,a)=>{s.getInitial(t).orThunk(()=>Yr(t.element,s.selector)).each(i=>{s.focusManager.set(t,i)})},fN=(t,s,a)=>(a.cycles?A2:uN)(t,a.selector,s,-1),bO=(t,s,a)=>(a.cycles?A2:uN)(t,a.selector,s,1),vO=t=>(s,a,i,d)=>t(s,a,i,d).bind(()=>i.executeOnMove?hO(s,a,i):x.some(!0)),mN=(t,s,a)=>a.onEscape(t,s),gN=(t,s,a,i)=>{const d=[...a.allowHorizontal?Il:[]].concat(a.allowVertical?Ad:[]),g=[...a.allowHorizontal?Ap:[]].concat(a.allowVertical?wf:[]);return[ls(ns(d),vO(lO(fN,bO))),ls(ns(g),vO(uO(fN,bO))),ls(ns(rr),hO),ls(ns(ra),hO)]},pN=J([ls(ns(ra),Db),ls(ns(Pr),mN)]);var y8=Op(Kv,vd.init,gN,pN,()=>x.some(yO));const O2=(t,s,a)=>x.from(t[s]).bind(i=>x.from(i[a]).map(d=>({rowIndex:s,columnIndex:a,cell:d}))),hN=(t,s,a,i)=>{const g=t[s].length,h=op(a,i,0,g-1);return O2(t,s,h)},D2=(t,s,a,i)=>{const d=op(a,i,0,t.length-1),g=t[d].length,h=Iu(s,0,g-1);return O2(t,d,h)},yN=(t,s,a,i)=>{const g=t[s].length,h=Iu(a+i,0,g-1);return O2(t,s,h)},Tk=(t,s,a,i)=>{const d=Iu(a+i,0,t.length-1),g=t[d].length,h=Iu(s,0,g-1);return O2(t,d,h)},b8=(t,s,a)=>hN(t,s,a,1),bN=(t,s,a)=>hN(t,s,a,-1),kl=(t,s,a)=>D2(t,a,s,-1),v8=(t,s,a)=>D2(t,a,s,1),vN=(t,s,a)=>yN(t,s,a,-1),wN=(t,s,a)=>yN(t,s,a,1),w8=(t,s,a)=>Tk(t,a,s,-1),kN=(t,s,a)=>Tk(t,a,s,1),_N=[sf("selectors",[Xt("row"),Xt("cell")]),it("cycles",!0),it("previousSelector",x.none),it("execute",Dp)],k8=(t,s,a)=>{s.previousSelector(t).orThunk(()=>{const d=s.selectors;return Yr(t.element,d.cell)}).each(d=>{s.focusManager.set(t,d)})},_8=(t,s,a)=>Ti(t.element).bind(i=>a.execute(t,s,i)),C8=(t,s)=>Pe(t,a=>Uc(a,s.selectors.cell)),R2=(t,s)=>(a,i,d)=>{const g=d.cycles?t:s;return pf(i,d.selectors.row).bind(h=>{const k=Uc(h,d.selectors.cell);return Uu(k,i).bind(S=>{const D=Uc(a,d.selectors.row);return Uu(D,h).bind(N=>{const I=C8(D,d);return g(I,N,S).map(X=>X.cell)})})})},wO=R2(bN,vN),CN=R2(b8,wN),S8=R2(kl,w8),SN=R2(v8,kN),xN=J([ls(ns(Il),lO(wO,CN)),ls(ns(Ap),uO(wO,CN)),ls(ns(Ad),Ek(S8)),ls(ns(wf),C2(SN)),ls(ns(ra.concat(rr)),_8)]),EN=J([ls(ns(ra),Db)]);var x8=Op(_N,vd.init,xN,EN,()=>x.some(k8));const E8=[Xt("selector"),it("execute",Dp),it("moveOnTab",!1)],TN=(t,s,a)=>a.focusManager.get(t).bind(i=>a.execute(t,s,i)),T8=(t,s,a)=>{Yr(t.element,s.selector).each(i=>{s.focusManager.set(t,i)})},kO=(t,s,a)=>A2(t,a.selector,s,-1),_O=(t,s,a)=>A2(t,a.selector,s,1),Kh=(t,s,a,i)=>a.moveOnTab?S2(kO)(t,s,a,i):x.none(),AN=(t,s,a,i)=>a.moveOnTab?S2(_O)(t,s,a,i):x.none(),ON=J([ls(ns(Ad),S2(kO)),ls(ns(wf),S2(_O)),ls(rl([uc,ns(Ts)]),Kh),ls(rl([am,ns(Ts)]),AN),ls(ns(rr),TN),ls(ns(ra),TN)]),DN=J([ls(ns(ra),Db)]);var A8=Op(E8,vd.init,ON,DN,()=>x.some(T8));const Yv=[li("onSpace"),li("onEnter"),li("onShiftEnter"),li("onLeft"),li("onRight"),li("onTab"),li("onShiftTab"),li("onUp"),li("onDown"),li("onEscape"),it("stopSpaceKeyup",!1),Fs("focusIn")],O8=(t,s,a)=>[ls(ns(ra),a.onSpace),ls(rl([am,ns(rr)]),a.onEnter),ls(rl([uc,ns(rr)]),a.onShiftEnter),ls(rl([uc,ns(Ts)]),a.onShiftTab),ls(rl([am,ns(Ts)]),a.onTab),ls(ns(Ad),a.onUp),ls(ns(wf),a.onDown),ls(ns(Il),a.onLeft),ls(ns(Ap),a.onRight),ls(ns(ra),a.onSpace)],D8=(t,s,a)=>[...a.stopSpaceKeyup?[ls(ns(ra),Db)]:[],ls(ns(Pr),a.onEscape)];var RN=Op(Yv,vd.init,O8,D8,t=>t.focusIn);const R8=cO.schema(),z8=Ob.schema(),N8=y8.schema(),zN=h8.schema(),CO=x8.schema(),SO=a8.schema(),M8=A8.schema(),Yh=RN.schema();var NN=Object.freeze({__proto__:null,acyclic:R8,cyclic:z8,flow:N8,flatgrid:zN,matrix:CO,execution:SO,menu:M8,special:Yh});const MN=t=>ur(t,"setGridSize"),So=nw({branchKey:"mode",branches:NN,name:"keying",active:{events:(t,s)=>t.handler.toEvents(t,s)},apis:{focusIn:(t,s,a)=>{s.sendFocusIn(s).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},i=>{i(t,s,a)})},setGridSize:(t,s,a,i,d)=>{MN(a)?a.setGridSize(i,d):console.error("Layout does not support setGridSize")}},state:i8}),PN=(t,s)=>{Mw(()=>{uk(t,s,()=>Pe(s,t.getSystem().build))},t.element)},Xv=(t,s)=>{Mw(()=>{Ih(t,s,()=>qC(t.element,s,t.getSystem().buildOrPatch))},t.element)},Ak=(t,s,a,i)=>{wv(s);const d=Eh(t.element,a,i,t.getSystem().buildOrPatch);ik(t,d),t.syncComponents()},z2=(t,s,a)=>{const i=t.getSystem().build(a);yb(t,i,s)},xO=(t,s,a,i)=>{sm(s),z2(t,(d,g)=>Kp(d,g,a),i)},Xh=(t,s,a,i)=>(s.reuseDom?Xv:PN)(t,i),Jh=(t,s,a,i)=>{z2(t,Bc,i)},P8=(t,s,a,i)=>{z2(t,Yl,i)},B8=(t,s,a,i)=>{const d=Ok(t);re(d,h=>Rs(i.element,h.element)).each(sm)},Ok=(t,s)=>t.components(),fg=(t,s,a,i,d)=>{const g=Ok(t);return x.from(g[i]).map(h=>(d.fold(()=>sm(h),k=>{(s.reuseDom?Ak:xO)(t,h,i,k)}),h))};var $8=Object.freeze({__proto__:null,append:Jh,prepend:P8,remove:B8,replaceAt:fg,replaceBy:(t,s,a,i,d)=>{const g=Ok(t);return de(g,i).bind(h=>fg(t,s,a,h,d))},set:Xh,contents:Ok});const Zo=Ec({fields:[qa("reuseDom",!0)],name:"replacing",apis:$8}),$N=(t,s)=>{const a=or(s);return Ec({fields:[Xt("enabled")],name:t,active:{events:J(a)}})},Yo=(t,s)=>{const a=$N(t,s);return{key:t,value:{config:{},me:a,configAsRaw:J({}),initialConfig:{},state:vd}}},N2=(t,s)=>{s.ignore||(cu(t.element),s.onFocus(t))};var I8=Object.freeze({__proto__:null,focus:N2,blur:(t,s)=>{s.ignore||Oh(t.element)},isFocused:t=>up(t.element)}),TO=Object.freeze({__proto__:null,exhibit:(t,s)=>{const a=s.ignore?{}:{attributes:{tabindex:"-1"}};return Ui(a)},events:t=>or([Jt(yd(),(s,a)=>{N2(s,t),a.stop()})].concat(t.stopMousedown?[Jt(ia(),(s,a)=>{a.event.prevent()})]:[]))}),M2=[As("onFocus"),it("stopMousedown",!1),it("ignore",!1)];const Fo=Ec({fields:M2,name:"focusing",active:TO,apis:I8}),L8=t=>({init:()=>{const a=uo(t);return{get:()=>a.get(),set:k=>a.set(k),clear:()=>a.set(t),readState:()=>a.get()}}}),FN=(t,s,a)=>{const i=s.aria;i.update(t,i,a.get())},IN=(t,s,a)=>{s.toggleClass.each(i=>{a.get()?Ia(t.element,i):sr(t.element,i)})},Jv=(t,s,a,i)=>{const d=a.get();a.set(i),IN(t,s,a),FN(t,s,a),d!==i&&s.onToggled(t,i)},AO=(t,s,a)=>{Jv(t,s,a,!a.get())},H8=(t,s,a)=>{Jv(t,s,a,!0)},OO=(t,s,a)=>{Jv(t,s,a,!1)},V8=(t,s,a)=>a.get(),LN=(t,s,a)=>{Jv(t,s,a,s.selected)};var U8=Object.freeze({__proto__:null,onLoad:LN,toggle:AO,isOn:V8,on:H8,off:OO,set:Jv}),W8=Object.freeze({__proto__:null,exhibit:()=>Ui({}),events:(t,s)=>{const a=NT(t,s,AO),i=Hm(t,s,LN);return or(De([t.toggleOnExecute?[a]:[],[i]]))}});const Z8=(t,s,a)=>{V(t.element,"aria-pressed",a),s.syncWithExpanded&&VN(t,s,a)},HN=(t,s,a)=>{V(t.element,"aria-selected",a)},Dk=(t,s,a)=>{V(t.element,"aria-checked",a)},VN=(t,s,a)=>{V(t.element,"aria-expanded",a)};var Rk=[it("selected",!1),Fs("toggleClass"),it("toggleOnExecute",!0),As("onToggled"),fr("aria",{mode:"none"},wa("mode",{pressed:[it("syncWithExpanded",!1),Nr("update",Z8)],checked:[Nr("update",Dk)],expanded:[Nr("update",VN)],selected:[Nr("update",HN)],none:[Nr("update",ae)]}))];const as=Ec({fields:Rk,name:"toggling",active:W8,apis:U8,state:L8(!1)}),DO=()=>{const t=(s,a)=>{a.stop(),Im(s)};return[Jt(Vg(),t),Jt(O1(),t),Zg(tu()),Zg(ia())]},zk=t=>{const s=a=>Gf((i,d)=>{a(i),d.stop()});return or(De([t.map(s).toArray(),DO()]))},UN="alloy.item-hover",jN="alloy.item-focus",RO="alloy.item-toggled",WN=t=>{(Ti(t.element).isNone()||Fo.isFocused(t))&&(Fo.isFocused(t)||Fo.focus(t),co(t,UN,{item:t}))},zO=t=>{co(t,jN,{item:t})},q8=(t,s)=>{co(t,RO,{item:t,state:s})},ZN=J(UN),qN=J(jN),P2=J(RO),NO=t=>t.role.fold(()=>t.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Zt),MO=(t,s)=>Pt(ie({aria:{mode:s?"selected":"checked"}},es(t,(a,i)=>i!=="exclusive")),{onToggled:(a,i)=>{Me(t.onToggled)&&t.onToggled(a,i),q8(a,i)}}),G8=t=>({dom:t.dom,domModification:Pt(ie({},t.domModification),{attributes:ie(Pt(ie({role:NO(t)},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:uu.augment(t.itemBehaviours,[t.toggling.fold(as.revoke,s=>as.config(MO(s,t.role.exists(a=>a==="option")))),Fo.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:s=>{zO(s)}}),So.config({mode:"execution"}),jn.config({store:{mode:"memory",initialValue:t.data}}),Yo("item-type-events",[...DO(),Jt(Hi(),WN),Jt(Bm(),Fo.focus)])]),components:t.components,eventOrder:t.eventOrder}),K8=[Xt("data"),Xt("components"),Xt("dom"),it("hasSubmenu",!1),Fs("toggling"),Fs("role"),uu.field("itemBehaviours",[as,Fo,So,jn]),it("ignoreFocus",!1),it("domModification",{}),Nr("builder",G8),it("eventOrder",{})],Y8=t=>({dom:t.dom,components:t.components,events:or([Fy(Bm())])}),X8=[Xt("dom"),Xt("components"),Nr("builder",Y8)],B2=J("item-widget"),$2=J([di({name:"widget",overrides:t=>({behaviours:hn([jn.config({store:{mode:"manual",getValue:s=>t.data,setValue:ae}})])})})]),J8=t=>{const s=h2(B2(),t,$2()),a=Fv(B2(),t,s.internals()),i=g=>vr(g,t,"widget").map(h=>(So.focusIn(h),h)),d=(g,h)=>Gh(h.event.target)?x.none():(t.autofocus&&h.setSource(g.element),x.none());return{dom:t.dom,components:a,domModification:t.domModification,events:or([Gf((g,h)=>{i(g).each(k=>{h.stop()})}),Jt(Hi(),WN),Jt(Bm(),(g,h)=>{t.autofocus?i(g):Fo.focus(g)})]),behaviours:uu.augment(t.widgetBehaviours,[jn.config({store:{mode:"memory",initialValue:t.data}}),Fo.config({ignore:t.ignoreFocus,onFocus:g=>{zO(g)}}),So.config({mode:"special",focusIn:t.autofocus?g=>{i(g)}:ow(),onLeft:d,onRight:d,onEscape:(g,h)=>!Fo.isFocused(g)&&!t.autofocus?(Fo.focus(g),x.some(!0)):(t.autofocus&&h.setSource(g.element),x.none())})])}},Q8=[Xt("uid"),Xt("data"),Xt("components"),Xt("dom"),it("autofocus",!1),it("ignoreFocus",!1),uu.field("widgetBehaviours",[jn,Fo,So]),it("domModification",{}),xb($2()),Nr("builder",J8)],e6=wa("type",{widget:Q8,item:K8,separator:X8}),t6=(t,s)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:t.focusManager}),n6=(t,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+t.markers.item},previousSelector:s.previousSelector,focusManager:t.focusManager}),o6=(t,s)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:s.moveOnTab,focusManager:t.focusManager}),GN=J([Sb({factory:{sketch:t=>{const s=ci("menu.spec item",e6,t);return s.builder(s)}},name:"items",unit:"item",defaults:(t,s)=>Go(s,"uid")?s:Pt(ie({},s),{uid:qy("item")}),overrides:(t,s)=>({type:s.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),s6=J([Za("role"),Xt("value"),Xt("items"),Xt("dom"),Xt("components"),it("eventOrder",{}),Ac("menuBehaviours",[xn,jn,Es,So]),fr("movement",{mode:"menu",moveOnTab:!0},wa("mode",{grid:[Qf(),Nr("config",t6)],matrix:[Nr("config",n6),Xt("rowSelector"),it("previousSelector",x.none)],menu:[it("moveOnTab",!0),Nr("config",o6)]})),VT(),it("fakeFocus",!1),it("focusManager",Zv()),As("onHighlight"),As("onDehighlight"),it("showMenuRole",!0)]),KN=J("alloy.menu-focus"),r6=(t,s)=>{const a=Uc(t.element,'[role="menuitemradio"][aria-checked="true"]');gt(a,i=>{Rs(i,s.element)||t.getSystem().getByDom(i).each(d=>{as.off(d)})})},a6=(t,s,a,i)=>ie({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Oc(t.menuBehaviours,[xn.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),jn.config({store:{mode:"memory",initialValue:t.value}}),Es.config({find:x.some}),So.config(t.movement.config(t,t.movement))]),events:or([Jt(qN(),(d,g)=>{const h=g.event;d.getSystem().getByDom(h.target).each(k=>{xn.highlight(d,k),g.stop(),co(d,KN(),{menu:d,item:k})})}),Jt(ZN(),(d,g)=>{const h=g.event.item;xn.highlight(d,h)}),Jt(P2(),(d,g)=>{const{item:h,state:k}=g.event;k&&$e(h.element,"role")==="menuitemradio"&&r6(d,h)})]),components:s,eventOrder:t.eventOrder},t.showMenuRole?{domModification:{attributes:{role:t.role.getOr("menu")}}}:{}),Rb=Qc({name:"Menu",configFields:s6(),partFields:GN(),factory:a6}),zb=t=>Ho(t,(s,a)=>({k:s,v:a})),YN=(t,s,a,i)=>on(a,i).bind(d=>on(t,d).bind(g=>{const h=YN(t,s,a,g);return x.some([g].concat(h))})).getOr([]),c6=(t,s)=>{const a={};Un(t,(h,k)=>{gt(h,S=>{a[S]=k})});const i=s,d=zb(s),g=Vn(d,(h,k)=>[k].concat(YN(a,i,d,k)));return Vn(a,h=>on(g,h).getOr([h]))},Nb=()=>{const t=uo({}),s=uo({}),a=uo({}),i=$s(),d=uo({}),g=()=>{t.set({}),s.set({}),a.set({}),i.clear()},h=()=>i.get().isNone(),k=(Et,Cn)=>{s.set(Pt(ie({},s.get()),{[Et]:{type:"prepared",menu:Cn}}))},S=(Et,Cn,Kn,qt)=>{i.set(Et),t.set(Kn),s.set(Cn),d.set(qt);const Yn=c6(qt,Kn);a.set(Yn)},D=Et=>_o(t.get(),(Cn,Kn)=>Cn===Et),N=(Et,Cn,Kn)=>ye(Et).bind(qt=>D(Et).bind(Yn=>Cn(Yn).map($n=>({triggeredMenu:qt,triggeringItem:$n,triggeringPath:Kn})))),I=(Et,Cn)=>{const Kn=wt(Ae(Et).toArray(),qt=>ye(qt).isSome());return on(a.get(),Et).bind(qt=>{const Yn=Ce(Kn.concat(qt)),$n=G(Yn,(to,ws)=>N(to,Cn,Yn.slice(0,ws+1)).fold(()=>Qs(i.get(),to)?[]:[x.none()],Fr=>[x.some(Fr)]));return Cs($n)})},X=Et=>on(t.get(),Et).map(Cn=>{const Kn=on(a.get(),Et).getOr([]);return[Cn].concat(Kn)}),Q=Et=>on(a.get(),Et).bind(Cn=>Cn.length>1?x.some(Cn.slice(1)):x.none()),ue=Et=>on(a.get(),Et),ye=Et=>Je(Et).bind(PO),Je=Et=>on(s.get(),Et),Ae=Et=>on(t.get(),Et);return{setMenuBuilt:k,setContents:S,expand:X,refresh:ue,collapse:Q,lookupMenu:Je,lookupItem:Ae,otherMenus:Et=>{const Cn=d.get();return Oe(pn(Cn),Et)},getPrimary:()=>i.get().bind(ye),getMenus:()=>s.get(),clear:g,isClear:h,getTriggeringPath:I}},PO=t=>t.type==="prepared"?x.some(t.menu):x.none(),XN={init:Nb,extractPreparedMenu:PO},Rp=Xn("tiered-menu-item-highlight"),JN=Xn("tiered-menu-item-dehighlight");var _l;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(_l||(_l={}));const Od=(t,s)=>{const a=$s(),i=(un,Mn,Lo)=>Vn(Lo,(os,wo)=>{const Ko=()=>Rb.sketch(Pt(ie({},os),{value:wo,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(pr,ar)=>{co(pr,Rp,{menuComp:pr,itemComp:ar})},onDehighlight:(pr,ar)=>{co(pr,JN,{menuComp:pr,itemComp:ar})},focusManager:t.fakeFocus?k2():Zv()}));return wo===Mn?{type:"prepared",menu:un.getSystem().build(Ko())}:{type:"notbuilt",nbMenu:Ko}}),d=XN.init(),g=un=>{const Mn=i(un,t.data.primary,t.data.menus),Lo=S();return d.setContents(t.data.primary,Mn,t.data.expansions,Lo),d.getPrimary()},h=un=>jn.getValue(un).value,k=(un,Mn,Lo)=>an(Mn,os=>{if(!os.getSystem().isConnected())return x.none();const wo=xn.getCandidates(os);return re(wo,Ko=>h(Ko)===Lo)}),S=un=>Vn(t.data.menus,(Mn,Lo)=>G(Mn.items,os=>os.type==="separator"?[]:[os.data.value])),D=xn.highlight,N=(un,Mn)=>{D(un,Mn),xn.getHighlighted(Mn).orThunk(()=>xn.getFirst(Mn)).each(Lo=>{t.fakeFocus?xn.highlight(Mn,Lo):z1(un,Lo.element,Bm())})},I=(un,Mn)=>_r(Pe(Mn,Lo=>un.lookupMenu(Lo).bind(os=>os.type==="prepared"?x.some(os.menu):x.none()))),X=(un,Mn,Lo)=>{const os=I(Mn,Mn.otherMenus(Lo));gt(os,wo=>{wd(wo.element,[t.markers.backgroundMenu]),t.stayInDom||Zo.remove(un,wo)})},Q=un=>a.get().getOrThunk(()=>{const Mn={},Lo=Uc(un.element,`.${t.markers.item}`),os=wt(Lo,wo=>$e(wo,"aria-haspopup")==="true");return gt(os,wo=>{un.getSystem().getByDom(wo).each(Ko=>{const pr=h(Ko);Mn[pr]=Ko})}),a.set(Mn),Mn}),ue=(un,Mn)=>{const Lo=Q(un);Un(Lo,(os,wo)=>{const Ko=Vt(Mn,wo);V(os.element,"aria-expanded",Ko)})},ye=(un,Mn,Lo)=>x.from(Lo[0]).bind(os=>Mn.lookupMenu(os).bind(wo=>{if(wo.type==="notbuilt")return x.none();{const Ko=wo.menu,pr=I(Mn,Lo.slice(1));return gt(pr,ar=>{Ia(ar.element,t.markers.backgroundMenu)}),ve(Ko.element)||Zo.append(un,Nl(Ko)),wd(Ko.element,[t.markers.backgroundMenu]),N(un,Ko),X(un,Mn,Lo),x.some(Ko)}}));let Je;(function(un){un[un.HighlightSubmenu=0]="HighlightSubmenu",un[un.HighlightParent=1]="HighlightParent"})(Je||(Je={}));const Ae=(un,Mn,Lo)=>{if(Lo.type==="notbuilt"){const os=un.getSystem().build(Lo.nbMenu());return d.setMenuBuilt(Mn,os),os}else return Lo.menu},Ke=(un,Mn,Lo=Je.HighlightSubmenu)=>{if(Mn.hasConfigured(Po)&&Po.isDisabled(Mn))return x.some(Mn);{const os=h(Mn);return d.expand(os).bind(wo=>(ue(un,wo),x.from(wo[0]).bind(Ko=>d.lookupMenu(Ko).bind(pr=>{const ar=Ae(un,Ko,pr);return ve(ar.element)||Zo.append(un,Nl(ar)),t.onOpenSubmenu(un,Mn,ar,Ce(wo)),Lo===Je.HighlightSubmenu?(xn.highlightFirst(ar),ye(un,d,wo)):(xn.dehighlightAll(ar),x.some(Mn))}))))}},ot=(un,Mn)=>{const Lo=h(Mn);return d.collapse(Lo).bind(os=>(ue(un,os),ye(un,d,os).map(wo=>(t.onCollapseMenu(un,Mn,wo),wo))))},_t=(un,Mn)=>{const Lo=h(Mn);return d.refresh(Lo).bind(os=>(ue(un,os),ye(un,d,os)))},Et=(un,Mn)=>Gh(Mn.element)?x.none():Ke(un,Mn,Je.HighlightSubmenu),Cn=(un,Mn)=>Gh(Mn.element)?x.none():ot(un,Mn),Kn=(un,Mn)=>ot(un,Mn).orThunk(()=>t.onEscape(un,Mn).map(()=>un)),qt=un=>(Mn,Lo)=>pf(Lo.getSource(),`.${t.markers.item}`).bind(os=>Mn.getSystem().getByDom(os).toOptional().bind(wo=>un(Mn,wo).map(Ye))),Yn=or([Jt(KN(),(un,Mn)=>{const Lo=Mn.event.item;d.lookupItem(h(Lo)).each(()=>{const os=Mn.event.menu;xn.highlight(un,os);const wo=h(Mn.event.item);d.refresh(wo).each(Ko=>X(un,d,Ko))})}),Gf((un,Mn)=>{const Lo=Mn.event.target;un.getSystem().getByDom(Lo).each(os=>{h(os).indexOf("collapse-item")===0&&ot(un,os),Ke(un,os,Je.HighlightSubmenu).fold(()=>{t.onExecute(un,os)},ae)})}),Wr((un,Mn)=>{g(un).each(Lo=>{Zo.append(un,Nl(Lo)),t.onOpenMenu(un,Lo),t.highlightOnOpen===_l.HighlightMenuAndItem?N(un,Lo):t.highlightOnOpen===_l.HighlightJustMenu&&D(un,Lo)})}),Jt(Rp,(un,Mn)=>{t.onHighlightItem(un,Mn.event.menuComp,Mn.event.itemComp)}),Jt(JN,(un,Mn)=>{t.onDehighlightItem(un,Mn.event.menuComp,Mn.event.itemComp)}),...t.navigateOnHover?[Jt(ZN(),(un,Mn)=>{const Lo=Mn.event.item;_t(un,Lo),Ke(un,Lo,Je.HighlightParent),t.onHover(un,Lo)})]:[]]),$n=un=>xn.getHighlighted(un).bind(xn.getHighlighted),to=un=>{$n(un).each(Mn=>{ot(un,Mn)})},ws=un=>{d.getPrimary().each(Mn=>{N(un,Mn)})},Fr=un=>x.from(un.components()[0]).filter(Mn=>$e(Mn.element,"role")==="menu"),ro={collapseMenu:to,highlightPrimary:ws,repositionMenus:un=>{d.getPrimary().bind(Lo=>$n(un).bind(os=>{const wo=h(os),Ko=Ir(d.getMenus()),pr=_r(Pe(Ko,XN.extractPreparedMenu));return d.getTriggeringPath(wo,ar=>k(un,pr,ar))}).map(os=>({primary:Lo,triggeringPath:os}))).fold(()=>{Fr(un).each(Lo=>{t.onRepositionMenu(un,Lo,[])})},({primary:Lo,triggeringPath:os})=>{t.onRepositionMenu(un,Lo,os)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Oc(t.tmenuBehaviours,[So.config({mode:"special",onRight:qt(Et),onLeft:qt(Cn),onEscape:qt(Kn),focusIn:(un,Mn)=>{d.getPrimary().each(Lo=>{z1(un,Lo.element,Bm())})}}),xn.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Es.config({find:un=>xn.getHighlighted(un)}),Zo.config({})]),eventOrder:t.eventOrder,apis:ro,events:Yn}},QN=J("collapse-item"),eM=(t,s,a)=>({primary:t,menus:s,expansions:a}),tM=(t,s)=>({primary:t,menus:$o(t,s),expansions:{}}),i6=t=>({value:Xn(QN()),meta:{text:t}}),mg=wl({name:"TieredMenu",configFields:[_h("onExecute"),_h("onEscape"),tp("onOpenMenu"),tp("onOpenSubmenu"),As("onRepositionMenu"),As("onCollapseMenu"),it("highlightOnOpen",_l.HighlightMenuAndItem),sf("data",[Xt("primary"),Xt("menus"),Xt("expansions")]),it("fakeFocus",!1),As("onHighlightItem"),As("onDehighlightItem"),As("onHover"),gf(),Xt("dom"),it("navigateOnHover",!0),it("stayInDom",!1),Ac("tmenuBehaviours",[So,xn,Es,Zo]),it("eventOrder",{})],apis:{collapseMenu:(t,s)=>{t.collapseMenu(s)},highlightPrimary:(t,s)=>{t.highlightPrimary(s)},repositionMenus:(t,s)=>{t.repositionMenus(s)}},factory:Od,extraApis:{tieredData:eM,singleData:tM,collapseItem:i6}}),nM=(t,s,a,i,d)=>{const g=()=>t.lazySink(s),h=i.type==="horizontal"?{layouts:{onLtr:()=>tb(),onRtl:()=>ov()}}:{},k=D=>D.length===2,S=D=>k(D)?h:{};return mg.sketch({dom:{tag:"div"},data:i.data,markers:i.menu.markers,highlightOnOpen:i.menu.highlightOnOpen,fakeFocus:i.menu.fakeFocus,onEscape:()=>(Ns.close(s),t.onEscape.map(D=>D(s)),x.some(!0)),onExecute:()=>x.some(!0),onOpenMenu:(D,N)=>{Wc.positionWithinBounds(g().getOrDie(),N,a,d())},onOpenSubmenu:(D,N,I,X)=>{const Q=g().getOrDie();Wc.position(Q,I,{anchor:ie({type:"submenu",item:N},S(X))})},onRepositionMenu:(D,N,I)=>{const X=g().getOrDie();Wc.positionWithinBounds(X,N,a,d()),gt(I,Q=>{const ue=S(Q.triggeringPath);Wc.position(X,Q.triggeredMenu,{anchor:ie({type:"submenu",item:Q.triggeringItem},ue)})})}})},l6=(t,s)=>{const a=(X,Q)=>t.getRelated(X).exists(ye=>Km(ye,Q)),i=(X,Q)=>{Ns.setContent(X,Q)},d=(X,Q,ue)=>{const ye=x.none;g(X,Q,ue,ye)},g=(X,Q,ue,ye)=>{const Je=t.lazySink(X).getOrDie();Ns.openWhileCloaked(X,Q,()=>Wc.positionWithinBounds(Je,X,ue,ye())),jn.setValue(X,x.some({mode:"position",config:ue,getBounds:ye}))},h=(X,Q,ue)=>{k(X,Q,ue,x.none)},k=(X,Q,ue,ye)=>{const Je=nM(t,X,Q,ue,ye);Ns.open(X,Je),jn.setValue(X,x.some({mode:"menu",menu:Je}))},S=X=>{Ns.isOpen(X)&&(jn.setValue(X,x.none()),Ns.close(X))},D=X=>Ns.getState(X),N=X=>{Ns.isOpen(X)&&jn.getValue(X).each(Q=>{switch(Q.mode){case"menu":Ns.getState(X).each(mg.repositionMenus);break;case"position":const ue=t.lazySink(X).getOrDie();Wc.positionWithinBounds(ue,X,Q.config,Q.getBounds());break}})},I={setContent:i,showAt:d,showWithinBounds:g,showMenuAt:h,showMenuWithinBounds:k,hide:S,getContent:D,reposition:N,isOpen:Ns.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Oc(t.inlineBehaviours,[Ns.config({isPartOf:(X,Q,ue)=>Km(Q,ue)||a(X,ue),getAttachPoint:X=>t.lazySink(X).getOrDie(),onOpen:X=>{t.onShow(X)},onClose:X=>{t.onHide(X)}}),jn.config({store:{mode:"memory",initialValue:x.none()}}),hl.config({channels:ie(ie({},wb(ie({isExtraPart:s.isExtraPart},t.fireDismissalEventInstead.map(X=>({fireEventInstead:{event:X.event}})).getOr({})))),kb(Pt(ie({},t.fireRepositionEventInstead.map(X=>({fireEventInstead:{event:X.event}})).getOr({})),{doReposition:N})))})]),eventOrder:t.eventOrder,apis:I}},fa=wl({name:"InlineView",configFields:[Xt("lazySink"),As("onShow"),As("onHide"),eu("onEscape"),Ac("inlineBehaviours",[Ns,jn,hl]),rc("fireDismissalEventInstead",[it("event",zl())]),rc("fireRepositionEventInstead",[it("event",By())]),it("getRelated",x.none),it("isExtraPart",We),it("eventOrder",x.none)],factory:l6,apis:{showAt:(t,s,a,i)=>{t.showAt(s,a,i)},showWithinBounds:(t,s,a,i,d)=>{t.showWithinBounds(s,a,i,d)},showMenuAt:(t,s,a,i)=>{t.showMenuAt(s,a,i)},showMenuWithinBounds:(t,s,a,i,d)=>{t.showMenuWithinBounds(s,a,i,d)},hide:(t,s)=>{t.hide(s)},isOpen:(t,s)=>t.isOpen(s),getContent:(t,s)=>t.getContent(s),setContent:(t,s,a)=>{t.setContent(s,a)},reposition:(t,s)=>{t.reposition(s)}}});var Mb=tinymce.util.Tools.resolve("tinymce.util.Delay"),Qh=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),oM=tinymce.util.Tools.resolve("tinymce.EditorManager"),Pb=tinymce.util.Tools.resolve("tinymce.Env"),ju;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(ju||(ju={}));var Nk;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(Nk||(Nk={}));const gr=t=>s=>s.options.get(t),Qv=t=>s=>x.from(t(s)),sM=t=>{const s=Pb.deviceType.isPhone(),a=Pb.deviceType.isTablet()||s,i=t.options.register,d=h=>Y(h)||h===!1,g=h=>Y(h)||tt(h);i("skin",{processor:h=>Y(h)||h===!1,default:"oxide"}),i("skin_url",{processor:"string"}),i("height",{processor:g,default:Math.max(t.getElement().offsetHeight,400)}),i("width",{processor:g,default:Qh.DOM.getStyle(t.getElement(),"width")}),i("min_height",{processor:"number",default:100}),i("min_width",{processor:"number"}),i("max_height",{processor:"number"}),i("max_width",{processor:"number"}),i("style_formats",{processor:"object[]"}),i("style_formats_merge",{processor:"boolean",default:!1}),i("style_formats_autohide",{processor:"boolean",default:!1}),i("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),i("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),i("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),i("font_size_input_default_unit",{processor:"string",default:"pt"}),i("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),i("content_langs",{processor:"object[]"}),i("removed_menuitems",{processor:"string",default:""}),i("menubar",{processor:h=>Y(h)||zt(h),default:!s}),i("menu",{processor:"object",default:{}}),i("toolbar",{processor:h=>zt(h)||Y(h)||Xe(h)?{value:h,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),et(9,h=>{i("toolbar"+(h+1),{processor:"string"})}),i("toolbar_mode",{processor:"string",default:a?"scrolling":"floating"}),i("toolbar_groups",{processor:"object",default:{}}),i("toolbar_location",{processor:"string",default:Nk.auto}),i("toolbar_persist",{processor:"boolean",default:!1}),i("toolbar_sticky",{processor:"boolean",default:t.inline}),i("toolbar_sticky_offset",{processor:"number",default:0}),i("fixed_toolbar_container",{processor:"string",default:""}),i("fixed_toolbar_container_target",{processor:"object"}),i("ui_mode",{processor:"string",default:"combined"}),i("file_picker_callback",{processor:"function"}),i("file_picker_validator_handler",{processor:"function"}),i("file_picker_types",{processor:"string"}),i("typeahead_urls",{processor:"boolean",default:!0}),i("anchor_top",{processor:d,default:"#top"}),i("anchor_bottom",{processor:d,default:"#bottom"}),i("draggable_modal",{processor:"boolean",default:!1}),i("statusbar",{processor:"boolean",default:!0}),i("elementpath",{processor:"boolean",default:!0}),i("branding",{processor:"boolean",default:!0}),i("promotion",{processor:"boolean",default:!0}),i("resize",{processor:h=>h==="both"||zt(h),default:!Pb.deviceType.isTouch()}),i("sidebar_show",{processor:"string"}),i("help_accessibility",{processor:"boolean",default:t.hasPlugin("help")}),i("default_font_stack",{processor:"string[]",default:[]})},rM=gr("readonly"),BO=gr("height"),Mk=gr("width"),$O=Qv(gr("min_width")),Bb=Qv(gr("min_height")),$b=Qv(gr("max_width")),F2=Qv(gr("max_height")),FO=Qv(gr("style_formats")),aM=gr("style_formats_merge"),cM=gr("style_formats_autohide"),iM=gr("content_langs"),lM=gr("removed_menuitems"),ey=gr("toolbar_mode"),IO=gr("toolbar_groups"),I2=gr("toolbar_location"),LO=gr("fixed_toolbar_container"),u6=gr("fixed_toolbar_container_target"),HO=gr("toolbar_persist"),uM=gr("toolbar_sticky_offset"),dM=gr("menubar"),L2=gr("toolbar"),VO=gr("file_picker_callback"),fM=gr("file_picker_validator_handler"),mM=gr("font_size_input_default_unit"),H2=gr("file_picker_types"),UO=gr("typeahead_urls"),jO=gr("anchor_top"),gM=gr("anchor_bottom"),V2=gr("draggable_modal"),pM=gr("statusbar"),hM=gr("elementpath"),WO=gr("branding"),yM=gr("resize"),bM=gr("paste_as_text"),ZO=gr("sidebar_show"),U2=gr("promotion"),vM=gr("help_accessibility"),Pk=gr("default_font_stack"),qO=t=>t.options.get("skin")===!1,j2=t=>t.options.get("menubar")!==!1,GO=t=>{const s=t.options.get("skin_url");if(qO(t))return s;if(s)return t.documentBaseURI.toAbsolute(s);{const a=t.options.get("skin");return oM.baseURL+"/skins/ui/"+a}},W2=t=>x.from(t.options.get("skin_url")),wM=t=>t.options.get("line_height_formats").split(" "),Z2=t=>{const s=L2(t),a=Y(s),i=Xe(s)&&s.length>0;return!Bk(t)&&(i||a||s===!0)},q2=t=>{const s=et(9,i=>t.options.get("toolbar"+(i+1))),a=wt(s,Y);return ao(a.length>0,a)},Bk=t=>q2(t).fold(()=>{const s=L2(t);return qe(s,Y)&&s.length>0},Ye),KO=t=>I2(t)===Nk.bottom,G2=t=>{var s;if(!t.inline)return x.none();const a=(s=LO(t))!==null&&s!==void 0?s:"";if(a.length>0)return Yr(Ze(),a);const i=u6(t);return It(i)?x.some(Le.fromDom(i)):x.none()},kf=t=>t.inline&&G2(t).isSome(),YO=t=>G2(t).getOrThunk(()=>Va(Lr(Le.fromDom(t.getElement())))),XO=t=>t.inline&&!j2(t)&&!Z2(t)&&!Bk(t),ty=t=>(t.options.get("toolbar_sticky")||t.inline)&&!kf(t)&&!XO(t),zp=t=>!kf(t)&&t.options.get("ui_mode")==="split",kM=t=>{const s=t.options.get("menu");return Vn(s,a=>Pt(ie({},a),{items:a.items}))};var d6=Object.freeze({__proto__:null,get ToolbarMode(){return ju},get ToolbarLocation(){return Nk},register:sM,getSkinUrl:GO,getSkinUrlOption:W2,isReadOnly:rM,isSkinDisabled:qO,getHeightOption:BO,getWidthOption:Mk,getMinWidthOption:$O,getMinHeightOption:Bb,getMaxWidthOption:$b,getMaxHeightOption:F2,getUserStyleFormats:FO,shouldMergeStyleFormats:aM,shouldAutoHideStyleFormats:cM,getLineHeightFormats:wM,getContentLanguages:iM,getRemovedMenuItems:lM,isMenubarEnabled:j2,isMultipleToolbars:Bk,isToolbarEnabled:Z2,isToolbarPersist:HO,getMultipleToolbarsOption:q2,getUiContainer:YO,useFixedContainer:kf,isSplitUiMode:zp,getToolbarMode:ey,isDraggableModal:V2,isDistractionFree:XO,isStickyToolbar:ty,getStickyToolbarOffset:uM,getToolbarLocation:I2,isToolbarLocationBottom:KO,getToolbarGroups:IO,getMenus:kM,getMenubar:dM,getToolbar:L2,getFilePickerCallback:VO,getFilePickerTypes:H2,useTypeaheadUrls:UO,getAnchorTop:jO,getAnchorBottom:gM,getFilePickerValidatorHandler:fM,getFontSizeInputDefaultUnit:mM,useStatusBar:pM,useElementPath:hM,promotionEnabled:U2,useBranding:WO,getResize:yM,getPasteAsText:bM,getSidebarShow:ZO,useHelpAccessibility:vM,getDefaultFontStack:Pk});const _M=["visible","hidden","clip"],CM=t=>cr(t).length>0&&!Vt(_M,t),JO=t=>{if(ua(t)){const s=Ls(t,"overflow-x"),a=Ls(t,"overflow-y");return CM(s)||CM(a)}else return!1},QO=t=>t.plugins.fullscreen&&t.plugins.fullscreen.isFullscreen(),e4=(t,s)=>{const a=Bh(s,JO),i=a.length===0?Ra(s).map(Xi).map(d=>Bh(d,JO)).getOr([]):a;return Sn(i).map(d=>({element:d,others:i.slice(1),isFullscreen:()=>QO(t)}))},ny=(t,s)=>zp(t)?e4(t,s):x.none(),oy=t=>{const s=[...Pe(t.others,Vr),za()];return t.isFullscreen()?za():Og(Vr(t.element),s)},yc=wl({name:"Button",factory:t=>{const s=zk(t.action),a=t.dom.tag,i=g=>on(t.dom,"attributes").bind(h=>on(h,g)),d=()=>{if(a==="button"){const g=i("type").getOr("button"),h=i("role").map(k=>({role:k})).getOr({});return ie({type:g},h)}else return{role:t.role.getOr(i("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:s,behaviours:uu.augment(t.buttonBehaviours,[Fo.config({}),So.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:d()},eventOrder:t.eventOrder}},configFields:[it("uid",void 0),Xt("dom"),it("components",[]),uu.field("buttonBehaviours",[Fo,So]),Fs("action"),Fs("role"),it("eventOrder",{})]}),f6=t=>{const s=t.dom.attributes!==void 0?t.dom.attributes:[];return st(s,(a,i)=>i.name==="class"?a:Pt(ie({},a),{[i.name]:i.value}),{})},m6=t=>Array.prototype.slice.call(t.dom.classList,0),cm=t=>{const s=Le.fromHtml(t),a=Da(s),i=f6(s),d=m6(s),g=a.length===0?{}:{innerHtml:Xf(s)};return ie({tag:Ds(s),classes:d,attributes:i},g)},Zs=t=>{const s=YA(t)&&ur(t,"uid")?t.uid:qy("memento");return{get:g=>g.getSystem().getByUid(s).getOrDie(),getOpt:g=>g.getSystem().getByUid(s).toOptional(),asSpec:()=>Pt(ie({},t),{uid:s})}};var t4=Object.freeze({__proto__:null,exhibit:(t,s)=>Ui({attributes:Qo([{key:s.tabAttr,value:"true"}])})}),g6=[it("tabAttr","data-alloy-tabstop")];const Xr=Ec({fields:g6,name:"tabstopping",active:t4}),K2=Xn("tooltip.exclusive"),$k=Xn("tooltip.show"),Fk=Xn("tooltip.hide"),Ik=Xn("tooltip.immediateHide"),Lk=Xn("tooltip.immediateShow"),SM=(t,s,a)=>{t.getSystem().broadcastOn([K2],{})};var p6=Object.freeze({__proto__:null,hideAllExclusive:SM,immediateOpenClose:(t,s,a,i)=>ms(t,i?Lk:Ik),isEnabled:(t,s,a)=>a.isEnabled(),setComponents:(t,s,a,i)=>{a.getTooltip().each(d=>{d.getSystem().isConnected()&&Zo.set(d,i)})},setEnabled:(t,s,a,i)=>a.setEnabled(i)}),h6=Object.freeze({__proto__:null,events:(t,s)=>{const a=h=>{s.getTooltip().each(k=>{k.getSystem().isConnected()&&(sm(k),t.onHide(h,k),s.clearTooltip())}),s.clearTimer()},i=h=>{if(!s.isShowing()&&s.isEnabled()){SM(h);const k=t.lazySink(h).getOrDie(),S=h.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:or(t.mode==="normal"?[Jt(Hi(),D=>{ms(h,$k)}),Jt(rh(),D=>{ms(h,Fk)})]:[]),behaviours:hn([Zo.config({})])});s.setTooltip(S),om(k,S),t.onShow(h,S),Wc.position(k,S,{anchor:t.anchor(h)})}},d=h=>{s.getTooltip().each(k=>{const S=t.lazySink(h).getOrDie();Wc.position(S,k,{anchor:t.anchor(h)})})},g=()=>{switch(t.mode){case"normal":return[Jt(Vi(),h=>{ms(h,Lk)}),Jt(Ug(),h=>{ms(h,Ik)}),Jt(Hi(),h=>{ms(h,$k)}),Jt(rh(),h=>{ms(h,Fk)})];case"follow-highlight":return[Jt(G0(),(h,k)=>{ms(h,$k)}),Jt(ih(),h=>{ms(h,Fk)})];case"children-normal":return[Jt(Vi(),(h,k)=>{Ti(h.element).each(S=>{Or(k.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{ms(h,Lk)},D=>{s.isShowing()&&(t.onShow(h,D),d(h))})})}),Jt(Ug(),h=>{Ti(h.element).fold(()=>{ms(h,Ik)},ae)}),Jt(Hi(),h=>{Yr(h.element,"[data-mce-tooltip]:hover").each(k=>{s.getTooltip().fold(()=>{ms(h,$k)},S=>{s.isShowing()&&(t.onShow(h,S),d(h))})})}),Jt(rh(),h=>{Yr(h.element,"[data-mce-tooltip]:hover").fold(()=>{ms(h,Fk)},ae)})];default:return[Jt(Vi(),(h,k)=>{Ti(h.element).each(S=>{Or(k.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{ms(h,Lk)},D=>{s.isShowing()&&(t.onShow(h,D),d(h))})})}),Jt(Ug(),h=>{Ti(h.element).fold(()=>{ms(h,Ik)},ae)})]}};return or(De([[SC(h=>{t.onSetup(h)}),Jt($k,h=>{s.resetTimer(()=>{i(h)},t.delayForShow())}),Jt(Fk,h=>{s.resetTimer(()=>{a(h)},t.delayForHide())}),Jt(Lk,h=>{s.resetTimer(()=>{i(h)},0)}),Jt(Ik,h=>{s.resetTimer(()=>{a(h)},0)}),Jt(bd(),(h,k)=>{const S=k;S.universal||Vt(S.channels,K2)&&a(h)}),uf(h=>{a(h)})],g()]))}}),n4=[Xt("lazySink"),Xt("tooltipDom"),it("exclusive",!0),it("tooltipComponents",[]),zr("delayForShow",J(300)),zr("delayForHide",J(300)),zr("onSetup",ae),gc("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),it("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:J([Ga,Xs,cc,Vc,ic,lc]),onRtl:J([Ga,Xs,cc,Vc,ic,lc])},bubble:Vu(0,-2,{})})),As("onHide"),As("onShow")],y6=Object.freeze({__proto__:null,init:()=>{const t=uo(!0),s=$s(),a=$s(),i=()=>{s.on(clearTimeout)},d=(h,k)=>{i(),s.set(setTimeout(h,k))},g=J("not-implemented");return xi({getTooltip:a.get,isShowing:a.isSet,setTooltip:a.set,clearTooltip:a.clear,clearTimer:i,resetTimer:d,readState:g,isEnabled:()=>t.get(),setEnabled:h=>t.set(h)})}});const Ea=Ec({fields:n4,name:"tooltipping",active:h6,state:y6,apis:p6});/*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE */const{entries:o4,setPrototypeOf:xM,isFrozen:b6,getPrototypeOf:v6,getOwnPropertyDescriptor:w6}=Object;let{freeze:mu,seal:_f,create:Y2}=Object,{apply:s4,construct:r4}=typeof Reflect!="undefined"&&Reflect;mu||(mu=function(s){return s}),_f||(_f=function(s){return s}),s4||(s4=function(s,a,i){return s.apply(a,i)}),r4||(r4=function(s,a){return new s(...a)});const X2=Dd(Array.prototype.forEach),EM=Dd(Array.prototype.pop),Hk=Dd(Array.prototype.push),J2=Dd(String.prototype.toLowerCase),a4=Dd(String.prototype.toString),TM=Dd(String.prototype.match),Vk=Dd(String.prototype.replace),k6=Dd(String.prototype.indexOf),_6=Dd(String.prototype.trim),im=Dd(Object.prototype.hasOwnProperty),gu=Dd(RegExp.prototype.test),sy=c4(TypeError);function Dd(t){return function(s){for(var a=arguments.length,i=new Array(a>1?a-1:0),d=1;d<a;d++)i[d-1]=arguments[d];return s4(t,s,i)}}function c4(t){return function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r4(t,a)}}function Br(t,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J2;xM&&xM(t,null);let i=s.length;for(;i--;){let d=s[i];if(typeof d=="string"){const g=a(d);g!==d&&(b6(s)||(s[i]=g),d=g)}t[d]=!0}return t}function C6(t){for(let s=0;s<t.length;s++)im(t,s)||(t[s]=null);return t}function Fb(t){const s=Y2(null);for(const[a,i]of o4(t))im(t,a)&&(Array.isArray(i)?s[a]=C6(i):i&&typeof i=="object"&&i.constructor===Object?s[a]=Fb(i):s[a]=i);return s}function e0(t,s){for(;t!==null;){const i=w6(t,s);if(i){if(i.get)return Dd(i.get);if(typeof i.value=="function")return Dd(i.value)}t=v6(t)}function a(){return null}return a}const AM=mu(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Uk=mu(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),jk=mu(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),OM=mu(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Wk=mu(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Q2=mu(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),i4=mu(["#text"]),lm=mu(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Zk=mu(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),DM=mu(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ex=mu(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),S6=_f(/\{\{[\w\W]*|[\w\W]*\}\}/gm),x6=_f(/<%[\w\W]*|[\w\W]*%>/gm),qk=_f(/\${[\w\W]*}/gm),E6=_f(/^data-[\-\w.\u00B7-\uFFFF]/),RM=_f(/^aria-[\-\w]+$/),tx=_f(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),T6=_f(/^(?:\w+script|data):/i),l4=_f(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),nx=_f(/^html$/i),A6=_f(/^[a-z][.\w]*(-[.\w]+)+$/i);var u4=Object.freeze({__proto__:null,MUSTACHE_EXPR:S6,ERB_EXPR:x6,TMPLIT_EXPR:qk,DATA_ATTR:E6,ARIA_ATTR:RM,IS_ALLOWED_URI:tx,IS_SCRIPT_OR_DATA:T6,ATTR_WHITESPACE:l4,DOCTYPE_NAME:nx,CUSTOM_ELEMENT:A6});const t0={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},O6=function(){return typeof window=="undefined"?null:window},zM=function(s,a){if(typeof s!="object"||typeof s.createPolicy!="function")return null;let i=null;const d="data-tt-policy-suffix";a&&a.hasAttribute(d)&&(i=a.getAttribute(d));const g="dompurify"+(i?"#"+i:"");try{return s.createPolicy(g,{createHTML(h){return h},createScriptURL(h){return h}})}catch(h){return console.warn("TrustedTypes policy "+g+" could not be created."),null}};function d4(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:O6();const s=Os=>d4(Os);if(s.version="3.1.7",s.removed=[],!t||!t.document||t.document.nodeType!==t0.document)return s.isSupported=!1,s;let{document:a}=t;const i=a,d=i.currentScript,{DocumentFragment:g,HTMLTemplateElement:h,Node:k,Element:S,NodeFilter:D,NamedNodeMap:N=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:I,DOMParser:X,trustedTypes:Q}=t,ue=S.prototype,ye=e0(ue,"cloneNode"),Je=e0(ue,"remove"),Ae=e0(ue,"nextSibling"),Ke=e0(ue,"childNodes"),ot=e0(ue,"parentNode");if(typeof h=="function"){const Os=a.createElement("template");Os.content&&Os.content.ownerDocument&&(a=Os.content.ownerDocument)}let _t,Et="";const{implementation:Cn,createNodeIterator:Kn,createDocumentFragment:qt,getElementsByTagName:Yn}=a,{importNode:$n}=i;let to={};s.isSupported=typeof o4=="function"&&typeof ot=="function"&&Cn&&Cn.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ws,ERB_EXPR:Fr,TMPLIT_EXPR:Ws,DATA_ATTR:ro,ARIA_ATTR:un,IS_SCRIPT_OR_DATA:Mn,ATTR_WHITESPACE:Lo,CUSTOM_ELEMENT:os}=u4;let{IS_ALLOWED_URI:wo}=u4,Ko=null;const pr=Br({},[...AM,...Uk,...jk,...Wk,...i4]);let ar=null;const Wl=Br({},[...lm,...Zk,...DM,...ex]);let ga=Object.seal(Y2(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Qu=null,Ni=null,ed=!0,td=!0,Rf=!1,oC=!0,_g=!1,yz=!0,_1=!1,bz=!1,sG=!1,hT=!1,EL=!1,TL=!1,xY=!0,EY=!1;const cQ="user-content-";let rG=!0,vz=!1,yT={},bT=null;const TY=Br({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let AY=null;const OY=Br({},["audio","video","img","source","image","track"]);let aG=null;const DY=Br({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),AL="http://www.w3.org/1998/Math/MathML",OL="http://www.w3.org/2000/svg",C1="http://www.w3.org/1999/xhtml";let vT=C1,cG=!1,iG=null;const iQ=Br({},[AL,OL,C1],a4);let wz=null;const lQ=["application/xhtml+xml","text/html"],uQ="text/html";let Zl=null,wT=null;const dQ=a.createElement("form"),RY=function(Rt){return Rt instanceof RegExp||Rt instanceof Function},lG=function(){let Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(wT&&wT===Rt)){if((!Rt||typeof Rt!="object")&&(Rt={}),Rt=Fb(Rt),wz=lQ.indexOf(Rt.PARSER_MEDIA_TYPE)===-1?uQ:Rt.PARSER_MEDIA_TYPE,Zl=wz==="application/xhtml+xml"?a4:J2,Ko=im(Rt,"ALLOWED_TAGS")?Br({},Rt.ALLOWED_TAGS,Zl):pr,ar=im(Rt,"ALLOWED_ATTR")?Br({},Rt.ALLOWED_ATTR,Zl):Wl,iG=im(Rt,"ALLOWED_NAMESPACES")?Br({},Rt.ALLOWED_NAMESPACES,a4):iQ,aG=im(Rt,"ADD_URI_SAFE_ATTR")?Br(Fb(DY),Rt.ADD_URI_SAFE_ATTR,Zl):DY,AY=im(Rt,"ADD_DATA_URI_TAGS")?Br(Fb(OY),Rt.ADD_DATA_URI_TAGS,Zl):OY,bT=im(Rt,"FORBID_CONTENTS")?Br({},Rt.FORBID_CONTENTS,Zl):TY,Qu=im(Rt,"FORBID_TAGS")?Br({},Rt.FORBID_TAGS,Zl):{},Ni=im(Rt,"FORBID_ATTR")?Br({},Rt.FORBID_ATTR,Zl):{},yT=im(Rt,"USE_PROFILES")?Rt.USE_PROFILES:!1,ed=Rt.ALLOW_ARIA_ATTR!==!1,td=Rt.ALLOW_DATA_ATTR!==!1,Rf=Rt.ALLOW_UNKNOWN_PROTOCOLS||!1,oC=Rt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_g=Rt.SAFE_FOR_TEMPLATES||!1,yz=Rt.SAFE_FOR_XML!==!1,_1=Rt.WHOLE_DOCUMENT||!1,hT=Rt.RETURN_DOM||!1,EL=Rt.RETURN_DOM_FRAGMENT||!1,TL=Rt.RETURN_TRUSTED_TYPE||!1,sG=Rt.FORCE_BODY||!1,xY=Rt.SANITIZE_DOM!==!1,EY=Rt.SANITIZE_NAMED_PROPS||!1,rG=Rt.KEEP_CONTENT!==!1,vz=Rt.IN_PLACE||!1,wo=Rt.ALLOWED_URI_REGEXP||tx,vT=Rt.NAMESPACE||C1,ga=Rt.CUSTOM_ELEMENT_HANDLING||{},Rt.CUSTOM_ELEMENT_HANDLING&&RY(Rt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ga.tagNameCheck=Rt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Rt.CUSTOM_ELEMENT_HANDLING&&RY(Rt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ga.attributeNameCheck=Rt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Rt.CUSTOM_ELEMENT_HANDLING&&typeof Rt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ga.allowCustomizedBuiltInElements=Rt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_g&&(td=!1),EL&&(hT=!0),yT&&(Ko=Br({},i4),ar=[],yT.html===!0&&(Br(Ko,AM),Br(ar,lm)),yT.svg===!0&&(Br(Ko,Uk),Br(ar,Zk),Br(ar,ex)),yT.svgFilters===!0&&(Br(Ko,jk),Br(ar,Zk),Br(ar,ex)),yT.mathMl===!0&&(Br(Ko,Wk),Br(ar,DM),Br(ar,ex))),Rt.ADD_TAGS&&(Ko===pr&&(Ko=Fb(Ko)),Br(Ko,Rt.ADD_TAGS,Zl)),Rt.ADD_ATTR&&(ar===Wl&&(ar=Fb(ar)),Br(ar,Rt.ADD_ATTR,Zl)),Rt.ADD_URI_SAFE_ATTR&&Br(aG,Rt.ADD_URI_SAFE_ATTR,Zl),Rt.FORBID_CONTENTS&&(bT===TY&&(bT=Fb(bT)),Br(bT,Rt.FORBID_CONTENTS,Zl)),rG&&(Ko["#text"]=!0),_1&&Br(Ko,["html","head","body"]),Ko.table&&(Br(Ko,["tbody"]),delete Qu.tbody),Rt.TRUSTED_TYPES_POLICY){if(typeof Rt.TRUSTED_TYPES_POLICY.createHTML!="function")throw sy('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Rt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw sy('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');_t=Rt.TRUSTED_TYPES_POLICY,Et=_t.createHTML("")}else _t===void 0&&(_t=zM(Q,d)),_t!==null&&typeof Et=="string"&&(Et=_t.createHTML(""));mu&&mu(Rt),wT=Rt}},zY=Br({},["mi","mo","mn","ms","mtext"]),NY=Br({},["annotation-xml"]),fQ=Br({},["title","style","font","a","script"]),MY=Br({},[...Uk,...jk,...OM]),PY=Br({},[...Wk,...Q2]),mQ=function(Rt){let Oo=ot(Rt);(!Oo||!Oo.tagName)&&(Oo={namespaceURI:vT,tagName:"template"});const ks=J2(Rt.tagName),Nc=J2(Oo.tagName);return iG[Rt.namespaceURI]?Rt.namespaceURI===OL?Oo.namespaceURI===C1?ks==="svg":Oo.namespaceURI===AL?ks==="svg"&&(Nc==="annotation-xml"||zY[Nc]):!!MY[ks]:Rt.namespaceURI===AL?Oo.namespaceURI===C1?ks==="math":Oo.namespaceURI===OL?ks==="math"&&NY[Nc]:!!PY[ks]:Rt.namespaceURI===C1?Oo.namespaceURI===OL&&!NY[Nc]||Oo.namespaceURI===AL&&!zY[Nc]?!1:!PY[ks]&&(fQ[ks]||!MY[ks]):!!(wz==="application/xhtml+xml"&&iG[Rt.namespaceURI]):!1},xy=function(Rt){Hk(s.removed,{element:Rt});try{ot(Rt).removeChild(Rt)}catch(Oo){Je(Rt)}},kz=function(Rt,Oo){try{Hk(s.removed,{attribute:Oo.getAttributeNode(Rt),from:Oo})}catch(ks){Hk(s.removed,{attribute:null,from:Oo})}if(Oo.removeAttribute(Rt),Rt==="is"&&!ar[Rt])if(hT||EL)try{xy(Oo)}catch(ks){}else try{Oo.setAttribute(Rt,"")}catch(ks){}},BY=function(Rt){let Oo=null,ks=null;if(sG)Rt="<remove></remove>"+Rt;else{const ql=TM(Rt,/^[\r\n\t ]+/);ks=ql&&ql[0]}wz==="application/xhtml+xml"&&vT===C1&&(Rt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Rt+"</body></html>");const Nc=_t?_t.createHTML(Rt):Rt;if(vT===C1)try{Oo=new X().parseFromString(Nc,wz)}catch(ql){}if(!Oo||!Oo.documentElement){Oo=Cn.createDocument(vT,"template",null);try{Oo.documentElement.innerHTML=cG?Et:Nc}catch(ql){}}const nd=Oo.body||Oo.documentElement;return Rt&&ks&&nd.insertBefore(a.createTextNode(ks),nd.childNodes[0]||null),vT===C1?Yn.call(Oo,_1?"html":"body")[0]:_1?Oo.documentElement:nd},$Y=function(Rt){return Kn.call(Rt.ownerDocument||Rt,Rt,D.SHOW_ELEMENT|D.SHOW_COMMENT|D.SHOW_TEXT|D.SHOW_PROCESSING_INSTRUCTION|D.SHOW_CDATA_SECTION,null)},FY=function(Rt){return Rt instanceof I&&(typeof Rt.nodeName!="string"||typeof Rt.textContent!="string"||typeof Rt.removeChild!="function"||!(Rt.attributes instanceof N)||typeof Rt.removeAttribute!="function"||typeof Rt.setAttribute!="function"||typeof Rt.namespaceURI!="string"||typeof Rt.insertBefore!="function"||typeof Rt.hasChildNodes!="function")},IY=function(Rt){return typeof k=="function"&&Rt instanceof k},S1=function(Rt,Oo,ks){to[Rt]&&X2(to[Rt],Nc=>{Nc.call(s,Oo,ks,wT)})},LY=function(Rt){let Oo=null;if(S1("beforeSanitizeElements",Rt,null),FY(Rt))return xy(Rt),!0;const ks=Zl(Rt.nodeName);if(S1("uponSanitizeElement",Rt,{tagName:ks,allowedTags:Ko}),Rt.hasChildNodes()&&!IY(Rt.firstElementChild)&&gu(/<[/\w]/g,Rt.innerHTML)&&gu(/<[/\w]/g,Rt.textContent)||Rt.nodeType===t0.progressingInstruction||yz&&Rt.nodeType===t0.comment&&gu(/<[/\w]/g,Rt.data))return xy(Rt),!0;if(!Ko[ks]||Qu[ks]){if(!Qu[ks]&&VY(ks)&&(ga.tagNameCheck instanceof RegExp&&gu(ga.tagNameCheck,ks)||ga.tagNameCheck instanceof Function&&ga.tagNameCheck(ks)))return!1;if(rG&&!bT[ks]){const Nc=ot(Rt)||Rt.parentNode,nd=Ke(Rt)||Rt.childNodes;if(nd&&Nc){const ql=nd.length;for(let zf=ql-1;zf>=0;--zf){const Ey=ye(nd[zf],!0);Ey.__removalCount=(Rt.__removalCount||0)+1,Nc.insertBefore(Ey,Ae(Rt))}}}return xy(Rt),!0}return Rt instanceof S&&!mQ(Rt)||(ks==="noscript"||ks==="noembed"||ks==="noframes")&&gu(/<\/no(script|embed|frames)/i,Rt.innerHTML)?(xy(Rt),!0):(_g&&Rt.nodeType===t0.text&&(Oo=Rt.textContent,X2([ws,Fr,Ws],Nc=>{Oo=Vk(Oo,Nc," ")}),Rt.textContent!==Oo&&(Hk(s.removed,{element:Rt.cloneNode()}),Rt.textContent=Oo)),S1("afterSanitizeElements",Rt,null),!1)},HY=function(Rt,Oo,ks){if(xY&&(Oo==="id"||Oo==="name")&&(ks in a||ks in dQ))return!1;if(!(td&&!Ni[Oo]&&gu(ro,Oo))){if(!(ed&&gu(un,Oo))){if(!ar[Oo]||Ni[Oo]){if(!(VY(Rt)&&(ga.tagNameCheck instanceof RegExp&&gu(ga.tagNameCheck,Rt)||ga.tagNameCheck instanceof Function&&ga.tagNameCheck(Rt))&&(ga.attributeNameCheck instanceof RegExp&&gu(ga.attributeNameCheck,Oo)||ga.attributeNameCheck instanceof Function&&ga.attributeNameCheck(Oo))||Oo==="is"&&ga.allowCustomizedBuiltInElements&&(ga.tagNameCheck instanceof RegExp&&gu(ga.tagNameCheck,ks)||ga.tagNameCheck instanceof Function&&ga.tagNameCheck(ks))))return!1}else if(!aG[Oo]){if(!gu(wo,Vk(ks,Lo,""))){if(!((Oo==="src"||Oo==="xlink:href"||Oo==="href")&&Rt!=="script"&&k6(ks,"data:")===0&&AY[Rt])){if(!(Rf&&!gu(Mn,Vk(ks,Lo,"")))){if(ks)return!1}}}}}}return!0},VY=function(Rt){return Rt!=="annotation-xml"&&TM(Rt,os)},UY=function(Rt){S1("beforeSanitizeAttributes",Rt,null);const{attributes:Oo}=Rt;if(!Oo)return;const ks={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ar};let Nc=Oo.length;for(;Nc--;){const nd=Oo[Nc],{name:ql,namespaceURI:zf,value:Ey}=nd,_z=Zl(ql);let wu=ql==="value"?Ey:_6(Ey);const pQ=wu;if(ks.attrName=_z,ks.attrValue=wu,ks.keepAttr=!0,ks.forceKeepAttr=void 0,S1("uponSanitizeAttribute",Rt,ks),wu=ks.attrValue,ks.forceKeepAttr)continue;if(!ks.keepAttr){kz(ql,Rt);continue}if(!oC&&gu(/\/>/i,wu)){kz(ql,Rt);continue}_g&&X2([ws,Fr,Ws],WY=>{wu=Vk(wu,WY," ")});const jY=Zl(Rt.nodeName);if(!HY(jY,_z,wu)){kz(ql,Rt);continue}if(EY&&(_z==="id"||_z==="name")&&(kz(ql,Rt),wu=cQ+wu),yz&&gu(/((--!?|])>)|<\/(style|title)/i,wu)){kz(ql,Rt);continue}if(_t&&typeof Q=="object"&&typeof Q.getAttributeType=="function"&&!zf)switch(Q.getAttributeType(jY,_z)){case"TrustedHTML":{wu=_t.createHTML(wu);break}case"TrustedScriptURL":{wu=_t.createScriptURL(wu);break}}if(wu!==pQ)try{zf?Rt.setAttributeNS(zf,ql,wu):Rt.setAttribute(ql,wu),FY(Rt)?xy(Rt):EM(s.removed)}catch(WY){}}S1("afterSanitizeAttributes",Rt,null)},gQ=function Os(Rt){let Oo=null;const ks=$Y(Rt);for(S1("beforeSanitizeShadowDOM",Rt,null);Oo=ks.nextNode();)S1("uponSanitizeShadowNode",Oo,null),!LY(Oo)&&(Oo.content instanceof g&&Os(Oo.content),UY(Oo));S1("afterSanitizeShadowDOM",Rt,null)};return s.sanitize=function(Os){let Rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Oo=null,ks=null,Nc=null,nd=null;if(cG=!Os,cG&&(Os="<!-->"),typeof Os!="string"&&!IY(Os))if(typeof Os.toString=="function"){if(Os=Os.toString(),typeof Os!="string")throw sy("dirty is not a string, aborting")}else throw sy("toString is not a function");if(!s.isSupported)return Os;if(bz||lG(Rt),s.removed=[],typeof Os=="string"&&(vz=!1),vz){if(Os.nodeName){const Ey=Zl(Os.nodeName);if(!Ko[Ey]||Qu[Ey])throw sy("root node is forbidden and cannot be sanitized in-place")}}else if(Os instanceof k)Oo=BY("<!---->"),ks=Oo.ownerDocument.importNode(Os,!0),ks.nodeType===t0.element&&ks.nodeName==="BODY"||ks.nodeName==="HTML"?Oo=ks:Oo.appendChild(ks);else{if(!hT&&!_g&&!_1&&Os.indexOf("<")===-1)return _t&&TL?_t.createHTML(Os):Os;if(Oo=BY(Os),!Oo)return hT?null:TL?Et:""}Oo&&sG&&xy(Oo.firstChild);const ql=$Y(vz?Os:Oo);for(;Nc=ql.nextNode();)LY(Nc)||(Nc.content instanceof g&&gQ(Nc.content),UY(Nc));if(vz)return Os;if(hT){if(EL)for(nd=qt.call(Oo.ownerDocument);Oo.firstChild;)nd.appendChild(Oo.firstChild);else nd=Oo;return(ar.shadowroot||ar.shadowrootmode)&&(nd=$n.call(i,nd,!0)),nd}let zf=_1?Oo.outerHTML:Oo.innerHTML;return _1&&Ko["!doctype"]&&Oo.ownerDocument&&Oo.ownerDocument.doctype&&Oo.ownerDocument.doctype.name&&gu(nx,Oo.ownerDocument.doctype.name)&&(zf="<!DOCTYPE "+Oo.ownerDocument.doctype.name+`>
`+zf),_g&&X2([ws,Fr,Ws],Ey=>{zf=Vk(zf,Ey," ")}),_t&&TL?_t.createHTML(zf):zf},s.setConfig=function(){let Os=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};lG(Os),bz=!0},s.clearConfig=function(){wT=null,bz=!1},s.isValidAttribute=function(Os,Rt,Oo){wT||lG({});const ks=Zl(Os),Nc=Zl(Rt);return HY(ks,Nc,Oo)},s.addHook=function(Os,Rt){typeof Rt=="function"&&(to[Os]=to[Os]||[],Hk(to[Os],Rt))},s.removeHook=function(Os){if(to[Os])return EM(to[Os])},s.removeHooks=function(Os){to[Os]&&(to[Os]=[])},s.removeAllHooks=function(){to={}},s}var D6=d4();const NM=t=>D6().sanitize(t);var Rd=tinymce.util.Tools.resolve("tinymce.util.I18n");const R6={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},MM="temporary-placeholder",ox=t=>()=>on(t,MM).getOr("!not found!"),sx=(t,s)=>{const a=t.toLowerCase();if(Rd.isRtl()){const i=Fn(a,"-rtl");return Go(s,i)?i:a}else return a},PM=(t,s)=>on(s,sx(t,s)),f4=(t,s)=>{const a=s();return PM(t,a).getOrThunk(ox(a))},Gk=(t,s,a)=>{const i=s();return PM(t,i).or(a).getOrThunk(ox(i))},BM=t=>Rd.isRtl()?Go(R6,t):!1,$M=()=>Yo("add-focusable",[Wr(t=>{au(t.element,"svg").each(s=>V(s,"focusable","false"))})]),FM=(t,s,a,i)=>{var d,g;const h=BM(s)?["tox-icon--flip"]:[],k=on(a,sx(s,a)).or(i).getOrThunk(ox(a));return{dom:{tag:t.tag,attributes:(d=t.attributes)!==null&&d!==void 0?d:{},classes:t.classes.concat(h),innerHtml:k},behaviours:hn([...(g=t.behaviours)!==null&&g!==void 0?g:[],$M()])}},Wu=(t,s,a,i=x.none())=>FM(s,t,a(),i),z6=(t,s,a)=>{const i=a(),d=re(t,g=>Go(i,sx(g,i)));return FM(s,d.getOr(MM),i,x.none())},N6={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},rx=wl({name:"Notification",factory:t=>{const s=Xn("notification-text"),a=Zs({dom:cm(`<p id=${s}>${NM(t.backstageProvider.translate(t.text))}</p>`),behaviours:hn([Zo.config({})])}),i=ue=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${ue}%`}}}),d=ue=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${ue}%`}}),g=Zs({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(0)]},d(0)],behaviours:hn([Zo.config({})])}),S={updateProgress:(ue,ye)=>{ue.getSystem().isConnected()&&g.getOpt(ue).each(Je=>{Zo.set(Je,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(ye)]},d(ye)])})},updateText:(ue,ye)=>{if(ue.getSystem().isConnected()){const Je=a.get(ue);Zo.set(Je,[la(ye)])}}},D=De([t.icon.toArray(),t.level.toArray(),t.level.bind(ue=>x.from(N6[ue])).toArray()]),N=Zs(yc.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":t.backstageProvider.translate("Close")}},components:[Wu("close",{tag:"span",classes:["tox-icon"]},t.iconProvider)],buttonBehaviours:hn([Xr.config({}),Ea.config(ie({},t.backstageProvider.tooltips.getConfig({tooltipText:t.backstageProvider.translate("Close")})))]),action:ue=>{t.onAction(ue)}})),I=z6(D,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),X={dom:{tag:"div",classes:["tox-notification__body"]},components:[a.asSpec()],behaviours:hn([Zo.config({})])},Q=[I,X];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":s},classes:t.level.map(ue=>["tox-notification","tox-notification--in",`tox-notification--${ue}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:hn([Xr.config({}),Fo.config({}),So.config({mode:"special",onEscape:ue=>(t.onAction(ue),x.some(!0))})]),components:Q.concat(t.progress?[g.asSpec()]:[]).concat([N.asSpec()]),apis:S}},configFields:[Fs("level"),Xt("progress"),Fs("icon"),Xt("onAction"),Xt("text"),Xt("iconProvider"),Xt("backstageProvider")],apis:{updateProgress:(t,s,a)=>{t.updateProgress(s,a)},updateText:(t,s,a)=>{t.updateText(s,a)}}});var IM=(t,s,a,i)=>{const d=s.backstage.shared,g=()=>Le.fromDom(t.queryCommandValue("ToggleView")===""?t.getContentAreaContainer():t.getContainer()),h=()=>{const I=Vr(g());return x.some(I)},k=I=>{h().each(X=>{gt(I,Q=>{Vo(Q.element,"width"),ce(Q.element)>X.width&&yt(Q.element,"width",X.width+"px")})})};return{open:(I,X,Q)=>{const ue=()=>{const Ke=Cn=>{Zo.remove(Cn,ye),Je()},ot=(Cn,Kn)=>{Da(Cn.element).length===0?_t(Cn,Kn):Et(Cn,Kn)},_t=(Cn,Kn)=>{fa.hide(Cn),i.clear(),Kn&&t.focus()},Et=(Cn,Kn)=>{Kn&&So.focusIn(Cn)};i.on(Cn=>{X();const Kn=Q();Ke(Cn),ot(Cn,Kn)})},ye=hc(rx.sketch({text:I.text,level:Vt(["success","error","warning","warn","info"],I.type)?I.type:void 0,progress:I.progressBar===!0,icon:I.icon,onAction:ue,iconProvider:d.providers.icons,backstageProvider:d.providers}));if(i.isSet()){const Ke=Nl(ye);i.on(ot=>{Zo.append(ot,Ke),fa.reposition(ot),Mr.refresh(ot),k(ot.components())})}else{const Ke=hc(fa.sketch(Pt(ie({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:d.getSink,fireDismissalEventInstead:{}},d.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:hn([So.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),Zo.config({}),...ty(t)&&!d.header.isPositionedAtTop()?[]:[Mr.config({contextual:{lazyContext:()=>x.some(Vr(g())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:Cn=>ny(t,Cn.element).map(qt=>({bounds:oy(qt),optScrollEnv:x.some({currentScrollTop:qt.element.dom.scrollTop,scrollElmTop:Cr(qt.element).top})})).getOrThunk(()=>({bounds:za(),optScrollEnv:x.none()}))})]])}))),ot=Nl(ye),_t={maxHeightFunction:Qm()},Et=Pt(ie({},d.anchors.banner()),{overrides:_t});i.set(Ke),a.add(Ke),fa.showWithinBounds(Ke,ot,{anchor:Et},h)}tt(I.timeout)&&I.timeout>0&&Mb.setEditorTimeout(t,()=>{ue()},I.timeout);const Je=()=>{i.on(Ke=>{fa.reposition(Ke),Mr.refresh(Ke),k(Ke.components())})};return{close:ue,reposition:Je,text:Ke=>{rx.updateText(ye,Ke)},settings:I,getEl:()=>ye.element.dom,progressBar:{value:Ke=>{rx.updateProgress(ye,Ke)}}}},close:I=>{I.close()},getArgs:I=>I.settings}};const B6={setup:(t,s)=>{const a=(d,g)=>{co(d,nu(),{raw:g})},i=()=>t.getMenu().bind(xn.getHighlighted);s.on("keydown",d=>{const g=d.which;t.isActive()&&(t.isMenuOpen()?g===13?(i().each(Im),d.preventDefault()):g===40?(i().fold(()=>{t.getMenu().each(xn.highlightFirst)},h=>{a(h,d)}),d.preventDefault(),d.stopImmediatePropagation()):(g===37||g===38||g===39)&&i().each(h=>{a(h,d),d.preventDefault(),d.stopImmediatePropagation()}):(g===13||g===38||g===40)&&t.cancelIfNecessary())}),s.on("NodeChange",()=>{t.isActive()&&!t.isProcessingAction()&&!s.queryCommandState("mceAutoCompleterInRange")&&t.cancelIfNecessary()})}};var m4;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(m4||(m4={}));var Cf=m4;const Kk="tox-menu-nav__js",n0="tox-collection__item",ax="tox-swatch",LM={normal:Kk,color:ax},g4="tox-collection__item--enabled",$6="tox-collection__group-heading",cx="tox-collection__item-icon",p4="tox-collection__item-label",HM="tox-collection__item-accessory",h4="tox-collection__item-caret",Ib="tox-collection__item-checkmark",Lb="tox-collection__item--active",ix="tox-collection__item-container",lx="tox-collection__item-container--column",VM="tox-collection__item-container--row",UM="tox-collection__item-container--align-right",jM="tox-collection__item-container--align-left",WM="tox-collection__item-container--valign-top",y4="tox-collection__item-container--valign-middle",ZM="tox-collection__item-container--valign-bottom",qM=t=>on(LM,t).getOr(Kk),GM=t=>t==="color"?"tox-swatches":"tox-menu",ux=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:GM(t),tieredMenu:"tox-tiered-menu"}),ry=t=>{const s=ux(t);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:qM(t)}},KM=(t,s,a)=>{const i=ux(a);return{tag:"div",classes:De([[i.menu,`tox-menu-${s}-column`],t?[i.hasIcons]:[]])}},F6=[Rb.parts.items({})],Yk=(t,s,a)=>{const i=ux(a);return{dom:{tag:"div",classes:De([[i.tieredMenu]])},markers:ry(a)}},YM=J([Fs("data"),it("inputAttributes",{}),it("inputStyles",{}),it("tag","input"),it("inputClasses",[]),As("onSetValue"),it("styles",{}),it("eventOrder",{}),Ac("inputBehaviours",[jn,Fo]),it("selectOnFocus",!0)]),XM=t=>hn([Fo.config({onFocus:t.selectOnFocus?s=>{const a=s.element,i=Hu(a);a.dom.setSelectionRange(0,i.length)}:ae})]),I6=t=>ie(ie({},XM(t)),Oc(t.inputBehaviours,[jn.config({store:Pt(ie({mode:"manual"},t.data.map(s=>({initialValue:s})).getOr({})),{getValue:s=>Hu(s.element),setValue:(s,a)=>{Hu(s.element)!==a&&cp(s.element,a)}}),onSetValue:t.onSetValue})])),JM=t=>({tag:t.tag,attributes:ie({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}),QM=(t,s)=>({uid:t.uid,dom:JM(t),components:[],behaviours:I6(t),eventOrder:t.eventOrder}),um=wl({name:"Input",configFields:YM(),factory:QM}),b4=Xn("refetch-trigger-event"),eP=Xn("redirect-menu-item-interaction"),tP="tox-menu__searcher",dx=t=>Yr(t.element,`.${tP}`).bind(s=>t.getSystem().getByDom(s).toOptional()),nP=dx,L6=(t,s)=>{jn.setValue(t,s.fetchPattern),t.element.dom.selectionStart=s.selectionStart,t.element.dom.selectionEnd=s.selectionEnd},Xk=t=>{const s=jn.getValue(t),a=t.element.dom.selectionStart,i=t.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:a,selectionEnd:i}},H6=(t,s)=>{kt(s.element,"id").each(a=>V(t.element,"aria-activedescendant",a))},oP=t=>{const s=(d,g)=>(g.cut(),x.none()),a=(d,g)=>{const h={interactionEvent:g.event,eventType:g.event.raw.type};return co(d,eP,h),x.some(!0)},i="searcher-events";return{dom:{tag:"div",classes:[n0]},components:[um.sketch({inputClasses:[tP,"tox-textfield"],inputAttributes:Pt(ie({},t.placeholder.map(d=>({placeholder:t.i18n(d)})).getOr({})),{type:"search","aria-autocomplete":"list"}),inputBehaviours:hn([Yo(i,[Jt(hd(),d=>{ms(d,b4)}),Jt(nu(),(d,g)=>{g.event.raw.key==="Escape"&&g.stop()})]),So.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:a,onEscape:a,onUp:a,onDown:a})]),eventOrder:{keydown:[i,So.name()]}})]}},fx="tox-collection--results__js",v4=t=>{var s;return t.dom?Pt(ie({},t),{dom:Pt(ie({},t.dom),{attributes:Pt(ie({},(s=t.dom.attributes)!==null&&s!==void 0?s:{}),{id:Xn("aria-item-search-result-id"),"aria-selected":"false"})})}):t},mx=(t,s)=>a=>{const i=rn(a,s);return Pe(i,d=>({dom:t,components:d}))},V6=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Rb.parts.items({preprocess:t!=="auto"?mx({tag:"div",classes:["tox-swatches__row"]},t):Zt})]}]}),sP=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Rb.parts.items({preprocess:mx({tag:"div",classes:["tox-collection__group"]},t)})]}),w4=(t,s)=>{const a=[];let i=[];return gt(t,(d,g)=>{s(d,g)?(i.length>0&&a.push(i),i=[],(Go(d.dom,"innerHtml")||d.components&&d.components.length>0)&&i.push(d)):i.push(d)}),i.length>0&&a.push(i),Pe(a,d=>({dom:{tag:"div",classes:["tox-collection__group"]},components:d}))},gx=(t,s,a)=>Rb.parts.items({preprocess:i=>{const d=Pe(i,a);return t!=="auto"&&t>1?mx({tag:"div",classes:["tox-collection__group"]},t)(d):w4(d,(g,h)=>s[h].type==="separator")}}),k4=(t,s,a=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[gx(t,s,Zt)]}),U6=(t,s,a=!0)=>{const i=Xn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",fx].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:i}},components:[gx(t,s,v4)]}},j6=(t,s,a)=>{const i=Xn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[oP({i18n:Rd.translate,placeholder:a.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],fx],attributes:{id:i}},components:[gx(t,s,v4)]}]}},W6=(t,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Rb.parts.items({preprocess:a=>w4(a,(i,d)=>t[d].type==="separator")})]}),px=t=>En(t,s=>"icon"in s&&s.icon!==void 0),gg=t=>(console.error(Zf(t)),console.log(t),x.none()),rP=(t,s,a,i,d)=>{const g=W6(a);return{value:t,dom:g.dom,components:g.components,items:a}},_4=(t,s,a,i,d)=>{const g=()=>d.menuType!=="searchable"?k4(i,a):d.searchMode.searchMode==="search-with-field"?j6(i,a,d.searchMode):U6(i,a);if(d.menuType==="color"){const h=V6(i);return{value:t,dom:h.dom,components:h.components,items:a}}else if(d.menuType==="normal"&&i==="auto"){const h=k4(i,a);return{value:t,dom:h.dom,components:h.components,items:a}}else if(d.menuType==="normal"||d.menuType==="searchable"){const h=g();return{value:t,dom:h.dom,components:h.components,items:a}}else if(d.menuType==="listpreview"&&i!=="auto"){const h=sP(i);return{value:t,dom:h.dom,components:h.components,items:a}}else return{value:t,dom:KM(s,i,d.menuType),components:F6,items:a}},Ya=Wa("type"),C4=Wa("name"),S4=Wa("label"),Np=Wa("text"),aP=Wa("title"),cP=Wa("icon"),Hb=Wa("value"),iP=fl("fetch"),Z6=fl("getSubmenuItems"),o0=fl("onAction"),lP=fl("onItemAction"),Vb=zr("onSetup",()=>ae),q6=Za("name"),Mp=Za("text"),uP=Za("role"),Zu=Za("icon"),Jk=Za("tooltip"),x4=Za("label"),E4=Za("shortcut"),dP=eu("select"),s0=qa("active",!1),G6=qa("borderless",!1),Sf=qa("enabled",!0),hx=qa("primary",!1),fP=t=>it("columns",t),T4=it("meta",{}),A4=zr("onAction",ae),ay=t=>xa("type",t),yx=t=>sc("name","name",nf(()=>Xn(`${t}-name`)),In),K6=t=>sc("value","value",nf(()=>Xn(`${t}-value`)),Al()),mP=To([Ya,Mp]),Y6=t=>sa("separatormenuitem",mP,t),pu=To([ay("autocompleteitem"),s0,Sf,T4,Hb,Mp,Zu]),xf=t=>sa("Autocompleter.Separator",mP,t),gP=t=>sa("Autocompleter.Item",pu,t),Ub=[Sf,Jk,Zu,Mp,Vb,xa("context","mode:design")],O4=To([Ya,o0,E4].concat(Ub)),Qk=t=>sa("toolbarbutton",O4,t),bx=[s0].concat(Ub),e_=To(bx.concat([Ya,o0,E4])),t_=t=>sa("ToggleButton",e_,t),vx=[zr("predicate",We),gc("scope","node",["node","editor"]),gc("position","selection",["node","selection","line"])],pP=Ub.concat([ay("contextformbutton"),hx,o0,Hs("original",Zt)]),n_=bx.concat([ay("contextformbutton"),hx,o0,Hs("original",Zt)]),X6=Ub.concat([ay("contextformbutton")]),J6=bx.concat([ay("contextformtogglebutton")]),dm=wa("type",{contextformbutton:pP,contextformtogglebutton:n_}),hu=To([ay("contextform"),zr("initValue",J("")),x4,ol("commands",dm),Mu("launch",wa("type",{contextformbutton:X6,contextformtogglebutton:J6}))].concat(vx)),o_=t=>sa("ContextForm",hu,t),zd=To([ay("contexttoolbar"),Wa("items")].concat(vx)),Q6=t=>sa("ContextToolbar",zd,t),$r=[Ya,Wa("src"),Za("alt"),rf("classes",[],In)],e7=To($r),jb=[Ya,Np,q6,rf("classes",["tox-collection__item-label"],In)],s_=To(jb),D4=ja(()=>Wf("type",{cardimage:e7,cardtext:s_,cardcontainer:R4})),R4=To([Ya,xa("direction","horizontal"),xa("align","left"),xa("valign","middle"),ol("items",D4)]),cy=[Sf,Mp,uP,E4,K6("menuitem"),T4,xa("context","mode:design")],t7=To([Ya,x4,ol("items",D4),Vb,A4].concat(cy)),z4=t=>sa("cardmenuitem",t7,t),n7=To([Ya,s0,Zu].concat(cy)),hP=t=>sa("choicemenuitem",n7,t),N4=[Ya,Wa("fancytype"),A4],M4=[it("initData",{})].concat(N4),yP=[eu("select"),C("initData",{},[qa("allowCustomColors",!0),xa("storageKey","default"),Ig("colors",Al())])].concat(N4),wx=wa("fancytype",{inserttable:M4,colorswatch:yP}),o7=t=>sa("fancymenuitem",wx,t),s7=To([Ya,Vb,A4,Zu].concat(cy)),r7=t=>sa("menuitem",s7,t),a7=To([Ya,Z6,Vb,Zu].concat(cy)),c7=t=>sa("nestedmenuitem",a7,t),bP=To([Ya,Zu,s0,Vb,o0].concat(cy)),i7=t=>sa("togglemenuitem",bP,t),P4=(t,s,a)=>{const i=Uc(t.element,"."+a);if(i.length>0){const d=de(i,g=>{const h=g.dom.getBoundingClientRect().top,k=i[0].dom.getBoundingClientRect().top;return Math.abs(h-k)>s}).getOr(i.length);return x.some({numColumns:d,numRows:Math.ceil(i.length/d)})}else return x.none()},B4=(t,s)=>hn([Yo(t,s)]),r0={namedEvents:B4,unnamedEvents:t=>B4(Xn("unnamed-events"),t)},r_=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),qu={item:t=>Po.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>Po.config({disabled:t}),splitButton:t=>Po.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>Po.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},kx=(t,s)=>{const a=t.getApi(s);return i=>{i(a)}},iy=(t,s)=>Wr(a=>{kx(t,a)(d=>{const g=t.onSetup(d);Me(g)&&s.set(g)})}),ly=(t,s)=>uf(a=>kx(t,a)(s.get())),wP="silver.uistate",a_=(t,s)=>{const i=t.mainUi.outerContainer.element,d=[t.mainUi.mothership,...t.uiMotherships];s==="setDisabled"&&gt(d,g=>{g.broadcastOn([rm()],{target:i})}),gt(d,g=>{g.broadcastOn([wP],s)})},kP=(t,s)=>{t.on("init SwitchMode",a=>{a_(s,a.type)}),t.on("NodeChange",a=>{t.ui.isEnabled()?a_(s,a.type):a_(s,"setDisabled")}),rM(t)&&t.mode.set("readonly")},La=t=>hl.config({channels:{[wP]:{onReceive:(s,a)=>{if(a==="setDisabled"||a==="setEnabled"){Po.set(s,a==="setDisabled");return}const{contextType:i,shouldDisable:d}=t();i==="mode"&&!Vt(["switchmode","init"],a)||Po.set(s,d)}}}}),Ef=(t,s)=>Gf((a,i)=>{kx(t,a)(t.onAction),!t.triggersSubmenu&&s===Cf.CLOSE_ON_EXECUTE&&(a.getSystem().isConnected()&&ms(a,xc()),i.stop())}),u7={[Hc()]:["disabling","alloy.base.behaviour","toggling","item-events"]},uy=_r,Wb=(t,s,a,i)=>{const d=uo(ae);return{type:"item",dom:s.dom,components:uy(s.optComponents),data:t.data,eventOrder:u7,hasSubmenu:t.triggersSubmenu,itemBehaviours:hn([Yo("item-events",[Ef(t,a),iy(t,d),ly(t,d)]),qu.item(()=>!t.enabled||i.checkUiComponentContext(t.context).shouldDisable),La(()=>i.checkUiComponentContext(t.context)),Zo.config({})].concat(t.itemBehaviours))}},Zb=t=>({value:t.value,meta:ie({text:t.text.getOr("")},t.meta)}),$4=t=>{const s=Pb.os.isMacOS()||Pb.os.isiOS(),d=s?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},g=t.split("+"),h=Pe(g,k=>{const S=k.toLowerCase().trim();return Go(d,S)?d[S]:k});return s?h.join(""):h.join("+")},_x=(t,s,a=[cx])=>Wu(t,{tag:"div",classes:a},s),F4=t=>({dom:{tag:"div",classes:[p4]},components:[la(Rd.translate(t))]}),I4=(t,s)=>({dom:{tag:"div",classes:s,innerHtml:t}}),d7=(t,s)=>({dom:{tag:"div",classes:[p4]},components:[{dom:{tag:t.tag,styles:t.styles},components:[la(Rd.translate(s))]}]}),f7=t=>({dom:{tag:"div",classes:[HM]},components:[la($4(t))]}),_P=t=>_x("checkmark",t,[Ib]),m7=t=>_x("chevron-right",t,[h4]),g7=t=>_x("chevron-down",t,[h4]),p7=(t,s)=>{const a=t.direction==="vertical"?lx:VM,i=t.align==="left"?jM:UM;return{dom:{tag:"div",classes:[ix,a,i,(()=>{switch(t.valign){case"top":return WM;case"middle":return y4;case"bottom":return ZM}})()]},components:s}},h7=(t,s,a)=>({dom:{tag:"img",classes:s,attributes:{src:t,alt:a.getOr("")}}}),CP=(t,s,a)=>{const i="custom",d="remove",g=t.value,h=t.iconContent.map(D=>Gk(D,s.icons,a)),k=t.ariaLabel.map(D=>({"aria-label":s.translate(D),"data-mce-name":D})).getOr({});return{dom:(()=>{const D=ax,N=h.getOr(""),I={tag:"div",attributes:k,classes:[D]};return g===i?Pt(ie({},I),{tag:"button",classes:[...I.classes,"tox-swatches__picker-btn"],innerHtml:N}):g===d?Pt(ie({},I),{classes:[...I.classes,"tox-swatch--remove"],innerHtml:N}):It(g)?Pt(ie({},I),{attributes:Pt(ie({},I.attributes),{"data-mce-color":g}),styles:{"background-color":g},innerHtml:N}):I})(),optComponents:[]}},L4=t=>{const s=t.map(a=>({attributes:{id:Xn("menu-item"),"aria-label":Rd.translate(a)}})).getOr({});return ie({tag:"div",classes:[Kk,n0]},s)},SP=(t,s,a,i)=>{const d={tag:"div",classes:[cx]},g=X=>Wu(X,d,s.icons,i),h=()=>x.some({dom:d}),k=a?t.iconContent.map(g).orThunk(h):x.none(),S=t.checkMark,D=x.from(t.meta).fold(()=>F4,X=>Go(X,"style")?gn(d7,X.style):F4),N=t.htmlContent.fold(()=>t.textContent.map(D),X=>x.some(I4(X,[p4])));return{dom:L4(t.ariaLabel),optComponents:[k,N,t.shortcutContent.map(f7),S,t.caret]}},c_=(t,s,a,i=x.none())=>t.presets==="color"?CP(t,s,i):SP(t,s,a,i),xP=(t,s,a)=>on(t,"tooltipWorker").map(i=>[Ea.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:d=>({type:"submenu",item:d,overrides:{maxHeightFunction:Qm}}),mode:"follow-highlight",onShow:(d,g)=>{i(h=>{Ea.setComponents(d,[ww({element:Le.fromDom(h)})])})}})]).getOrThunk(()=>a.map(i=>[Ea.config(Pt(ie({},s.providers.tooltips.getConfig({tooltipText:i})),{mode:"follow-highlight"}))]).getOr([])),y7=t=>Qh.DOM.encode(t),qb=(t,s)=>{const a=Rd.translate(t),i=y7(a);if(s.length>0){const d=new RegExp(r_(s),"gi");return i.replace(d,g=>`<span class="tox-autocompleter-highlight">${g}</span>`)}else return i},b7=(t,s,a,i,d,g,h,k=!0)=>{const S=c_({presets:i,textContent:x.none(),htmlContent:a?t.text.map(N=>qb(N,s)):x.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:x.none(),checkMark:x.none(),caret:x.none(),value:t.value},h.providers,k,t.icon),D=t.text.filter(N=>!a&&N!=="");return Wb({context:"mode:design",data:Zb(t),enabled:t.enabled,getApi:J({}),onAction:N=>d(t.value,t.meta),onSetup:J(ae),triggersSubmenu:!1,itemBehaviours:xP(t,h,D)},S,g,h.providers)},H4=(t,s)=>Pe(t,a=>{switch(a.type){case"cardcontainer":return p7(a,H4(a.items,s));case"cardimage":return h7(a.src,a.classes,a.alt);case"cardtext":const d=a.name.exists(g=>Vt(s.cardText.highlightOn,g))?x.from(s.cardText.matchText).getOr(""):"";return I4(qb(a.text,d),a.classes)}}),EP=(t,s,a,i)=>{const d=h=>({isEnabled:()=>!Po.isDisabled(h),setEnabled:k=>{Po.set(h,!k),gt(Uc(h.element,"*"),S=>{h.getSystem().getByDom(S).each(D=>{D.hasConfigured(Po)&&Po.set(D,!k)})})}}),g={dom:L4(t.label),optComponents:[x.some({dom:{tag:"div",classes:[ix,VM]},components:H4(t.items,i)})]};return Wb({context:"mode:design",data:Zb(ie({text:x.none()},t)),enabled:t.enabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:x.from(i.itemBehaviours).getOr([])},g,s,a.providers)},TP=(t,s,a,i,d,g,h,k=!0)=>{const S=I=>({setActive:X=>{as.set(I,X)},isActive:()=>as.isOn(I),isEnabled:()=>!Po.isDisabled(I),setEnabled:X=>Po.set(I,!X)}),D=c_({presets:a,textContent:s?t.text:x.none(),htmlContent:x.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:s?t.shortcut:x.none(),checkMark:s?x.some(_P(h.icons)):x.none(),caret:x.none(),value:t.value},h,k),N=t.text.filter(J(!s)).map(I=>Ea.config(h.tooltips.getConfig({tooltipText:h.translate(I)})));return br(Wb({context:t.context,data:Zb(t),enabled:t.enabled,getApi:S,onAction:I=>i(t.value),onSetup:I=>(I.setActive(d),ae),triggersSubmenu:!1,itemBehaviours:[...N.toArray()]},D,g,h),{toggling:{toggleClass:g4,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},V4=Bv(B2(),$2()),Cx=t=>({value:AP(t)}),Sx=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,xx=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,U4=t=>Sx.test(t)||xx.test(t),AP=t=>An(t,"#").toUpperCase(),OP=t=>U4(t)?x.some({value:AP(t)}):x.none(),v7=t=>({value:t.value.replace(Sx,(a,i,d,g)=>i+i+d+d+g+g)}),w7=t=>{const s=v7(t),a=xx.exec(s.value);return a===null?["FFFFFF","FF","FF","FF"]:a},j4=t=>{const s=t.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},a0=t=>{const s=j4(t.red)+j4(t.green)+j4(t.blue);return Cx(s)},W4=Math.min,Z4=Math.max,Ex=Math.round,k7=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,_7=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Gb=(t,s,a,i)=>({red:t,green:s,blue:a,alpha:i}),q4=t=>{const s=parseInt(t,10);return s.toString()===t&&s>=0&&s<=255},DP=t=>{let s,a,i;const d=(t.hue||0)%360;let g=t.saturation/100,h=t.value/100;if(g=Z4(0,W4(g,1)),h=Z4(0,W4(h,1)),g===0)return s=a=i=Ex(255*h),Gb(s,a,i,1);const k=d/60,S=h*g,D=S*(1-Math.abs(k%2-1)),N=h-S;switch(Math.floor(k)){case 0:s=S,a=D,i=0;break;case 1:s=D,a=S,i=0;break;case 2:s=0,a=S,i=D;break;case 3:s=0,a=D,i=S;break;case 4:s=D,a=0,i=S;break;case 5:s=S,a=0,i=D;break;default:s=a=i=0}return s=Ex(255*(s+N)),a=Ex(255*(a+N)),i=Ex(255*(i+N)),Gb(s,a,i,1)},i_=t=>{const s=w7(t),a=parseInt(s[1],16),i=parseInt(s[2],16),d=parseInt(s[3],16);return Gb(a,i,d,1)},RP=(t,s,a,i)=>{const d=parseInt(t,10),g=parseInt(s,10),h=parseInt(a,10),k=parseFloat(i);return Gb(d,g,h,k)},G4=t=>{const s=k7.exec(t);if(s!==null)return x.some(RP(s[1],s[2],s[3],"1"));const a=_7.exec(t);return a!==null?x.some(RP(a[1],a[2],a[3],a[4])):x.none()},zP=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,NP=Gb(255,0,0,1),MP=t=>{t.dispatch("SkinLoaded")},C7=(t,s)=>{t.dispatch("SkinLoadError",s)},S7=t=>{t.dispatch("ResizeEditor")},K4=(t,s)=>{t.dispatch("ResizeContent",s)},x7=(t,s)=>{t.dispatch("ScrollContent",s)},PP=(t,s)=>{t.dispatch("TextColorChange",s)},Tx=(t,s)=>{t.dispatch("AfterProgressState",{state:s})},BP=(t,s)=>t.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),E7=(t,s)=>{t.dispatch("ToggleToolbarDrawer",{state:s})},T7=(t,s)=>{t.dispatch("StylesTextUpdate",s)},A7=(t,s)=>{t.dispatch("AlignTextUpdate",s)},O7=(t,s)=>{t.dispatch("FontSizeTextUpdate",s)},D7=(t,s)=>{t.dispatch("FontSizeInputTextUpdate",s)},R7=(t,s)=>{t.dispatch("BlocksTextUpdate",s)},Y4=(t,s)=>{t.dispatch("FontFamilyTextUpdate",s)},$P=t=>{t.dispatch("ToggleSidebar")},FP=t=>{t.dispatch("ToggleView")},Ax=(t,s)=>()=>{t(),s()},Gi=t=>Kb(t,"NodeChange",s=>{s.setEnabled(t.selection.isEditable())}),z7=(t,s)=>a=>{const i=Ii(),d=()=>{a.setActive(t.formatter.match(s));const g=t.formatter.formatChanged(s,a.setActive);i.set(g)};return t.initialized?d():t.once("init",d),()=>{t.off("init",d),i.clear()}},Ox=(t,s)=>a=>{const i=Gi(t)(a),d=z7(t,s)(a);return()=>{i(),d()}},Kb=(t,s,a)=>i=>{const d=()=>a(i),g=()=>{a(i),t.on(s,d)};return t.initialized?g():t.once("init",g),()=>{t.off("init",g),t.off(s,d)}},IP=t=>s=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,s.format)})},yu=(t,s)=>()=>t.execCommand(s);var Yb=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const LP={},N7=(t,s=10)=>{const a=Yb.getItem(t),i=Y(a)?JSON.parse(a):[],g=(D=>s-D.length<0?D.slice(0,s):D)(i),h=D=>{Te(g,D).each(k),g.unshift(D),g.length>s&&g.pop(),Yb.setItem(t,JSON.stringify(g))},k=D=>{g.splice(D,1)};return{add:h,state:()=>g.slice(0)}},HP=t=>on(LP,t).getOrThunk(()=>{const s=`tinymce-custom-colors-${t}`,a=Yb.getItem(s);if(lt(a)){const d=Yb.getItem("tinymce-custom-colors");Yb.setItem(s,It(d)?d:"[]")}const i=N7(s,10);return LP[t]=i,i}),M7=t=>Pe(HP(t).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),l_=(t,s)=>{HP(t).add(s)},Xb=(t,s,a)=>({hue:t,saturation:s,value:a}),u_=t=>{let s=0,a=0,i=0;const d=t.red/255,g=t.green/255,h=t.blue/255,k=Math.min(d,Math.min(g,h)),S=Math.max(d,Math.max(g,h));if(k===S)return i=k,Xb(0,0,i*100);const D=d===k?g-h:h===k?d-g:h-d;return s=d===k?3:h===k?1:5,s=60*(s-D/(S-k)),a=(S-k)/S,i=S,Xb(Math.round(s),Math.round(a*100),Math.round(i*100))},VP=t=>u_(i_(t)),UP=t=>a0(DP(t)),P7=t=>OP(t).orThunk(()=>G4(t).map(a0)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const a=s.getContext("2d");a.clearRect(0,0,s.width,s.height),a.fillStyle="#FFFFFF",a.fillStyle=t,a.fillRect(0,0,1,1);const i=a.getImageData(0,0,1,1).data,d=i[0],g=i[1],h=i[2],k=i[3];return a0(Gb(d,g,h,k))}),d_="forecolor",f_="hilitecolor",Dx=5,jP=t=>WP(t.map((s,a)=>a%2===0?"#"+P7(s).value:s)),WP=t=>{const s=[];for(let a=0;a<t.length;a+=2)s.push({text:t[a+1],value:t[a],icon:"checkmark",type:"choiceitem"});return s},fm=t=>s=>s.options.get(t),X4="#000000",B7=t=>{const s=t.options.register,a=g=>qe(g,Y)?{value:jP(g),valid:!0}:{valid:!1,message:"Must be an array of strings."},i=g=>qe(g,Y)?{value:WP(g),valid:!0}:{valid:!1,message:"Must be an array of strings."},d=g=>tt(g)&&g>0?{value:g,valid:!0}:{valid:!1,message:"Must be a positive number."};s("color_map",{processor:a,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_raw",{processor:i}),s("color_map_background",{processor:a}),s("color_map_foreground",{processor:a}),s("color_cols",{processor:d,default:J4(t)}),s("color_cols_foreground",{processor:d,default:ZP(t,d_)}),s("color_cols_background",{processor:d,default:ZP(t,f_)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:X4}),s("color_default_background",{processor:"string",default:X4})},Rx=(t,s)=>s===d_&&t.options.isSet("color_map_foreground")?fm("color_map_foreground")(t):s===f_&&t.options.isSet("color_map_background")?fm("color_map_background")(t):t.options.isSet("color_map_raw")?fm("color_map_raw")(t):fm("color_map")(t),J4=(t,s="default")=>Math.max(Dx,Math.ceil(Math.sqrt(Rx(t,s).length))),ZP=(t,s)=>{const a=fm("color_cols")(t),i=J4(t,s);return a===J4(t)?i:a},qP=(t,s="default")=>Math.round(s===d_?fm("color_cols_foreground")(t):s===f_?fm("color_cols_background")(t):fm("color_cols")(t)),GP=fm("custom_colors"),$7=fm("color_default_foreground"),F7=fm("color_default_background"),I7="rgba(0, 0, 0, 0)",L7=t=>G4(t).exists(s=>s.alpha!==0),KP=t=>Sc(t,s=>{if(vo(s)){const a=Ls(s,"background-color");return ao(L7(a),a)}else return x.none()}).getOr(I7),YP=(t,s)=>{const a=Le.fromDom(t.selection.getStart()),i=s==="hilitecolor"?KP(a):Ls(a,"color");return G4(i).map(d=>"#"+a0(d).value)},H7=(t,s,a)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(s,{value:a}),t.nodeChanged()})},pg=(t,s)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(s,{value:null},void 0,!0),t.nodeChanged()})},V7=t=>{t.addCommand("mceApplyTextcolor",(s,a)=>{H7(t,s,a)}),t.addCommand("mceRemoveTextcolor",s=>{pg(t,s)})},XP=t=>{const s="choiceitem",a={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[a,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[a]},m_=(t,s,a,i)=>{a==="custom"?oB(t)(g=>{g.each(h=>{l_(s,h),t.execCommand("mceApplyTextcolor",s,h),i(h)})},YP(t,s).getOr(X4)):a==="remove"?(i(""),t.execCommand("mceRemoveTextcolor",s)):(i(a),t.execCommand("mceApplyTextcolor",s,a))},bc=(t,s,a)=>t.concat(M7(s).concat(XP(a))),JP=(t,s,a)=>i=>{i(bc(t,s,a))},Q4=(t,s,a)=>{const i=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(i,a)},QP=(t,s)=>{t.setTooltip(s)},eB=(t,s)=>a=>{const i=YP(t,s);return Qs(i,a.toUpperCase())},e3=(t,s,a)=>{if(we(a))return s==="forecolor"?"Text color":"Background color";const i=s==="forecolor"?"Text color {0}":"Background color {0}",d=bc(Rx(t,s),s,!1),g=re(d,h=>h.value===a).getOr({text:""}).text;return t.translate([i,t.translate(g)])},tB=(t,s,a,i)=>{t.ui.registry.addSplitButton(s,{tooltip:e3(t,a,i.get()),presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:eB(t,a),columns:qP(t,a),fetch:JP(Rx(t,a),a,GP(t)),onAction:d=>{m_(t,a,i.get(),ae)},onItemAction:(d,g)=>{m_(t,a,g,h=>{i.set(h),PP(t,{name:s,color:h})})},onSetup:d=>{Q4(d,s,i.get());const g=h=>{h.name===s&&(Q4(d,h.name,h.color),QP(d,e3(t,a,h.color)))};return t.on("TextColorChange",g),Ax(Gi(t)(d),()=>{t.off("TextColorChange",g)})}})},nB=(t,s,a,i,d)=>{t.ui.registry.addNestedMenuItem(s,{text:i,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:g=>(QP(g,e3(t,a,d.get())),Q4(g,s,d.get()),Gi(t)(g)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:eB(t,a),initData:{storageKey:a},onAction:g=>{m_(t,a,g.value,h=>{d.set(h),PP(t,{name:s,color:h})})}}]})},oB=t=>(s,a)=>{let i=!1;const d=k=>{const D=k.getData().colorpicker;i?(s(x.from(D)),k.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",D]))},g=(k,S)=>{S.name==="hex-valid"&&(i=S.value)},h={colorpicker:a};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onAction:g,onSubmit:d,onClose:ae,onCancel:()=>{s(x.none())}})},U7=t=>{V7(t);const s=$7(t),a=F7(t),i=uo(s),d=uo(a);tB(t,"forecolor","forecolor",i),tB(t,"backcolor","hilitecolor",d),nB(t,"forecolor","forecolor","Text color",i),nB(t,"backcolor","hilitecolor","Background color",d)},t3=(t,s,a,i,d,g,h,k)=>{const S=px(s),N=j7(s,a,i,d!=="color"?"normal":"color",g,h,k);return _4(t,S,N,i,{menuType:d})},j7=(t,s,a,i,d,g,h)=>_r(Pe(t,k=>k.type==="choiceitem"?hP(k).fold(gg,S=>x.some(TP(S,a===1,i,s,g(S.value),d,h,px(t)))):x.none())),zx=(t,s)=>{const a=ry(s);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+a.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:d=>s==="color"?Yr(d.element,"[aria-checked=true]"):x.none()}},W7=(t,s)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${ax}`:`.${n0}`}},Z7=(t,s)=>{const a=q7(t,s),i=s.colorinput.getColorCols(t.initData.storageKey),d="color",g=t3(Xn("menu-value"),a,k=>{t.onAction({value:k})},i,d,Cf.CLOSE_ON_EXECUTE,t.select.getOr(We),s.shared.providers),h=Pt(ie({},g),{markers:ry(d),movement:zx(i,d),showMenuRole:!1});return{type:"widget",data:{value:Xn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[V4.widget(Rb.sketch(h))]}},q7=(t,s)=>{const a=t.initData.allowCustomColors&&s.colorinput.hasCustomColors();return t.initData.colors.fold(()=>bc(s.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,a),i=>i.concat(XP(a)))},sB=Xn("cell-over"),rB=Xn("cell-execute"),G7=t=>(s,a)=>t.shared.providers.translate(["{0} columns, {1} rows",a,s]),K7=(t,s,a)=>{const i=h=>co(h,sB,{row:t,col:s}),d=h=>co(h,rB,{row:t,col:s}),g=(h,k)=>{k.stop(),d(h)};return hc({dom:{tag:"div",attributes:{role:"button","aria-label":a}},behaviours:hn([Yo("insert-table-picker-cell",[Jt(Hi(),Fo.focus),Jt(Hc(),d),Jt(Vg(),g),Jt(O1(),g)]),as.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Fo.config({onFocus:i})])})},Y7=(t,s,a)=>{const i=[];for(let d=0;d<s;d++){const g=[];for(let h=0;h<a;h++){const k=t(d+1,h+1);g.push(K7(d,h,k))}i.push(g)}return i},X7=(t,s,a,i,d)=>{for(let g=0;g<i;g++)for(let h=0;h<d;h++)as.set(t[g][h],g<=s&&h<=a)},J7=t=>G(t,s=>Pe(s,Nl)),aB=(t,s)=>la(`${s}x${t}`),Q7={inserttable:(t,s)=>{const d=G7(s),g=Y7(d,10,10),h=aB(0,0),k=Zs({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[h],behaviours:hn([Zo.config({})])});return{type:"widget",data:{value:Xn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[V4.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:J7(g).concat(k.asSpec()),behaviours:hn([Yo("insert-table-picker",[Wr(S=>{Zo.set(k.get(S),[h])}),P1(sB,(S,D,N)=>{const{row:I,col:X}=N.event;X7(g,I,X,10,10),Zo.set(k.get(S),[aB(I+1,X+1)])}),P1(rB,(S,D,N)=>{const{row:I,col:X}=N.event;ms(S,xc()),t.onAction({numRows:I+1,numColumns:X+1})})]),So.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:Z7},cB=(t,s)=>on(Q7,t.fancytype).map(a=>a(t,s)),eH=(t,s,a,i=!0,d=!1)=>{const g=d?g7(a.icons):m7(a.icons),h=S=>({isEnabled:()=>!Po.isDisabled(S),setEnabled:D=>Po.set(S,!D),setIconFill:(D,N)=>{Yr(S.element,`svg path[class="${D}"], rect[class="${D}"]`).each(I=>{V(I,"fill",N)})},setTooltip:D=>{const N=a.translate(D);V(S.element,"aria-label",N)}}),k=c_({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:x.none(),ariaLabel:t.text,caret:x.some(g),checkMark:x.none(),shortcutContent:t.shortcut},a,i);return Wb({context:t.context,data:Zb(t),getApi:h,enabled:t.enabled,onAction:ae,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},k,s,a)},iB=(t,s,a,i=!0)=>{const d=h=>({isEnabled:()=>!Po.isDisabled(h),setEnabled:k=>Po.set(h,!k)}),g=c_({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:x.none(),ariaLabel:t.text,caret:x.none(),checkMark:x.none(),shortcutContent:t.shortcut},a,i);return Wb({context:t.context,data:Zb(t),getApi:d,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,s,a)},tH=t=>({type:"separator",dom:{tag:"div",classes:[n0,$6]},components:t.text.map(la).toArray()}),nH=(t,s,a,i=!0)=>{const d=h=>({setActive:k=>{as.set(h,k)},isActive:()=>as.isOn(h),isEnabled:()=>!Po.isDisabled(h),setEnabled:k=>Po.set(h,!k)}),g=c_({iconContent:t.icon,textContent:t.text,htmlContent:x.none(),ariaLabel:t.text,checkMark:x.some(_P(a.icons)),caret:x.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},a,i);return br(Wb({context:t.context,data:Zb(t),enabled:t.enabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,s,a),{toggling:{toggleClass:g4,toggleOnExecute:!1,selected:t.active},role:t.role.getOrUndefined()})},oH=b7,n3=tH,sH=iB,rH=eH,aH=nH,cH=cB,lB=EP;var lH=Object.freeze({__proto__:null,getCoupled:(t,s,a,i)=>a.getOrCreate(t,s,i),getExistingCoupled:(t,s,a,i)=>a.getExisting(t,s,i)}),uB=[Vs("others",Ql(Jo.value,Al()))],uH=Object.freeze({__proto__:null,init:()=>{const t={},s=(g,h)=>{if(pn(g.others).length===0)throw new Error("Cannot find any known coupled components");return on(t,h)},a=(g,h,k)=>s(h,k).getOrThunk(()=>{const D=on(h.others,k).getOrDie("No information found for coupled component: "+k)(g),N=g.getSystem().build(D);return t[k]=N,N}),i=(g,h,k)=>s(h,k).orThunk(()=>(on(h.others,k).getOrDie("No information found for coupled component: "+k),x.none())),d=J({});return xi({readState:d,getExisting:i,getOrCreate:a})}});const Ma=Ec({fields:uB,name:"coupling",apis:lH,state:uH}),o3=t=>{let s=x.none(),a=[];const i=D=>o3(N=>{d(I=>{N(D(I))})}),d=D=>{h()?S(D):a.push(D)},g=D=>{h()||(s=x.some(D),k(a),a=[])},h=()=>s.isSome(),k=D=>{gt(D,S)},S=D=>{s.each(N=>{setTimeout(()=>{D(N)},0)})};return t(g),{get:d,map:i,isReady:h}},dH={nu:o3,pure:t=>o3(s=>{s(t)})},fH=t=>{setTimeout(()=>{throw t},0)},c0=t=>{const s=S=>{t().then(S,fH)};return{map:S=>c0(()=>t().then(S)),bind:S=>c0(()=>t().then(D=>S(D).toPromise())),anonBind:S=>c0(()=>t().then(()=>S.toPromise())),toLazy:()=>dH.nu(s),toCached:()=>{let S=null;return c0(()=>(S===null&&(S=t()),S))},toPromise:t,get:s}},Di={nu:t=>c0(()=>new Promise(t)),pure:t=>c0(()=>Promise.resolve(t))},dB=J("sink"),fB=J(Fl({name:dB(),overrides:J({dom:{tag:"div"},behaviours:hn([Wc.config({useFixed:Ye})]),events:or([Zg(nu()),Zg(ia()),Zg(Vg())])})})),s3=(t,s)=>{const a=t.getHotspot(s).getOr(s),i="hotspot",d=t.getAnchorOverrides();return t.layouts.fold(()=>({type:i,hotspot:a,overrides:d}),g=>({type:i,hotspot:a,overrides:d,layouts:g}))},mH=(t,s,a)=>{const i=t.fetch;return i(a).map(s)},gH=(t,s,a,i,d,g,h)=>{const k=mH(t,s,i),S=mB(i,t);return k.map(D=>D.bind(N=>{const I=N.menus[N.primary];return x.from(I).each(X=>{t.listRole.each(Q=>{X.role=Q})}),x.from(mg.sketch(Pt(ie({},g.menu()),{uid:qy(""),data:N,highlightOnOpen:h,onOpenMenu:(X,Q)=>{const ue=S().getOrDie();Wc.position(ue,Q,{anchor:a}),Ns.decloak(d)},onOpenSubmenu:(X,Q,ue)=>{const ye=S().getOrDie();Wc.position(ye,ue,{anchor:{type:"submenu",item:Q}}),Ns.decloak(d)},onRepositionMenu:(X,Q,ue)=>{const ye=S().getOrDie();Wc.position(ye,Q,{anchor:a}),gt(ue,Je=>{Wc.position(ye,Je.triggeredMenu,{anchor:{type:"submenu",item:Je.triggeringItem}})})},onEscape:()=>(Fo.focus(i),Ns.close(d),x.some(!0))})))}))},Nx=(t,s,a,i,d,g,h)=>{const k=s3(t,a);return gH(t,s,k,a,i,d,h).map(D=>(D.fold(()=>{Ns.isOpen(i)&&Ns.close(i)},N=>{Ns.cloak(i),Ns.open(i,N),g(i)}),i))},pH=(t,s,a,i,d,g,h)=>(Ns.close(i),Di.pure(i)),r3=(t,s,a,i,d,g)=>{const h=Ma.getCoupled(a,"sandbox");return(Ns.isOpen(h)?pH:Nx)(t,s,a,h,i,d,g)},a3=(t,s,a)=>{const i=Es.getCurrent(s).getOr(s),d=ce(t.element);a?yt(i.element,"min-width",d+"px"):sd(i.element,d)},mB=(t,s)=>t.getSystem().getByUid(s.uid+"-"+dB()).map(a=>()=>Jo.value(a)).getOrThunk(()=>s.lazySink.fold(()=>()=>Jo.error(new Error("No internal sink is specified, nor could an external sink be found")),a=>()=>a(t))),gB=t=>{Ns.getState(t).each(s=>{mg.repositionMenus(s)})},c3=(t,s,a)=>{const i=Qy(),d=(k,S)=>{const D=s3(t,s);i.link(s.element),t.matchWidth&&a3(D.hotspot,S,t.useMinWidth),t.onOpen(D,k,S),a!==void 0&&a.onOpen!==void 0&&a.onOpen(k,S)},g=(k,S)=>{i.unlink(s.element),h().getOr(S).element.dom.dispatchEvent(new window.FocusEvent("focusout")),a!==void 0&&a.onClose!==void 0&&a.onClose(k,S)},h=mB(s,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:i.id}},behaviours:uu.augment(t.sandboxBehaviours,[jn.config({store:{mode:"memory",initialValue:s}}),Ns.config({onOpen:d,onClose:g,isPartOf:(k,S,D)=>Km(S,D)||Km(s,D),getAttachPoint:()=>h().getOrDie()}),Es.config({find:k=>Ns.getState(k).bind(S=>Es.getCurrent(S))}),hl.config({channels:ie(ie({},wb({isExtraPart:We})),kb({doReposition:gB}))})])}},i3=t=>{const s=Ma.getCoupled(t,"sandbox");gB(s)},Mx=()=>[it("sandboxClasses",[]),uu.field("sandboxBehaviours",[Es,hl,Ns,jn])],hH=J([Xt("dom"),Xt("fetch"),As("onOpen"),li("onExecute"),it("getHotspot",x.some),it("getAnchorOverrides",J({})),eg(),Ac("dropdownBehaviours",[as,Ma,So,Fo]),Xt("toggleClass"),it("eventOrder",{}),Fs("lazySink"),it("matchWidth",!1),it("useMinWidth",!1),Fs("role"),Fs("listRole")].concat(Mx())),yH=J([du({schema:[gf(),it("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),fB()]),pB=(t,s,a,i)=>{const d=N=>on(t.dom,"attributes").bind(I=>on(I,N)),g=N=>{Ns.getState(N).each(I=>{mg.highlightPrimary(I)})},h=(N,I,X)=>r3(t,Zt,N,i,I,X),k=N=>{h(N,g,_l.HighlightMenuAndItem).get(ae)},S={expand:N=>{as.isOn(N)||h(N,ae,_l.HighlightNone).get(ae)},open:N=>{as.isOn(N)||h(N,ae,_l.HighlightMenuAndItem).get(ae)},refetch:N=>Ma.getExistingCoupled(N,"sandbox").fold(()=>h(N,ae,_l.HighlightMenuAndItem).map(ae),X=>Nx(t,Zt,N,X,i,ae,_l.HighlightMenuAndItem).map(ae)),isOpen:as.isOn,close:N=>{as.isOn(N)&&h(N,ae,_l.HighlightMenuAndItem).get(ae)},repositionMenus:N=>{as.isOn(N)&&i3(N)}},D=(N,I)=>(Im(N),x.some(!0));return{uid:t.uid,dom:t.dom,components:s,behaviours:Oc(t.dropdownBehaviours,[as.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Ma.config({others:{sandbox:N=>c3(t,N,{onOpen:()=>as.on(N),onClose:()=>as.off(N)})}}),So.config({mode:"special",onSpace:D,onEnter:D,onDown:(N,I)=>{if(Gu.isOpen(N)){const X=Ma.getCoupled(N,"sandbox");g(X)}else Gu.open(N);return x.some(!0)},onEscape:(N,I)=>Gu.isOpen(N)?(Gu.close(N),x.some(!0)):x.none()}),Fo.config({})]),events:zk(x.some(k)),eventOrder:Pt(ie({},t.eventOrder),{[Hc()]:["disabling","toggling","alloy.base.behaviour"]}),apis:S,domModification:{attributes:ie(ie({"aria-haspopup":t.listRole.getOr("true")},t.role.fold(()=>({}),N=>({role:N}))),t.dom.tag==="button"?{type:d("type").getOr("button")}:{})}}},Gu=Qc({name:"Dropdown",configFields:hH(),partFields:yH(),factory:pB,apis:{open:(t,s)=>t.open(s),refetch:(t,s)=>t.refetch(s),expand:(t,s)=>t.expand(s),close:(t,s)=>t.close(s),isOpen:(t,s)=>t.isOpen(s),repositionMenus:(t,s)=>t.repositionMenus(s)}}),bH=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},vH=t=>{const s=jn.getValue(t),a=dx(t).map(Xk);Gu.refetch(s).get(()=>{const i=Ma.getCoupled(s,"sandbox");a.each(d=>dx(i).each(g=>L6(g,d)))})},wH=(t,s)=>{kH(t).each(a=>{K0(t,a.element,s.event.eventType,s.event.interactionEvent)})},kH=t=>Ns.getState(t).bind(xn.getHighlighted).bind(xn.getHighlighted),_H=t=>ji(t.element,fx)?x.some(t.element):Yr(t.element,"."+fx),g_=(t,s,a)=>{nP(t).each(i=>{H6(i,a),_H(s).each(g=>{kt(g,"id").each(h=>V(i.element,"aria-controls",h))})}),V(a.element,"aria-selected","true")},CH=(t,s,a)=>{V(a.element,"aria-selected","false")},Px=t=>{nP(t).each(s=>Fo.focus(s))},SH=t=>Ma.getExistingCoupled(t,"sandbox").bind(dx).map(Xk).map(a=>a.fetchPattern).getOr("");var Bx;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(Bx||(Bx={}));const xH=(t,s,a,i,d)=>{const g=a.shared.providers,h=k=>d?Pt(ie({},k),{shortcut:x.none(),icon:k.text.isSome()?x.none():k.icon}):k;switch(t.type){case"menuitem":return r7(t).fold(gg,k=>x.some(sH(h(k),s,g,i)));case"nestedmenuitem":return c7(t).fold(gg,k=>x.some(rH(h(k),s,g,i,d)));case"togglemenuitem":return i7(t).fold(gg,k=>x.some(aH(h(k),s,g,i)));case"separator":return Y6(t).fold(gg,k=>x.some(n3(k)));case"fancymenuitem":return o7(t).fold(gg,k=>cH(k,a));default:return console.error("Unknown item in general menu",t),x.none()}},EH=(t,s,a,i,d,g,h)=>{const k=i===1,S=!k||px(t);return _r(Pe(t,D=>{switch(D.type){case"separator":return xf(D).fold(gg,N=>x.some(n3(N)));case"cardmenuitem":return z4(D).fold(gg,N=>x.some(lB(Pt(ie({},N),{onAction:I=>{N.onAction(I),a(N.value,N.meta)}}),d,g,{itemBehaviours:xP(N.meta,g,x.none()),cardText:{matchText:s,highlightOn:h}})));case"autocompleteitem":default:return gP(D).fold(gg,N=>x.some(oH(N,s,k,"normal",a,d,g,S)))}}))},TH=(t,s,a,i,d,g)=>{const h=px(s),k=_r(Pe(s,N=>{const I=Q=>d?!Go(Q,"text"):h,X=Q=>xH(Q,a,i,I(Q),d);return N.type==="nestedmenuitem"&&N.getSubmenuItems().length<=0?X(Pt(ie({},N),{enabled:!1})):X(N)})),S=bH(g);return(d?rP:_4)(t,h,k,1,S)},i0=t=>mg.singleData(t.value,t),l0=(t,s,a,i)=>{const d=zx(s,i),g=ry(i);return{data:i0(Pt(ie({},t),{movement:d,menuBehaviours:r0.unnamedEvents(s!=="auto"?[]:[Wr((h,k)=>{P4(h,4,g.item).each(({numColumns:S,numRows:D})=>{So.setGridSize(h,D,S)})})])})),menu:{markers:ry(i),fakeFocus:a===Bx.ContentFocus}}},hB=t=>gv.create(Le.fromDom(t.startContainer),t.startOffset,Le.fromDom(t.endContainer),t.endOffset),OH={register:(t,s)=>{const a=Xn("autocompleter"),i=uo(!1),d=uo(!1),g=$s(),h=hc(fa.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:a}},components:[],fireDismissalEventInstead:{},inlineBehaviours:hn([Yo("dismissAutocompleter",[Jt(zl(),()=>I()),Jt(G0(),(Ae,Ke)=>{kt(Ke.event.target,"id").each(ot=>V(Le.fromDom(t.getBody()),"aria-activedescendant",ot))})])]),lazySink:s.getSink})),k=()=>fa.isOpen(h),S=d.get,D=()=>{if(k()){fa.hide(h),t.dom.remove(a,!1);const Ae=Le.fromDom(t.getBody());kt(Ae,"aria-owns").filter(Ke=>Ke===a).each(()=>{$(Ae,"aria-owns"),$(Ae,"aria-activedescendant")})}},N=()=>fa.getContent(h).bind(Ae=>Lt(Ae.components(),0)),I=()=>t.execCommand("mceAutocompleterClose"),X=Ae=>{const Ke=an(Ae,ot=>x.from(ot.columns)).getOr(1);return G(Ae,ot=>{const _t=ot.items;return EH(_t,ot.matchText,(Et,Cn)=>{const Kn={hide:()=>I(),reload:qt=>{D(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:qt})}};t.execCommand("mceAutocompleterRefreshActiveRange"),g.get().each(qt=>{i.set(!0),ot.onAction(Kn,qt,Et,Cn),i.set(!1)})},Ke,Cf.BUBBLE_TO_SANDBOX,s,ot.highlightOn)})},Q=(Ae,Ke)=>{const ot=an(Ae,_t=>x.from(_t.columns)).getOr(1);fa.showMenuAt(h,{anchor:{type:"selection",getSelection:()=>g.get().map(hB),root:Le.fromDom(t.getBody())}},l0(_4("autocompleter-value",!0,Ke,ot,{menuType:"normal"}),ot,Bx.ContentFocus,"normal")),N().each(xn.highlightFirst)},ue=Ae=>{const Ke=X(Ae);Ke.length>0?(Q(Ae,Ke),V(Le.fromDom(t.getBody()),"aria-owns",a),t.inline||ye()):D()},ye=()=>{t.dom.get(a)&&t.dom.remove(a,!1);const Ae=t.getDoc().documentElement,Ke=t.selection.getNode(),ot=Uy(h.element);Ro(ot,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${Ke.offsetTop}px`,left:`${Ke.offsetLeft}px`}),t.dom.add(Ae,ot.dom),Yr(ot,'[role="menu"]').each(_t=>{Vo(_t,"position"),Vo(_t,"max-height")})};t.on("AutocompleterStart",({lookupData:Ae})=>{d.set(!0),i.set(!1),ue(Ae)}),t.on("AutocompleterUpdate",({lookupData:Ae})=>ue(Ae)),t.on("AutocompleterUpdateActiveRange",({range:Ae})=>g.set(Ae)),t.on("AutocompleterEnd",()=>{D(),d.set(!1),i.set(!1),g.clear()});const Je={cancelIfNecessary:I,isMenuOpen:k,isActive:S,isProcessingAction:i.get,getMenu:N};B6.setup(Je,t)}},p_=(t,s,a)=>pf(t,s,a).isSome(),yB=(t,s)=>{let a=null;return{cancel:()=>{a!==null&&(clearTimeout(a),a=null)},schedule:(...g)=>{a=setTimeout(()=>{t.apply(null,g),a=null},s)}}},bB=5,DH=400,vB=t=>{const s=t.raw;return s.touches===void 0||s.touches.length!==1?x.none():x.some(s.touches[0])},RH=(t,s)=>{const a=Math.abs(t.clientX-s.x),i=Math.abs(t.clientY-s.y);return a>bB||i>bB},zH=t=>{const s=$s(),a=uo(!1),i=yB(D=>{t.triggerEvent($m(),D),a.set(!0)},DH),d=D=>(vB(D).each(N=>{i.cancel();const I={x:N.clientX,y:N.clientY,target:D.target};i.schedule(D),a.set(!1),s.set(I)}),x.none()),g=D=>(i.cancel(),vB(D).each(N=>{s.on(I=>{RH(N,I)&&s.clear()})}),x.none()),h=D=>{i.cancel();const N=I=>Rs(I.target,D.target);return s.get().filter(N).map(I=>a.get()?(D.prevent(),!1):t.triggerEvent(O1(),D))},k=Qo([{key:tu(),value:d},{key:cf(),value:g},{key:zs(),value:h}]);return{fireIfReady:(D,N)=>on(k,N).bind(I=>I(D))}},NH=t=>t.raw.which===Io[0]&&!Vt(["input","textarea"],Ds(t.target))&&!p_(t.target,'[contenteditable="true"]'),MH=(t,s)=>{const a=ie({stopBackspace:!0},s),i=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],d=zH(a),g=Pe(i.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),Q=>Wi(t,Q,ue=>{d.fireIfReady(ue,Q).each(Je=>{Je&&ue.kill()}),a.triggerEvent(Q,ue)&&ue.kill()})),h=$s(),k=Wi(t,"paste",Q=>{d.fireIfReady(Q,"paste").each(ye=>{ye&&Q.kill()}),a.triggerEvent("paste",Q)&&Q.kill(),h.set(setTimeout(()=>{a.triggerEvent(Py(),Q)},0))}),S=Wi(t,"keydown",Q=>{a.triggerEvent("keydown",Q)?Q.kill():a.stopBackspace&&NH(Q)&&Q.prevent()}),D=Wi(t,"focusin",Q=>{a.triggerEvent("focusin",Q)&&Q.kill()}),N=$s(),I=Wi(t,"focusout",Q=>{a.triggerEvent("focusout",Q)&&Q.kill(),N.set(setTimeout(()=>{a.triggerEvent(Ug(),Q)},0))});return{unbind:()=>{gt(g,Q=>{Q.unbind()}),S.unbind(),D.unbind(),I.unbind(),k.unbind(),h.on(clearTimeout),N.on(clearTimeout)}}},wB=(t,s)=>{const a=on(t,"target").getOr(s);return uo(a)},kB=(t,s)=>{const a=uo(!1),i=uo(!1);return{stop:()=>{a.set(!0)},cut:()=>{i.set(!0)},isStopped:a.get,isCut:i.get,event:t,setSource:s.set,getSource:s.get}},u0=t=>{const s=uo(!1);return{stop:()=>{s.set(!0)},cut:ae,isStopped:s.get,isCut:We,event:t,setSource:ke("Cannot set source of a broadcasted event"),getSource:ke("Cannot get source of a broadcasted event")}},mm=Z.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),_B=(t,s,a,i,d,g)=>{const h=t(s,i),k=kB(a,d);return h.fold(()=>(g.logEventNoHandlers(s,i),mm.complete()),S=>{const D=S.descHandler;return qm(D)(k),k.isStopped()?(g.logEventStopped(s,S.element,D.purpose),mm.stopped()):k.isCut()?(g.logEventCut(s,S.element,D.purpose),mm.complete()):Oa(S.element).fold(()=>(g.logNoParent(s,S.element,D.purpose),mm.complete()),I=>(g.logEventResponse(s,S.element,D.purpose),mm.resume(I)))})},l3=(t,s,a,i,d,g)=>_B(t,s,a,i,d,g).fold(Ye,h=>l3(t,s,a,h,d,g),We),CB=(t,s,a,i,d)=>{const g=wB(a,i);return _B(t,s,a,i,g,d)},$x=(t,s,a)=>{const i=u0(s);return gt(t,d=>{const g=d.descHandler;qm(g)(i)}),i.isStopped()},PH=(t,s,a,i)=>d0(t,s,a,a.target,i),d0=(t,s,a,i,d)=>{const g=wB(a,i);return l3(t,s,a,i,g,d)},h_=(t,s)=>({element:t,descHandler:s}),BH=(t,s)=>({id:t,descHandler:s}),$H=()=>{const t={},s=(h,k,S)=>{Un(S,(D,N)=>{const I=t[N]!==void 0?t[N]:{};I[k]=xh(D,h),t[N]=I})},a=(h,k)=>Ch(k).bind(S=>on(h,S)).map(S=>h_(k,S));return{registerId:s,unregisterId:h=>{Un(t,(k,S)=>{Go(k,h)&&delete k[h]})},filterByType:h=>on(t,h).map(k=>Gs(k,(S,D)=>BH(D,S))).getOr([]),find:(h,k,S)=>on(t,k).bind(D=>Sc(S,N=>a(D,N),h))}},FH=()=>{const t=$H(),s={},a=D=>{const N=D.element;return Ch(N).getOrThunk(()=>fw("uid-",D.element))},i=(D,N)=>{const I=s[N];if(I===D)g(D);else throw new Error('The tagId "'+N+'" is already used by: '+Wm(I.element)+`
Cannot use it for: `+Wm(D.element)+`
The conflicting element is`+(ve(I.element)?" ":" not ")+"already in the DOM")},d=D=>{const N=a(D);ur(s,N)&&i(D,N);const I=[D];t.registerId(I,N,D.events),s[N]=D},g=D=>{Ch(D.element).each(N=>{delete s[N],t.unregisterId(N)})};return{find:(D,N,I)=>t.find(D,N,I),filter:D=>t.filterByType(D),register:d,unregister:g,getById:D=>on(s,D)}},gm=wl({name:"Container",factory:t=>{const i=t.dom,{attributes:s}=i,a=sC(i,["attributes"]);return{uid:t.uid,dom:ie({tag:"div",attributes:ie({role:"presentation"},s)},a),components:t.components,behaviours:Dv(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[it("components",[]),Ac("containerBehaviours",[]),it("events",{}),it("domModification",{}),it("eventOrder",{})]}),u3=t=>{const s=Ae=>Oa(t.element).fold(Ye,Ke=>Rs(Ae,Ke)),a=FH(),i=(Ae,Ke)=>a.find(s,Ae,Ke),d=MH(t.element,{triggerEvent:(Ae,Ke)=>dw(Ae,Ke.target,ot=>PH(i,Ae,Ke,ot))}),g={debugInfo:J("real"),triggerEvent:(Ae,Ke,ot)=>{dw(Ae,Ke,_t=>d0(i,Ae,ot,Ke,_t))},triggerFocus:(Ae,Ke)=>{Ch(Ae).fold(()=>{cu(Ae)},ot=>{dw(yd(),Ae,_t=>(CB(i,yd(),{originator:Ke,kill:ae,prevent:ae,target:Ae},Ae,_t),!1))})},triggerEscape:(Ae,Ke)=>{g.triggerEvent("keydown",Ae.element,Ke.event)},getByUid:Ae=>ye(Ae),getByDom:Ae=>Je(Ae),build:hc,buildOrPatch:kw,addToGui:Ae=>{S(Ae)},removeFromGui:Ae=>{D(Ae)},addToWorld:Ae=>{h(Ae)},removeFromWorld:Ae=>{k(Ae)},broadcast:Ae=>{X(Ae)},broadcastOn:(Ae,Ke)=>{Q(Ae,Ke)},broadcastEvent:(Ae,Ke)=>{ue(Ae,Ke)},isConnected:Ye},h=Ae=>{Ae.connect(g),cs(Ae.element)||(a.register(Ae),gt(Ae.components(),h),g.triggerEvent(R1(),Ae.element,{target:Ae.element}))},k=Ae=>{cs(Ae.element)||(gt(Ae.components(),k),a.unregister(Ae)),Ae.disconnect()},S=Ae=>{om(t,Ae)},D=Ae=>{sm(Ae)},N=()=>{d.unbind(),oi(t.element)},I=Ae=>{const Ke=a.filter(bd());gt(Ke,ot=>{const _t=ot.descHandler;qm(_t)(Ae)})},X=Ae=>{I({universal:!0,data:Ae})},Q=(Ae,Ke)=>{I({universal:!1,channels:Ae,data:Ke})},ue=(Ae,Ke)=>{const ot=a.filter(Ae);return $x(ot,Ke)},ye=Ae=>a.getById(Ae).fold(()=>Jo.error(new Error('Could not find component with uid: "'+Ae+'" in system.')),Jo.value),Je=Ae=>{const Ke=Ch(Ae).getOr("not found");return ye(Ke)};return h(t),{root:t,element:t.element,destroy:N,add:S,remove:D,getByUid:ye,getByDom:Je,addToWorld:h,removeFromWorld:k,broadcast:X,broadcastOn:Q,broadcastEvent:ue}},Fx=(t,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Pe(t.items,s.interpreter)}),IH=J([it("prefix","form-field"),Ac("fieldBehaviours",[Es,jn])]),d3=J([Fl({schema:[Xt("dom")],name:"label"}),Fl({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[Xt("text")],name:"aria-descriptor"}),di({factory:{sketch:t=>{const s=eo(t,["factory"]);return t.factory.sketch(s)}},schema:[Xt("factory")],name:"field"})]),LH=(t,s,a,i)=>{const d=Oc(t.fieldBehaviours,[Es.config({find:k=>vr(k,t,"field")}),jn.config({store:{mode:"manual",getValue:k=>Es.getCurrent(k).bind(jn.getValue),setValue:(k,S)=>{Es.getCurrent(k).each(D=>{jn.setValue(D,S)})}}})]),g=or([Wr((k,S)=>{const D=Td(k,t,["label","field","aria-descriptor"]);D.field().each(N=>{const I=Xn(t.prefix);D.label().each(X=>{V(X.element,"for",I),V(N.element,"id",I)}),D["aria-descriptor"]().each(X=>{const Q=Xn(t.prefix);V(X.element,"id",Q),V(N.element,"aria-describedby",Q)})})})]),h={getField:k=>vr(k,t,"field"),getLabel:k=>vr(k,t,"label")};return{uid:t.uid,dom:t.dom,components:s,behaviours:d,events:g,apis:h}},Js=Qc({name:"FormField",configFields:IH(),partFields:d3(),factory:LH,apis:{getField:(t,s)=>t.getField(s),getLabel:(t,s)=>t.getLabel(s)}});var HH=tinymce.util.Tools.resolve("tinymce.html.Entities");const f0=(t,s,a,i)=>{const d=UH(t,s,a,i);return Js.sketch(d)},VH=(t,s)=>f0(t,s,[],[]),UH=(t,s,a,i)=>({dom:f3(a),components:t.toArray().concat([s]),fieldBehaviours:hn(i)}),jH=()=>f3([]),f3=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),dy=(t,s)=>Js.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[la(s.translate(t))]}),Ll=Xn("form-component-change"),y_=Xn("form-close"),fy=Xn("form-cancel"),hg=Xn("form-action"),m0=Xn("form-submit"),Ix=Xn("form-block"),m3=Xn("form-unblock"),SB=Xn("form-tabchange"),xB=Xn("form-resize"),WH=(t,s,a)=>{const i=t.label.map(Q=>dy(Q,s)),d=s.icons(),g=Q=>{var ue;return(ue=d[Q])!==null&&ue!==void 0?ue:Q},h=Q=>(ue,ye)=>{pf(ye.event.target,"[data-collection-item-value]").each(Je=>{Q(ue,ye,Je,$e(Je,"data-collection-item-value"))})},k=(Q,ue)=>{const Je=s.checkUiComponentContext("mode:design").shouldDisable||s.isDisabled()?" tox-collection__item--state-disabled":"",Ae=Pe(ue,_t=>{const Et=Rd.translate(_t.text),Cn=t.columns===1?`<div class="tox-collection__item-label">${Et}</div>`:"",Kn=`<div class="tox-collection__item-icon">${g(_t.icon)}</div>`,qt={_:" "," - ":" ","-":" "},Yn=Et.replace(/\_| \- |\-/g,$n=>qt[$n]);return`<div data-mce-tooltip="${Yn}" class="tox-collection__item${Je}" tabindex="-1" data-collection-item-value="${HH.encodeAllRaw(_t.value)}" aria-label="${Yn}">${Kn}${Cn}</div>`}),Ke=t.columns!=="auto"&&t.columns>1?rn(Ae,t.columns):[Ae],ot=Pe(Ke,_t=>`<div class="tox-collection__group">${_t.join("")}</div>`);gl(Q.element,ot.join(""))},S=h((Q,ue,ye,Je)=>{ue.stop(),s.checkUiComponentContext("mode:design").shouldDisable||s.isDisabled()||co(Q,hg,{name:t.name,value:Je})}),D=[Jt(Hi(),h((Q,ue,ye)=>{cu(ye,!0)})),Jt(Vg(),S),Jt(O1(),S),Jt(Vi(),h((Q,ue,ye)=>{Yr(Q.element,"."+Lb).each(Je=>{sr(Je,Lb)}),Ia(ye,Lb)})),Jt(yC(),h(Q=>{Yr(Q.element,"."+Lb).each(ue=>{sr(ue,Lb),Oh(ue)})})),Gf(h((Q,ue,ye,Je)=>{co(Q,hg,{name:t.name,value:Je})}))],N=(Q,ue)=>Pe(Uc(Q.element,".tox-collection__item"),ue),I=Js.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Zt},behaviours:hn([Po.config({disabled:()=>s.checkUiComponentContext(t.context).shouldDisable,onDisabled:Q=>{N(Q,ue=>{Ia(ue,"tox-collection__item--state-disabled"),V(ue,"aria-disabled",!0)})},onEnabled:Q=>{N(Q,ue=>{sr(ue,"tox-collection__item--state-disabled"),$(ue,"aria-disabled")})}}),La(()=>s.checkUiComponentContext(t.context)),Zo.config({}),Ea.config(Pt(ie({},s.tooltips.getConfig({tooltipText:"",onShow:Q=>{Yr(Q.element,"."+Lb+"[data-mce-tooltip]").each(ue=>{kt(ue,"data-mce-tooltip").each(ye=>{Ea.setComponents(Q,s.tooltips.getComponents({tooltipText:ye}))})})}})),{mode:"children-keyboard-focus",anchor:Q=>({type:"node",node:Yr(Q.element,"."+Lb).orThunk(()=>sS(".tox-collection__item")),root:Q.element,layouts:{onLtr:J([Ga,Xs,cc,Vc,ic,lc]),onRtl:J([Ga,Xs,cc,Vc,ic,lc])},bubble:Vu(0,-2,{})})})),jn.config({store:{mode:"memory",initialValue:a.getOr([])},onSetValue:(Q,ue)=>{k(Q,ue),t.columns==="auto"&&P4(Q,5,"tox-collection__item").each(({numRows:ye,numColumns:Je})=>{So.setGridSize(Q,ye,Je)}),ms(Q,xB)}}),Xr.config({}),So.config(W7(t.columns,"normal")),Yo("collection-events",D)]),eventOrder:{[Hc()]:["disabling","alloy.base.behaviour","collection-events"],[Vi()]:["collection-events","tooltipping"]}});return f0(i,I,["tox-form__group--collection"],[])},ZH=["input","textarea"],g3=t=>{const s=Ds(t);return Vt(ZH,s)},Jb=(t,s)=>{const a=s.getRoot(t).getOr(t.element);sr(a,s.invalidClass),s.notify.each(i=>{g3(t.element)&&V(t.element,"aria-invalid",!1),i.getContainer(t).each(d=>{gl(d,i.validHtml)}),i.onValid(t)})},EB=(t,s,a,i)=>{const d=s.getRoot(t).getOr(t.element);Ia(d,s.invalidClass),s.notify.each(g=>{g3(t.element)&&V(t.element,"aria-invalid",!0),g.getContainer(t).each(h=>{gl(h,i)}),g.onInvalid(t,i)})},TB=(t,s,a)=>s.validator.fold(()=>Di.pure(Jo.value(!0)),i=>i.validate(t)),p3=(t,s,a)=>(s.notify.each(i=>{i.onValidate(t)}),TB(t,s).map(i=>t.getSystem().isConnected()?i.fold(d=>(EB(t,s,a,d),Jo.error(d)),d=>(Jb(t,s),Jo.value(d))):Jo.error("No longer in system")));var Nd=Object.freeze({__proto__:null,markValid:Jb,markInvalid:EB,query:TB,run:p3,isInvalid:(t,s)=>{const a=s.getRoot(t).getOr(t.element);return ji(a,s.invalidClass)}}),OB=Object.freeze({__proto__:null,events:(t,s)=>t.validator.map(a=>or([Jt(a.onEvent,i=>{p3(i,t,s).get(Zt)})].concat(a.validateOnLoad?[Wr(i=>{p3(i,t,s).get(ae)})]:[]))).getOr({})}),qH=[Xt("invalidClass"),it("getRoot",x.none),rc("notify",[it("aria","alert"),it("getContainer",x.none),it("validHtml",""),As("onValid"),As("onInvalid"),As("onValidate")]),rc("validator",[Xt("validate"),it("onEvent","input"),it("validateOnLoad",!0)])];const yg=Ec({fields:qH,name:"invalidating",active:OB,apis:Nd,extra:{validation:t=>s=>{const a=jn.getValue(s);return Di.pure(t(a))}}});var DB=Object.freeze({__proto__:null,events:()=>or([Y0(RT(),Ye)]),exhibit:()=>Ui({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const g0=Ec({fields:[],name:"unselecting",active:DB}),GH=(t,s)=>Gu.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:hn([qu.button(()=>s.providers.isDisabled()||s.providers.checkUiComponentContext(t.context).shouldDisable),La(()=>s.providers.checkUiComponentContext(t.context)),g0.config({}),Xr.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:a=>Di.nu(i=>t.fetch(i)).map(i=>x.from(i0(br(t3(Xn("menu-value"),i,d=>{t.onItemAction(a,d)},t.columns,t.presets,Cf.CLOSE_ON_EXECUTE,We,s.providers),{movement:zx(t.columns,t.presets)})))),parts:{menu:Yk(!1,1,t.presets)}}),RB=Xn("color-input-change"),y3=Xn("color-swatch-change"),zB=Xn("color-picker-cancel"),NB=(t,s,a,i)=>{const d=Js.parts.field({factory:um,inputClasses:["tox-textfield"],data:i,onSetValue:D=>yg.run(D).get(ae),inputBehaviours:hn([Po.config({disabled:()=>s.providers.isDisabled()||s.providers.checkUiComponentContext(t.context).shouldDisable}),La(()=>s.providers.checkUiComponentContext(t.context)),Xr.config({}),yg.config({invalidClass:"tox-textbox-field-invalid",getRoot:D=>Qa(D.element),notify:{onValid:D=>{const N=jn.getValue(D);co(D,RB,{color:N})}},validator:{validateOnLoad:!1,validate:D=>{const N=jn.getValue(D);if(N.length===0)return Di.pure(Jo.value(!0));{const I=Le.fromTag("span");yt(I,"background-color",N);const X=Bs(I,"background-color").fold(()=>Jo.error("blah"),Q=>Jo.value(N));return Di.pure(X)}}}})]),selectOnFocus:!1}),g=t.label.map(D=>dy(D,s.providers)),h=(D,N)=>{co(D,y3,{value:N})},k=(D,N)=>{S.getOpt(D).each(I=>{N==="custom"?a.colorPicker(X=>{X.fold(()=>ms(I,zB),Q=>{h(I,Q),l_(t.storageKey,Q)})},"#ffffff"):N==="remove"?h(I,""):h(I,N)})},S=Zs(GH({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[ic,cc,Ga],onLtr:()=>[cc,ic,Ga]},components:[],fetch:JP(a.getColors(t.storageKey),t.storageKey,a.hasCustomColors()),columns:a.getColorCols(t.storageKey),presets:"color",onItemAction:k,context:t.context},s));return Js.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:g.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[d,S.asSpec()]}]),fieldBehaviours:hn([Yo("form-field-events",[Jt(RB,(D,N)=>{S.getOpt(D).each(I=>{yt(I.element,"background-color",N.event.color)}),co(D,Ll,{name:t.name})}),Jt(y3,(D,N)=>{Js.getField(D).each(I=>{jn.setValue(I,N.event.value),Es.getCurrent(D).each(Fo.focus)})}),Jt(zB,(D,N)=>{Js.getField(D).each(I=>{Es.getCurrent(D).each(Fo.focus)})})])])})},MB=Fl({schema:[Xt("dom")],name:"label"}),Pp=t=>Fl({name:""+t+"-edge",overrides:s=>s.model.manager.edgeActions[t].fold(()=>({}),i=>({events:or([lh(tu(),(d,g,h)=>i(d,h),[s]),lh(ia(),(d,g,h)=>i(d,h),[s]),lh(ii(),(d,g,h)=>{h.mouseIsDown.get()&&i(d,h)},[s])])}))}),KH=Pp("top-left"),YH=Pp("top"),XH=Pp("top-right"),JH=Pp("right"),QH=Pp("bottom-right"),e9=Pp("bottom"),b3=Pp("bottom-left"),t9=Pp("left"),n9=di({name:"thumb",defaults:J({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:or([qf(tu(),t,"spectrum"),qf(cf(),t,"spectrum"),qf(zs(),t,"spectrum"),qf(ia(),t,"spectrum"),qf(ii(),t,"spectrum"),qf(ah(),t,"spectrum")])})}),b_=t=>uc(t.event),o9=di({schema:[Hs("mouseIsDown",()=>uo(!1))],name:"spectrum",overrides:t=>{const a=t.model.manager,i=(d,g)=>a.getValueFromEvent(g).map(h=>a.setValueFrom(d,t,h));return{behaviours:hn([So.config({mode:"special",onLeft:(d,g)=>a.onLeft(d,t,b_(g)),onRight:(d,g)=>a.onRight(d,t,b_(g)),onUp:(d,g)=>a.onUp(d,t,b_(g)),onDown:(d,g)=>a.onDown(d,t,b_(g))}),Xr.config({}),Fo.config({})]),events:or([Jt(tu(),i),Jt(cf(),i),Jt(ia(),i),Jt(ii(),(d,g)=>{t.mouseIsDown.get()&&i(d,g)})])}}});var s9=[MB,t9,JH,YH,e9,KH,XH,b3,QH,n9,o9];const v_=J("slider.change.value"),r9=t=>t.type.indexOf("touch")!==-1,v3=t=>{const s=t.event.raw;if(r9(s)){const a=s;return a.touches!==void 0&&a.touches.length===1?x.some(a.touches[0]).map(i=>Dr(i.clientX,i.clientY)):x.none()}else{const a=s;return a.clientX!==void 0?x.some(a).map(i=>Dr(i.clientX,i.clientY)):x.none()}},a9="top",PB="right",BB="bottom",c9="left",Qb=t=>t.model.minX,e1=t=>t.model.minY,Lx=t=>t.model.minX-1,Hx=t=>t.model.minY-1,t1=t=>t.model.maxX,my=t=>t.model.maxY,w_=t=>t.model.maxX+1,k_=t=>t.model.maxY+1,Vx=(t,s,a)=>s(t)-a(t),w3=t=>Vx(t,t1,Qb),Ux=t=>Vx(t,my,e1),$B=t=>w3(t)/2,FB=t=>Ux(t)/2,p0=(t,s)=>s?t.stepSize*t.speedMultiplier:t.stepSize,IB=t=>t.snapToGrid,jx=t=>t.snapStart,bg=t=>t.rounded,Wx=(t,s)=>t[s+"-edge"]!==void 0,h0=t=>Wx(t,c9),LB=t=>Wx(t,PB),Zx=t=>Wx(t,a9),HB=t=>Wx(t,BB),Bp=t=>t.model.value.get(),gy=(t,s)=>({x:t,y:s}),Md=(t,s)=>{co(t,v_(),{value:s})},i9=(t,s)=>{Md(t,gy(Lx(s),Hx(s)))},k3=(t,s)=>{Md(t,Hx(s))},_3=(t,s)=>{Md(t,gy($B(s),Hx(s)))},C3=(t,s)=>{Md(t,gy(w_(s),Hx(s)))},l9=(t,s)=>{Md(t,w_(s))},Ku=(t,s)=>{Md(t,gy(w_(s),FB(s)))},u9=(t,s)=>{Md(t,gy(w_(s),k_(s)))},d9=(t,s)=>{Md(t,k_(s))},VB=(t,s)=>{Md(t,gy($B(s),k_(s)))},UB=(t,s)=>{Md(t,gy(Lx(s),k_(s)))},f9=(t,s)=>{Md(t,Lx(s))},m9=(t,s)=>{Md(t,gy(Lx(s),FB(s)))},S3=(t,s,a,i)=>t<s?t:t>a?a:t===s?s-1:Math.max(s,t-i),x3=(t,s,a,i)=>t>a?t:t<s?s:t===a?a+1:Math.min(a,t+i),jB=(t,s,a)=>Math.max(s,Math.min(a,t)),g9=(t,s,a,i,d)=>d.fold(()=>{const g=t-s,h=Math.round(g/i)*i;return jB(s+h,s-1,a+1)},g=>{const h=(t-g)%i,k=Math.round(h/i),S=Math.floor((t-g)/i),D=Math.floor((a-g)/i),N=Math.min(D,S+k),I=g+N*i;return Math.max(g,I)}),p9=(t,s,a)=>Math.min(a,Math.max(t,s))-s,E3=t=>{const{min:s,max:a,range:i,value:d,step:g,snap:h,snapStart:k,rounded:S,hasMinEdge:D,hasMaxEdge:N,minBound:I,maxBound:X,screenRange:Q}=t,ue=D?s-1:s,ye=N?a+1:a;if(d<I)return ue;if(d>X)return ye;{const Je=p9(d,I,X),Ae=jB(Je/Q*i+s,ue,ye);return h&&Ae>=s&&Ae<=a?g9(Ae,s,a,g,k):S?Math.round(Ae):Ae}},WB=t=>{const{min:s,max:a,range:i,value:d,hasMinEdge:g,hasMaxEdge:h,maxBound:k,maxOffset:S,centerMinEdge:D,centerMaxEdge:N}=t;return d<s?g?0:D:d>a?h?k:N:(d-s)/i*S},T3="top",ZB="right",A3="bottom",__="left",qB="width",GB="height",pm=t=>t.element.dom.getBoundingClientRect(),Pd=(t,s)=>t[s],y0=t=>{const s=pm(t);return Pd(s,__)},KB=t=>{const s=pm(t);return Pd(s,ZB)},b0=t=>{const s=pm(t);return Pd(s,T3)},n1=t=>{const s=pm(t);return Pd(s,A3)},O3=t=>{const s=pm(t);return Pd(s,qB)},D3=t=>{const s=pm(t);return Pd(s,GB)},R3=(t,s,a)=>(t+s)/2-a,YB=(t,s)=>{const a=pm(t),i=pm(s),d=Pd(a,__),g=Pd(a,ZB),h=Pd(i,__);return R3(d,g,h)},XB=(t,s)=>{const a=pm(t),i=pm(s),d=Pd(a,T3),g=Pd(a,A3),h=Pd(i,T3);return R3(d,g,h)},o1=(t,s)=>{co(t,v_(),{value:s})},z3=(t,s,a)=>{const i={min:Qb(s),max:t1(s),range:w3(s),value:a,step:p0(s),snap:IB(s),snapStart:jx(s),rounded:bg(s),hasMinEdge:h0(s),hasMaxEdge:LB(s),minBound:y0(t),maxBound:KB(t),screenRange:O3(t)};return E3(i)},h9=(t,s,a)=>{const i=z3(t,s,a);return o1(t,i),i},JB=(t,s)=>{const a=Qb(s);o1(t,a)},QB=(t,s)=>{const a=t1(s);o1(t,a)},N3=(t,s,a,i)=>{const g=(t>0?x3:S3)(Bp(a),Qb(a),t1(a),p0(a,i));return o1(s,g),x.some(g)},M3=t=>(s,a,i)=>N3(t,s,a,i).map(Ye),Cl=t=>v3(t).map(a=>a.left),e$=(t,s,a,i,d)=>{const h=O3(t),k=i.bind(N=>x.some(YB(N,t))).getOr(0),S=d.bind(N=>x.some(YB(N,t))).getOr(h),D={min:Qb(s),max:t1(s),range:w3(s),value:a,hasMinEdge:h0(s),hasMaxEdge:LB(s),minBound:y0(t),minOffset:0,maxBound:KB(t),maxOffset:h,centerMinEdge:k,centerMaxEdge:S};return WB(D)},P3=(t,s,a,i,d,g)=>{const h=e$(s,g,a,i,d);return y0(s)-y0(t)+h},y9=(t,s,a,i)=>{const d=Bp(a),g=P3(t,i.getSpectrum(t),d,i.getLeftEdge(t),i.getRightEdge(t),a),h=ce(s.element)/2;yt(s.element,"left",g-h+"px")},t$=M3(-1),b9=M3(1),v9=x.none,w9=x.none,n$={"top-left":x.none(),top:x.none(),"top-right":x.none(),right:x.some(l9),"bottom-right":x.none(),bottom:x.none(),"bottom-left":x.none(),left:x.some(f9)};var vg=Object.freeze({__proto__:null,setValueFrom:h9,setToMin:JB,setToMax:QB,findValueOfOffset:z3,getValueFromEvent:Cl,findPositionOfValue:P3,setPositionFromValue:y9,onLeft:t$,onRight:b9,onUp:v9,onDown:w9,edgeActions:n$});const v0=(t,s)=>{co(t,v_(),{value:s})},qx=(t,s,a)=>{const i={min:e1(s),max:my(s),range:Ux(s),value:a,step:p0(s),snap:IB(s),snapStart:jx(s),rounded:bg(s),hasMinEdge:Zx(s),hasMaxEdge:HB(s),minBound:b0(t),maxBound:n1(t),screenRange:D3(t)};return E3(i)},Gx=(t,s,a)=>{const i=qx(t,s,a);return v0(t,i),i},B3=(t,s)=>{const a=e1(s);v0(t,a)},k9=(t,s)=>{const a=my(s);v0(t,a)},_9=(t,s,a,i)=>{const g=(t>0?x3:S3)(Bp(a),e1(a),my(a),p0(a,i));return v0(s,g),x.some(g)},o$=t=>(s,a,i)=>_9(t,s,a,i).map(Ye),C9=t=>v3(t).map(a=>a.top),S9=(t,s,a,i,d)=>{const h=D3(t),k=i.bind(N=>x.some(XB(N,t))).getOr(0),S=d.bind(N=>x.some(XB(N,t))).getOr(h),D={min:e1(s),max:my(s),range:Ux(s),value:a,hasMinEdge:Zx(s),hasMaxEdge:HB(s),minBound:b0(t),minOffset:0,maxBound:n1(t),maxOffset:h,centerMinEdge:k,centerMaxEdge:S};return WB(D)},$3=(t,s,a,i,d,g)=>{const h=S9(s,g,a,i,d);return b0(s)-b0(t)+h},x9=(t,s,a,i)=>{const d=Bp(a),g=$3(t,i.getSpectrum(t),d,i.getTopEdge(t),i.getBottomEdge(t),a),h=Ys(s.element)/2;yt(s.element,"top",g-h+"px")},s$=x.none,E9=x.none,wg=o$(-1),Kx=o$(1),T9={"top-left":x.none(),top:x.some(k3),"top-right":x.none(),right:x.none(),"bottom-right":x.none(),bottom:x.some(d9),"bottom-left":x.none(),left:x.none()};var A9=Object.freeze({__proto__:null,setValueFrom:Gx,setToMin:B3,setToMax:k9,findValueOfOffset:qx,getValueFromEvent:C9,findPositionOfValue:$3,setPositionFromValue:x9,onLeft:s$,onRight:E9,onUp:wg,onDown:Kx,edgeActions:T9});const C_=(t,s)=>{co(t,v_(),{value:s})},S_=(t,s)=>({x:t,y:s}),F3=(t,s,a)=>{const i=z3(t,s,a.left),d=qx(t,s,a.top),g=S_(i,d);return C_(t,g),g},Yx=(t,s,a,i,d)=>{const g=t>0?x3:S3,h=s?Bp(i).x:g(Bp(i).x,Qb(i),t1(i),p0(i,d)),k=s?g(Bp(i).y,e1(i),my(i),p0(i,d)):Bp(i).y;return C_(a,S_(h,k)),x.some(h)},py=(t,s)=>(a,i,d)=>Yx(t,s,a,i,d).map(Ye),x_=(t,s)=>{const a=Qb(s),i=e1(s);C_(t,S_(a,i))},r$=(t,s)=>{const a=t1(s),i=my(s);C_(t,S_(a,i))},a$=t=>v3(t),c$=(t,s,a,i)=>{const d=Bp(a),g=P3(t,i.getSpectrum(t),d.x,i.getLeftEdge(t),i.getRightEdge(t),a),h=$3(t,i.getSpectrum(t),d.y,i.getTopEdge(t),i.getBottomEdge(t),a),k=ce(s.element)/2,S=Ys(s.element)/2;yt(s.element,"left",g-k+"px"),yt(s.element,"top",h-S+"px")},i$=py(-1,!1),O9=py(1,!1),D9=py(-1,!0),R9=py(1,!0),z9={"top-left":x.some(i9),top:x.some(_3),"top-right":x.some(C3),right:x.some(Ku),"bottom-right":x.some(u9),bottom:x.some(VB),"bottom-left":x.some(UB),left:x.some(m9)};var N9=Object.freeze({__proto__:null,setValueFrom:F3,setToMin:x_,setToMax:r$,getValueFromEvent:a$,setPositionFromValue:c$,onLeft:i$,onRight:O9,onUp:D9,onDown:R9,edgeActions:z9});const l$=[it("stepSize",1),it("speedMultiplier",10),it("onChange",ae),it("onChoose",ae),it("onInit",ae),it("onDragStart",ae),it("onDragEnd",ae),it("snapToGrid",!1),it("rounded",!0),Fs("snapStart"),Vs("model",wa("mode",{x:[it("minX",0),it("maxX",100),Hs("value",t=>uo(t.mode.minX)),Xt("getInitialValue"),Nr("manager",vg)],y:[it("minY",0),it("maxY",100),Hs("value",t=>uo(t.mode.minY)),Xt("getInitialValue"),Nr("manager",A9)],xy:[it("minX",0),it("maxX",100),it("minY",0),it("maxY",100),Hs("value",t=>uo({x:t.mode.minX,y:t.mode.minY})),Xt("getInitialValue"),Nr("manager",N9)]})),Ac("sliderBehaviours",[So,jn]),Hs("mouseIsDown",()=>uo(!1))],Tf=Qc({name:"Slider",configFields:l$,partFields:s9,factory:(t,s,a,i)=>{const d=Et=>Wn(Et,t,"thumb"),g=Et=>Wn(Et,t,"spectrum"),h=Et=>vr(Et,t,"left-edge"),k=Et=>vr(Et,t,"right-edge"),S=Et=>vr(Et,t,"top-edge"),D=Et=>vr(Et,t,"bottom-edge"),N=t.model,I=N.manager,X=(Et,Cn)=>{I.setPositionFromValue(Et,Cn,t,{getLeftEdge:h,getRightEdge:k,getTopEdge:S,getBottomEdge:D,getSpectrum:g})},Q=(Et,Cn)=>{N.value.set(Cn);const Kn=d(Et);X(Et,Kn)},ue=(Et,Cn)=>{Q(Et,Cn);const Kn=d(Et);return t.onChange(Et,Kn,Cn),x.some(!0)},ye=Et=>{I.setToMin(Et,t)},Je=Et=>{I.setToMax(Et,t)},Ae=Et=>{const Cn=()=>{vr(Et,t,"thumb").each(qt=>{const Yn=N.value.get();t.onChoose(Et,qt,Yn)})},Kn=t.mouseIsDown.get();t.mouseIsDown.set(!1),Kn&&Cn()},Ke=(Et,Cn)=>{Cn.stop(),t.mouseIsDown.set(!0),t.onDragStart(Et,d(Et))},ot=(Et,Cn)=>{Cn.stop(),t.onDragEnd(Et,d(Et)),Ae(Et)},_t=Et=>{vr(Et,t,"spectrum").map(So.focusIn)};return{uid:t.uid,dom:t.dom,components:s,behaviours:Oc(t.sliderBehaviours,[So.config({mode:"special",focusIn:_t}),jn.config({store:{mode:"manual",getValue:Et=>N.value.get(),setValue:Q}}),hl.config({channels:{[Ev()]:{onReceive:Ae}}})]),events:or([Jt(v_(),(Et,Cn)=>{ue(Et,Cn.event.value)}),Wr((Et,Cn)=>{const Kn=N.getInitialValue();N.value.set(Kn);const qt=d(Et);X(Et,qt);const Yn=g(Et);t.onInit(Et,qt,Yn,N.value.get())}),Jt(tu(),Ke),Jt(zs(),ot),Jt(ia(),(Et,Cn)=>{_t(Et),Ke(Et,Cn)}),Jt(ah(),ot)]),apis:{resetToMin:ye,resetToMax:Je,setValue:Q,refresh:X},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,s,a)=>{t.setValue(s,a)},resetToMin:(t,s)=>{t.resetToMin(s)},resetToMax:(t,s)=>{t.resetToMax(s)},refresh:(t,s)=>{t.refresh(s)}}}),Xx=Xn("rgb-hex-update"),u$=Xn("slider-update"),I3=Xn("palette-update"),E_=(t,s)=>{const a=Tf.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),i=Tf.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return Tf.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:J(0)},components:[a,i],sliderBehaviours:hn([Fo.config({})]),onChange:(d,g,h)=>{V(d.element,"aria-valuenow",Math.floor(360-h*3.6)),co(d,u$,{value:h})}})},d$="form",f$=[Ac("formBehaviours",[jn])],m$=t=>"<alloy.field."+t+">",P9=t=>{const s=(()=>{const g=[];return{field:(k,S)=>(g.push(k),$v(d$,m$(k),S)),record:J(g)}})(),a=t(s),i=s.record(),d=Pe(i,g=>di({name:g,pname:m$(g)}));return Eb(d$,f$,d,$9,a)},B9=(t,s)=>t.fold(()=>Jo.error(s),Jo.value),$9=(t,s)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Oc(t.formBehaviours,[jn.config({store:{mode:"manual",getValue:a=>{const i=y2(a,t);return Vn(i,(d,g)=>d().bind(h=>{const k=Es.getCurrent(h);return B9(k,new Error(`Cannot find a current component to extract the value from for form part '${g}': `+Wm(h.element)))}).map(jn.getValue))},setValue:(a,i)=>{Un(i,(d,g)=>{vr(a,t,g).each(h=>{Es.getCurrent(h).each(k=>{jn.setValue(k,d)})})})}}})]),apis:{getField:(a,i)=>vr(a,t,i).bind(Es.getCurrent)}}),s1={getField:K1((t,s,a)=>t.getField(s,a)),sketch:P9},g$=Xn("valid-input"),L3=Xn("invalid-input"),Jx=Xn("validating-input"),hm="colorcustom.rgb.",H3={isEnabled:Ye,setEnabled:ae,immediatelyShow:ae,immediatelyHide:ae},p$=(t,s,a,i,d,g)=>{const h=(ye,Je)=>{const Ae=Je.get();ye!==Ae.isEnabled()&&(Ae.setEnabled(ye),ye?Ae.immediatelyShow():Ae.immediatelyHide())},k=(ye,Je,Ae)=>yg.config({invalidClass:s("invalid"),notify:{onValidate:Ke=>{co(Ke,Jx,{type:ye})},onValid:Ke=>{h(!1,Ae),co(Ke,g$,{type:ye,value:jn.getValue(Ke)})},onInvalid:Ke=>{h(!0,Ae),co(Ke,L3,{type:ye,value:jn.getValue(Ke)})}},validator:{validate:Ke=>{const ot=jn.getValue(Ke),_t=Je(ot)?Jo.value(!0):Jo.error(t("aria.input.invalid"));return Di.pure(_t)},validateOnLoad:!1}}),S=(ye,Je,Ae,Ke,ot)=>{const _t=uo(H3),Et=t(hm+"range"),Cn=Js.parts.label({dom:{tag:"label"},components:[la(Ae)]}),Kn=Js.parts.field({data:ot,factory:um,inputAttributes:ie({type:"text","aria-label":Ke},Je==="hex"?{"aria-live":"polite"}:{}),inputClasses:[s("textfield")],inputBehaviours:hn([k(Je,ye,_t),Xr.config({}),Ea.config(ie({},d({tooltipText:"",onSetup:Ws=>{_t.set({isEnabled:()=>Ea.isEnabled(Ws),setEnabled:ro=>Ea.setEnabled(Ws,ro),immediatelyShow:()=>Ea.immediateOpenClose(Ws,!0),immediatelyHide:()=>Ea.immediateOpenClose(Ws,!1)}),Ea.setEnabled(Ws,!1)},onShow:(Ws,ro)=>{Ea.setComponents(Ws,[{dom:{tag:"p",classes:[s("rgb-warning-note")]},components:[la(t(Je==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})))]),onSetValue:Ws=>{yg.isInvalid(Ws)&&yg.run(Ws).get(ae)}}),qt=Xn("aria-invalid"),Yn=Zs(g("invalid",x.some(qt),"warning")),$n=Zs({dom:{tag:"div",classes:[s("invalid-icon")]},components:[Yn.asSpec()]}),to=[Cn,Kn,$n.asSpec()],ws=Je!=="hex"?[Js.parts["aria-descriptor"]({text:Et})]:[],Fr=to.concat(ws);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[s("rgb-container")]},components:Fr}},D=(ye,Je)=>{const Ae=a0(Je);return s1.getField(ye,"hex").each(Ke=>{Fo.isFocused(Ke)||jn.setValue(ye,{hex:Ae.value})}),Ae},N=(ye,Je)=>{const Ae=Je.red,Ke=Je.green,ot=Je.blue;jn.setValue(ye,{red:Ae,green:Ke,blue:ot})},I=Zs({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),X=(ye,Je)=>{I.getOpt(ye).each(Ae=>{yt(Ae.element,"background-color","#"+Je.value)})};return wl({factory:()=>{const ye={red:uo(x.some(255)),green:uo(x.some(255)),blue:uo(x.some(255)),hex:uo(x.some("ffffff"))},Je=(ro,un)=>{const Mn=i_(un);N(ro,Mn),_t(Mn)},Ae=ro=>ye[ro].get(),Ke=(ro,un)=>{ye[ro].set(un)},ot=()=>Ae("red").bind(ro=>Ae("green").bind(un=>Ae("blue").map(Mn=>Gb(ro,un,Mn,1)))),_t=ro=>{const un=ro.red,Mn=ro.green,Lo=ro.blue;Ke("red",x.some(un)),Ke("green",x.some(Mn)),Ke("blue",x.some(Lo))},Et=(ro,un)=>{const Mn=un.event;Mn.type!=="hex"?Ke(Mn.type,x.none()):i(ro)},Cn=(ro,un)=>{a(ro);const Mn=Cx(un);Ke("hex",x.some(Mn.value));const Lo=i_(Mn);N(ro,Lo),_t(Lo),co(ro,Xx,{hex:Mn}),X(ro,Mn)},Kn=(ro,un,Mn)=>{const Lo=parseInt(Mn,10);Ke(un,x.some(Lo)),ot().each(os=>{const wo=D(ro,os);co(ro,Xx,{hex:wo}),X(ro,wo)})},qt=ro=>ro.type==="hex",Yn=(ro,un)=>{const Mn=un.event;qt(Mn)?Cn(ro,Mn.value):Kn(ro,Mn.type,Mn.value)},$n=ro=>({label:t(hm+ro+".label"),description:t(hm+ro+".description")}),to=$n("red"),ws=$n("green"),Fr=$n("blue"),Ws=$n("hex");return br(s1.sketch(ro=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[ro.field("red",Js.sketch(S(q4,"red",to.label,to.description,255))),ro.field("green",Js.sketch(S(q4,"green",ws.label,ws.description,255))),ro.field("blue",Js.sketch(S(q4,"blue",Fr.label,Fr.description,255))),ro.field("hex",Js.sketch(S(U4,"hex",Ws.label,Ws.description,"ffffff"))),I.asSpec()],formBehaviours:hn([yg.config({invalidClass:s("form-invalid")}),Yo("rgb-form-events",[Jt(g$,Yn),Jt(L3,Et),Jt(Jx,Et)])])})),{apis:{updateHex:(ro,un)=>{jn.setValue(ro,{hex:un.value}),Je(ro,un),X(ro,un)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(ye,Je,Ae)=>{ye.updateHex(Je,Ae)}},extraApis:{}})},h$=(t,s)=>{const a=Tf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),i=Tf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),d=(D,N)=>{const{width:I,height:X}=D,Q=D.getContext("2d");if(Q===null)return;Q.fillStyle=N,Q.fillRect(0,0,I,X);const ue=Q.createLinearGradient(0,0,I,0);ue.addColorStop(0,"rgba(255,255,255,1)"),ue.addColorStop(1,"rgba(255,255,255,0)"),Q.fillStyle=ue,Q.fillRect(0,0,I,X);const ye=Q.createLinearGradient(0,0,0,X);ye.addColorStop(0,"rgba(0,0,0,0)"),ye.addColorStop(1,"rgba(0,0,0,1)"),Q.fillStyle=ye,Q.fillRect(0,0,I,X)},g=(D,N)=>{const I=D.components()[0].element.dom,X=Xb(N,100,100),Q=DP(X);d(I,zP(Q))},h=(D,N)=>{const I=u_(i_(N));Tf.setValue(D,{x:I.saturation,y:100-I.value}),V(D.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",I.saturation,I.value]))};return wl({factory:D=>{const N=J({x:0,y:0}),I=(ue,ye,Je)=>{tt(Je)||V(ue.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",Math.floor(Je.x),Math.floor(100-Je.y)])),co(ue,I3,{value:Je})},X=(ue,ye,Je,Ae)=>{d(Je.element.dom,zP(NP))},Q=hn([Es.config({find:x.some}),Fo.config({})]);return Tf.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":t(["Saturation {0}%, Brightness {1}%",0,0])},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:N},rounded:!1,components:[a,i],onChange:I,onInit:X,sliderBehaviours:Q})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(D,N,I)=>{g(N,I)},setThumb:(D,N,I)=>{h(N,I)}},extraApis:{}})},V3=(t,s,a,i)=>{const d=h=>{const k=p$(t,s,h.onValidHex,h.onInvalidHex,a,i),S=h$(t,s),D=qt=>(100-qt)/100*360,N=qt=>100-qt/360*100,I={paletteRgba:uo(NP),paletteHue:uo(0)},X=Zs(E_(t,s)),Q=Zs(S.sketch({})),ue=Zs(k.sketch({})),ye=(qt,Yn,$n)=>{Q.getOpt(qt).each(to=>{S.setHue(to,$n)})},Je=(qt,Yn)=>{ue.getOpt(qt).each($n=>{k.updateHex($n,Yn)})},Ae=(qt,Yn,$n)=>{X.getOpt(qt).each(to=>{Tf.setValue(to,N($n))})},Ke=(qt,Yn)=>{Q.getOpt(qt).each($n=>{S.setThumb($n,Yn)})},ot=(qt,Yn)=>{const $n=i_(qt);I.paletteRgba.set($n),I.paletteHue.set(Yn)},_t=(qt,Yn,$n,to)=>{ot(Yn,$n),gt(to,ws=>{ws(qt,Yn,$n)})},Et=()=>{const qt=[Je];return(Yn,$n)=>{const to=$n.event.value,ws=I.paletteHue.get(),Fr=Xb(ws,to.x,100-to.y),Ws=UP(Fr);_t(Yn,Ws,ws,qt)}},Cn=()=>{const qt=[ye,Je];return(Yn,$n)=>{const to=D($n.event.value),ws=I.paletteRgba.get(),Fr=u_(ws),Ws=Xb(to,Fr.saturation,Fr.value),ro=UP(Ws);_t(Yn,ro,to,qt)}},Kn=()=>{const qt=[ye,Ae,Ke];return(Yn,$n)=>{const to=$n.event.hex,ws=VP(to);_t(Yn,to,ws.hue,qt)}};return{uid:h.uid,dom:h.dom,components:[Q.asSpec(),X.asSpec(),ue.asSpec()],behaviours:hn([Yo("colour-picker-events",[Jt(Xx,Kn()),Jt(I3,Et()),Jt(u$,Cn())]),Es.config({find:qt=>ue.getOpt(qt)}),So.config({mode:"acyclic"})])}};return wl({name:"ColourPicker",configFields:[Xt("dom"),it("onValidHex",ae),it("onInvalidHex",ae)],factory:d})},Bd={self:()=>Es.config({find:x.some}),memento:t=>Es.config({find:t.getOpt}),childAt:t=>Es.config({find:s=>Gr(s.element,t).bind(a=>s.getSystem().getByDom(a).toOptional())})},L9=To([it("preprocess",Zt),it("postprocess",Zt)]),H9=(t,s)=>{const a=ci("RepresentingConfigs.memento processors",L9,s);return jn.config({store:{mode:"manual",getValue:i=>{const d=t.get(i),g=jn.getValue(d);return a.postprocess(g)},setValue:(i,d)=>{const g=a.preprocess(d),h=t.get(i);jn.setValue(h,g)}}})},r1=(t,s,a)=>jn.config({store:Pt(ie({mode:"manual"},t.map(i=>({initialValue:i})).getOr({})),{getValue:s,setValue:a})}),y$=(t,s,a)=>r1(t,i=>s(i.element),(i,d)=>a(i.element,d)),V9=t=>y$(t,Xf,gl),T_=t=>jn.config({store:{mode:"memory",initialValue:t}}),b$={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},U9=t=>s=>Y(s)?t.translate(b$[s]):t.translate(s),j9=(t,s,a)=>{const i=D=>"tox-"+D,d=(D,N,I=D,X=D)=>Wu(I,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+D],attributes:ie({title:s.translate(X),"aria-live":"polite"},N.fold(()=>({}),Q=>({id:Q})))},s.icons),g=V3(U9(s),i,s.tooltips.getConfig,d),h=D=>{co(D,hg,{name:"hex-valid",value:!0})},k=D=>{co(D,hg,{name:"hex-valid",value:!1})},S=Zs(g.sketch({dom:{tag:"div",classes:[i("color-picker-container")],attributes:{role:"presentation"}},onValidHex:h,onInvalidHex:k}));return{dom:{tag:"div"},components:[S.asSpec()],behaviours:hn([r1(a,D=>{const N=S.get(D);return Es.getCurrent(N).bind(Q=>jn.getValue(Q).hex).map(Q=>"#"+An(Q,"#")).getOr("")},(D,N)=>{const I=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,X=x.from(I.exec(N)).bind(ye=>Lt(ye,1)),Q=S.get(D);Es.getCurrent(Q).fold(()=>{console.log("Can not find form")},ye=>{jn.setValue(ye,{hex:X.getOr("")}),s1.getField(ye,"hex").each(Je=>{ms(Je,hd())})})}),Bd.self()])}};var W9=tinymce.util.Tools.resolve("tinymce.Resource");const A_=t=>Go(t,"init"),Z9=t=>{const s=$s(),a=Zs({dom:{tag:t.tag}}),i=$s(),d=!A_(t)&&t.onFocus.isSome()?[Fo.config({onFocus:g=>{t.onFocus.each(h=>{h(g.element.dom)})}}),Xr.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:hn([Yo("custom-editor-events",[Wr(g=>{a.getOpt(g).each(h=>{(A_(t)?t.init(h.element.dom):W9.load(t.scriptId,t.scriptUrl).then(k=>k(h.element.dom,t.settings))).then(k=>{i.on(S=>{k.setValue(S)}),i.clear(),s.set(k)})})})]),r1(x.none(),()=>s.get().fold(()=>i.get().getOr(""),g=>g.getValue()),(g,h)=>{s.get().fold(()=>i.set(h),k=>k.setValue(h))}),Bd.self()].concat(d)),components:[a.asSpec()]}};var $p=tinymce.util.Tools.resolve("tinymce.util.Tools");const Qx=Xn("browse.files.event"),v$=(t,s)=>{const a=$p.explode(s.getOption("images_file_types")),i=d=>En(a,g=>mr(d.name.toLowerCase(),`.${g.toLowerCase()}`));return wt(ft(t),i)},q9=(t,s,a)=>{const i=(X,Q)=>{Q.stop()},d=X=>(Q,ue)=>{gt(X,ye=>{ye(Q,ue)})},g=(X,Q)=>{var ue;if(!Po.isDisabled(X)){const ye=Q.event.raw;co(X,Qx,{files:(ue=ye.dataTransfer)===null||ue===void 0?void 0:ue.files})}},h=(X,Q)=>{const ue=Q.event.raw.target;co(X,Qx,{files:ue.files})},k=(X,Q)=>{Q&&(jn.setValue(X,v$(Q,s)),co(X,Ll,{name:t.name}))},S=Zs({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:hn([Yo("input-file-events",[Zg(Vg()),Zg(O1())])])}),D=t.label.map(X=>dy(X,s)),N=Js.parts.field({factory:yc,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[la(s.translate("Browse for an image")),S.asSpec()],action:X=>{S.get(X).element.dom.click()},buttonBehaviours:hn([Bd.self(),T_(a.getOr([])),Xr.config({}),qu.button(()=>s.checkUiComponentContext(t.context).shouldDisable),La(()=>s.checkUiComponentContext(t.context))])}),I={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:hn([Po.config({disabled:()=>s.checkUiComponentContext(t.context).shouldDisable}),La(()=>s.checkUiComponentContext(t.context)),as.config({toggleClass:"dragenter",toggleOnExecute:!1}),Yo("dropzone-events",[Jt("dragenter",d([i,as.toggle])),Jt("dragleave",d([i,as.toggle])),Jt("dragover",i),Jt("drop",d([i,g])),Jt(lf(),h)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[la(s.translate("Drop an image here"))]},N]}]};return f0(D,I,["tox-form__group--stretched"],[Yo("handle-files",[Jt(Qx,(X,Q)=>{Js.getField(X).each(ue=>{k(ue,Q.event.files)})})])])},G9=(t,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:Pe(t.items,s.interpreter)}),j3=(t,s)=>{let a=null,i=null;return{cancel:()=>{$t(a)||(clearTimeout(a),a=null,i=null)},throttle:(...h)=>{i=h,$t(a)&&(a=setTimeout(()=>{const k=i;a=null,i=null,t.apply(null,k)},s))}}},K9=(t,s)=>{let a=null;return{cancel:()=>{$t(a)||(clearTimeout(a),a=null)},throttle:(...g)=>{$t(a)&&(a=setTimeout(()=>{a=null,t.apply(null,g)},s))}}},eE=(t,s)=>{let a=null;const i=()=>{$t(a)||(clearTimeout(a),a=null)};return{cancel:i,throttle:(...g)=>{i(),a=setTimeout(()=>{a=null,t.apply(null,g)},s)}}},W3=Xn("alloy-fake-before-tabstop"),Z3=Xn("alloy-fake-after-tabstop"),w$=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:hn([Fo.config({ignore:!0}),Xr.config({})])}),q3=(t,s)=>({dom:{tag:"div",classes:["tox-navobj",...t.getOr([])]},components:[w$([W3]),s,w$([Z3])],behaviours:hn([Bd.childAt(1)])}),G3=(t,s)=>{co(t,nu(),{raw:{which:9,shiftKey:s}})},Y9=(t,s)=>{const a=s.element;ji(a,W3)?G3(t,!0):ji(a,Z3)&&G3(t,!1)},O_=t=>p_(t,["."+W3,"."+Z3].join(","),We),tE=Xn("update-dialog"),k$=Xn("update-title"),K3=Xn("update-body"),_$=Xn("update-footer"),Y3=Xn("body-send-message"),nE=Xn("dialog-focus-shifted"),X3=rs().browser,D_=X3.isSafari(),X9=X3.isFirefox(),C$=D_||X9,J9=X3.isChromium(),Q9=({scrollTop:t,scrollHeight:s,clientHeight:a})=>Math.ceil(t)+a>=s,S$=(t,s)=>t.scrollTo(0,s==="bottom"?99999999:s),eV=(t,s)=>{const a=t.body;return x.from(!/^<!DOCTYPE (html|HTML)/.test(s)&&(!J9&&!D_||It(a)&&(a.scrollTop!==0||Math.abs(a.scrollHeight-a.clientHeight)>1))?a:t.documentElement)},oE=(t,s,a)=>{const i=t.dom;x.from(i.contentDocument).fold(a,d=>{let g=0;const h=eV(d,s).map(S=>(g=S.scrollTop,S)).forall(Q9),k=()=>{const S=i.contentWindow;It(S)&&(h?S$(S,"bottom"):!h&&C$&&g!==0&&S$(S,g))};D_&&i.addEventListener("load",k,{once:!0}),d.open(),d.write(s),d.close(),D_||k()})},tV=ao(C$,D_?500:200).map(t=>j3(oE,t)),nV=(t,s)=>{const a=uo(t.getOr(""));return{getValue:i=>a.get(),setValue:(i,d)=>{if(a.get()!==d){const g=i.element,h=()=>V(g,"srcdoc",d);s?tV.fold(J(oE),k=>k.throttle)(g,d,h):h()}a.set(d)}}},R_=(t,s,a)=>{const i="tox-dialog__iframe",d=t.transparent?[]:[`${i}--opaque`],g=t.border?["tox-navobj-bordered"]:[],h=ie(ie(ie({},t.label.map(I=>({title:I})).getOr({})),a.map(I=>({srcdoc:I})).getOr({})),t.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}),k=nV(a,t.streamContent),S=t.label.map(I=>dy(I,s)),D=I=>q3(x.from(g),{uid:I.uid,dom:{tag:"iframe",attributes:h,classes:[i,...d]},behaviours:hn([Xr.config({}),Fo.config({}),r1(a,k.getValue,k.setValue),hl.config({channels:{[nE]:{onReceive:(X,Q)=>{Q.newFocus.each(ue=>{Qa(X.element).each(ye=>{(Rs(X.element,ue)?Ia:sr)(ye,"tox-navobj-bordered-focus")})})}}}})])}),N=Js.parts.field({factory:{sketch:D}});return f0(S,N,["tox-form__group--stretched"],[])},J3=t=>new Promise((s,a)=>{const i=()=>{g(),s(t)},d=[Wi(t,"load",i),Wi(t,"error",()=>{g(),a("Unable to load data from image: "+t.dom.src)})],g=()=>gt(d,h=>h.unbind());t.dom.complete&&i()}),oV=(t,s,a,i,d)=>{const g=a*d,h=i*d,k=Math.max(0,t/2-g/2),S=Math.max(0,s/2-h/2);return{left:k.toString()+"px",top:S.toString()+"px",width:g.toString()+"px",height:h.toString()+"px"}},sV=(t,s,a)=>{const i=ce(t),d=Ys(t);return Math.min(i/s,d/a,1)},Q3=(t,s)=>{const a=uo(s.getOr({url:""})),i=Zs({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(S=>({src:S.url})).getOr({})}}),d=Zs({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[i.asSpec()]}),g=(S,D)=>{const N={url:D.url};D.zoom.each(X=>N.zoom=X),D.cachedWidth.each(X=>N.cachedWidth=X),D.cachedHeight.each(X=>N.cachedHeight=X),a.set(N);const I=()=>{const{cachedWidth:X,cachedHeight:Q,zoom:ue}=N;if(!Bt(X)&&!Bt(Q)){if(Bt(ue)){const Je=sV(S.element,X,Q);N.zoom=Je}const ye=oV(ce(S.element),Ys(S.element),X,Q,N.zoom);d.getOpt(S).each(Je=>{Ro(Je.element,ye)})}};i.getOpt(S).each(X=>{const Q=X.element;D.url!==$e(Q,"src")&&(V(Q,"src",D.url),sr(S.element,"tox-imagepreview__loaded")),I(),J3(Q).then(ue=>{S.getSystem().isConnected()&&(Ia(S.element,"tox-imagepreview__loaded"),N.cachedWidth=ue.dom.naturalWidth,N.cachedHeight=ue.dom.naturalHeight,I())})})},h={};t.height.each(S=>h.height=S);const k=s.map(S=>({url:S.url,zoom:x.from(S.zoom),cachedWidth:x.from(S.cachedWidth),cachedHeight:x.from(S.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:h,attributes:{role:"presentation"}},components:[d.asSpec()],behaviours:hn([Bd.self(),r1(k,()=>a.get(),g)])}},rV=(t,s,a)=>{const i="tox-label",d=t.align==="center"?[`${i}--center`]:[],g=t.align==="end"?[`${i}--end`]:[],h=Zs({dom:{tag:"label",classes:[i,...d,...g]},components:[la(s.providers.translate(t.label))]}),k=Pe(t.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[h.asSpec(),...k],behaviours:hn([Bd.self(),Zo.config({}),V9(x.none()),So.config({mode:"acyclic"}),Yo("label",[Wr(S=>{t.for.each(D=>{a(D).each(N=>{h.getOpt(S).each(I=>{var X;const Q=(X=$e(N.element,"id"))!==null&&X!==void 0?X:Xn("form-field");V(N.element,"id",Q),V(I.element,"for",Q)})})})})])])}},sE=Xn("toolbar.button.execute"),x$=t=>Gf((s,a)=>{kx(t,s)(i=>{co(s,sE,{buttonApi:i}),t.onAction(i)})}),a1=Xn("common-button-display-events"),E$={[Hc()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[sl()]:["toolbar-button-events",a1],[Rl()]:["toolbar-button-events","dropdown-events","tooltipping"],[ia()]:["focusing","alloy.base.behaviour",a1]},rE=t=>yt(t.element,"width",Ls(t.element,"width")),eD=(t,s,a)=>Wu(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:a},s),tD=(t,s)=>eD(t,s,[]),Fp=(t,s)=>eD(t,s,[Zo.config({})]),nD=(t,s,a)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[la(a.translate(t))],behaviours:hn([Zo.config({})])}),$d=Xn("update-menu-text"),hy=Xn("update-menu-icon"),aE=(t,s,a,i)=>{const d=uo(ae),g=t.text.map(ye=>Zs(nD(ye,s,a.providers))),h=t.icon.map(ye=>Zs(Fp(ye,a.providers.icons))),k=(ye,Je)=>{const Ae=jn.getValue(ye);return Fo.focus(Ae),co(Ae,"keydown",{raw:Je.event.raw}),Gu.close(Ae),x.some(!0)},S=t.role.fold(()=>({}),ye=>({role:ye})),D=x.from(t.listRole).map(ye=>({listRole:ye})).getOr({}),N=t.ariaLabel.fold(()=>({}),ye=>({"aria-label":a.providers.translate(ye)})),I=Wu("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},a.providers.icons),X=Xn("common-button-display-events"),Q="dropdown-events";return Zs(Gu.sketch(Pt(ie(ie(ie({},t.uid?{uid:t.uid}:{}),S),D),{dom:{tag:"button",classes:[s,`${s}--select`].concat(Pe(t.classes,ye=>`${s}--${ye}`)),attributes:ie(ie({},N),It(i)?{"data-mce-name":i}:{})},components:uy([h.map(ye=>ye.asSpec()),g.map(ye=>ye.asSpec()),x.some(I)]),matchWidth:!0,useMinWidth:!0,onOpen:(ye,Je,Ae)=>{t.searchable&&Px(Ae)},dropdownBehaviours:hn([...t.dropdownBehaviours,qu.button(()=>t.disabled||a.providers.checkUiComponentContext(t.context).shouldDisable),La(()=>a.providers.checkUiComponentContext(t.context)),g0.config({}),Zo.config({}),...t.tooltip.map(ye=>Ea.config(a.providers.tooltips.getConfig({tooltipText:a.providers.translate(ye)}))).toArray(),Yo(Q,[iy(t,d),ly(t,d)]),Yo(X,[Wr((ye,Je)=>{t.listRole!=="listbox"&&rE(ye)})]),Yo("update-dropdown-width-variable",[Jt(jg(),(ye,Je)=>Gu.close(ye))]),Yo("menubutton-update-display-text",[Jt($d,(ye,Je)=>{g.bind(Ae=>Ae.getOpt(ye)).each(Ae=>{Zo.set(Ae,[la(a.providers.translate(Je.event.text))])})}),Jt(hy,(ye,Je)=>{h.bind(Ae=>Ae.getOpt(ye)).each(Ae=>{Zo.set(Ae,[Fp(Je.event.icon,a.providers.icons)])})})])]),eventOrder:br(E$,{[ia()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[sl()]:["toolbar-button-events",Ea.name(),Q,X]}),sandboxBehaviours:hn([So.config({mode:"special",onLeft:k,onRight:k}),Yo("dropdown-sandbox-events",[Jt(b4,(ye,Je)=>{vH(ye),Je.stop()}),Jt(eP,(ye,Je)=>{wH(ye,Je),Je.stop()})])]),lazySink:a.getSink,toggleClass:`${s}--active`,parts:{menu:ie(Pt(ie({},Yk(!1,t.columns,t.presets)),{fakeFocus:t.searchable}),t.listRole==="listbox"?{}:{onHighlightItem:g_,onCollapseMenu:(ye,Je,Ae)=>{xn.getHighlighted(Ae).each(Ke=>{g_(ye,Ae,Ke)})},onDehighlightItem:CH})},getAnchorOverrides:()=>({maxHeightFunction:(ye,Je)=>{TS()(ye,Je-10)}}),fetch:ye=>Di.nu(gn(t.fetch,ye))}))).asSpec()},T$=t=>Y(t),A$=t=>t.type==="separator",aV=t=>Go(t,"getSubmenuItems"),cV={type:"separator"},O$=(t,s)=>{const a=st(t,(i,d)=>T$(d)?d===""?i:d==="|"?i.length>0&&!A$(i[i.length-1])?i.concat([cV]):i:Go(s,d.toLowerCase())?i.concat([s[d.toLowerCase()]]):i:i.concat([d]),[]);return a.length>0&&A$(a[a.length-1])&&a.pop(),a},iV=(t,s)=>{const a=t.getSubmenuItems(),i=R$(a,s),d=br(i.menus,{[t.value]:i.items}),g=br(i.expansions,{[t.value]:t.value});return{item:t,menus:d,expansions:g}},D$=t=>{const s=on(t,"value").getOrThunk(()=>Xn("generated-menu-item"));return br({value:s},t)},R$=(t,s)=>{const a=O$(Y(t)?t.split(" "):t,s);return Yt(a,(i,d)=>{if(aV(d)){const g=D$(d),h=iV(g,s);return{menus:br(i.menus,h.menus),items:[h.item,...i.items],expansions:br(i.expansions,h.expansions)}}else return Pt(ie({},i),{items:[d,...i.items]})},{menus:{},expansions:{},items:[]})},lV=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),oD=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),w0=(t,s,a,i)=>{const d=Xn("primary-menu"),g=R$(t,a.shared.providers.menuItems());if(g.items.length===0)return x.none();const h=lV(i),k=TH(d,g.items,s,a,i.isHorizontalMenu,h),S=oD(i),D=Vn(g.menus,(I,X)=>TH(X,I,s,a,!1,S)),N=br(D,$o(d,k));return x.from(mg.tieredData(d,N,g.expansions))},cE=t=>!Go(t,"items"),z$="data-value",iE=(t,s,a,i,d)=>Pe(a,g=>cE(g)?Pt(ie({type:"togglemenuitem"},d?{}:{role:"option"}),{text:g.text,value:g.value,active:g.value===i,onAction:()=>{jn.setValue(t,g.value),co(t,Ll,{name:s}),Fo.focus(t)}}):{type:"nestedmenuitem",text:g.text,getSubmenuItems:()=>iE(t,s,g.items,i,d)}),sD=(t,s)=>an(t,a=>cE(a)?ao(a.value===s,a):sD(a.items,s)),N$=(t,s,a)=>{const i=En(t.items,D=>!cE(D)),d=s.shared.providers,g=a.bind(D=>sD(t.items,D)).orThunk(()=>Sn(t.items).filter(cE)),h=t.label.map(D=>dy(D,d)),k=Js.parts.field({dom:{},factory:{sketch:D=>aE(Pt(ie({context:t.context,uid:D.uid,text:g.map(N=>N.text),icon:x.none(),tooltip:x.none(),role:ao(!i,"combobox")},i?{}:{listRole:"listbox"}),{ariaLabel:t.label,fetch:(N,I)=>{const X=iE(N,t.name,t.items,jn.getValue(N),i);I(w0(X,Cf.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:x.none()}))},onSetup:J(ae),getApi:J({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Xr.config({}),r1(g.map(N=>N.value),N=>$e(N.element,z$),(N,I)=>{sD(t.items,I).each(X=>{V(N.element,z$,X.value),co(N,$d,{text:X.text})})})]}),"tox-listbox",s.shared)}}),S={dom:{tag:"div",classes:["tox-listboxfield"]},components:[k]};return Js.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:De([h.toArray(),[S]]),fieldBehaviours:hn([Po.config({disabled:()=>!t.enabled||d.checkUiComponentContext(t.context).shouldDisable,onDisabled:D=>{Js.getField(D).each(Po.disable)},onEnabled:D=>{Js.getField(D).each(Po.enable)}})])})},uV=(t,s)=>({dom:{tag:"div",classes:t.classes},components:Pe(t.items,s.shared.interpreter)}),M$=(t,s)=>{const a=Pe(t.options,d=>({dom:{tag:"option",value:d.value,innerHtml:d.text}})),i=t.data.map(d=>$o("initialValue",d)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:a,behaviours:Oc(t.selectBehaviours,[Fo.config({}),jn.config({store:ie({mode:"manual",getValue:d=>Hu(d.element),setValue:(d,g)=>{const h=Sn(t.options);re(t.options,S=>S.value===g).isSome()?cp(d.element,g):d.element.dom.selectedIndex===-1&&g===""&&h.each(S=>cp(d.element,S.value))}},i)})])}},dV=wl({name:"HtmlSelect",configFields:[Xt("options"),Ac("selectBehaviours",[Fo,jn]),it("selectClasses",[]),it("selectAttributes",{}),Fs("data")],factory:M$}),fV=(t,s,a)=>{const i=Pe(t.items,S=>({text:s.translate(S.text),value:S.value})),d=t.label.map(S=>dy(S,s)),g=Js.parts.field(Pt(ie({dom:{}},a.map(S=>({data:S})).getOr({})),{selectAttributes:{size:t.size},options:i,factory:dV,selectBehaviours:hn([Po.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable}),Xr.config({}),Yo("selectbox-change",[Jt(lf(),(S,D)=>{co(S,Ll,{name:t.name})})])])})),h=t.size>1?x.none():x.some(Wu("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),k={dom:{tag:"div",classes:["tox-selectfield"]},components:De([[g],h.toArray()])};return Js.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:De([d.toArray(),[k]]),fieldBehaviours:hn([Po.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable,onDisabled:S=>{Js.getField(S).each(Po.disable)},onEnabled:S=>{Js.getField(S).each(Po.enable)}}),La(()=>s.checkUiComponentContext(t.context))])})},mV=J([it("field1Name","field1"),it("field2Name","field2"),tp("onLockedChange"),Jf(["lockClass"]),it("locked",!1),uu.field("coupledFieldBehaviours",[Es,jn])]),gV=(t,s,a)=>vr(t,s,a).bind(Es.getCurrent),P$=(t,s)=>di({factory:Js,name:t,overrides:a=>({fieldBehaviours:hn([Yo("coupled-input-behaviour",[Jt(hd(),i=>{gV(i,a,s).each(d=>{vr(i,a,"lock").each(g=>{as.isOn(g)&&a.onLockedChange(i,d,g)})})})])])})}),B$=J([P$("field1","field2"),P$("field2","field1"),di({factory:yc,schema:[Xt("dom")],name:"lock",overrides:t=>({buttonBehaviours:hn([as.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),pV=(t,s,a,i)=>({uid:t.uid,dom:t.dom,components:s,behaviours:uu.augment(t.coupledFieldBehaviours,[Es.config({find:x.some}),jn.config({store:{mode:"manual",getValue:d=>{const g=qh(d,t,["field1","field2"]);return{[t.field1Name]:jn.getValue(g.field1()),[t.field2Name]:jn.getValue(g.field2())}},setValue:(d,g)=>{const h=qh(d,t,["field1","field2"]);ur(g,t.field1Name)&&jn.setValue(h.field1(),g[t.field1Name]),ur(g,t.field2Name)&&jn.setValue(h.field2(),g[t.field2Name])}}})]),apis:{getField1:d=>vr(d,t,"field1"),getField2:d=>vr(d,t,"field2"),getLock:d=>vr(d,t,"lock")}}),Yu=Qc({name:"FormCoupledInputs",configFields:mV(),partFields:B$(),factory:pV,apis:{getField1:(t,s)=>t.getField1(s),getField2:(t,s)=>t.getField2(s),getLock:(t,s)=>t.getLock(s)}}),$$=t=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},a=d=>d in s?s[d]:1;let i=t.value.toFixed(a(t.unit));return i.indexOf(".")!==-1&&(i=i.replace(/\.?0*$/,"")),i+t.unit},rD=t=>{const a=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(a!==null){const i=parseFloat(a[1]),d=a[2];return Jo.value({value:i,unit:d})}else return Jo.error(t)},F$=(t,s)=>{const a={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},i=d=>Go(a,d);return t.unit===s?x.some(t.value):i(t.unit)&&i(s)?a[t.unit]===a[s]?x.some(t.value):x.some(t.value/a[t.unit]*a[s]):x.none()},aD=t=>x.none(),I$=(t,s)=>a=>F$(a,s).map(i=>({value:i*t,unit:s})),hV=(t,s)=>{const a=rD(t).toOptional(),i=rD(s).toOptional();return Jr(a,i,(d,g)=>F$(d,g.unit).map(h=>g.value/h).map(h=>I$(h,g.unit)).getOr(aD)).getOr(aD)},yV=(t,s)=>{let a=aD;const i=Xn("ratio-event"),d=Q=>Wu(Q,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Q]},s.icons),g=t.label.getOr("Constrain proportions"),h=s.translate(g),k=Yu.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":h,"data-mce-name":g}},components:[d("lock"),d("unlock")],buttonBehaviours:hn([Po.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable}),La(()=>s.checkUiComponentContext(t.context)),Xr.config({}),Ea.config(s.tooltips.getConfig({tooltipText:h}))])}),S=Q=>({dom:{tag:"div",classes:["tox-form__group"]},components:Q}),D=Q=>Js.parts.field({factory:um,inputClasses:["tox-textfield"],inputBehaviours:hn([Po.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable}),La(()=>s.checkUiComponentContext(t.context)),Xr.config({}),Yo("size-input-events",[Jt(Vi(),(ue,ye)=>{co(ue,i,{isField1:Q})}),Jt(lf(),(ue,ye)=>{co(ue,Ll,{name:t.name})})])]),selectOnFocus:!1}),N=Q=>({dom:{tag:"label",classes:["tox-label"]},components:[la(s.translate(Q))]}),I=Yu.parts.field1(S([Js.parts.label(N("Width")),D(!0)])),X=Yu.parts.field2(S([Js.parts.label(N("Height")),D(!1)]));return Yu.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[I,X,S([N(SA),k])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Q,ue,ye)=>{rD(jn.getValue(Q)).each(Je=>{a(Je).each(Ae=>{jn.setValue(ue,$$(Ae))})})},coupledFieldBehaviours:hn([Po.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable,onDisabled:Q=>{Yu.getField1(Q).bind(Js.getField).each(Po.disable),Yu.getField2(Q).bind(Js.getField).each(Po.disable),Yu.getLock(Q).each(Po.disable)},onEnabled:Q=>{Yu.getField1(Q).bind(Js.getField).each(Po.enable),Yu.getField2(Q).bind(Js.getField).each(Po.enable),Yu.getLock(Q).each(Po.enable)}}),La(()=>s.checkUiComponentContext("mode:design")),Yo("size-input-events2",[Jt(i,(Q,ue)=>{const ye=ue.event.isField1,Je=ye?Yu.getField1(Q):Yu.getField2(Q),Ae=ye?Yu.getField2(Q):Yu.getField1(Q),Ke=Je.map(jn.getValue).getOr(""),ot=Ae.map(jn.getValue).getOr("");a=hV(Ke,ot)})])])})},bV=(t,s,a)=>{const i=Tf.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[la(s.translate(t.label))]}),d=Tf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),g=Tf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Tf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:J(a.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[i,d,g],sliderBehaviours:hn([Bd.self(),Fo.config({})]),onChoose:(h,k,S)=>{co(h,Ll,{name:t.name,value:S})},onChange:(h,k,S)=>{co(h,Ll,{name:t.name,value:S})}})},L$=(t,s)=>{const a=k=>({dom:{tag:"th",innerHtml:s.translate(k)}}),i=k=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Pe(k,a)}]}),d=k=>({dom:{tag:"td",innerHtml:s.translate(k)}}),g=k=>({dom:{tag:"tr"},components:Pe(k,d)}),h=k=>({dom:{tag:"tbody"},components:Pe(k,g)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[i(t.header),h(t.cells)],behaviours:hn([Xr.config({}),Fo.config({})])}},cD=(t,s)=>{const a=t.label.map(Q=>dy(Q,s)),i=[Po.config({disabled:()=>t.disabled||s.checkUiComponentContext(t.context).shouldDisable}),La(()=>s.checkUiComponentContext(t.context)),So.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:Q=>(ms(Q,m0),x.some(!0))}),Yo("textfield-change",[Jt(hd(),(Q,ue)=>{co(Q,Ll,{name:t.name})}),Jt(Py(),(Q,ue)=>{co(Q,Ll,{name:t.name})})]),Xr.config({})],d=t.validation.map(Q=>yg.config({getRoot:ue=>Qa(ue.element),invalidClass:"tox-invalid",validator:{validate:ue=>{const ye=jn.getValue(ue),Je=Q.validator(ye);return Di.pure(Je===!0?Jo.value(ye):Jo.error(Je))},validateOnLoad:Q.validateOnLoad}})).toArray(),g=t.placeholder.fold(J({}),Q=>({placeholder:s.translate(Q)})),h=t.inputMode.fold(J({}),Q=>({inputmode:Q})),k=Pt(ie(ie({},g),h),{"data-mce-name":t.name}),S=Js.parts.field(Pt(ie({tag:t.multiline===!0?"textarea":"input"},t.data.map(Q=>({data:Q})).getOr({})),{inputAttributes:k,inputClasses:[t.classname],inputBehaviours:hn(De([i,d])),selectOnFocus:!1,factory:um})),D=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[S]}:S,I=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),X=[Po.config({disabled:()=>t.disabled||s.checkUiComponentContext(t.context).shouldDisable,onDisabled:Q=>{Js.getField(Q).each(Po.disable)},onEnabled:Q=>{Js.getField(Q).each(Po.enable)}}),La(()=>s.checkUiComponentContext(t.context))];return f0(a,D,I,X)},H$=(t,s,a)=>cD({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:x.none(),maximized:t.maximized,data:a,context:t.context},s),lE=(t,s,a)=>cD({name:t.name,multiline:!0,label:t.label,inputMode:x.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:x.none(),maximized:t.maximized,data:a,context:t.context},s),z_=(t,s)=>s.getAnimationRoot.fold(()=>t.element,a=>a(t)),Ip=t=>t.dimension.property,c1=(t,s)=>t.dimension.getDimension(s),uE=(t,s)=>{const a=z_(t,s);wd(a,[s.shrinkingClass,s.growingClass])},dE=(t,s)=>{sr(t.element,s.openClass),Ia(t.element,s.closedClass),yt(t.element,Ip(s),"0px"),Mc(t.element)},iD=(t,s)=>{sr(t.element,s.closedClass),Ia(t.element,s.openClass),Vo(t.element,Ip(s))},V$=(t,s,a,i)=>{a.setCollapsed(),yt(t.element,Ip(s),c1(s,t.element)),uE(t,s),dE(t,s),s.onStartShrink(t),s.onShrunk(t)},vV=(t,s,a,i)=>{const d=i.getOrThunk(()=>c1(s,t.element));a.setCollapsed(),yt(t.element,Ip(s),d),Mc(t.element);const g=z_(t,s);sr(g,s.growingClass),Ia(g,s.shrinkingClass),dE(t,s),s.onStartShrink(t)},lD=(t,s,a)=>{const i=c1(s,t.element);(i==="0px"?V$:vV)(t,s,a,x.some(i))},uD=(t,s,a)=>{const i=z_(t,s),d=ji(i,s.shrinkingClass),g=c1(s,t.element);iD(t,s);const h=c1(s,t.element);(d?()=>{yt(t.element,Ip(s),g),Mc(t.element)}:()=>{dE(t,s)})(),sr(i,s.shrinkingClass),Ia(i,s.growingClass),iD(t,s),yt(t.element,Ip(s),h),a.setExpanded(),s.onStartGrow(t)},wV=(t,s,a)=>{if(a.isExpanded()){Vo(t.element,Ip(s));const i=c1(s,t.element);yt(t.element,Ip(s),i)}},kV=(t,s,a)=>{a.isExpanded()||uD(t,s,a)},U$=(t,s,a)=>{a.isExpanded()&&lD(t,s,a)},_V=(t,s,a)=>{a.isExpanded()&&V$(t,s,a)},CV=(t,s,a)=>a.isExpanded(),qo=(t,s,a)=>a.isCollapsed(),k0=(t,s,a)=>{const i=z_(t,s);return ji(i,s.growingClass)===!0},dD=(t,s,a)=>{const i=z_(t,s);return ji(i,s.shrinkingClass)===!0};var j$=Object.freeze({__proto__:null,refresh:wV,grow:kV,shrink:U$,immediateShrink:_V,hasGrown:CV,hasShrunk:qo,isGrowing:k0,isShrinking:dD,isTransitioning:(t,s,a)=>k0(t,s)||dD(t,s),toggleGrow:(t,s,a)=>{(a.isExpanded()?lD:uD)(t,s,a)},disableTransitions:uE,immediateGrow:(t,s,a)=>{a.isExpanded()||(iD(t,s),yt(t.element,Ip(s),c1(s,t.element)),uE(t,s),a.setExpanded(),s.onStartGrow(t),s.onGrown(t))}}),TV=Object.freeze({__proto__:null,exhibit:(t,s,a)=>{const i=s.expanded;return Ui(i?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:$o(s.dimension.property,"0px")})},events:(t,s)=>or([Lm(My(),(a,i)=>{i.event.raw.propertyName===t.dimension.property&&(uE(a,t),s.isExpanded()&&Vo(a.element,t.dimension.property),(s.isExpanded()?t.onGrown:t.onShrunk)(a))})])}),W$=[Xt("closedClass"),Xt("openClass"),Xt("shrinkingClass"),Xt("growingClass"),Fs("getAnimationRoot"),As("onShrunk"),As("onStartShrink"),As("onGrown"),As("onStartGrow"),it("expanded",!1),Vs("dimension",wa("property",{width:[Nr("property","width"),Nr("getDimension",t=>ce(t)+"px")],height:[Nr("property","height"),Nr("getDimension",t=>Ys(t)+"px")]}))],AV=Object.freeze({__proto__:null,init:t=>{const s=uo(t.expanded),a=()=>"expanded: "+s.get();return xi({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:gn(s.set,!1),setExpanded:gn(s.set,!0),readState:a})}});const Hl=Ec({fields:W$,name:"sliding",active:TV,apis:j$,state:AV}),fD=t=>({isEnabled:()=>!Po.isDisabled(t),setEnabled:s=>Po.set(t,!s),setActive:s=>{const a=t.element;s?(Ia(a,"tox-tbtn--enabled"),V(a,"aria-pressed",!0)):(sr(a,"tox-tbtn--enabled"),$(a,"aria-pressed"))},isActive:()=>ji(t.element,"tox-tbtn--enabled"),setText:s=>{co(t,$d,{text:s})},setIcon:s=>co(t,hy,{icon:s})}),i1=(t,s,a,i,d=!0,g)=>aE({text:t.text,icon:t.icon,tooltip:t.tooltip,ariaLabel:t.tooltip,searchable:t.search.isSome(),role:i,fetch:(h,k)=>{const S={pattern:t.search.isSome()?SH(h):""};t.fetch(D=>{k(w0(D,Cf.CLOSE_ON_EXECUTE,a,{isHorizontalMenu:!1,search:t.search}))},S,fD(h))},onSetup:t.onSetup,getApi:fD,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...d?[Xr.config({})]:[]],context:t.context},s,a.shared,g),Z$=(t,s,a)=>{const i=g=>h=>{const k=!h.isActive();h.setActive(k),g.storage.set(k),a.shared.getSink().each(S=>{s().getOpt(S).each(D=>{cu(D.element),co(D,hg,{name:g.name,value:g.storage.get()})})})},d=g=>h=>{h.setActive(g.storage.get())};return g=>{g(Pe(t,h=>{const k=h.text.fold(()=>({}),S=>({text:S}));return Pt(ie({type:h.type,active:!1},k),{context:h.context,onAction:i(h),onSetup:d(h)})}))}},q$=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":t}},components:[la(t)]}),G$=(t,s,a)=>{t.customStateIcon.each(i=>s.push(Y$(i,a.shared.providers.icons,t.customStateIconTooltip.fold(()=>[],d=>[Ea.config(a.shared.providers.tooltips.getConfig({tooltipText:d}))]),["tox-icon-custom-state"],t.customStateIconTooltip.fold(()=>({}),d=>({title:d})))))},K$=Xn("leaf-label-event-id"),mD=({leaf:t,onLeafAction:s,visible:a,treeId:i,selectedId:d,backstage:g})=>{const h=t.menu.map(S=>i1(S,"tox-mbtn",g,x.none(),a)),k=[q$(t.title)];return G$(t,k,g),h.each(S=>k.push(S)),yc.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(a?["tox-tree--leaf__label--visible"]:[])},components:k,role:"treeitem",action:S=>{s(t.id),S.getSystem().broadcastOn([`update-active-item-${i}`],{value:t.id})},eventOrder:{[nu()]:[K$,"keying"]},buttonBehaviours:hn([...a?[Xr.config({})]:[],as.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),hl.config({channels:{[`update-active-item-${i}`]:{onReceive:(S,D)=>{(D.value===t.id?as.on:as.off)(S)}}}}),Yo(K$,[Wr((S,D)=>{d.each(N=>{(N===t.id?as.on:as.off)(S)})}),Jt(nu(),(S,D)=>{const N=D.event.raw.code==="ArrowLeft",I=D.event.raw.code==="ArrowRight";N?(ac(S.element,".tox-tree--directory").each(X=>{S.getSystem().getByDom(X).each(Q=>{au(X,".tox-tree--directory__label").each(ue=>{Q.getSystem().getByDom(ue).each(Fo.focus)})})}),D.stop()):I&&D.stop()})])])})},Y$=(t,s,a,i,d)=>Wu(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(i||[]),behaviours:a,attributes:d},s),OV=(t,s)=>Y$(t,s,[]),X$=Xn("directory-label-event-id"),DV=({directory:t,visible:s,noChildren:a,backstage:i})=>{const d=t.menu.map(k=>i1(k,"tox-mbtn",i,x.none())),g=[{dom:{tag:"div",classes:["tox-chevron"]},components:[OV("chevron-right",i.shared.providers.icons)]},q$(t.title)];G$(t,g,i),d.each(k=>{g.push(k)});const h=k=>{ac(k.element,".tox-tree--directory").each(S=>{k.getSystem().getByDom(S).each(D=>{const N=!as.isOn(D);as.toggle(D),co(k,"expand-tree-node",{expanded:N,node:t.id})})})};return yc.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:g,action:h,eventOrder:{[nu()]:[X$,"keying"]},buttonBehaviours:hn([...s?[Xr.config({})]:[],Yo(X$,[Jt(nu(),(k,S)=>{const D=S.event.raw.code==="ArrowRight",N=S.event.raw.code==="ArrowLeft";D&&a&&S.stop(),(D||N)&&ac(k.element,".tox-tree--directory").each(I=>{k.getSystem().getByDom(I).each(X=>{!as.isOn(X)&&D||as.isOn(X)&&N?(h(k),S.stop()):N&&!as.isOn(X)&&(ac(X.element,".tox-tree--directory").each(Q=>{au(Q,".tox-tree--directory__label").each(ue=>{X.getSystem().getByDom(ue).each(Fo.focus)})}),S.stop())})})})])])})},RV=({children:t,onLeafAction:s,visible:a,treeId:i,expandedIds:d,selectedId:g,backstage:h})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(k=>k.type==="leaf"?mD({leaf:k,selectedId:g,onLeafAction:s,visible:a,treeId:i,backstage:h}):mE({directory:k,expandedIds:d,selectedId:g,onLeafAction:s,labelTabstopping:a,treeId:i,backstage:h})),behaviours:hn([Hl.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:a}),Zo.config({})])}),zV=Xn("directory-event-id"),mE=({directory:t,onLeafAction:s,labelTabstopping:a,treeId:i,backstage:d,expandedIds:g,selectedId:h})=>{const{children:k}=t,S=uo(g),D=I=>k.map(X=>X.type==="leaf"?mD({leaf:X,selectedId:h,onLeafAction:s,visible:I,treeId:i,backstage:d}):mE({directory:X,expandedIds:S.get(),selectedId:h,onLeafAction:s,labelTabstopping:I,treeId:i,backstage:d})),N=g.includes(t.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[DV({directory:t,visible:a,noChildren:t.children.length===0,backstage:d}),RV({children:k,expandedIds:g,selectedId:h,onLeafAction:s,visible:N,treeId:i,backstage:d})],behaviours:hn([Yo(zV,[Wr((I,X)=>{as.set(I,N)}),Jt("expand-tree-node",(I,X)=>{const{expanded:Q,node:ue}=X.event;S.set(Q?[...S.get(),ue]:S.get().filter(ye=>ye!==ue))})]),as.config(Pt(ie({},t.children.length>0?{aria:{mode:"expanded"}}:{}),{toggleClass:"tox-tree--directory--expanded",onToggled:(I,X)=>{const Q=I.components()[1],ue=D(X);X?Hl.grow(Q):Hl.shrink(Q),Zo.set(Q,ue)}}))])}},NV=Xn("tree-event-id"),MV=(t,s)=>{const a=t.onLeafAction.getOr(ae),i=t.onToggleExpand.getOr(ae),d=t.defaultExpandedIds,g=uo(d),h=uo(t.defaultSelectedId),k=Xn("tree-id"),S=(D,N)=>t.items.map(I=>I.type==="leaf"?mD({leaf:I,selectedId:D,onLeafAction:a,visible:!0,treeId:k,backstage:s}):mE({directory:I,selectedId:D,onLeafAction:a,expandedIds:N,labelTabstopping:!0,treeId:k,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:S(h.get(),g.get()),behaviours:hn([So.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Yo(NV,[Jt("expand-tree-node",(D,N)=>{const{expanded:I,node:X}=N.event;g.set(I?[...g.get(),X]:g.get().filter(Q=>Q!==X)),i(g.get(),{expanded:I,node:X})})]),hl.config({channels:{[`update-active-item-${k}`]:{onReceive:(D,N)=>{h.set(x.some(N.value)),Zo.set(D,S(x.some(N.value),g.get()))}}}}),Zo.config({})])}};var PV=Object.freeze({__proto__:null,events:(t,s)=>{const i=t.stream.streams.setup(t,s);return or([Jt(t.event,i),uf(()=>s.cancel())].concat(t.cancelEvent.map(d=>[Jt(d,()=>s.cancel())]).getOr([])))}});const J$=t=>{const s=uo(null);return xi({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:g=>{s.set(g)},cancel:()=>{const g=s.get();g!==null&&g.cancel()}})};var BV=Object.freeze({__proto__:null,throttle:J$,init:t=>t.stream.streams.state(t)});const $V=(t,s)=>{const a=t.stream,i=eE(t.onStream,a.delay);return s.setTimer(i),(d,g)=>{i.throttle(d,g),a.stopEvent&&g.stop()}};var FV=[Vs("stream",wa("mode",{throttle:[Xt("delay"),it("stopEvent",!0),Nr("streams",{setup:$V,state:J$})]})),it("event","input"),Fs("cancelEvent"),tp("onStream")];const gD=Ec({fields:FV,name:"streaming",active:PV,state:BV}),gE=(t,s,a)=>{const i=jn.getValue(a);jn.setValue(s,i),Q$(s)},pD=(t,s)=>{const a=t.element,i=Hu(a),d=a.dom;$e(a,"type")!=="number"&&s(d,i)},Q$=t=>{pD(t,(s,a)=>s.setSelectionRange(a.length,a.length))},IV=(t,s)=>{pD(t,(a,i)=>a.setSelectionRange(s,i.length))},LV=(t,s,a)=>{if(t.selectsOver){const i=jn.getValue(s),d=t.getDisplayText(i),g=jn.getValue(a);return t.getDisplayText(g).indexOf(d)===0?x.some(()=>{gE(t,s,a),IV(s,d.length)}):x.none()}else return x.none()},hD=J("alloy.typeahead.itemexecute"),HV=(t,s,a,i)=>{const d=(I,X,Q)=>{t.previewing.set(!1);const ue=Ma.getCoupled(I,"sandbox");if(Ns.isOpen(ue))Es.getCurrent(ue).each(ye=>{xn.getHighlighted(ye).fold(()=>{Q(ye)},()=>{M1(ue,ye.element,"keydown",X)})});else{const ye=Je=>{Es.getCurrent(Je).each(Q)};Nx(t,h(I),I,ue,i,ye,_l.HighlightMenuAndItem).get(ae)}},g=XM(t),h=I=>X=>X.map(Q=>{const ue=Ir(Q.menus),ye=G(ue,Ae=>wt(Ae.items,Ke=>Ke.type==="item"));return jn.getState(I).update(Pe(ye,Ae=>Ae.data)),Q}),k=I=>Es.getCurrent(I),S="typeaheadevents",D=[Fo.config({}),jn.config({onSetValue:t.onSetValue,store:ie({mode:"dataset",getDataKey:I=>Hu(I.element),getFallbackEntry:I=>({value:I,meta:{}}),setValue:(I,X)=>{cp(I.element,t.model.getDisplayText(X))}},t.initialData.map(I=>$o("initialValue",I)).getOr({}))}),gD.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(I,X)=>{const Q=Ma.getCoupled(I,"sandbox");if(Fo.isFocused(I)&&Hu(I.element).length>=t.minChars){const ye=k(Q).bind(Ae=>xn.getHighlighted(Ae).map(jn.getValue));t.previewing.set(!0);const Je=Ae=>{k(Q).each(Ke=>{ye.fold(()=>{t.model.selectsOver&&xn.highlightFirst(Ke)},ot=>{xn.highlightBy(Ke,_t=>jn.getValue(_t).value===ot.value),xn.getHighlighted(Ke).orThunk(()=>(xn.highlightFirst(Ke),x.none()))})})};Nx(t,h(I),I,Q,i,Je,_l.HighlightJustMenu).get(ae)}},cancelEvent:D1()}),So.config({mode:"special",onDown:(I,X)=>(d(I,X,xn.highlightFirst),x.some(!0)),onEscape:I=>{const X=Ma.getCoupled(I,"sandbox");return Ns.isOpen(X)?(Ns.close(X),x.some(!0)):x.none()},onUp:(I,X)=>(d(I,X,xn.highlightLast),x.some(!0)),onEnter:I=>{const X=Ma.getCoupled(I,"sandbox"),Q=Ns.isOpen(X);if(Q&&!t.previewing.get())return k(X).bind(ue=>xn.getHighlighted(ue)).map(ue=>(co(I,hD(),{item:ue}),!0));{const ue=jn.getValue(I);return ms(I,D1()),t.onExecute(X,I,ue),Q&&Ns.close(X),x.some(!0)}}}),as.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Ma.config({others:{sandbox:I=>c3(t,I,{onOpen:()=>as.on(I),onClose:()=>{t.lazyTypeaheadComp.get().each(X=>$(X.element,"aria-activedescendant")),as.off(I)}})}}),Yo(S,[Wr(I=>{t.lazyTypeaheadComp.set(x.some(I))}),uf(I=>{t.lazyTypeaheadComp.set(x.none())}),Gf(I=>{const X=ae;r3(t,h(I),I,i,X,_l.HighlightMenuAndItem).get(ae)}),Jt(hD(),(I,X)=>{const Q=Ma.getCoupled(I,"sandbox");gE(t.model,I,X.event.item),ms(I,D1()),t.onItemExecute(I,Q,X.event.item,jn.getValue(I)),Ns.close(Q),Q$(I)})].concat(t.dismissOnBlur?[Jt(Ug(),I=>{const X=Ma.getCoupled(I,"sandbox");Ti(X.element).isNone()&&Ns.close(X)})]:[]))],N=ie({[Rl()]:[jn.name(),gD.name(),S]},t.eventOrder);return{uid:t.uid,dom:JM(br(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:ie(ie({},g),Oc(t.typeaheadBehaviours,D)),eventOrder:N}},VV=J([Fs("lazySink"),Xt("fetch"),it("minChars",5),it("responseTime",1e3),As("onOpen"),it("getHotspot",x.some),it("getAnchorOverrides",J({})),it("layouts",x.none()),it("eventOrder",{}),C("model",{},[it("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),it("selectsOver",!0),it("populateFromBrowse",!0)]),As("onSetValue"),li("onExecute"),As("onItemExecute"),it("inputClasses",[]),it("inputAttributes",{}),it("inputStyles",{}),it("matchWidth",!0),it("useMinWidth",!1),it("dismissOnBlur",!0),Jf(["openClass"]),Fs("initialData"),Fs("listRole"),Ac("typeaheadBehaviours",[Fo,jn,gD,So,as,Ma]),Hs("lazyTypeaheadComp",()=>uo(x.none)),Hs("previewing",()=>uo(!0))].concat(YM()).concat(Mx())),eF=J([du({schema:[gf()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(s,a,i)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(d=>{LV(t.model,d,i).fold(()=>{t.model.selectsOver?(xn.dehighlight(a,i),t.previewing.set(!0)):t.previewing.set(!1)},g=>{g(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(d=>{t.model.populateFromBrowse&&gE(t.model,d,i),kt(i.element,"id").each(g=>V(d.element,"aria-activedescendant",g))})},onExecute:(s,a)=>t.lazyTypeaheadComp.get().map(i=>(co(i,hD(),{item:a}),!0)),onHover:(s,a)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(i=>{t.model.populateFromBrowse&&gE(t.model,i,a)})}})})]),UV=Qc({name:"Typeahead",configFields:VV(),partFields:eF(),factory:HV}),Fd=t=>{const s=()=>Fd(t.toCached()),a=S=>Fd(t.bind(D=>D.fold(N=>Di.pure(Jo.error(N)),N=>S(N)))),i=S=>Fd(t.map(D=>D.bind(S))),d=S=>Fd(t.map(D=>D.map(S))),g=S=>Fd(t.map(D=>D.mapError(S))),h=(S,D)=>t.map(N=>N.fold(S,D)),k=(S,D)=>Fd(Di.nu(N=>{let I=!1;const X=setTimeout(()=>{I=!0,N(Jo.error(D()))},S);t.get(Q=>{I||(clearTimeout(X),N(Q))})}));return Pt(ie({},t),{toCached:s,bindFuture:a,bindResult:i,mapResult:d,mapError:g,foldResult:h,withTimeout:k})},tF=t=>Fd(Di.nu(t)),yD=t=>Fd(Di.pure(Jo.value(t))),oF={nu:tF,wrap:Fd,pure:yD,value:yD,error:t=>Fd(Di.pure(Jo.error(t))),fromResult:t=>Fd(Di.pure(t)),fromFuture:t=>Fd(t.map(Jo.value)),fromPromise:t=>tF(s=>{t.then(a=>{s(Jo.value(a))},a=>{s(Jo.error(a))})})},pE=(t,s,a=[],i,d,g,h)=>{const k=s.fold(()=>({}),N=>({action:N})),S=ie({buttonBehaviours:hn([qu.item(()=>!t.enabled||h.checkUiComponentContext(t.context).shouldDisable),La(()=>h.checkUiComponentContext(t.context)),Xr.config({}),...g.map(N=>Ea.config(h.tooltips.getConfig({tooltipText:h.translate(N)}))).toArray(),Yo("button press",[X0("click")])].concat(a)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},k),D=br(S,{dom:i});return br(D,{components:d})},sF=(t,s,a,i=[],d)=>{const g=t.tooltip.map(D=>({"aria-label":a.translate(D)})).getOr({}),h={tag:"button",classes:["tox-tbtn"],attributes:Pt(ie({},g),{"data-mce-name":d})},k=t.icon.map(D=>tD(D,a.icons)),S=uy([k]);return pE(t,s,i,h,S,t.tooltip,a)},bD=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},rF=(t,s,a,i=[],d=[])=>{const g=a.translate(t.text),h=t.icon.map(Q=>tD(Q,a.icons)),k=[h.getOrThunk(()=>la(g))],S=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),I={tag:"button",classes:[...bD(S),...h.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...d],attributes:{"aria-label":g,"data-mce-name":t.text}},X=t.icon.map(J(g));return pE(t,s,i,I,k,X,a)},Af=(t,s,a,i=[],d=[])=>{const g=rF(t,x.some(s),a,i,d);return yc.sketch(g)},N_=(t,s)=>a=>{s==="custom"?co(a,hg,{name:t,value:{}}):s==="submit"?ms(a,m0):s==="cancel"?ms(a,fy):console.error("Unknown button type: ",s)},hE=(t,s)=>s==="menu",ZV=(t,s)=>s==="custom"||s==="cancel"||s==="submit",vD=(t,s)=>s==="togglebutton",qV=(t,s,a)=>{var i,d;const g=t.icon.map(ot=>Fp(ot,s.icons)).map(Zs),h=ot=>{co(ot,hg,{name:t.name,value:{setIcon:_t=>{g.map(Et=>Et.getOpt(ot).each(Cn=>{Zo.set(Cn,[Fp(_t,s.icons)])}))}}})},k=t.buttonType.getOr(t.primary?"primary":"secondary"),S=Pt(ie({},t),{name:(i=t.name)!==null&&i!==void 0?i:"",primary:k==="primary",tooltip:t.tooltip,enabled:(d=t.enabled)!==null&&d!==void 0?d:!1,borderless:!1}),D=S.tooltip.or(t.text).map(ot=>({"aria-label":s.translate(ot)})).getOr({}),N=bD(k!=null?k:"secondary"),I=t.icon.isSome()&&t.text.isSome(),X={tag:"button",classes:[...N.concat(t.icon.isSome()?["tox-button--icon"]:[]),...t.active?["tox-button--enabled"]:[],...I?["tox-button--icon-and-text"]:[]],attributes:ie(ie({},D),It(a)?{"data-mce-name":a}:{})},Q=[],ue=s.translate(t.text.getOr("")),ye=la(ue),Ae=[...uy([g.map(ot=>ot.asSpec())]),...t.text.isSome()?[ye]:[]],Ke=pE(S,x.some(h),Q,X,Ae,t.tooltip,s);return yc.sketch(Ke)},_0=(t,s,a)=>{if(hE(t,s)){const i=()=>h,d=t,g=Pt(ie({},t),{type:"menubutton",search:x.none(),onSetup:k=>(k.setEnabled(t.enabled),ae),fetch:Z$(d.items,i,a)}),h=Zs(i1(g,"tox-tbtn",a,x.none(),!0,t.text.or(t.tooltip).getOrUndefined()));return h.asSpec()}else if(ZV(t,s)){const i=N_(t.name,s),d=Pt(ie({},t),{context:s==="cancel"?"any":t.context,borderless:!1});return Af(d,i,a.shared.providers,[])}else{if(vD(t,s))return qV(t,a.shared.providers,t.text.or(t.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")}},aF=(t,s)=>{const a=N_(t.name,"custom");return VH(x.none(),Js.parts.field(ie({factory:yc},rF(t,x.some(a),s,[T_(""),Bd.self()]))))},wD={type:"separator"},GV=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:ae}),kD=(t,s)=>({type:"menuitem",value:s,text:t,meta:{attach:void 0},onAction:ae}),cF=t=>Pe(t,GV),KV=(t,s)=>wt(s,a=>a.type===t),iF=(t,s)=>cF(KV(t,s)),_D=t=>iF("header",t.targets),YV=t=>iF("anchor",t.targets),XV=t=>x.from(t.anchorTop).map(s=>kD("<top>",s)).toArray(),lF=t=>x.from(t.anchorBottom).map(s=>kD("<bottom>",s)).toArray(),uF=t=>Pe(t,s=>kD(s,s)),JV=t=>st(t,(s,a)=>s.length===0||a.length===0?s.concat(a):s.concat(wD,a),[]),CD=(t,s)=>{const a=t.toLowerCase();return wt(s,i=>{var d;const g=i.meta!==void 0&&i.meta.text!==void 0?i.meta.text:i.text,h=(d=i.value)!==null&&d!==void 0?d:"";return jo(g.toLowerCase(),a)||jo(h.toLowerCase(),a)})},QV=(t,s,a)=>{var i,d;const g=jn.getValue(s),h=(d=(i=g==null?void 0:g.meta)===null||i===void 0?void 0:i.text)!==null&&d!==void 0?d:g.value;return a.getLinkInformation().fold(()=>[],S=>{const D=CD(h,uF(a.getHistory(t)));return t==="file"?JV([D,CD(h,_D(S)),CD(h,De([XV(S),YV(S),lF(S)]))]):D})},dF=Xn("aria-invalid"),fF=(t,s,a,i)=>{const d=s.shared.providers,g=Ke=>{const ot=jn.getValue(Ke);a.addToHistory(ot.value,t.filetype)},h=Pt(ie({},i.map(Ke=>({initialData:Ke})).getOr({})),{dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":dF,type:"url"},minChars:0,responseTime:0,fetch:Ke=>{const ot=QV(t.filetype,Ke,a),_t=w0(ot,Cf.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:x.none()});return Di.pure(_t)},getHotspot:Ke=>ue.getOpt(Ke),onSetValue:(Ke,ot)=>{Ke.hasConfigured(yg)&&yg.run(Ke).get(ae)},typeaheadBehaviours:hn([...a.getValidationHandler().map(Ke=>yg.config({getRoot:ot=>Qa(ot.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(ot,_t)=>{N.getOpt(ot).each(Et=>{V(Et.element,"title",d.translate(_t))})}},validator:{validate:ot=>{const _t=jn.getValue(ot);return oF.nu(Et=>{Ke({type:t.filetype,url:_t.value},Cn=>{if(Cn.status==="invalid"){const Kn=Jo.error(Cn.message);Et(Kn)}else{const Kn=Jo.value(Cn.message);Et(Kn)}})})},validateOnLoad:!1}})).toArray(),Po.config({disabled:()=>!t.enabled||d.checkUiComponentContext(t.context).shouldDisable}),Xr.config({}),Yo("urlinput-events",[Jt(hd(),Ke=>{const ot=Hu(Ke.element),_t=ot.trim();_t!==ot&&cp(Ke.element,_t),t.filetype==="file"&&co(Ke,Ll,{name:t.name})}),Jt(lf(),Ke=>{co(Ke,Ll,{name:t.name}),g(Ke)}),Jt(Py(),Ke=>{co(Ke,Ll,{name:t.name}),g(Ke)})])]),eventOrder:{[hd()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:Ke=>Ke.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:Yk(!1,1,"normal")},onExecute:(Ke,ot,_t)=>{co(ot,m0,{})},onItemExecute:(Ke,ot,_t,Et)=>{g(Ke),co(Ke,Ll,{name:t.name})}}),k=Js.parts.field(Pt(ie({},h),{factory:UV})),S=t.label.map(Ke=>dy(Ke,d)),N=Zs(((Ke,ot,_t=Ke,Et=Ke)=>Wu(_t,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Ke],attributes:ie({title:d.translate(Et),"aria-live":"polite"},ot.fold(()=>({}),Cn=>({id:Cn})))},d.icons))("invalid",x.some(dF),"warning")),I=Zs({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[N.asSpec()]}),X=a.getUrlPicker(t.filetype),Q=Xn("browser.url.event"),ue=Zs({dom:{tag:"div",classes:["tox-control-wrap"]},components:[k,I.asSpec()],behaviours:hn([Po.config({disabled:()=>!t.enabled||d.checkUiComponentContext(t.context).shouldDisable})])}),ye=Zs(Af({context:t.context,name:t.name,icon:x.some("browse"),text:t.picker_text.or(t.label).getOr(""),enabled:t.enabled,primary:!1,buttonType:x.none(),borderless:!0},Ke=>ms(Ke,Q),d,[],["tox-browse-url"])),Je=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:De([[ue.asSpec()],X.map(()=>ye.asSpec()).toArray()])}),Ae=Ke=>{Es.getCurrent(Ke).each(ot=>{const _t=jn.getValue(ot),Et=ie({fieldname:t.name},_t);X.each(Cn=>{Cn(Et).get(Kn=>{jn.setValue(ot,Kn),co(Ke,Ll,{name:t.name})})})})};return Js.sketch({dom:jH(),components:S.toArray().concat([Je()]),fieldBehaviours:hn([Po.config({disabled:()=>!t.enabled||d.checkUiComponentContext(t.context).shouldDisable,onDisabled:Ke=>{Js.getField(Ke).each(Po.disable),ye.getOpt(Ke).each(Po.disable)},onEnabled:Ke=>{Js.getField(Ke).each(Po.enable),ye.getOpt(Ke).each(Po.enable)}}),La(()=>d.checkUiComponentContext(t.context)),Yo("url-input-events",[Jt(Q,Ae)])])})},ym=(t,s)=>{const a=f4(t.icon,s.icons);return gm.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:t.url?void 0:a},components:t.url?[yc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:a,attributes:{title:s.translate(t.iconTooltip)}},action:i=>co(i,hg,{name:"alert-banner",value:t.url}),buttonBehaviours:hn([$M()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(t.text)}}]})},SD=(t,s)=>{t.dom.checked=s},eU=t=>t.dom.checked,tU=(t,s,a)=>{const i=S=>(S.element.dom.click(),x.some(!0)),d=Js.parts.field({factory:{sketch:Zt},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:hn([Bd.self(),Po.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable,onDisabled:S=>{Qa(S.element).each(D=>Ia(D,"tox-checkbox--disabled"))},onEnabled:S=>{Qa(S.element).each(D=>sr(D,"tox-checkbox--disabled"))}}),Xr.config({}),Fo.config({}),y$(a,eU,SD),So.config({mode:"special",onEnter:i,onSpace:i,stopSpaceKeyup:!0}),Yo("checkbox-events",[Jt(lf(),(S,D)=>{co(S,Ll,{name:t.name})})])])}),g=Js.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[la(s.translate(t.label))],behaviours:hn([g0.config({})])}),h=S=>Wu(S==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+S]},s.icons),k=Zs({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[h("checked"),h("unchecked")]});return Js.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[d,k.asSpec(),g],fieldBehaviours:hn([Po.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable}),La(()=>s.checkUiComponentContext(t.context))])})},nU=(t,s)=>{const a=["tox-form__group",...t.stretched?["tox-form__group--stretched"]:[]],i=Yo("htmlpanel",[Wr(d=>{t.onInit(d.element.dom)})]);return t.presets==="presentation"?gm.sketch({dom:{tag:"div",classes:a,innerHtml:t.html},containerBehaviours:hn([Ea.config(Pt(ie({},s.tooltips.getConfig({tooltipText:"",onShow:d=>{Yr(d.element,"[data-mce-tooltip]:hover").orThunk(()=>Ti(d.element)).each(g=>{kt(g,"data-mce-tooltip").each(h=>{Ea.setComponents(d,s.tooltips.getComponents({tooltipText:h}))})})}})),{mode:"children-normal",anchor:d=>({type:"node",node:Yr(d.element,"[data-mce-tooltip]:hover").orThunk(()=>Ti(d.element).filter(g=>kt(g,"data-mce-tooltip").isSome())),root:d.element,layouts:{onLtr:J([Ga,Xs,cc,Vc,ic,lc]),onRtl:J([Ga,Xs,cc,Vc,ic,lc])},bubble:Vu(0,-2,{})})})),i])}):gm.sketch({dom:{tag:"div",classes:a,innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:hn([Xr.config({}),Fo.config({}),i])})},Dc=t=>(s,a,i,d,g)=>on(a,"name").fold(()=>t(a,d,x.none(),g),h=>s.field(h,t(a,d,on(i,h),g))),oU=t=>(s,a,i,d,g)=>{const h=br(a,{source:"dynamic"});return Dc(t)(s,h,i,d,g)},mF={bar:Dc((t,s)=>Fx(t,s.shared)),collection:Dc((t,s,a)=>WH(t,s.shared.providers,a)),alertbanner:Dc((t,s)=>ym(t,s.shared.providers)),input:Dc((t,s,a)=>H$(t,s.shared.providers,a)),textarea:Dc((t,s,a)=>lE(t,s.shared.providers,a)),label:Dc((t,s,a,i)=>rV(t,s.shared,i)),iframe:oU((t,s,a)=>R_(t,s.shared.providers,a)),button:Dc((t,s)=>aF(t,s.shared.providers)),checkbox:Dc((t,s,a)=>tU(t,s.shared.providers,a)),colorinput:Dc((t,s,a)=>NB(t,s.shared,s.colorinput,a)),colorpicker:Dc((t,s,a)=>j9(t,s.shared.providers,a)),dropzone:Dc((t,s,a)=>q9(t,s.shared.providers,a)),grid:Dc((t,s)=>G9(t,s.shared)),listbox:Dc((t,s,a)=>N$(t,s,a)),selectbox:Dc((t,s,a)=>fV(t,s.shared.providers,a)),sizeinput:Dc((t,s)=>yV(t,s.shared.providers)),slider:Dc((t,s,a)=>bV(t,s.shared.providers,a)),urlinput:Dc((t,s,a)=>fF(t,s,s.urlinput,a)),customeditor:Dc(Z9),htmlpanel:Dc((t,s)=>nU(t,s.shared.providers)),imagepreview:Dc((t,s,a)=>Q3(t,a)),table:Dc((t,s)=>L$(t,s.shared.providers)),tree:Dc((t,s)=>MV(t,s)),panel:Dc((t,s)=>uV(t,s))},gF={field:(t,s)=>s,record:J([])},sU=(t,s,a,i,d)=>{const g=br(i,{shared:{interpreter:h=>pF(t,h,a,g,d)}});return pF(t,s,a,g,d)},pF=(t,s,a,i,d)=>on(mF,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),g=>g(t,s,a,i,d)),mi=(t,s,a,i)=>pF(gF,t,s,a,i),kg="layout-inset",xD=t=>t.x,M_=(t,s)=>t.x+t.width/2-s.width/2,ED=(t,s)=>t.x+t.width-s.width,TD=t=>t.y,AD=(t,s)=>t.y+t.height-s.height,hF=(t,s)=>t.y+t.height/2-s.height/2,yE=(t,s,a)=>Kc(ED(t,s),AD(t,s),a.insetSouthwest(),tv(),"southwest",Yc(t,{right:0,bottom:3}),kg),bE=(t,s,a)=>Kc(xD(t),AD(t,s),a.insetSoutheast(),Tw(),"southeast",Yc(t,{left:1,bottom:3}),kg),P_=(t,s,a)=>Kc(ED(t,s),TD(t),a.insetNorthwest(),Ew(),"northwest",Yc(t,{right:0,top:2}),kg),B_=(t,s,a)=>Kc(xD(t),TD(t),a.insetNortheast(),ev(),"northeast",Yc(t,{left:1,top:2}),kg),Id=(t,s,a)=>Kc(M_(t,s),TD(t),a.insetNorth(),Jn(),"north",Yc(t,{top:2}),kg),yy=(t,s,a)=>Kc(M_(t,s),AD(t,s),a.insetSouth(),eb(),"south",Yc(t,{bottom:3}),kg),OD=(t,s,a)=>Kc(ED(t,s),hF(t,s),a.insetEast(),cS(),"east",Yc(t,{right:0}),kg),DD=(t,s,a)=>Kc(xD(t),hF(t,s),a.insetWest(),Aw(),"west",Yc(t,{left:1}),kg),rU=t=>{switch(t){case"north":return Id;case"northeast":return B_;case"northwest":return P_;case"south":return yy;case"southeast":return bE;case"southwest":return yE;case"east":return OD;case"west":return DD}},RD=(t,s,a,i,d)=>Bw(i).map(rU).getOr(Id)(t,s,a,i,d),aU=t=>{switch(t){case"north":return yy;case"northeast":return bE;case"northwest":return yE;case"south":return Id;case"southeast":return B_;case"southwest":return P_;case"east":return DD;case"west":return OD}},cU=(t,s,a,i,d)=>Bw(i).map(aU).getOr(Id)(t,s,a,i,d),C0={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},GK=(t,s,a)=>{const d={maxHeightFunction:Qm()},g=()=>({type:"node",root:Va(Lr(t())),node:x.from(t()),bubble:Vu(12,12,C0),layouts:{onRtl:()=>[B_],onLtr:()=>[P_]},overrides:d}),h=()=>({type:"hotspot",hotspot:s(),bubble:Vu(-12,12,C0),layouts:{onRtl:()=>[cc,ic,Ga],onLtr:()=>[ic,cc,Ga]},overrides:d});return()=>a()?g():h()},KK=(t,s,a,i)=>{const g={maxHeightFunction:Qm()},h=()=>({type:"node",root:Va(Lr(s())),node:x.from(s()),bubble:Vu(12,12,C0),layouts:{onRtl:()=>[Id],onLtr:()=>[Id]},overrides:g}),k=()=>t?{type:"node",root:Va(Lr(s())),node:x.from(s()),bubble:Vu(0,-Fi(s()),C0),layouts:{onRtl:()=>[Xs],onLtr:()=>[Xs]},overrides:g}:{type:"hotspot",hotspot:a(),bubble:Vu(0,0,C0),layouts:{onRtl:()=>[Xs],onLtr:()=>[Xs]},overrides:g};return()=>i()?h():k()},iU=(t,s,a)=>{const i=()=>({type:"node",root:Va(Lr(t())),node:x.from(t()),layouts:{onRtl:()=>[Id],onLtr:()=>[Id]}}),d=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[Ga],onLtr:()=>[Ga]}});return()=>a()?i():d()},lU=(t,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const a=t.selection.getRng(),i=t.model.table.getSelectedCells();if(i.length>1){const d=i[0],g=i[i.length-1],h={firstCell:Le.fromDom(d),lastCell:Le.fromDom(g)};return x.some(h)}return x.some(Ph.range(Le.fromDom(a.startContainer),a.startOffset,Le.fromDom(a.endContainer),a.endOffset))}}),uU=t=>s=>({type:"node",root:t(),node:s}),yF=(t,s,a,i)=>{const d=kf(t),g=()=>Le.fromDom(t.getBody()),h=()=>Le.fromDom(t.getContentAreaContainer()),k=()=>d||!i();return{inlineDialog:GK(h,s,k),inlineBottomDialog:KK(t.inline,h,a,k),banner:iU(h,s,k),cursor:lU(t,g),node:uU(g)}},zD=t=>(s,a)=>{oB(t)(s,a)},dU=t=>()=>GP(t),fU=t=>s=>Rx(t,s),bF=t=>s=>qP(t,s),mU=t=>({colorPicker:zD(t),hasCustomColors:dU(t),getColors:fU(t),getColorCols:bF(t)}),gU=t=>()=>V2(t),pU=t=>({isDraggableModal:gU(t)}),hU=t=>{const s=uo(KO(t)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},vE=t=>ur(t,"items"),ND=t=>ur(t,"format"),vF=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],yU=t=>Go(t,"items"),bU=t=>Go(t,"block"),vU=t=>Go(t,"inline"),wF=t=>Go(t,"selector"),kF=t=>st(t,(s,a)=>{if(yU(a)){const i=kF(a.items);return{customFormats:s.customFormats.concat(i.customFormats),formats:s.formats.concat([{title:a.title,items:i.formats}])}}else if(vU(a)||bU(a)||wF(a)){const d=`custom-${Y(a.name)?a.name:a.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:d,format:a}]),formats:s.formats.concat([{title:a.title,format:d,icon:a.icon}])}}else return Pt(ie({},s),{formats:s.formats.concat(a)})},{customFormats:[],formats:[]}),wE=(t,s)=>{const a=kF(s),i=d=>{gt(d,g=>{t.formatter.has(g.name)||t.formatter.register(g.name,g.format)})};return t.formatter?i(a.customFormats):t.on("init",()=>{i(a.customFormats)}),a.formats},_F=t=>FO(t).map(s=>{const a=wE(t,s);return aM(t)?vF.concat(a):a}).getOr(vF),kE=t=>{const s=pn(t);return s.length===1&&Vt(s,"title")},CF=(t,s,a)=>Pt(ie({},t),{type:"formatter",isSelected:s(t.format),getStylePreview:a(t.format)}),_E=(t,s,a,i)=>{const d=S=>CF(S,a,i),g=S=>{const D=k(S.items);return Pt(ie({},S),{type:"submenu",getStyleItems:J(D)})},h=S=>{const D=Y(S.name)?S.name:Xn(S.title),N=`custom-${D}`,I=Pt(ie({},S),{type:"formatter",format:N,isSelected:a(N),getStylePreview:i(N)});return t.formatter.register(D,I),I},k=S=>Pe(S,D=>vE(D)?g(D):ND(D)?d(D):kE(D)?Pt(ie({},D),{type:"separator"}):h(D));return k(s)},$_=t=>{const s=k=>()=>t.formatter.match(k),a=k=>()=>{const S=t.formatter.get(k);return S!==void 0?x.some({tag:S.length>0&&(S[0].inline||S[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(k))}):x.none()},i=uo([]),d=uo([]),g=uo(!1);return t.on("PreInit",k=>{const S=_F(t),D=_E(t,S,s,a);i.set(D)}),t.on("addStyleModifications",k=>{const S=_E(t,k.items,s,a);d.set(S),g.set(k.replace)}),{getData:()=>{const k=g.get()?[]:i.get(),S=d.get();return k.concat(S)}}},SF=t=>{let i=0;const d=()=>i>0,g=k=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[la(k.tooltipText)]}];return{getConfig:k=>({delayForShow:()=>d()?60:300,delayForHide:J(300),exclusive:!0,lazySink:t,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:g(k),onShow:(S,D)=>{i++,k.onShow&&k.onShow(S,D)},onHide:(S,D)=>{i--,k.onHide&&k.onHide(S,D)},onSetup:k.onSetup}),getComponents:g}},wU=t=>It(t)&&t.nodeType===1,xF=$p.trim,MD=t=>s=>!!(wU(s)&&(s.contentEditable===t||s.getAttribute("data-mce-contenteditable")===t)),EF=MD("true"),kU=MD("false"),CE=(t,s,a,i,d)=>({type:t,title:s,url:a,level:i,attach:d}),SE=t=>{let s=t;for(;s=s.parentNode;){const a=s.contentEditable;if(a&&a!=="inherit")return EF(s)}return!1},_U=(t,s)=>Pe(Uc(Le.fromDom(s),t),a=>a.dom),TF=t=>t.innerText||t.textContent,S0=t=>t.id?t.id:Xn("h"),AF=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,OF=t=>AF(t)&&xE(t),PD=t=>t&&/^(H[1-6])$/.test(t.nodeName),xE=t=>SE(t)&&!kU(t),BD=t=>PD(t)&&xE(t),CU=t=>PD(t)?parseInt(t.nodeName.substr(1),10):0,SU=t=>{var s;const a=S0(t),i=()=>{t.id=a};return CE("header",(s=TF(t))!==null&&s!==void 0?s:"","#"+a,CU(t),i)},xU=t=>{const s=t.id||t.name,a=TF(t);return CE("anchor",a||"#"+s,"#"+s,0,ae)},$D=t=>Pe(wt(t,BD),SU),EU=t=>Pe(wt(t,OF),xU),TU=t=>_U("h1,h2,h3,h4,h5,h6,a:not([href])",t),AU=t=>xF(t.title).length>0,OU={find:t=>{const s=TU(t);return wt($D(s).concat(EU(s)),AU)}},EE="tinymce-url-history",DF=5,FD=t=>Y(t)&&/^https?/.test(t),DU=t=>Xe(t)&&t.length<=DF&&pe(t,FD),x0=t=>Re(t)&&_o(t,s=>!DU(s)).isNone(),RF=()=>{const t=Yb.getItem(EE);if(t===null)return{};let s;try{s=JSON.parse(t)}catch(a){if(a instanceof SyntaxError)return console.log("Local storage "+EE+" was not valid JSON",a),{};throw a}return x0(s)?s:(console.log("Local storage "+EE+" was not valid format",s),{})},RU=t=>{if(!x0(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));Yb.setItem(EE,JSON.stringify(t))},ID=t=>{const s=RF();return on(s,t).getOr([])},zF=(t,s)=>{if(!FD(t))return;const a=RF(),i=on(a,s).getOr([]),d=wt(i,g=>g!==t);a[s]=[t].concat(d).slice(0,DF),RU(a)},NF=t=>!!t,zU=t=>Vn($p.makeMap(t,/[, ]/),NF),LD=t=>x.from(VO(t)),NU=t=>{const s=x.from(H2(t)).filter(NF).map(zU);return LD(t).fold(We,a=>s.fold(Ye,i=>pn(i).length>0?i:!1))},MU=(t,s)=>{const a=NU(t);return zt(a)?a?LD(t):x.none():a[s]?LD(t):x.none()},PU=(t,s)=>MU(t,s).map(a=>i=>Di.nu(d=>{const g=(k,S)=>{if(!Y(k))throw new Error("Expected value to be string");if(S!==void 0&&!Re(S))throw new Error("Expected meta to be a object");d({value:k,meta:S})},h=ie({filetype:s,fieldname:i.fieldname},x.from(i.meta).getOr({}));a.call(t,g,i.value,h)})),MF=t=>x.from(t).filter(Y).getOrUndefined(),BU=t=>UO(t)?x.some({targets:OU.find(t.getBody()),anchorTop:MF(jO(t)),anchorBottom:MF(gM(t))}):x.none(),$U=t=>x.from(fM(t)),XK=t=>({getHistory:ID,addToHistory:zF,getLinkInformation:()=>BU(t),getValidationHandler:()=>$U(t),getUrlPicker:s=>PU(t,s)}),FU=(t,s,a,i)=>{const d=uo(!1),g=hU(s),h={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:Rd.translate,isDisabled:()=>!s.ui.isEnabled(),getOption:s.options.get,tooltips:SF(t.dialog),checkUiComponentContext:Ae=>{const[Ke,ot=""]=Ae.split(":"),_t=s.ui.registry.getAll().contexts,Et=on(_t,Ke).fold(()=>on(_t,"mode").map(Cn=>Cn("design")).getOr(!1),Cn=>ot.charAt(0)==="!"?!Cn(ot.slice(1)):Cn(ot));return{contextType:Ke,shouldDisable:!Et}}},k=XK(s),S=$_(s),D=mU(s),N=pU(s),I=()=>d.get(),X=Ae=>d.set(Ae),Q={shared:{providers:h,anchors:yF(s,a,i,g.isPositionedAtTop),header:g},urlinput:k,styles:S,colorinput:D,dialog:N,isContextMenuOpen:I,setContextMenuState:X},ue=Ae=>x.none(),ye=Pt(ie({},Q),{shared:Pt(ie({},Q.shared),{interpreter:Ae=>mi(Ae,{},ye,ue),getSink:t.popup})}),Je=Pt(ie({},Q),{shared:Pt(ie({},Q.shared),{interpreter:Ae=>mi(Ae,{},Je,ue),getSink:t.dialog})});return{popup:ye,dialog:Je}},PF=(t,s,a)=>{const i=(qt,Yn)=>{gt([s,...a],$n=>{$n.broadcastEvent(qt,Yn)})},d=(qt,Yn)=>{gt([s,...a],$n=>{$n.broadcastOn([qt],Yn)})},g=qt=>d(rm(),{target:qt.target}),h=ll(),k=Wi(h,"touchstart",g),S=Wi(h,"touchmove",qt=>i(zT(),qt)),D=Wi(h,"touchend",qt=>i(bC(),qt)),N=Wi(h,"mousedown",g),I=Wi(h,"mouseup",qt=>{qt.raw.button===0&&d(Ev(),{target:qt.target})}),X=qt=>d(rm(),{target:Le.fromDom(qt.target)}),Q=qt=>{qt.button===0&&d(Ev(),{target:Le.fromDom(qt.target)})},ue=()=>{gt(t.editorManager.get(),qt=>{t!==qt&&qt.dispatch("DismissPopups",{relatedTarget:t})})},ye=qt=>i(Fm(),kS(qt)),Je=qt=>{d(cg(),{}),i(jg(),kS(qt))},Ae=Lr(Le.fromDom(t.getElement())),Ke=$w(Ae,"scroll",qt=>{requestAnimationFrame(()=>{const Yn=t.getContainer();if(Yn!=null){const to=ny(t,s.element).map(ws=>[ws.element,...ws.others]).getOr([]);En(to,ws=>Rs(ws,qt.target))&&(t.dispatch("ElementScroll",{target:qt.target.dom}),i(q0(),qt))}})}),ot=()=>d(cg(),{}),_t=qt=>{qt.state&&d(rm(),{target:Le.fromDom(t.getContainer())})},Et=qt=>{d(rm(),{target:Le.fromDom(qt.relatedTarget.getContainer())})},Cn=qt=>t.dispatch("focusin",qt),Kn=qt=>t.dispatch("focusout",qt);t.on("PostRender",()=>{t.on("click",X),t.on("tap",X),t.on("mouseup",Q),t.on("mousedown",ue),t.on("ScrollWindow",ye),t.on("ResizeWindow",Je),t.on("ResizeEditor",ot),t.on("AfterProgressState",_t),t.on("DismissPopups",Et),gt([s,...a],qt=>{qt.element.dom.addEventListener("focusin",Cn),qt.element.dom.addEventListener("focusout",Kn)})}),t.on("remove",()=>{t.off("click",X),t.off("tap",X),t.off("mouseup",Q),t.off("mousedown",ue),t.off("ScrollWindow",ye),t.off("ResizeWindow",Je),t.off("ResizeEditor",ot),t.off("AfterProgressState",_t),t.off("DismissPopups",Et),gt([s,...a],qt=>{qt.element.dom.removeEventListener("focusin",Cn),qt.element.dom.removeEventListener("focusout",Kn)}),N.unbind(),k.unbind(),S.unbind(),D.unbind(),I.unbind(),Ke.unbind()}),t.on("detach",()=>{gt([s,...a],bp),gt([s,...a],qt=>qt.destroy())})},Rc=kk,Ld=p2,BF=J([it("shell",!1),Xt("makeItem"),it("setupItem",ae),uu.field("listBehaviours",[Zo])]),IU=Fl({name:"items",overrides:()=>({behaviours:hn([Zo.config({})])})}),LU=J([IU]),HU=J("CustomList"),VU=(t,s,a,i)=>{const d=(k,S)=>{h(k).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},D=>{const N=Zo.contents(D),I=S.length,X=I-N.length,Q=X>0?et(X,()=>t.makeItem()):[],ue=N.slice(I);gt(ue,Je=>Zo.remove(D,Je)),gt(Q,Je=>Zo.append(D,Je));const ye=Zo.contents(D);gt(ye,(Je,Ae)=>{t.setupItem(k,Je,S[Ae],Ae)})})},g=t.shell?{behaviours:[Zo.config({})],components:[]}:{behaviours:[],components:s},h=k=>t.shell?x.some(k):vr(k,t,"items");return{uid:t.uid,dom:t.dom,components:g.components,behaviours:Oc(t.listBehaviours,g.behaviours),apis:{setItems:d}}},$F=Qc({name:HU(),configFields:BF(),partFields:LU(),factory:VU,apis:{setItems:(t,s,a)=>{t.setItems(s,a)}}}),E0=J([Xt("dom"),it("shell",!0),Ac("toolbarBehaviours",[Zo])]),FF=J([Fl({name:"groups",overrides:()=>({behaviours:hn([Zo.config({})])})})]),jU=(t,s,a,i)=>{const d=(k,S)=>{g(k).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},D=>{Zo.set(D,S)})},g=k=>t.shell?x.some(k):vr(k,t,"groups"),h=t.shell?{behaviours:[Zo.config({})],components:[]}:{behaviours:[],components:s};return{uid:t.uid,dom:t.dom,components:h.components,behaviours:Oc(t.toolbarBehaviours,h.behaviours),apis:{setGroups:d,refresh:ae},domModification:{attributes:{role:"group"}}}},Of=Qc({name:"Toolbar",configFields:E0(),partFields:FF(),factory:jU,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)}}}),WU=ae,ZU=We,IF=J([]);var l1=Object.freeze({__proto__:null,setup:WU,isDocked:ZU,getBehaviours:IF});const TE=J(Xn("toolbar-height-change")),Xu={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},F_="tox-tinymce--toolbar-sticky-on",HD="tox-tinymce--toolbar-sticky-off",LF=(t,s)=>{const a=ha(s),d=Ba(s).dom.innerHeight,g=$c(a),h=Le.fromDom(t.elm),k=Eu(h),S=Ys(h),D=k.y,N=D+S,I=Cr(s),X=Ys(s),Q=I.top,ue=Q+X,ye=Math.abs(Q-g.top)<2,Je=Math.abs(ue-(g.top+d))<2;if(ye&&D<ue)ud(g.left,D-X,a);else if(Je&&N>Q){const Ae=D-d+S+X;ud(g.left,Ae,a)}},I_=(t,s)=>Vt(Mr.getModes(t),s),HF=t=>{const s=i=>Fi(i)+(parseInt(Ls(i,"margin-top"),10)||0)+(parseInt(Ls(i,"margin-bottom"),10)||0),a=t.element;Qa(a).each(i=>{const d="padding-"+Mr.getModes(t)[0];if(Mr.isDocked(t)){const g=ce(i);yt(a,"width",g+"px"),yt(i,d,s(a)+"px")}else Vo(a,"width"),Vo(i,d)})},VF=(t,s)=>{s?(sr(t,Xu.fadeOutClass),mh(t,[Xu.transitionClass,Xu.fadeInClass])):(sr(t,Xu.fadeInClass),mh(t,[Xu.fadeOutClass,Xu.transitionClass]))},UF=(t,s)=>{const a=Le.fromDom(t.getContainer());s?(Ia(a,F_),sr(a,HD)):(Ia(a,HD),sr(a,F_))},qU=(t,s)=>{const a=ha(s);yf(a).filter(i=>!Rs(s,i)).filter(i=>Rs(i,Le.fromDom(a.dom.body))||pa(t,i)).each(()=>cu(s))},GU=(t,s)=>Ti(t).orThunk(()=>s().toOptional().bind(a=>Ti(a.element))),KU=(t,s,a)=>{t.inline||(s.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{a().each(Mr.reset)}),t.on("ResizeWindow ResizeEditor",()=>{a().each(HF)}),t.on("SkinLoaded",()=>{a().each(i=>{Mr.isDocked(i)?Mr.reset(i):Mr.refresh(i)})}),t.on("FullscreenStateChanged",()=>{a().each(Mr.reset)})),t.on("AfterScrollIntoView",i=>{a().each(d=>{Mr.refresh(d);const g=d.element;fO(g)&&LF(i,g)})}),t.on("PostRender",()=>{UF(t,!1)})},T0=t=>t().map(Mr.isDocked).getOr(!1),L_=()=>[hl.config({channels:{[TE()]:{onReceive:HF}}})],AE=(t,s)=>{const a=$s(),i=s.getSink,d=k=>{i().each(S=>k(S.element))},g=k=>{t.inline||HF(k),UF(t,Mr.isDocked(k)),k.getSystem().broadcastOn([cg()],{}),i().each(S=>S.getSystem().broadcastOn([cg()],{}))},h=t.inline?[]:L_();return[Fo.config({}),Mr.config({contextual:ie({lazyContext:k=>{const S=Fi(k.element),D=t.inline?t.getContentAreaContainer():t.getContainer();return x.from(D).map(N=>{const I=Vr(Le.fromDom(N));return ny(t,k.element).fold(()=>{const Q=I.height-S,ue=I.y+(I_(k,"top")?0:S);return Hr(I.x,ue,I.width,Q)},Q=>{const ue=Qi(I,oy(Q)),ye=I_(k,"top")?ue.y:ue.y+S;return Hr(ue.x,ye,ue.width,ue.height-S)})})},onShow:()=>{d(k=>VF(k,!0))},onShown:k=>{d(S=>wd(S,[Xu.transitionClass,Xu.fadeInClass])),a.get().each(S=>{qU(k.element,S),a.clear()})},onHide:k=>{GU(k.element,i).fold(a.clear,a.set),d(S=>VF(S,!1))},onHidden:()=>{d(k=>wd(k,[Xu.transitionClass]))}},Xu),lazyViewport:k=>ny(t,k.element).fold(()=>{const D=za(),N=uM(t),I=D.y+(I_(k,"top")&&!QO(t)?N:0),X=D.height-(I_(k,"bottom")?N:0);return{bounds:Hr(D.x,I,D.width,X),optScrollEnv:x.none()}},D=>({bounds:oy(D),optScrollEnv:x.some({currentScrollTop:D.element.dom.scrollTop,scrollElmTop:Cr(D.element).top})})),modes:[s.header.getDockingMode()],onDocked:g,onUndocked:g}),...h]};var YU=Object.freeze({__proto__:null,setup:KU,isDocked:T0,getBehaviours:AE});const XU=t=>{const s=t.editor,a=t.sticky?AE:IF;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:hn(a(s,t.sharedBackstage))}},VD=To([Ya,Vs("items",Dy([Ry([C4,ol("items",In)]),In]))].concat(Ub)),JU=t=>sa("GroupToolbarButton",VD,t),H_=[Za("text"),Za("tooltip"),Za("icon"),fr("search",!1,Dy([Ol,To([Za("placeholder")])],t=>zt(t)?t?x.some({placeholder:x.none()}):x.none():x.some(t))),fl("fetch"),zr("onSetup",()=>ae),xa("context","mode:design")],UD=To([Ya,...H_]),jF=t=>sa("menubutton",UD,t),QU=To([Ya,Jk,Zu,Mp,dP,iP,Vb,gc("presets","normal",["normal","color","listpreview"]),fP(1),o0,lP,xa("context","mode:design")]),ej=t=>sa("SplitButton",QU,t);var jD=wl({factory:(t,s)=>{const a=(d,g)=>{const h=Pe(g,k=>{const S={type:"menubutton",text:k.text,fetch:N=>{N(k.getItems())},context:"any"},D=jF(S).mapError(N=>Zf(N)).getOrDie();return i1(D,"tox-mbtn",s.backstage,x.some("menuitem"))});Zo.set(d,h)},i={focus:So.focusIn,setMenus:a};return{uid:t.uid,dom:t.dom,components:[],behaviours:hn([Zo.config({}),Yo("menubar-events",[Wr(d=>{t.onSetup(d)}),Jt(Hi(),(d,g)=>{Yr(d.element,".tox-mbtn--active").each(h=>{pf(g.event.target,".tox-mbtn").each(k=>{Rs(h,k)||d.getSystem().getByDom(h).each(S=>{d.getSystem().getByDom(k).each(D=>{Gu.expand(D),Gu.close(S),Fo.focus(D)})})})})}),Jt($y(),(d,g)=>{g.event.prevFocus.bind(h=>d.getSystem().getByDom(h).toOptional()).each(h=>{g.event.newFocus.bind(k=>d.getSystem().getByDom(k).toOptional()).each(k=>{Gu.isOpen(h)&&(Gu.expand(k),Gu.close(h))})})})]),So.config({mode:"flow",selector:".tox-mbtn",onEscape:d=>(t.onEscape(d),x.some(!0))}),Xr.config({})]),apis:i,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Xt("dom"),Xt("uid"),Xt("onEscape"),Xt("backstage"),it("onSetup",ae)],apis:{focus:(t,s)=>{t.focus(s)},setMenus:(t,s,a)=>{t.setMenus(s,a)}}});const tj="⚡️Upgrade",WF="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",ZF=t=>({uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:WF,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:tj}}]}),OE="container",nj=[Ac("slotBehaviours",[])],V_=t=>"<alloy.field."+t+">",DE=t=>{const s=(()=>{const g=[];return{slot:(k,S)=>(g.push(k),$v(OE,V_(k),S)),record:J(g)}})(),a=t(s),i=s.record(),d=Pe(i,g=>di({name:g,pname:V_(g)}));return Eb(OE,nj,d,qF,a)},qF=(t,s)=>{const a=ye=>wk(t),i=(ye,Je)=>vr(ye,t,Je),d=(ye,Je)=>(Ae,Ke)=>vr(Ae,t,Ke).map(ot=>ye(ot,Ke)).getOr(Je),g=ye=>(Je,Ae)=>{gt(Ae,Ke=>ye(Je,Ke))},h=(ye,Je)=>$e(ye.element,"aria-hidden")!=="true",k=(ye,Je)=>{if(!h(ye)){const Ae=ye.element;Vo(Ae,"display"),$(Ae,"aria-hidden"),co(ye,ch(),{name:Je,visible:!0})}},S=(ye,Je)=>{if(h(ye)){const Ae=ye.element;yt(Ae,"display","none"),V(Ae,"aria-hidden","true"),co(ye,ch(),{name:Je,visible:!1})}},D=d(h,!1),N=d(S),I=g(N),X=ye=>I(ye,a()),Q=d(k),ue={getSlotNames:a,getSlot:i,isShowing:D,hideSlot:N,hideAllSlots:X,showSlot:Q};return{uid:t.uid,dom:t.dom,components:s,behaviours:Dv(t.slotBehaviours),apis:ue}},oj=Vn({getSlotNames:(t,s)=>t.getSlotNames(s),getSlot:(t,s,a)=>t.getSlot(s,a),isShowing:(t,s,a)=>t.isShowing(s,a),hideSlot:(t,s,a)=>t.hideSlot(s,a),hideAllSlots:(t,s)=>t.hideAllSlots(s),showSlot:(t,s,a)=>t.showSlot(s,a)},t=>K1(t)),Ki=Pt(ie({},oj),{sketch:DE}),sj=To([Zu,Jk,zr("onShow",ae),zr("onHide",ae),Vb]),rj=t=>sa("sidebar",sj,t),WD=t=>{const{sidebars:s}=t.ui.registry.getAll();gt(pn(s),a=>{const i=s[a],d=()=>Qs(x.from(t.queryCommandValue("ToggleSidebar")),a);t.ui.registry.addToggleButton(a,{icon:i.icon,tooltip:i.tooltip,onAction:g=>{t.execCommand("ToggleSidebar",!1,a),g.setActive(d())},onSetup:g=>{g.setActive(d());const h=()=>g.setActive(d());return t.on("ToggleSidebar",h),()=>{t.off("ToggleSidebar",h)}},context:"any"})})},aj=t=>({element:()=>t.element.dom}),ZD=(t,s)=>{const a=Pe(pn(s),i=>{const d=s[i],g=dn(rj(d));return{name:i,getApi:aj,onSetup:g.onSetup,onShow:g.onShow,onHide:g.onHide}});return Pe(a,i=>{const d=uo(ae);return t.slot(i.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:r0.unnamedEvents([iy(i,d),ly(i,d),Jt(ch(),(g,h)=>{const k=h.event;re(a,D=>D.name===k.name).each(D=>{(k.visible?D.onShow:D.onHide)(D.getApi(g))})})])})})},cj=t=>Ki.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:ZD(s,t),slotBehaviours:r0.unnamedEvents([Wr(a=>Ki.hideAllSlots(a))])})),qD=(t,s,a)=>{Es.getCurrent(t).each(d=>{Zo.set(d,[cj(s)]);const g=a==null?void 0:a.toLowerCase();Y(g)&&Go(s,g)&&Es.getCurrent(d).each(h=>{Ki.showSlot(h,g),Hl.immediateGrow(d),Vo(d.element,"width"),RE(t.element,"region")})})},RE=(t,s)=>{V(t,"role",s)},ij=(t,s)=>{Es.getCurrent(t).each(i=>{Es.getCurrent(i).each(g=>{Hl.hasGrown(i)?Ki.isShowing(g,s)?(Hl.shrink(i),RE(t.element,"presentation")):(Ki.hideAllSlots(g),Ki.showSlot(g,s),RE(t.element,"region")):(Ki.hideAllSlots(g),Ki.showSlot(g,s),Hl.grow(i),RE(t.element,"region"))})})},lj=t=>Es.getCurrent(t).bind(a=>Hl.isGrowing(a)||Hl.hasGrown(a)?Es.getCurrent(a).bind(g=>re(Ki.getSlotNames(g),h=>Ki.isShowing(g,h))):x.none()),GD=Xn("FixSizeEvent"),KD=Xn("AutoSizeEvent"),eY=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:hn([Xr.config({}),Fo.config({}),Hl.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{Es.getCurrent(s).each(Ki.hideAllSlots),ms(s,KD)},onGrown:s=>{ms(s,KD)},onStartGrow:s=>{co(s,GD,{width:Bs(s.element,"width").getOr("")})},onStartShrink:s=>{co(s,GD,{width:ce(s.element)+"px"})}}),Zo.config({}),Es.config({find:s=>{const a=Zo.contents(s);return Sn(a)}})])}],behaviours:hn([Bd.childAt(0),Yo("sidebar-sliding-events",[Jt(GD,(s,a)=>{yt(s.element,"width",a.event.width)}),Jt(KD,(s,a)=>{Vo(s.element,"width")})])])});var GF=Object.freeze({__proto__:null,block:(t,s,a,i)=>{V(t.element,"aria-busy",!0);const d=s.getRoot(t).getOr(t),g=hn([So.config({mode:"special",onTab:()=>x.some(!0),onShiftTab:()=>x.some(!0)}),Fo.config({})]),h=i(d,g),k=d.getSystem().build(h);Zo.append(d,Nl(k)),k.hasConfigured(So)&&s.focus&&So.focusIn(k),a.isBlocked()||s.onBlock(t),a.blockWith(()=>Zo.remove(d,k))},unblock:(t,s,a)=>{$(t.element,"aria-busy"),a.isBlocked()&&s.onUnblock(t),a.clear()},isBlocked:(t,s,a)=>a.isBlocked()}),dj=[zr("getRoot",x.none),qa("focus",!0),As("onBlock"),As("onUnblock")],fj=Object.freeze({__proto__:null,init:()=>{const t=Dg(),s=a=>{t.set({destroy:a})};return xi({readState:t.isSet,blockWith:s,clear:t.clear,isBlocked:t.isSet})}});const bm=Ec({fields:dj,name:"blocking",apis:GF,state:fj}),mj=t=>(s,a)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:cm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),YD=t=>Es.getCurrent(t).each(s=>cu(s.element,!0)),gj=(t,s)=>{const a="tabindex",i=`data-mce-${a}`;x.from(t.iframeElement).map(Le.fromDom).each(d=>{s?(kt(d,a).each(g=>V(d,i,g)),V(d,a,-1)):($(d,a),kt(d,i).each(g=>{V(d,a,g),$(d,i)}))})},pj=(t,s,a,i)=>{const d=s.element;if(gj(t,a),a)bm.block(s,mj(i)),Vo(d,"display"),$(d,"aria-hidden"),t.hasFocus()&&YD(s);else{const g=Es.getCurrent(s).exists(h=>up(h.element));bm.unblock(s),yt(d,"display","none"),V(d,"aria-hidden","true"),g&&t.focus()}},hj=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:hn([Zo.config({}),bm.config({focus:!1}),Es.config({find:s=>Sn(s.components())})]),components:[]}),oY=t=>t.type==="focusin",sY=t=>oY(t)?(t.composed?Sn(t.composedPath()):x.from(t.target)).map(Le.fromDom).filter(vo).exists(a=>ji(a,"mce-pastebin")):!1,KF=(t,s,a)=>{const i=uo(!1),d=$s(),g=k=>{i.get()&&!sY(k)&&(k.preventDefault(),YD(s()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",g),t.on("BeforeExecCommand",k=>{k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&g(k)})});const h=k=>{k!==i.get()&&(i.set(k),pj(t,s(),k,a.providers),Tx(t,k))};t.on("ProgressState",k=>{if(d.on(clearTimeout),tt(k.time)){const S=Mb.setEditorTimeout(t,()=>h(k.state),k.time);d.set(S)}else h(k.state),d.clear()})},YF=(t,s)=>st(t,(d,g)=>s(g,d.len).fold(J(d),k=>({len:k.finish,list:d.list.concat([k])})),{len:0,list:[]}).list,XD=(t,s,a)=>({within:t,extra:s,withinWidth:a}),XF=(t,s,a)=>{const i=YF(t,(k,S)=>{const D=a(k);return x.some({element:k,start:S,finish:S+D,width:D})}),d=wt(i,k=>k.finish<=s),g=Yt(d,(k,S)=>k+S.width,0),h=i.slice(d.length);return{within:d,extra:h,withinWidth:g}},Sl=t=>Pe(t,s=>s.element),yj=(t,s,a)=>{const i=Sl(t.concat(s));return XD(i,[],a)},JF=(t,s,a,i)=>{const d=Sl(t).concat([a]);return XD(d,Sl(s),i)},QF=(t,s,a)=>XD(Sl(t),[],a),bj=(t,s,a)=>{const i=XF(s,t,a);return i.extra.length===0?x.some(i):x.none()},U_=(t,s,a,i)=>{const d=bj(t,s,a).getOrThunk(()=>XF(s,t-a(i),a)),g=d.within,h=d.extra,k=d.withinWidth;return h.length===1&&h[0].width<=a(i)?yj(g,h,k):h.length>=1?JF(g,h,i,k):QF(g,h,k)},e5=(t,s)=>{const a=Pe(s,i=>Nl(i));Of.setGroups(t,a)},zE=t=>an(t,s=>Ti(s.element).bind(a=>s.getSystem().getByDom(a).toOptional())),t5=(t,s,a)=>{const i=s.builtGroups.get();if(i.length===0)return;const d=Wn(t,s,"primary"),g=Ma.getCoupled(t,"overflowGroup");yt(d.element,"visibility","hidden");const h=i.concat([g]),k=zE(h);a([]),e5(d,h);const S=ce(d.element),D=U_(S,s.builtGroups.get(),N=>Math.ceil(N.element.dom.getBoundingClientRect().width),g);D.extra.length===0?(Zo.remove(d,g),a([])):(e5(d,D.within),a(D.extra)),Vo(d.element,"visibility"),Mc(d.element),k.each(Fo.focus)},j_=J([Ac("splitToolbarBehaviours",[Ma]),Hs("builtGroups",()=>uo([]))]),vj=J([Jf(["overflowToggledClass"]),eu("getOverflowBounds"),Xt("lazySink"),Hs("overflowGroups",()=>uo([])),As("onOpened"),As("onClosed")].concat(j_())),wj=J([di({factory:Of,schema:E0(),name:"primary"}),du({schema:E0(),name:"overflow"}),du({name:"overflow-button"}),du({name:"overflow-group"})]),bu=J((t,s)=>{dt(t,Math.floor(s))}),kj=J([Jf(["toggledClass"]),Xt("lazySink"),fl("fetch"),eu("getBounds"),rc("fireDismissalEventInstead",[it("event",zl())]),eg(),As("onToggled")]),NE=J([du({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:hn([as.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),du({factory:Of,schema:E0(),name:"toolbar",overrides:t=>({toolbarBehaviours:hn([So.config({mode:"cyclic",onEscape:s=>(vr(s,t,"button").each(Fo.focus),x.none())})])})})]),W_=$s(),n5=(t,s)=>{W_.set(!0),JD(t,s),W_.clear()},JD=(t,s)=>{const a=Ma.getCoupled(t,"toolbarSandbox");Ns.isOpen(a)?Ns.close(a):Ns.open(a,s.toolbar())},ME=(t,s,a,i)=>{const d=a.getBounds.map(h=>h()),g=a.lazySink(t).getOrDie();Wc.positionWithinBounds(g,s,{anchor:{type:"hotspot",hotspot:t,layouts:i,overrides:{maxWidthFunction:bu()}}},d)},o5=(t,s,a,i,d)=>{Of.setGroups(s,d),ME(t,s,a,i),as.on(t)},_j=(t,s,a)=>{const i=Qy(),d=(h,k)=>{const S=W_.get().getOr(!1);a.fetch().get(D=>{o5(t,k,a,s.layouts,D),i.link(t.element),S||So.focusIn(k)})},g=()=>{as.off(t),W_.get().getOr(!1)||Fo.focus(t),i.unlink(t.element)};return{dom:{tag:"div",attributes:{id:i.id}},behaviours:hn([So.config({mode:"special",onEscape:h=>(Ns.close(h),x.some(!0))}),Ns.config({onOpen:d,onClose:g,isPartOf:(h,k,S)=>Km(k,S)||Km(t,S),getAttachPoint:()=>a.lazySink(t).getOrDie()}),hl.config({channels:ie(ie({},wb(ie({isExtraPart:We},a.fireDismissalEventInstead.map(h=>({fireEventInstead:{event:h.event}})).getOr({})))),kb({doReposition:()=>{Ns.getState(Ma.getCoupled(t,"toolbarSandbox")).each(h=>{ME(t,h,a,s.layouts)})}}))})])}},by=Qc({name:"FloatingToolbarButton",factory:(t,s,a,i)=>Pt(ie({},yc.sketch(Pt(ie({},i.button()),{action:d=>{JD(d,i)},buttonBehaviours:uu.augment({dump:i.button().buttonBehaviours},[Ma.config({others:{toolbarSandbox:d=>_j(d,a,t)}})])}))),{apis:{setGroups:(d,g)=>{Ns.getState(Ma.getCoupled(d,"toolbarSandbox")).each(h=>{o5(d,h,t,a.layouts,g)})},reposition:d=>{Ns.getState(Ma.getCoupled(d,"toolbarSandbox")).each(g=>{ME(d,g,t,a.layouts)})},toggle:d=>{JD(d,i)},toggleWithoutFocusing:d=>{n5(d,i)},getToolbar:d=>Ns.getState(Ma.getCoupled(d,"toolbarSandbox")),isOpen:d=>Ns.isOpen(Ma.getCoupled(d,"toolbarSandbox"))}}),configFields:kj(),partFields:NE(),apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggleWithoutFocusing(s)},getToolbar:(t,s)=>t.getToolbar(s),isOpen:(t,s)=>t.isOpen(s)}}),Cj=J([Xt("items"),Jf(["itemSelector"]),Ac("tgroupBehaviours",[So])]),Sj=J([Sb({name:"items",unit:"item"})]),xj=(t,s,a,i)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Oc(t.tgroupBehaviours,[So.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),Z_=Qc({name:"ToolbarGroup",configFields:Cj(),partFields:Sj(),factory:xj}),QD=t=>Pe(t,s=>Nl(s)),eR=(t,s,a)=>{t5(t,a,i=>{a.overflowGroups.set(i),s.getOpt(t).each(d=>{by.setGroups(d,QD(i))})})},Ej=(t,s,a,i)=>{const d=Zs(by.sketch({fetch:()=>Di.nu(g=>{g(QD(t.overflowGroups.get()))}),layouts:{onLtr:()=>[ic,cc],onRtl:()=>[cc,ic],onBottomLtr:()=>[lc,Vc],onBottomRtl:()=>[Vc,lc]},getBounds:a.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:i["overflow-button"](),toolbar:i.overflow()},onToggled:(g,h)=>t[h?"onOpened":"onClosed"](g)}));return{uid:t.uid,dom:t.dom,components:s,behaviours:Oc(t.splitToolbarBehaviours,[Ma.config({others:{overflowGroup:()=>Z_.sketch(Pt(ie({},i["overflow-group"]()),{items:[d.asSpec()]}))}})]),apis:{setGroups:(g,h)=>{t.builtGroups.set(Pe(h,g.getSystem().build)),eR(g,d,t)},refresh:g=>eR(g,d,t),toggle:g=>{d.getOpt(g).each(h=>{by.toggle(h)})},toggleWithoutFocusing:g=>{d.getOpt(g).each(by.toggleWithoutFocusing)},isOpen:g=>d.getOpt(g).map(by.isOpen).getOr(!1),reposition:g=>{d.getOpt(g).each(h=>{by.reposition(h)})},getOverflow:g=>d.getOpt(g).bind(by.getToolbar)},domModification:{attributes:{role:"group"}}}},s5=Qc({name:"SplitFloatingToolbar",configFields:vj(),partFields:wj(),factory:Ej,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},refresh:(t,s)=>{t.refresh(s)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s),getOverflow:(t,s)=>t.getOverflow(s)}}),r5=J([Jf(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),As("onOpened"),As("onClosed")].concat(j_())),a5=J([di({factory:Of,schema:E0(),name:"primary"}),di({factory:Of,schema:E0(),name:"overflow",overrides:t=>({toolbarBehaviours:hn([Hl.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:s=>{vr(s,t,"overflow-button").each(a=>{as.off(a)}),t.onClosed(s)},onGrown:s=>{t.onOpened(s)},onStartGrow:s=>{vr(s,t,"overflow-button").each(as.on)}}),So.config({mode:"acyclic",onEscape:s=>(vr(s,t,"overflow-button").each(Fo.focus),x.some(!0))})])})}),du({name:"overflow-button",overrides:t=>({buttonBehaviours:hn([as.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),du({name:"overflow-group"})]),c5=(t,s)=>vr(t,s,"overflow").map(Hl.hasGrown).getOr(!1),tR=(t,s,a)=>{vr(t,s,"overflow-button").each(i=>{vr(t,s,"overflow").each(d=>{if(nR(t,s),Hl.hasShrunk(d)){const g=s.onOpened;s.onOpened=h=>{a||So.focusIn(d),g(h),s.onOpened=g}}else{const g=s.onClosed;s.onClosed=h=>{a||Fo.focus(i),g(h),s.onClosed=g}}Hl.toggleGrow(d)})})},nR=(t,s)=>{vr(t,s,"overflow").each(a=>{t5(t,s,i=>{const d=Pe(i,g=>Nl(g));Of.setGroups(a,d)}),vr(t,s,"overflow-button").each(i=>{Hl.hasGrown(a)&&as.on(i)}),Hl.refresh(a)})},Tj=(t,s,a,i)=>{const d="alloy.toolbar.toggle",g=(h,k)=>{const S=Pe(k,h.getSystem().build);t.builtGroups.set(S)};return{uid:t.uid,dom:t.dom,components:s,behaviours:Oc(t.splitToolbarBehaviours,[Ma.config({others:{overflowGroup:h=>Z_.sketch(Pt(ie({},i["overflow-group"]()),{items:[yc.sketch(Pt(ie({},i["overflow-button"]()),{action:k=>{ms(h,d)}}))]}))}}),Yo("toolbar-toggle-events",[Jt(d,h=>{tR(h,t,!1)})])]),apis:{setGroups:(h,k)=>{g(h,k),nR(h,t)},refresh:h=>nR(h,t),toggle:h=>{tR(h,t,!1)},toggleWithoutFocusing:h=>{tR(h,t,!0)},isOpen:h=>c5(h,t)},domModification:{attributes:{role:"group"}}}},PE=Qc({name:"SplitSlidingToolbar",configFields:r5(),partFields:a5(),factory:Tj,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},refresh:(t,s)=>{t.refresh(s)},toggle:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s)}}),i5=t=>{const s=t.title.fold(()=>({}),a=>({attributes:{title:a}}));return{dom:ie({tag:"div",classes:["tox-toolbar__group"]},s),components:[Z_.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:hn([Xr.config({}),Fo.config({})])}},BE=t=>Z_.sketch(i5(t)),l5=(t,s)=>{const a=Wr(i=>{const d=Pe(t.initGroups,BE);Of.setGroups(i,d)});return hn([qu.toolbarButton(()=>t.providers.checkUiComponentContext("any").shouldDisable),La(()=>t.providers.checkUiComponentContext("any")),So.config({mode:s,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Yo("toolbar-events",[a])])},u5=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":i5({title:x.none(),items:[]}),"overflow-button":sF({context:"any",name:"more",icon:x.some("more-drawer"),enabled:!0,tooltip:x.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:x.none(),borderless:!1},x.none(),t.providers,[],"overflow-button")},splitToolbarBehaviours:l5(t,s)}},Aj=t=>{const s=u5(t),a=4,i=s5.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return s5.sketch(Pt(ie({},s),{lazySink:t.getSink,getOverflowBounds:()=>{const d=t.moreDrawerData.lazyHeader().element,g=Eu(d),h=yi(d),k=Eu(h),S=Math.max(h.dom.scrollHeight,k.height);return Hr(g.x+a,k.y,g.width-a*2,S)},parts:Pt(ie({},s.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[i],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>t.onToggled(d,!0),onClosed:d=>t.onToggled(d,!1)}))},Oj=t=>{const s=PE.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),a=PE.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),i=u5(t);return PE.sketch(Pt(ie({},i),{components:[s,a],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>{d.getSystem().broadcastOn([TE()],{type:"opened"}),t.onToggled(d,!0)},onClosed:d=>{d.getSystem().broadcastOn([TE()],{type:"closed"}),t.onToggled(d,!1)}}))},$E=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return Of.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===ju.scrolling?["tox-toolbar--scrolling"]:[])},components:[Of.parts.groups({})],toolbarBehaviours:l5(t,s)})},d5=[Mp,Zu,Za("tooltip"),gc("buttonType","secondary",["primary","secondary"]),qa("borderless",!1),fl("onAction"),xa("context","mode:design")],Dj=[...d5,Np,Ic("type",["button"])],Rj=[...d5,qa("active",!1),Ic("type",["togglebutton"])],oR={button:Dj,togglebutton:Rj},zj=[Ic("type",["group"]),rf("buttons",[],wa("type",oR))],Nj=wa("type",Pt(ie({},oR),{group:zj})),sR=To([rf("buttons",[],Nj),fl("onShow"),fl("onHide")]),Mj=t=>sa("view",sR,t),FE=(t,s)=>{var a,i;const d=t.type==="togglebutton",g=t.icon.map(ot=>Fp(ot,s.icons)).map(Zs),k=ot=>{const _t=qt=>{g.map(Yn=>Yn.getOpt(ot).each($n=>{Zo.set($n,[Fp(qt,s.icons)])}))},Et=qt=>{const Yn=ot.element;qt?(Ia(Yn,"tox-button--enabled"),V(Yn,"aria-pressed",!0)):(sr(Yn,"tox-button--enabled"),$(Yn,"aria-pressed"))},Cn=()=>ji(ot.element,"tox-button--enabled"),Kn=()=>cu(ot.element);if(d)return t.onAction({setIcon:_t,setActive:Et,isActive:Cn,focus:Kn});if(t.type==="button")return t.onAction({setIcon:_t})},S=Pt(ie({},t),{name:d?t.text.getOr(t.icon.getOr("")):(a=t.text)!==null&&a!==void 0?a:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:x.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless}),D=bD((i=t.buttonType)!==null&&i!==void 0?i:"secondary"),N=d?t.text.map(s.translate):x.some(s.translate(t.text)),I=N.map(la),X=S.tooltip.or(N).map(ot=>({"aria-label":s.translate(ot)})).getOr({}),Q=g.map(ot=>ot.asSpec()),ue=uy([Q,I]),ye=t.icon.isSome()&&I.isSome(),Je={tag:"button",classes:D.concat(...t.icon.isSome()&&!ye?["tox-button--icon"]:[]).concat(...ye?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:X},Ae=[],Ke=pE(S,x.some(k),Ae,Je,ue,t.tooltip,s);return yc.sketch(Ke)},f5=(t,s)=>FE(t,s),m5=(t,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Pe(t.buttons,a=>f5(a,s))}),g5=rs().deviceType,Pj=g5.isPhone(),aY=g5.isTablet(),Bj=t=>{let s=!1;const a=Pe(t.buttons,i=>i.type==="group"?(s=!0,m5(i,t.providers)):f5(i,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...Pj||aY?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:hn([Fo.config({}),So.config({mode:"flow",selector:"button, .tox-button",focusInside:dg.OnEnterOrSpaceMode})]),components:s?a:[gm.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),gm.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:a})]}},$j=t=>({uid:t.uid,behaviours:hn([Fo.config({}),Xr.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}}),rR=(t,s,a,i)=>{const d={getPane:g=>Rc.getPart(g,t,"pane"),getOnShow:g=>t.viewConfig.onShow,getOnHide:g=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:s,behaviours:hn([Fo.config({}),So.config({mode:"cyclic",focusInside:dg.OnEnterOrSpaceMode})]),apis:d}};var A0=Qc({name:"silver.View",configFields:[Xt("viewConfig")],partFields:[Fl({factory:{sketch:Bj},schema:[Xt("buttons"),Xt("providers")],name:"header"}),Fl({factory:{sketch:$j},schema:[],name:"pane"})],factory:rR,apis:{getPane:(t,s)=>t.getPane(s),getOnShow:(t,s)=>t.getOnShow(s),getOnHide:(t,s)=>t.getOnHide(s)}});const IE=(t,s,a)=>Gs(s,(i,d)=>{const g=dn(Mj(i));return t.slot(d,A0.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:g,components:[...g.buttons.length>0?[A0.parts.header({buttons:g.buttons,providers:a})]:[],A0.parts.pane({})]}))}),p5=(t,s)=>Ki.sketch(a=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:IE(a,t,s),slotBehaviours:r0.unnamedEvents([Wr(i=>Ki.hideAllSlots(i))])})),aR=t=>re(Ki.getSlotNames(t),s=>Ki.isShowing(t,s)),cR=t=>{const s=t.element;yt(s,"display","none"),V(s,"aria-hidden","true")},Fj=t=>{const s=t.element;Vo(s,"display"),$(s,"aria-hidden")},h5=t=>({getContainer:J(t)}),u1=(t,s,a)=>{Ki.getSlot(t,s).each(i=>{A0.getPane(i).each(d=>{a(i)(h5(d.element.dom))})})},y5=(t,s)=>u1(t,s,A0.getOnShow),Ij=(t,s)=>u1(t,s,A0.getOnHide);var LE=wl({factory:(t,s)=>{const g={setViews:(h,k)=>{Zo.set(h,[p5(k,s.backstage.shared.providers)])},whichView:h=>Es.getCurrent(h).bind(aR),toggleView:(h,k,S,D)=>Es.getCurrent(h).exists(N=>{const I=aR(N),X=I.exists(ue=>D===ue),Q=Ki.getSlot(N,D).isSome();return Q&&(Ki.hideAllSlots(N),X?(cR(h),k()):(S(),Fj(h),Ki.showSlot(N,D),y5(N,D)),I.each(ue=>Ij(N,ue))),Q})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:hn([Zo.config({}),Es.config({find:h=>{const k=Zo.contents(h);return Sn(k)}})]),apis:g}},name:"silver.ViewWrapper",configFields:[Xt("backstage")],apis:{setViews:(t,s,a)=>t.setViews(s,a),toggleView:(t,s,a,i,d)=>t.toggleView(s,a,i,d),whichView:(t,s)=>t.whichView(s)}});const iR=(t,s,a)=>{let i=!1;const d=h=>{oA(h,".tox-statusbar").each(k=>{Ls(k,"display")==="none"&&$e(k,"aria-hidden")==="true"?(Vo(k,"display"),$(k,"aria-hidden")):(yt(k,"display","none"),V(k,"aria-hidden","true"))})},g={getSocket:h=>Rc.getPart(h,t,"socket"),setSidebar:(h,k,S)=>{Rc.getPart(h,t,"sidebar").each(D=>qD(D,k,S))},toggleSidebar:(h,k)=>{Rc.getPart(h,t,"sidebar").each(S=>ij(S,k))},whichSidebar:h=>Rc.getPart(h,t,"sidebar").bind(lj).getOrNull(),getHeader:h=>Rc.getPart(h,t,"header"),getToolbar:h=>Rc.getPart(h,t,"toolbar"),setToolbar:(h,k)=>{Rc.getPart(h,t,"toolbar").each(S=>{const D=Pe(k,BE);S.getApis().setGroups(S,D)})},setToolbars:(h,k)=>{Rc.getPart(h,t,"multiple-toolbar").each(S=>{const D=Pe(k,N=>Pe(N,BE));$F.setItems(S,D)})},refreshToolbar:h=>{Rc.getPart(h,t,"toolbar").each(S=>S.getApis().refresh(S))},toggleToolbarDrawer:h=>{Rc.getPart(h,t,"toolbar").each(k=>{ys(k.getApis().toggle,S=>S(k))})},toggleToolbarDrawerWithoutFocusing:h=>{Rc.getPart(h,t,"toolbar").each(k=>{ys(k.getApis().toggleWithoutFocusing,S=>S(k))})},isToolbarDrawerToggled:h=>Rc.getPart(h,t,"toolbar").bind(k=>x.from(k.getApis().isOpen).map(S=>S(k))).getOr(!1),getThrobber:h=>Rc.getPart(h,t,"throbber"),focusToolbar:h=>{Rc.getPart(h,t,"toolbar").orThunk(()=>Rc.getPart(h,t,"multiple-toolbar")).each(S=>{So.focusIn(S)})},setMenubar:(h,k)=>{Rc.getPart(h,t,"menubar").each(S=>{jD.setMenus(S,k)})},focusMenubar:h=>{Rc.getPart(h,t,"menubar").each(k=>{jD.focus(k)})},setViews:(h,k)=>{Rc.getPart(h,t,"viewWrapper").each(S=>{LE.setViews(S,k)})},toggleView:(h,k)=>Rc.getPart(h,t,"viewWrapper").exists(S=>LE.toggleView(S,()=>g.showMainView(h),()=>g.hideMainView(h),k)),whichView:h=>Rc.getPart(h,t,"viewWrapper").bind(LE.whichView).getOrNull(),hideMainView:h=>{i=g.isToolbarDrawerToggled(h),i&&g.toggleToolbarDrawer(h),Rc.getPart(h,t,"editorContainer").each(k=>{const S=k.element;d(S),yt(S,"display","none"),V(S,"aria-hidden","true")})},showMainView:h=>{i&&g.toggleToolbarDrawer(h),Rc.getPart(h,t,"editorContainer").each(k=>{const S=k.element;d(S),Vo(S,"display"),$(S,"aria-hidden")})}};return{uid:t.uid,dom:t.dom,components:s,apis:g,behaviours:t.behaviours}},Lj=Ld.optional({factory:jD,name:"menubar",schema:[Xt("backstage")]}),Hj=t=>t.type===ju.sliding?Oj:t.type===ju.floating?Aj:$E,b5=Ld.optional({factory:{sketch:t=>$F.sketch({uid:t.uid,dom:t.dom,listBehaviours:hn([So.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>$E({type:t.type,uid:Xn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),x.some(!0))}),setupItem:(s,a,i,d)=>{Of.setGroups(a,i)},shell:!0})},name:"multiple-toolbar",schema:[Xt("dom"),Xt("onEscape")]}),v5=Ld.optional({factory:{sketch:t=>{const s=Hj(t),a={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),x.some(!0)),onToggled:(i,d)=>t.onToolbarToggled(d),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return s(a)}},name:"toolbar",schema:[Xt("dom"),Xt("onEscape"),Xt("getSink")]}),HE=Ld.optional({factory:{sketch:XU},name:"header",schema:[Xt("dom")]}),lR=Ld.optional({factory:{sketch:ZF},name:"promotion",schema:[Xt("dom")]}),Vj=Ld.optional({name:"socket",schema:[Xt("dom")]}),Uj=Ld.optional({factory:{sketch:eY},name:"sidebar",schema:[Xt("dom")]}),w5=Ld.optional({factory:{sketch:hj},name:"throbber",schema:[Xt("dom")]}),jj=Ld.optional({factory:LE,name:"viewWrapper",schema:[Xt("backstage")]}),Wj=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),Zj=Ld.optional({factory:{sketch:Wj},name:"editorContainer",schema:[]});var Tr=Qc({name:"OuterContainer",factory:iR,configFields:[Xt("dom"),Xt("behaviours")],partFields:[HE,Lj,v5,b5,Vj,Uj,lR,w5,jj,Zj],apis:{getSocket:(t,s)=>t.getSocket(s),setSidebar:(t,s,a,i)=>{t.setSidebar(s,a,i)},toggleSidebar:(t,s,a)=>{t.toggleSidebar(s,a)},whichSidebar:(t,s)=>t.whichSidebar(s),getHeader:(t,s)=>t.getHeader(s),getToolbar:(t,s)=>t.getToolbar(s),setToolbar:(t,s,a)=>{t.setToolbar(s,a)},setToolbars:(t,s,a)=>{t.setToolbars(s,a)},refreshToolbar:(t,s)=>t.refreshToolbar(s),toggleToolbarDrawer:(t,s)=>{t.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(t,s)=>{t.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(t,s)=>t.isToolbarDrawerToggled(s),getThrobber:(t,s)=>t.getThrobber(s),setMenubar:(t,s,a)=>{t.setMenubar(s,a)},focusMenubar:(t,s)=>{t.focusMenubar(s)},focusToolbar:(t,s)=>{t.focusToolbar(s)},setViews:(t,s,a)=>{t.setViews(s,a)},toggleView:(t,s,a)=>t.toggleView(s,a),whichView:(t,s)=>t.whichView(s)}});const qj="file edit view insert format tools table help",k5={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},uR=(t,s,a)=>{const i=lM(a).split(/[ ,]/);return{text:t.title,getItems:()=>G(t.items,d=>{const g=d.toLowerCase();return g.trim().length===0?[]:En(i,h=>h===g)?[]:g==="separator"||g==="|"?[{type:"separator"}]:s.menuItems[g]?[s.menuItems[g]]:[]})}},dR=t=>t.split(" "),_5=(t,s)=>{const a=ie(ie({},k5),s.menus),i=pn(s.menus).length>0,d=s.menubar===void 0||s.menubar===!0?dR(qj):dR(s.menubar===!1?"":s.menubar),g=wt(d,k=>{const S=Go(k5,k);return i?S||on(s.menus,k).exists(D=>Go(D,"items")):S}),h=Pe(g,k=>{const S=a[k];return uR({title:S.title,items:dR(S.items)},s,t)});return wt(h,k=>{const S=D=>Y(D)||D.type!=="separator";return k.getItems().length>0&&En(k.getItems(),S)})},C5=t=>{const s=()=>{t._skinLoaded=!0,MP(t)};return()=>{t.initialized?s():t.on("init",s)}},Gj=(t,s)=>()=>C7(t,{message:s}),fR=(t,s,a)=>(t.on("remove",()=>a.unload(s)),a.load(s)),mR=(t,s,a,i)=>(t.on("remove",()=>i.unloadRawCss(s)),i.loadRawCss(s,a)),S5=(t,s)=>Nf(this,null,function*(){const i="ui/"+W2(t).getOr("default")+"/skin.css",d=tinymce.Resource.get(i);if(Y(d))mR(t,i,d,t.ui.styleSheetLoader);else{const g=t.editorManager.suffix,h=s+`/skin${g}.css`;return fR(t,h,t.ui.styleSheetLoader)}}),Kj=(t,s)=>Nf(this,null,function*(){if(ya(Le.fromDom(t.getElement()))){const d="ui/"+W2(t).getOr("default")+"/skin.shadowdom.css",g=tinymce.Resource.get(d);if(Y(g))mR(t,d,g,Qh.DOM.styleSheetLoader);else{const h=t.editorManager.suffix,k=s+`/skin.shadowdom${h}.css`;return fR(t,k,Qh.DOM.styleSheetLoader)}}}),Yj=(t,s)=>Nf(this,null,function*(){const a=()=>{const d=GO(s),g=s.editorManager.suffix;d&&s.contentCSS.push(d+(t?"/content.inline":"/content")+`${g}.css`)};W2(s).fold(a,d=>{const g="ui/"+d+(t?"/content.inline":"/content")+".css",h=tinymce.Resource.get(g);Y(h)?mR(s,g,h,s.ui.styleSheetLoader):a()});const i=GO(s);if(!qO(s)&&Y(i))return Promise.all([S5(s,i),Kj(s,i)]).then()}),x5=(t,s)=>Yj(t,s).then(C5(s),Gj(s,"Skin could not be loaded")),E5=gn(x5,!1),Xj=gn(x5,!0),O0=(t,s,a)=>we(a)?t.translate(s):t.translate([s,t.translate(a)]),Jj=(t,s)=>{const a=(h,k,S,D)=>{const N=t.shared.providers.translate(h.title);if(h.type==="separator")return x.some({type:"separator",text:N});if(h.type==="submenu"){const I=G(h.getStyleItems(),X=>i(X,k,D));return k===0&&I.length<=0?x.none():x.some({type:"nestedmenuitem",text:N,enabled:I.length>0,getSubmenuItems:()=>G(h.getStyleItems(),X=>i(X,k,D))})}else return x.some(ie({type:"togglemenuitem",text:N,icon:h.icon,active:h.isSelected(D),enabled:!S,onAction:s.onAction(h)},h.getStylePreview().fold(()=>({}),I=>({meta:{style:I}}))))},i=(h,k,S)=>{const D=h.type==="formatter"&&s.isInvalid(h);return k===0?D?[]:a(h,k,!1,S).toArray():a(h,k,D,S).toArray()},d=h=>{const k=s.getCurrentValue(),S=s.shouldHide?0:1;return G(h,D=>i(D,S,k))};return{validateItems:d,getFetch:(h,k)=>(S,D)=>{const N=k(),I=d(N),X=w0(I,Cf.CLOSE_ON_EXECUTE,h,{isHorizontalMenu:!1,search:x.none()});D(X)}}},vy=(t,s)=>{const a=s.dataset,i=a.type==="basic"?()=>Pe(a.data,d=>CF(d,s.isSelectedFor,s.getPreviewFor)):a.getData;return{items:Jj(t,s),getStyleItems:i}},d1=(t,s,a,i,d,g)=>{const{items:h,getStyleItems:k}=vy(s,a),S=uo(a.tooltip),D=I=>({getComponent:J(I),setTooltip:X=>{const Q=s.shared.providers.translate(X);V(I.element,"aria-label",Q),S.set(X)}}),N=I=>{const X=Q=>I.setTooltip(O0(t,i(Q.value),Q.value));return t.on(d,X),Ax(Kb(t,"NodeChange",Q=>{const ue=Q.getComponent();a.updateText(ue),Po.set(Q.getComponent(),!t.selection.isEditable())})(I),()=>t.off(d,X))};return aE({context:"mode:design",text:a.icon.isSome()?x.none():a.text,icon:a.icon,ariaLabel:x.some(a.tooltip),tooltip:x.none(),role:x.none(),fetch:h.getFetch(s,k),onSetup:N,getApi:D,columns:1,presets:"normal",classes:a.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Ea.config(ie({},s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(a.tooltip),onShow:I=>{if(a.tooltip!==S.get()){const X=s.shared.providers.translate(S.get());Ea.setComponents(I,s.shared.providers.tooltips.getComponents({tooltipText:X}))}}})))]},"tox-tbtn",s.shared,g)},Qj=t=>Pe(t,s=>{let a=s,i=s;const d=s.split("=");return d.length>1&&(a=d[0],i=d[1]),{title:a,format:i}}),eW=t=>({type:"basic",data:t});var D0;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(D0||(D0={}));const tW=(t,s)=>s===D0.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),gR=(t,s,a)=>{const i=t.options.get(s);return{type:"basic",data:Qj(tW(i,a))}},nW="Align",T5=J("Alignment {0}"),A5="left",pR=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],hR=t=>{const s=()=>re(pR,k=>t.formatter.match(k.format)),a=k=>()=>t.formatter.match(k),i=k=>x.none,d=k=>{const D=s().fold(J(A5),N=>N.title.toLowerCase());co(k,hy,{icon:`align-${D}`}),A7(t,{value:D})},g=eW(pR),h=k=>()=>re(pR,S=>S.format===k.format).each(S=>t.execCommand(S.command));return{tooltip:O0(t,T5(),A5),text:x.none(),icon:x.some("align-left"),isSelectedFor:a,getCurrentValue:x.none,getPreviewFor:i,onAction:h,updateText:d,dataset:g,shouldHide:!1,isInvalid:k=>!t.formatter.canApply(k.format)}},VE=(t,s)=>d1(t,s,hR(t),T5,"AlignTextUpdate","align"),yR=(t,s)=>{const a=vy(s,hR(t));t.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate(nW),onSetup:Gi(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},bR=(t,s)=>{const a=s(),i=Pe(a,d=>d.format);return x.from(t.formatter.closest(i)).bind(d=>re(a,g=>g.format===d))},wy="Blocks",vR=J("Block {0}"),wR="Paragraph",O5=t=>{const s=g=>()=>t.formatter.match(g),a=g=>()=>{const h=t.formatter.get(g);return h?x.some({tag:h.length>0&&(h[0].inline||h[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(g))}):x.none()},i=g=>{const k=bR(t,()=>d.data).fold(J(wR),S=>S.title);co(g,$d,{text:k}),R7(t,{value:k})},d=gR(t,"block_formats",D0.SemiColon);return{tooltip:O0(t,vR(),wR),text:x.some(wR),icon:x.none(),isSelectedFor:s,getCurrentValue:x.none,getPreviewFor:a,onAction:IP(t),updateText:i,dataset:d,shouldHide:!1,isInvalid:g=>!t.formatter.canApply(g.format)}},oW=(t,s)=>d1(t,s,O5(t),vR,"BlocksTextUpdate","blocks"),sW=(t,s)=>{const a=vy(s,O5(t));t.ui.registry.addNestedMenuItem("blocks",{text:wy,onSetup:Gi(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},rW="Fonts",D5=J("Font {0}"),kR="System Font",R5=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],z5=t=>{const s=t.split(/\s*,\s*/);return Pe(s,a=>a.replace(/^['"]+|['"]+$/g,""))},N5=(t,s)=>s.length>0&&pe(s,a=>t.indexOf(a.toLowerCase())>-1),_R=(t,s)=>{if(t.indexOf("-apple-system")===0||s.length>0){const a=z5(t.toLowerCase());return N5(a,R5)||N5(a,s)}else return!1},M5=t=>{const s=()=>{const S=ue=>ue?z5(ue)[0]:"",D=t.queryCommandValue("FontName"),N=k.data,I=D?D.toLowerCase():"",X=Pk(t);return{matchOpt:re(N,ue=>{const ye=ue.format;return ye.toLowerCase()===I||S(ye).toLowerCase()===S(I).toLowerCase()}).orThunk(()=>ao(_R(I,X),{title:kR,format:I})),font:D}},a=S=>D=>D.exists(N=>N.format===S),i=()=>{const{matchOpt:S}=s();return S},d=S=>()=>x.some({tag:"div",styles:S.indexOf("dings")===-1?{"font-family":S}:{}}),g=S=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,S.format)})},h=S=>{const{matchOpt:D,font:N}=s(),I=D.fold(J(N),X=>X.title);co(S,$d,{text:I}),Y4(t,{value:I})},k=gR(t,"font_family_formats",D0.SemiColon);return{tooltip:O0(t,D5(),kR),text:x.some(kR),icon:x.none(),isSelectedFor:a,getCurrentValue:i,getPreviewFor:d,onAction:g,updateText:h,dataset:k,shouldHide:!1,isInvalid:We}},aW=(t,s)=>d1(t,s,M5(t),D5,"FontFamilyTextUpdate","fontfamily"),cW=(t,s)=>{const a=vy(s,M5(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate(rW),onSetup:Gi(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},iW={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},lW=(()=>{const t="[0-9]+",a="[eE]"+("[+-]?"+t),i="\\.",d=k=>`(?:${k})?`,h=`[+-]?(?:${["Infinity",t+i+d(t)+d(a),i+t+d(a),t+d(a)].join("|")})`;return new RegExp(`^(${h})(.*)$`)})(),uW=(t,s)=>En(s,a=>En(iW[a],i=>t===i)),q_=(t,s)=>x.from(lW.exec(t)).bind(i=>{const d=Number(i[1]),g=i[2];return uW(g,s)?x.some({value:d,unit:g}):x.none()}),P5=(t,s)=>q_(t,s).map(({value:a,unit:i})=>a+i),CR={tab:J(9),escape:J(27),enter:J(13),backspace:J(8),delete:J(46),left:J(37),up:J(38),right:J(39),down:J(40),space:J(32),home:J(36),end:J(35),pageUp:J(33),pageDown:J(34)},dW=(t,s,a,i)=>{let d=x.none();const g=ot=>ot.map(_t=>jn.getValue(_t)).getOr(""),h=Kb(t,"NodeChange SwitchMode",ot=>{const _t=ot.getComponent();d=x.some(_t),a.updateInputValue(_t),Po.set(_t,!t.selection.isEditable())}),k=ot=>({getComponent:J(ot)}),S=uo(ae),D=Xn("custom-number-input-events"),N=(ot,_t,Et)=>{const Cn=g(d),Kn=a.getNewValue(Cn,ot),qt=Cn.length-`${Kn}`.length,Yn=d.map(to=>to.element.dom.selectionStart-qt),$n=d.map(to=>to.element.dom.selectionEnd-qt);a.onAction(Kn,Et),d.each(to=>{jn.setValue(to,Kn),_t&&(Yn.each(ws=>to.element.dom.selectionStart=ws),$n.each(ws=>to.element.dom.selectionEnd=ws))})},I=(ot,_t)=>N((Et,Cn)=>Et-Cn,ot,_t),X=(ot,_t)=>N((Et,Cn)=>Et+Cn,ot,_t),Q=ot=>Qa(ot.element).fold(x.none,_t=>(cu(_t),x.some(!0))),ue=ot=>up(ot.element)?(ti(ot.element).each(_t=>cu(_t)),x.some(!0)):x.none(),ye=(ot,_t,Et,Cn)=>{const Kn=uo(ae),qt=s.shared.providers.translate(Et),Yn=Xn("altExecuting"),$n=Kb(t,"NodeChange SwitchMode",ws=>{Po.set(ws.getComponent(),!t.selection.isEditable())}),to=ws=>{Po.isDisabled(ws)||ot(!0)};return yc.sketch({dom:{tag:"button",attributes:{"aria-label":qt,"data-mce-name":_t},classes:Cn.concat(_t)},components:[tD(_t,s.shared.providers.icons)],buttonBehaviours:hn([Po.config({}),Ea.config(s.shared.providers.tooltips.getConfig({tooltipText:qt})),Yo(Yn,[iy({onSetup:$n,getApi:k},Kn),ly({getApi:k},Kn),Jt(nu(),(ws,Fr)=>{(Fr.event.raw.keyCode===CR.space()||Fr.event.raw.keyCode===CR.enter())&&(Po.isDisabled(ws)||ot(!1))}),Jt(Vg(),to),Jt(zs(),to)])]),eventOrder:{[nu()]:[Yn,"keying"],[Vg()]:[Yn,"alloy.base.behaviour"],[zs()]:[Yn,"alloy.base.behaviour"],[sl()]:["alloy.base.behaviour",Yn,"tooltipping"],[Rl()]:[Yn,"tooltipping"]}})},Je=Zs(ye(ot=>I(!1,ot),"minus","Decrease font size",[])),Ae=Zs(ye(ot=>X(!1,ot),"plus","Increase font size",[])),Ke=Zs({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[um.sketch({inputBehaviours:hn([Po.config({}),Yo(D,[iy({onSetup:h,getApi:k},S),ly({getApi:k},S)]),Yo("input-update-display-text",[Jt($d,(ot,_t)=>{jn.setValue(ot,_t.event.text)}),Jt(yC(),ot=>{a.onAction(jn.getValue(ot))}),Jt(lf(),ot=>{a.onAction(jn.getValue(ot))})]),So.config({mode:"special",onEnter:ot=>(N(Zt,!0,!0),x.some(!0)),onEscape:Q,onUp:ot=>(X(!0,!1),x.some(!0)),onDown:ot=>(I(!0,!1),x.some(!0)),onLeft:(ot,_t)=>(_t.cut(),x.none()),onRight:(ot,_t)=>(_t.cut(),x.none())})])})],behaviours:hn([Fo.config({}),So.config({mode:"special",onEnter:ue,onSpace:ue,onEscape:Q}),Yo("input-wrapper-events",[Jt(Hi(),ot=>{gt([Je,Ae],_t=>{const Et=Le.fromDom(_t.get(ot).element.dom);up(Et)&&Oh(Et)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:ie({},It(i)?{"data-mce-name":i}:{})},components:[Je.asSpec(),Ke.asSpec(),Ae.asSpec()],behaviours:hn([Fo.config({}),So.config({mode:"flow",focusInside:dg.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:ot=>up(ot.element)?x.none():(cu(ot.element),x.some(!0))})])}},B5="Font sizes",$5=J("Font size {0}"),F5="12pt",fW={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},I5={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},mW=(t,s)=>{const a=Math.pow(10,s);return Math.round(t*a)/a},L5=(t,s)=>/[0-9.]+px$/.test(t)?mW(parseInt(t,10)*72/96,s||0)+"pt":on(I5,t).getOr(t),gW=t=>on(fW,t).getOr(""),H5=t=>{const s=()=>{let S=x.none();const D=k.data,N=t.queryCommandValue("FontSize");if(N)for(let I=3;S.isNone()&&I>=0;I--){const X=L5(N,I),Q=gW(X);S=re(D,ue=>ue.format===N||ue.format===X||ue.format===Q)}return{matchOpt:S,size:N}},a=S=>D=>D.exists(N=>N.format===S),i=()=>{const{matchOpt:S}=s();return S},d=J(x.none),g=S=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,S.format)})},h=S=>{const{matchOpt:D,size:N}=s(),I=D.fold(J(N),X=>X.title);co(S,$d,{text:I}),O7(t,{value:I})},k=gR(t,"font_size_formats",D0.Space);return{tooltip:O0(t,$5(),F5),text:x.some(F5),icon:x.none(),isSelectedFor:a,getPreviewFor:d,getCurrentValue:i,onAction:g,updateText:h,dataset:k,shouldHide:!1,isInvalid:We}},pW=(t,s)=>d1(t,s,H5(t),$5,"FontSizeTextUpdate","fontsize"),hW=t=>{var s;const a={step:1};return(s={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&s!==void 0?s:a},yW=16,bW=t=>t>=0,vW=t=>{const s=()=>t.queryCommandValue("FontSize");return{updateInputValue:i=>co(i,$d,{text:s()}),onAction:(i,d)=>t.execCommand("FontSize",!1,i,{skip_focus:!d}),getNewValue:(i,d)=>{q_(i,["unsupportedLength","empty"]);const g=s(),h=q_(i,["unsupportedLength","empty"]).or(q_(g,["unsupportedLength","empty"])),k=h.map(X=>X.value).getOr(yW),S=mM(t),D=h.map(X=>X.unit).filter(X=>X!=="").getOr(S),N=d(k,hW(D).step),I=`${bW(N)?N:k}${D}`;return I!==g&&D7(t,{value:I}),I}}},V5=(t,s)=>dW(t,s,vW(t),"fontsizeinput"),wW=(t,s)=>{const a=vy(s,H5(t));t.ui.registry.addNestedMenuItem("fontsize",{text:B5,onSetup:Gi(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},kW="Formats",U5=t=>we(t)?"Formats":"Format {0}",j5=(t,s)=>{const a="Formats",i=h=>()=>t.formatter.match(h),d=h=>()=>{const k=t.formatter.get(h);return k!==void 0?x.some({tag:k.length>0&&(k[0].inline||k[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(h))}):x.none()},g=h=>{const k=I=>vE(I)?G(I.items,k):ND(I)?[{title:I.title,format:I.format}]:[],S=G(_F(t),k),N=bR(t,J(S)).fold(J({title:a,tooltipLabel:""}),I=>({title:I.title,tooltipLabel:I.title}));co(h,$d,{text:N.title}),T7(t,{value:N.tooltipLabel})};return{tooltip:O0(t,U5(""),""),text:x.some(a),icon:x.none(),isSelectedFor:i,getCurrentValue:x.none,getPreviewFor:d,onAction:IP(t),updateText:g,shouldHide:cM(t),isInvalid:h=>!t.formatter.canApply(h.format),dataset:s}},_W=(t,s)=>{const a=ie({type:"advanced"},s.styles);return d1(t,s,j5(t,a),U5,"StylesTextUpdate","styles")},CW=(t,s)=>{const a=ie({type:"advanced"},s.styles),i=vy(s,j5(t,a));t.ui.registry.addNestedMenuItem("styles",{text:kW,onSetup:Gi(t),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},SW=J([Xt("toggleClass"),Xt("fetch"),tp("onExecute"),it("getHotspot",x.some),it("getAnchorOverrides",J({})),eg(),tp("onItemExecute"),Fs("lazySink"),Xt("dom"),As("onOpen"),Ac("splitDropdownBehaviours",[Ma,So,Fo]),it("matchWidth",!1),it("useMinWidth",!1),it("eventOrder",{}),Fs("role"),Fs("listRole")].concat(Mx())),W5=di({factory:yc,schema:[Xt("dom")],name:"arrow",defaults:()=>({buttonBehaviours:hn([Fo.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(Im)},buttonBehaviours:hn([as.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),xW=di({factory:yc,schema:[Xt("dom")],name:"button",defaults:()=>({buttonBehaviours:hn([Fo.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(a=>{t.onExecute(a,s)})}})}),EW=J([W5,xW,Fl({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[Xt("text")],name:"aria-descriptor"}),du({schema:[gf()],name:"menu",defaults:t=>({onExecute:(s,a)=>{s.getSystem().getByUid(t.uid).each(i=>{t.onItemExecute(i,s,a)})}})}),fB()]),Z5=(t,s,a,i)=>{const d=N=>{Es.getCurrent(N).each(I=>{xn.highlightFirst(I),So.focusIn(I)})},g=N=>{r3(t,Zt,N,i,d,_l.HighlightMenuAndItem).get(ae)},h=N=>(g(N),x.some(!0)),k=N=>{const I=Wn(N,t,"button");return Im(I),x.some(!0)},S=ie(ie({},or([Wr((N,I)=>{vr(N,t,"aria-descriptor").each(Q=>{const ue=Xn("aria");V(Q.element,"id",ue),V(N.element,"aria-describedby",ue)})})])),zk(x.some(g))),D={repositionMenus:N=>{as.isOn(N)&&i3(N)}};return{uid:t.uid,dom:t.dom,components:s,apis:D,eventOrder:Pt(ie({},t.eventOrder),{[Hc()]:["disabling","toggling","alloy.base.behaviour"]}),events:S,behaviours:Oc(t.splitDropdownBehaviours,[Ma.config({others:{sandbox:N=>{const I=Wn(N,t,"arrow");return c3(t,N,{onOpen:()=>{as.on(I),as.on(N)},onClose:()=>{as.off(I),as.off(N)}})}}}),So.config({mode:"special",onSpace:k,onEnter:k,onDown:h}),Fo.config({}),as.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},UE=Qc({name:"SplitDropdown",configFields:SW(),partFields:EW(),factory:Z5,apis:{repositionMenus:(t,s)=>t.repositionMenus(s)}}),SR=t=>({isEnabled:()=>!Po.isDisabled(t),setEnabled:s=>Po.set(t,!s),setText:s=>co(t,$d,{text:s}),setIcon:s=>co(t,hy,{icon:s})}),q5=t=>({setActive:s=>{as.set(t,s)},isActive:()=>as.isOn(t),isEnabled:()=>!Po.isDisabled(t),setEnabled:s=>Po.set(t,!s),setText:s=>co(t,$d,{text:s}),setIcon:s=>co(t,hy,{icon:s})}),G5=(t,s)=>t.map(a=>({"aria-label":s.translate(a)})).getOr({}),K5=Xn("focus-button"),xR=(t,s,a,i,d,g,h)=>{const k=s.map(D=>Zs(nD(D,"tox-tbtn",d))),S=t.map(D=>Zs(Fp(D,d.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:ie(ie({},G5(a,d)),It(h)?{"data-mce-name":h}:{})},components:uy([S.map(D=>D.asSpec()),k.map(D=>D.asSpec())]),eventOrder:{[ia()]:["focusing","alloy.base.behaviour",a1],[sl()]:[a1,"toolbar-group-button-events"]},buttonBehaviours:hn([qu.toolbarButton(()=>d.checkUiComponentContext(g).shouldDisable),La(()=>d.checkUiComponentContext(g)),Yo(a1,[Wr((D,N)=>rE(D)),Jt($d,(D,N)=>{k.bind(I=>I.getOpt(D)).each(I=>{Zo.set(I,[la(d.translate(N.event.text))])})}),Jt(hy,(D,N)=>{S.bind(I=>I.getOpt(D)).each(I=>{Zo.set(I,[Fp(N.event.icon,d.icons)])})}),Jt(ia(),(D,N)=>{N.event.prevent(),ms(D,K5)})])].concat(i.getOr([])))}},R0=(t,s,a,i,d)=>{const g=s.shared,h=uo(ae),k={toolbarButtonBehaviours:[],getApi:SR,onSetup:t.onSetup},S=[Yo("toolbar-group-button-events",[iy(k,h),ly(k,h)])];return by.sketch({lazySink:g.getSink,fetch:()=>Di.nu(D=>{D(Pe(a(t.items),BE))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:xR(t.icon,t.text,t.tooltip,x.some(S),g.providers,t.context,d),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:i}}}})},Y5=(t,s,a,i)=>{var d;const g=uo(ae),h=xR(t.icon,t.text,t.tooltip,x.none(),a,t.context,i);return yc.sketch({dom:h.dom,components:h.components,eventOrder:E$,buttonBehaviours:Pt(ie({},hn([Yo("toolbar-button-events",[x$({onAction:t.onAction,getApi:s.getApi}),iy(s,g),ly(s,g)]),...t.tooltip.map(k=>Ea.config(a.tooltips.getConfig({tooltipText:a.translate(k)+t.shortcut.map(S=>` (${$4(S)})`).getOr("")}))).toArray(),qu.toolbarButton(()=>!t.enabled||a.checkUiComponentContext(t.context).shouldDisable),La(()=>a.checkUiComponentContext(t.context))].concat(s.toolbarButtonBehaviours))),{[a1]:(d=h.buttonBehaviours)===null||d===void 0?void 0:d[a1]})})},TW=(t,s,a)=>X5(t,s,[],a),X5=(t,s,a,i)=>Y5(t,{toolbarButtonBehaviours:a.length>0?[Yo("toolbarButtonWith",a)]:[],getApi:SR,onSetup:t.onSetup},s,i),AW=(t,s,a)=>J5(t,s,[],a),J5=(t,s,a,i)=>Y5(t,{toolbarButtonBehaviours:[Zo.config({}),as.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(a.length>0?[Yo("toolbarToggleButtonWith",a)]:[]),getApi:q5,onSetup:t.onSetup},s,i),OW=(t,s,a)=>i=>Di.nu(d=>s.fetch(d)).map(d=>x.from(i0(br(t3(Xn("menu-value"),d,g=>{s.onItemAction(t(i),g)},s.columns,s.presets,Cf.CLOSE_ON_EXECUTE,s.select.getOr(We),a),{movement:zx(s.columns,s.presets),menuBehaviours:r0.unnamedEvents(s.columns!=="auto"?[]:[Wr((g,h)=>{P4(g,4,qM(s.presets)).each(({numRows:k,numColumns:S})=>{So.setGridSize(g,k,S)})})])})))),DW=(t,s,a)=>{const i=uo(t.tooltip.getOr("")),d=k=>({isEnabled:()=>!Po.isDisabled(k),setEnabled:S=>Po.set(k,!S),setIconFill:(S,D)=>{Yr(k.element,`svg path[class="${S}"], rect[class="${S}"]`).each(N=>{V(N,"fill",D)})},setActive:S=>{V(k.element,"aria-pressed",S),Yr(k.element,"span").each(D=>{k.getSystem().getByDom(D).each(N=>as.set(N,S))})},isActive:()=>Yr(k.element,"span").exists(S=>k.getSystem().getByDom(S).exists(as.isOn)),setText:S=>Yr(k.element,"span").each(D=>k.getSystem().getByDom(D).each(N=>co(N,$d,{text:S}))),setIcon:S=>Yr(k.element,"span").each(D=>k.getSystem().getByDom(D).each(N=>co(N,hy,{icon:S}))),setTooltip:S=>{const D=s.providers.translate(S);V(k.element,"aria-label",D),i.set(S)}}),g=uo(ae),h={getApi:d,onSetup:t.onSetup};return UE.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:ie(ie({"aria-pressed":!1},G5(t.tooltip,s.providers)),It(a)?{"data-mce-name":a}:{})},onExecute:k=>{const S=d(k);S.isEnabled()&&t.onAction(S)},onItemExecute:(k,S,D)=>{},splitDropdownBehaviours:hn([Yo("split-dropdown-events",[Wr((k,S)=>rE(k)),Jt(K5,Fo.focus),iy(h,g),ly(h,g)]),qu.splitButton(()=>s.providers.isDisabled()||s.providers.checkUiComponentContext(t.context).shouldDisable),La(()=>s.providers.checkUiComponentContext(t.context)),g0.config({}),...t.tooltip.map(k=>Ea.config(ie({},s.providers.tooltips.getConfig({tooltipText:s.providers.translate(k),onShow:S=>{if(i.get()!==k){const D=s.providers.translate(i.get());Ea.setComponents(S,s.providers.tooltips.getComponents({tooltipText:D}))}}})))).toArray()]),eventOrder:{[sl()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[Rl()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:s.getSink,fetch:OW(d,t,s.providers),parts:{menu:Yk(!1,t.columns,t.presets)},components:[UE.parts.button(xR(t.icon,t.text,x.none(),x.some([as.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1}),qu.toolbarButton(We),La(J({contextType:"any",shouldDisable:!1}))]),s.providers,t.context)),UE.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:f4("chevron-down",s.providers.icons)},buttonBehaviours:hn([qu.splitButton(We),La(J({contextType:"any",shouldDisable:!1}))])}),UE.parts["aria-descriptor"]({text:s.providers.translate("To open the popup, press Shift+Enter")})]})},RW=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],f1=(t,s)=>(a,i,d,g)=>{const h=t(a).mapError(k=>Zf(k)).getOrDie();return s(h,i,d,g)},zW={button:f1(Qk,(t,s,a,i)=>TW(t,s.shared.providers,i)),togglebutton:f1(t_,(t,s,a,i)=>AW(t,s.shared.providers,i)),menubutton:f1(jF,(t,s,a,i)=>i1(t,"tox-tbtn",s,x.none(),!1,i)),splitbutton:f1(ej,(t,s,a,i)=>DW(t,s.shared,i)),grouptoolbarbutton:f1(JU,(t,s,a,i)=>{const d=a.ui.registry.getAll().buttons,g=k=>jE(a,{buttons:d,toolbar:k,allowToolbarGroups:!1},s,x.none()),h={[DS]:s.shared.header.isPositionedAtTop()?Ka.TopToBottom:Ka.BottomToTop};switch(ey(a)){case ju.floating:return R0(t,s,g,h,i);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},NW=(t,s,a,i)=>on(zW,t.type).fold(()=>(console.error("skipping button defined by",t),x.none()),d=>x.some(d(t,s,a,i))),ER={styles:_W,fontsize:pW,fontsizeinput:V5,fontfamily:aW,blocks:oW,align:VE},Q5=t=>{const s=Pe(RW,a=>{const i=wt(a.items,d=>Go(t,d)||Go(ER,d));return{name:a.name,items:i}});return wt(s,a=>a.items.length>0)},MW=t=>{const s=t.split("|");return Pe(s,a=>({items:a.trim().split(" ")}))},PW=t=>qe(t,s=>Go(s,"name")&&Go(s,"items")),BW=t=>{const s=t.toolbar,a=t.buttons;return s===!1?[]:s===void 0||s===!0?Q5(a):Y(s)?MW(s):PW(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},$W=(t,s,a,i,d,g)=>on(s,a.toLowerCase()).orThunk(()=>g.bind(h=>an(h,k=>on(s,k+a.toLowerCase())))).fold(()=>on(ER,a.toLowerCase()).map(h=>h(t,d)),h=>h.type==="grouptoolbarbutton"&&!i?(console.warn(`Ignoring the '${a}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),x.none()):NW(h,d,t,a.toLowerCase())),jE=(t,s,a,i)=>{const d=BW(s),g=Pe(d,h=>{const k=G(h.items,S=>S.trim().length===0?[]:$W(t,s.buttons,S,s.allowToolbarGroups,a,i).toArray());return{title:x.from(t.translate(h.name)),items:k}});return wt(g,h=>h.items.length>0)},eI=(t,s,a,i)=>{const d=s.mainUi.outerContainer,g=a.toolbar,h=a.buttons;if(qe(g,Y)){const k=g.map(S=>{const D={toolbar:S,buttons:h,allowToolbarGroups:a.allowToolbarGroups};return jE(t,D,i,x.none())});Tr.setToolbars(d,k)}else Tr.setToolbar(d,jE(t,a,i,x.none()))},TR=rs(),FW=TR.os.isiOS()&&TR.os.version.major<=12,IW=(t,s)=>{const{uiMotherships:a}=s,i=t.dom;let d=t.getWin();const g=t.getDoc().documentElement,h=uo(Dr(d.innerWidth,d.innerHeight)),k=uo(Dr(g.offsetWidth,g.offsetHeight)),S=()=>{const X=h.get();(X.left!==d.innerWidth||X.top!==d.innerHeight)&&(h.set(Dr(d.innerWidth,d.innerHeight)),K4(t))},D=()=>{const X=t.getDoc().documentElement,Q=k.get();(Q.left!==X.offsetWidth||Q.top!==X.offsetHeight)&&(k.set(Dr(X.offsetWidth,X.offsetHeight)),K4(t))},N=X=>{x7(t,X)};i.bind(d,"resize",S),i.bind(d,"scroll",N);const I=$w(Le.fromDom(t.getBody()),"load",D);t.on("hide",()=>{gt(a,X=>{yt(X.element,"display","none")})}),t.on("show",()=>{gt(a,X=>{Vo(X.element,"display")})}),t.on("NodeChange",D),t.on("remove",()=>{I.unbind(),i.unbind(d,"resize",S),i.unbind(d,"scroll",N),d=null})},LW=(t,s,a)=>{zp(t)&&dk(a.mainUi.mothership.element,a.popupUi.mothership),vl(s,a.dialogUi.mothership)};var WE=Object.freeze({__proto__:null,render:(t,s,a,i,d)=>{const{mainUi:g,uiMotherships:h}=s,k=uo(0),S=g.outerContainer;E5(t);const D=Le.fromDom(d.targetNode),N=Va(Lr(D));dk(D,g.mothership),LW(t,N,s),t.on("PostRender",()=>{Tr.setSidebar(S,a.sidebar,ZO(t))}),t.on("SkinLoaded",()=>{eI(t,s,a,i),k.set(t.getWin().innerWidth),Tr.setMenubar(S,_5(t,a)),Tr.setViews(S,a.views),IW(t,s)});const I=Tr.getSocket(S).getOrDie("Could not find expected socket element");if(FW){Ro(I.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const ye=K9(()=>{t.dispatch("ScrollContent")},20),Je=Wi(I.element,"scroll",ye.throttle);t.on("remove",Je.unbind)}kP(t,s),t.addCommand("ToggleSidebar",(ye,Je)=>{Tr.toggleSidebar(S,Je),$P(t)}),t.addQueryValueHandler("ToggleSidebar",()=>{var ye;return(ye=Tr.whichSidebar(S))!==null&&ye!==void 0?ye:""}),t.addCommand("ToggleView",(ye,Je)=>{if(Tr.toggleView(S,Je)){const Ae=S.element;g.mothership.broadcastOn([rm()],{target:Ae}),gt(h,Ke=>{Ke.broadcastOn([rm()],{target:Ae})}),$t(Tr.whichView(S))&&(t.focus(),t.nodeChanged(),Tr.refreshToolbar(S)),FP(t)}}),t.addQueryValueHandler("ToggleView",()=>{var ye;return(ye=Tr.whichView(S))!==null&&ye!==void 0?ye:""});const X=ey(t),Q=()=>{Tr.refreshToolbar(s.mainUi.outerContainer)};(X===ju.sliding||X===ju.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const ye=t.getWin().innerWidth;ye!==k.get()&&(Q(),k.set(ye))});const ue={setEnabled:ye=>{a_(s,ye?"setEnabled":"setDisabled")},isEnabled:()=>!Po.isDisabled(S)};return{iframeContainer:I.element.dom,editorContainer:S.element.dom,api:ue}}});const tI=t=>/^[0-9\.]+(|px)$/i.test(""+t)?x.some(parseInt(""+t,10)):x.none(),z0=t=>tt(t)?t+"px":t,m1=(t,s,a)=>{const i=s.filter(g=>t<g),d=a.filter(g=>t>g);return i.or(d).getOr(t)},nI=t=>{const s=BO(t),a=Bb(t),i=F2(t);return tI(s).map(d=>m1(d,a,i))},HW=t=>nI(t).getOr(BO(t)),oI=t=>{const s=Mk(t),a=$O(t),i=$b(t);return tI(s).map(d=>m1(d,a,i))},VW=t=>oI(t).getOr(Mk(t)),{ToolbarLocation:AR,ToolbarMode:sI}=d6,ZE=40,rI=(t,s,a,i,d)=>{const{mainUi:g,uiMotherships:h}=a,k=Qh.DOM,S=kf(t),D=ty(t),N=$b(t).or(oI(t)),I=i.shared.header,X=I.isPositionedAtTop,Q=150,ue=ey(t),ye=ue===sI.sliding||ue===sI.floating,Je=uo(!1),Ae=()=>Je.get()&&!t.removed,Ke=ro=>ye?ro.fold(J(0),un=>un.components().length>1?Ys(un.components()[1].element):0):0,ot=ro=>{switch(I2(t)){case AR.auto:const un=Tr.getToolbar(g.outerContainer),Mn=Ke(un),Lo=Ys(ro.element)-Mn,os=Vr(s);if(os.y>Lo)return"top";{const Ko=yi(s),pr=Math.max(Ko.dom.scrollHeight,Ys(Ko));return os.bottom<pr-Lo||za().bottom<os.bottom-Lo?"bottom":"top"}case AR.bottom:return"bottom";case AR.top:default:return"top"}},_t=ro=>{d.on(un=>{Mr.setModes(un,[ro]),I.setDockingMode(ro);const Mn=X()?Ka.TopToBottom:Ka.BottomToTop;V(un.element,DS,Mn)})},Et=()=>{d.on(ro=>{const un=N.getOrThunk(()=>Jd().width-wi(s).left-10);yt(ro.element,"max-width",un+"px")})},Cn=(ro,un)=>{d.on(Mn=>{const Lo=Tr.getToolbar(g.outerContainer),os=Ke(Lo),wo=Vr(s),Ko=Kn(t,g.outerContainer.element),pr=()=>Ko.fold(()=>wo.x,Ni=>{const ed=Vr(Ni);return Rs(Ni,Ze())?wo.x:wo.x-ed.x}),ar=()=>Ko.fold(()=>X()?Math.max(wo.y-Ys(Mn.element)+os,0):wo.bottom,Ni=>{var ed;const td=Vr(Ni),Rf=(ed=Ni.dom.scrollTop)!==null&&ed!==void 0?ed:0,_g=Rs(Ni,Ze())?Math.max(wo.y-Ys(Mn.element)+os,0):wo.y-td.y+Rf-Ys(Mn.element)+os;return X()?_g:wo.bottom}),Wl=pr(),ga=ao(ro,Math.ceil(g.outerContainer.element.dom.getBoundingClientRect().width)).filter(Ni=>Ni>Q).map(Ni=>{const ed=un.getOr($c()),td=window.innerWidth-(Wl-ed.left),Rf=Math.max(Math.min(Ni,td),Q);return td<Ni&&yt(g.outerContainer.element,"width",Rf+"px"),{width:Rf+"px"}}).getOr({width:"max-content"}),Qu={position:"absolute",left:Math.round(Wl)+"px",top:ar()+"px"};Ro(g.outerContainer.element,ie(ie({},Qu),ga))})},Kn=(ro,un)=>zp(ro)?gh(un):x.none(),qt=()=>{gt(h,ro=>{ro.broadcastOn([cg()],{})})},Yn=()=>!S&&(Cr(g.outerContainer.element).left+me(g.outerContainer.element)>=window.innerWidth-ZE||Bs(g.outerContainer.element,"width").isSome())?(yt(g.outerContainer.element,"position","absolute"),yt(g.outerContainer.element,"left","0px"),Vo(g.outerContainer.element,"width"),!0):!1,$n=ro=>{if(!Ae())return;S||Et();const un=$c(),Mn=S?!1:Yn();if(ye&&Tr.refreshToolbar(g.outerContainer),!S){const Lo=$c(),os=ao(un.left!==Lo.left,un);Cn(Mn,os),os.each(wo=>{ud(wo.left,Lo.top)})}D&&d.on(ro),qt()},to=()=>S||!D||!Ae()?!1:d.get().exists(ro=>{const un=I.getDockingMode(),Mn=ot(ro);return Mn!==un?(_t(Mn),!0):!1});return{isVisible:Ae,isPositionedAtTop:X,show:()=>{Je.set(!0),yt(g.outerContainer.element,"display","flex"),k.addClass(t.getBody(),"mce-edit-focus"),gt(h,ro=>{Vo(ro.element,"display")}),to(),zp(t)?$n(ro=>Mr.isDocked(ro)?Mr.reset(ro):Mr.refresh(ro)):$n(Mr.refresh)},hide:()=>{Je.set(!1),yt(g.outerContainer.element,"display","none"),k.removeClass(t.getBody(),"mce-edit-focus"),gt(h,ro=>{yt(ro.element,"display","none")})},update:$n,updateMode:()=>{to()&&$n(Mr.reset)},repositionPopups:qt}},OR=(t,s)=>{const a=Vr(t);return{pos:s?a.y:a.bottom,bounds:a}},aI=(t,s,a,i)=>{const d=uo(OR(s,a.isPositionedAtTop())),g=D=>{const{pos:N,bounds:I}=OR(s,a.isPositionedAtTop()),{pos:X,bounds:Q}=d.get(),ue=I.height!==Q.height||I.width!==Q.width;d.set({pos:N,bounds:I}),ue&&K4(t,D),a.isVisible()&&(X!==N?a.update(Mr.reset):ue&&(a.updateMode(),a.repositionPopups()))};i||(t.on("activate",a.show),t.on("deactivate",a.hide)),t.on("SkinLoaded ResizeWindow",()=>a.update(Mr.reset)),t.on("NodeChange keydown",D=>{requestAnimationFrame(()=>g(D))});let h=0;const k=eE(()=>a.update(Mr.refresh),33);t.on("ScrollWindow",()=>{const D=$c().left;D!==h&&(h=D,k.throttle()),a.updateMode()}),zp(t)&&t.on("ElementScroll",D=>{a.update(Mr.refresh)});const S=Ii();S.set($w(Le.fromDom(t.getBody()),"load",D=>g(D.raw))),t.on("remove",()=>{S.clear()})};var jW=Object.freeze({__proto__:null,render:(t,s,a,i,d)=>{const{mainUi:g}=s,h=$s(),k=Le.fromDom(d.targetNode),S=rI(t,k,s,i,h),D=HO(t);Xj(t);const N=()=>{if(h.isSet()){S.show();return}h.set(Tr.getHeader(g.outerContainer).getOrDie());const X=YO(t);zp(t)?(dk(k,g.mothership),dk(k,s.popupUi.mothership)):vl(X,g.mothership),vl(X,s.dialogUi.mothership);const Q=()=>{eI(t,s,a,i),Tr.setMenubar(g.outerContainer,_5(t,a)),S.show(),aI(t,k,S,D),t.nodeChanged()};D?t.once("SkinLoaded",Q):Q()};t.on("show",N),t.on("hide",S.hide),D||(t.on("focus",N),t.on("blur",S.hide)),t.on("init",()=>{(t.hasFocus()||D)&&N()}),kP(t,s);const I={show:N,hide:S.hide,setEnabled:X=>{a_(s,X?"setEnabled":"setDisabled")},isEnabled:()=>!Po.isDisabled(g.outerContainer)};return{editorContainer:g.outerContainer.element.dom,api:I}}});const cI=()=>{const t=$s(),s=$s(),a=$s();return{dialogUi:t,popupUi:s,mainUi:a,getUiMotherships:()=>{const g=t.get().map(k=>k.mothership),h=s.get().map(k=>k.mothership);return g.fold(()=>h.toArray(),k=>h.fold(()=>[k],S=>Rs(k.element,S.element)?[k]:[k,S]))},lazyGetInOuterOrDie:(g,h)=>()=>a.get().bind(k=>h(k.outerContainer)).getOrDie(`Could not find ${g} element in OuterContainer`)}},WW="contexttoolbar-show",iI="contexttoolbar-hide",ZW=t=>({hide:()=>ms(t,xc()),getValue:()=>jn.getValue(t)}),lI=(t,s)=>Jt(sE,(a,i)=>{const d=t.get(a),g=ZW(d);s.onAction(g,i.event.buttonApi)}),qW=(t,s,a)=>{const h=s.original,{primary:i}=h,d=sC(h,["primary"]),g=dn(Qk(Pt(ie({},d),{type:"button",onAction:ae})));return X5(g,a,[lI(t,s)])},G_=(t,s,a)=>{const h=s.original,{primary:i}=h,d=sC(h,["primary"]),g=dn(t_(Pt(ie({},d),{type:"togglebutton",onAction:ae})));return J5(g,a,[lI(t,s)])},GW=t=>t.type==="contextformtogglebutton",KW=(t,s,a)=>GW(s)?G_(t,s,a):qW(t,s,a),YW=(t,s,a)=>{const i=Pe(s,h=>Zs(KW(t,h,a)));return{asSpecs:()=>Pe(i,h=>h.asSpec()),findPrimary:h=>an(s,(k,S)=>k.primary?x.from(i[S]).bind(D=>D.getOpt(h)).filter(at(Po.isDisabled)):x.none())}},DR=(t,s)=>{const a=t.label.fold(()=>({}),g=>({"aria-label":g})),i=Zs(um.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:a,selectOnFocus:!0,inputBehaviours:hn([Po.config({disabled:()=>s.checkUiComponentContext("mode:design").shouldDisable}),La(()=>s.checkUiComponentContext("mode:design")),So.config({mode:"special",onEnter:g=>d.findPrimary(g).map(h=>(Im(h),!0)),onLeft:(g,h)=>(h.cut(),x.none()),onRight:(g,h)=>(h.cut(),x.none())})])})),d=YW(i,t.commands,s);return[{title:x.none(),items:[i.asSpec()]},{title:x.none(),items:d.asSpecs()}]},uI={renderContextForm:(t,s,a)=>$E({type:t,uid:Xn("context-toolbar"),initGroups:DR(s,a),onEscape:x.none,cyclicKeying:!0,providers:a}),buildInitGroups:DR},dI=(t,s,a)=>s.bottom-t.y>=a&&t.bottom-s.y>=a,XW=t=>{const s=t.getBoundingClientRect();if(s.height<=0&&s.width<=0){const a=Bi(Le.fromDom(t.startContainer),t.startOffset).element;return(cs(a)?Oa(a):x.some(a)).filter(vo).map(d=>d.dom.getBoundingClientRect()).getOr(s)}else return s},RR=t=>{const s=t.selection.getRng(),a=XW(s);if(t.inline){const i=$c();return Hr(i.left+a.left,i.top+a.top,a.width,a.height)}else{const i=Eu(Le.fromDom(t.getBody()));return Hr(i.x+a.left,i.y+a.top,a.width,a.height)}},JW=(t,s)=>s.filter(a=>ve(a)&&ua(a)).map(Eu).getOrThunk(()=>RR(t)),QW=(t,s,a)=>{const i=Math.max(t.x+a,s.x),d=Math.min(t.right-a,s.right);return{x:i,width:d-i}},K_=(t,s,a,i,d,g)=>{const h=Le.fromDom(t.getContainer()),k=Yr(h,".tox-editor-header").getOr(h),S=Vr(k),D=S.y>=s.bottom,N=i&&!D;if(t.inline&&N)return{y:Math.max(S.bottom+g,a.y),bottom:a.bottom};if(t.inline&&!N)return{y:a.y,bottom:Math.min(S.y-g,a.bottom)};const I=d==="line"?Vr(h):s;return N?{y:Math.max(S.bottom+g,a.y),bottom:Math.min(I.bottom-g,a.bottom)}:{y:Math.max(I.y+g,a.y),bottom:Math.min(S.y-g,a.bottom)}},zR=(t,s,a,i=0)=>{const d=Jd(window),g=Vr(Le.fromDom(t.getContentAreaContainer())),h=j2(t)||Z2(t)||Bk(t),{x:k,width:S}=QW(g,d,i);if(t.inline&&!h)return Hr(k,d.y,S,d.height);{const D=s.header.isPositionedAtTop(),{y:N,bottom:I}=K_(t,g,d,D,a,i);return Hr(k,N,S,I-N)}},qE=12,fI={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},NR={maxHeightFunction:Qm(),maxWidthFunction:bu()},MR=(t,s)=>{const a=t.selection.getRng(),i=Bi(Le.fromDom(a.startContainer),a.startOffset);return a.startContainer===a.endContainer&&a.startOffset===a.endOffset-1&&Rs(i.element,s)},mI=(t,s,a)=>{const i=Bs(t,"position");yt(t,"position",s);const d=a(t);return i.each(g=>yt(t,"position",g)),d},PR=t=>t==="node",eZ=(t,s,a,i,d)=>{const g=RR(t),h=i.lastElement().exists(k=>Rs(a,k));if(MR(t,a))return h?RD:Id;if(h)return mI(s,i.getMode(),()=>dI(g,Vr(s),-20)&&!i.isReposition()?cU:RD);{const k=i.getMode()==="fixed"?d.y+$c().top:d.y,S=Ys(s)+qE;return k+S<=g.y?Id:yy}},N0=(t,s,a,i)=>{const d=S=>(D,N,I,X,Q)=>{const ue=eZ(t,X,S,a,Q),ye=Pt(ie({},D),{y:Q.y,height:Q.height});return Pt(ie({},ue(ye,N,I,X,Q)),{alwaysFit:!0})},g=S=>PR(i)?[d(S)]:[];return s?{onLtr:S=>[Ga,cc,ic,Vc,lc,Xs].concat(g(S)),onRtl:S=>[Ga,ic,cc,lc,Vc,Xs].concat(g(S))}:{onLtr:S=>[Xs,Ga,Vc,cc,lc,ic].concat(g(S)),onRtl:S=>[Xs,Ga,lc,ic,Vc,cc].concat(g(S))}},GE=(t,s,a,i)=>s==="line"?{bubble:Vu(qE,0,fI),layouts:{onLtr:()=>[nv],onRtl:()=>[Rw]},overrides:NR}:{bubble:Vu(0,qE,fI,1/qE),layouts:N0(t,a,i,s),overrides:NR},M0=(t,s)=>{const a=wt(s,g=>g.predicate(t.dom)),{pass:i,fail:d}=ko(a,g=>g.type==="contexttoolbar");return{contextToolbars:i,contextForms:d}},BR=t=>{if(t.length<=1)return t;{const s=g=>En(t,h=>h.position===g),a=g=>wt(t,h=>h.position===g),i=s("selection"),d=s("node");if(i||d)if(d&&i){const g=a("node"),h=Pe(a("selection"),k=>Pt(ie({},k),{position:"node"}));return g.concat(h)}else return a(i?"selection":"node");else return a("line")}},$R=t=>{if(t.length<=1)return t;{const s=i=>re(t,d=>d.position===i);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(i=>i.position).fold(()=>[],i=>wt(t,d=>d.position===i))}},gI=(t,s,a)=>{const i=M0(t,s);if(i.contextForms.length>0)return x.some({elem:t,toolbars:[i.contextForms[0]]});{const d=M0(t,a);if(d.contextForms.length>0)return x.some({elem:t,toolbars:[d.contextForms[0]]});if(i.contextToolbars.length>0||d.contextToolbars.length>0){const g=BR(i.contextToolbars.concat(d.contextToolbars));return x.some({elem:t,toolbars:g})}else return x.none()}},KE=(t,s,a)=>t(s)?x.none():ml(s,i=>{if(vo(i)){const{contextToolbars:d,contextForms:g}=M0(i,a.inNodeScope),h=g.length>0?g:$R(d);return h.length>0?x.some({elem:i,toolbars:h}):x.none()}else return x.none()},t),pI=(t,s)=>{const a=Le.fromDom(s.getBody()),i=h=>Rs(h,a),d=h=>!i(h)&&!pa(a,h),g=Le.fromDom(s.selection.getNode());return d(g)?x.none():gI(g,t.inNodeScope,t.inEditorScope).orThunk(()=>KE(i,g,t))},hI=(t,s)=>{const a={},i=[],d=[],g={},h={},k=(N,I)=>{const X=dn(o_(I));a[N]=X,X.launch.map(Q=>{g["form:"+N]=Pt(ie({},I.launch),{type:Q.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(X)}})}),X.scope==="editor"?d.push(X):i.push(X),h[N]=X},S=(N,I)=>{Q6(I).each(X=>{I.scope==="editor"?d.push(X):i.push(X),h[N]=X})},D=pn(t);return gt(D,N=>{const I=t[N];I.type==="contextform"?k(N,I):I.type==="contexttoolbar"&&S(N,I)}),{forms:a,inNodeScope:i,inEditorScope:d,lookupTable:h,formNavigators:g}},YE=Xn("forward-slide"),yI=Xn("backward-slide"),XE=Xn("change-slide-event"),FR="tox-pop--resizing",tZ=t=>{const s=uo([]);return fa.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:a=>{s.set([]),fa.getContent(a).each(i=>{Vo(i.element,"visibility")}),sr(a.element,FR),Vo(a.element,"width")},inlineBehaviours:hn([Yo("context-toolbar-events",[Lm(My(),(a,i)=>{i.event.raw.propertyName==="width"&&(sr(a.element,FR),Vo(a.element,"width"))}),Jt(XE,(a,i)=>{const d=a.element;Vo(d,"width");const g=ce(d);fa.setContent(a,i.event.contents),Ia(d,FR);const h=ce(d);yt(d,"width",g+"px"),fa.getContent(a).each(k=>{i.event.focus.bind(S=>(cu(S),Ti(d))).orThunk(()=>(So.focusIn(k),yf(Lr(d))))}),setTimeout(()=>{yt(a.element,"width",h+"px")},0)}),Jt(YE,(a,i)=>{fa.getContent(a).each(d=>{s.set(s.get().concat([{bar:d,focus:yf(Lr(a.element))}]))}),co(a,XE,{contents:i.event.forwardContents,focus:x.none()})}),Jt(yI,(a,i)=>{rt(s.get()).each(d=>{s.set(s.get().slice(0,s.get().length-1)),co(a,XE,{contents:Nl(d.bar),focus:d.focus})})})]),So.config({mode:"special",onEscape:a=>rt(s.get()).fold(()=>t.onEscape(),i=>(ms(a,yI),x.some(!0)))})]),lazySink:()=>Jo.value(t.sink)})},P0="tox-pop--transition",bI=(t,s,a,i)=>{const d=i.backstage,g=d.shared,h=rs().deviceType.isTouch,k=$s(),S=$s(),D=$s(),N=hc(tZ({sink:a,onEscape:()=>(t.focus(),x.some(!0))})),I=()=>{const $n=D.get().getOr("node"),to=PR($n)?1:0;return zR(t,g,$n,to)},X=()=>!t.removed&&!(h()&&d.isContextMenuOpen()),Q=$n=>Qs(Jr($n,k.get(),Rs),!0),ue=()=>{if(X()){const $n=I(),to=Qs(D.get(),"node")?JW(t,k.get()):RR(t);return $n.height<=0||!dI(to,$n,.01)}else return!0},ye=()=>{k.clear(),S.clear(),D.clear(),fa.hide(N)},Je=()=>{if(fa.isOpen(N)){const $n=N.element;Vo($n,"display"),ue()?yt($n,"display","none"):(S.set(0),fa.reposition(N))}},Ae=$n=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[$n],behaviours:hn([So.config({mode:"acyclic"}),Yo("pop-dialog-wrap-events",[Wr(to=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>So.focusIn(to))}),uf(to=>{t.shortcuts.remove("ctrl+F9")})])])}),Ke=jt(()=>hI(s,$n=>{const to=Et([$n]);co(N,YE,{forwardContents:Ae(to)})})),ot=($n,to)=>jE(t,{buttons:$n,toolbar:to.items,allowToolbarGroups:!1},i.backstage,x.some(["form:"])),_t=($n,to)=>uI.buildInitGroups($n,to),Et=$n=>{const{buttons:to}=t.ui.registry.getAll(),ws=Ke(),Fr=ie(ie({},to),ws.formNavigators),Ws=ey(t)===ju.scrolling?ju.scrolling:ju.default,ro=De(Pe($n,un=>un.type==="contexttoolbar"?ot(Fr,un):_t(un,g.providers)));return $E({type:Ws,uid:Xn("context-toolbar"),initGroups:ro,onEscape:x.none,cyclicKeying:!0,providers:g.providers})},Cn=($n,to)=>{const ws=$n==="node"?g.anchors.node(to):g.anchors.cursor(),Fr=GE(t,$n,h(),{lastElement:k.get,isReposition:()=>Qs(S.get(),0),getMode:()=>Wc.getMode(a)});return br(ws,Fr)},Kn=($n,to)=>{if(Yn.cancel(),!X())return;const ws=Et($n),Fr=$n[0].position,Ws=Cn(Fr,to);D.set(Fr),S.set(1);const ro=N.element;Vo(ro,"display"),Q(to)||(sr(ro,P0),Wc.reset(a,N)),fa.showWithinBounds(N,Ae(ws),{anchor:Ws,transition:{classes:[P0],mode:"placement"}},()=>x.some(I())),to.fold(k.clear,k.set),ue()&&yt(ro,"display","none")};let qt=!1;const Yn=eE(()=>{if(!(!t.hasFocus()||t.removed||qt))if(ji(N.element,P0))Yn.throttle();else{const $n=Ke();pI($n,t).fold(ye,to=>{Kn(to.toolbars,x.some(to.elem))})}},17);t.on("init",()=>{t.on("remove",ye),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Je),t.on("click keyup focus SetContent",Yn.throttle),t.on(iI,ye),t.on(WW,$n=>{const to=Ke();on(to.lookupTable,$n.toolbarKey).each(ws=>{Kn([ws],ao($n.target!==t,$n.target)),fa.getContent(N).each(So.focusIn)})}),t.on("focusout",$n=>{Mb.setEditorTimeout(t,()=>{Ti(a.element).isNone()&&Ti(N.element).isNone()&&ye()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&ye()}),t.on("ExecCommand",({command:$n})=>{$n.toLowerCase()==="toggleview"&&ye()}),t.on("AfterProgressState",$n=>{$n.state?ye():t.hasFocus()&&Yn.throttle()}),t.on("dragstart",()=>{qt=!0}),t.on("dragend drop",()=>{qt=!1}),t.on("NodeChange",$n=>{Ti(N.element).fold(Yn.throttle,ae)})})},nZ=t=>{gt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],a=>{t.ui.registry.addToggleButton(a.name,{tooltip:a.text,icon:a.icon,onAction:yu(t,a.cmd),onSetup:Ox(t,a.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Gi(t),onAction:yu(t,"JustifyNone")})},vI=(t,s)=>{const a=()=>{const i=s.getOptions(t),d=s.getCurrent(t).map(s.hash),g=$s();return Pe(i,h=>({type:"togglemenuitem",text:s.display(h),onSetup:k=>{const S=N=>{N&&(g.on(I=>I.setActive(!1)),g.set(k)),k.setActive(N)};S(Qs(d,s.hash(h)));const D=s.watcher(t,h,S);return()=>{g.clear(),D()}},onAction:()=>s.setCurrent(t,h)}))};t.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:i=>i(a()),onSetup:s.onToolbarSetup}),t.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:a,onSetup:s.onMenuSetup})},oZ=t=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:wM,hash:s=>P5(s,["fixed","relative","empty"]).getOr(s),display:Zt,watcher:(s,a,i)=>s.formatter.formatChanged("lineheight",i,!1,{value:a}).unbind,getCurrent:s=>x.from(s.queryCommandValue("LineHeight")),setCurrent:(s,a)=>s.execCommand("LineHeight",!1,a),onToolbarSetup:Gi(t),onMenuSetup:Gi(t)}),sZ=t=>x.from(iM(t)).map(a=>({name:"language",text:"Language",icon:"language",getOptions:J(a),hash:i=>Bt(i.customCode)?i.code:`${i.code}/${i.customCode}`,display:i=>i.title,watcher:(i,d,g)=>{var h;return i.formatter.formatChanged("lang",g,!1,{value:d.code,customValue:(h=d.customCode)!==null&&h!==void 0?h:null}).unbind},getCurrent:i=>{const d=Le.fromDom(i.selection.getNode());return Sc(d,g=>x.some(g).filter(vo).bind(h=>kt(h,"lang").map(S=>{const D=kt(h,"data-mce-lang").getOrUndefined();return{code:S,customCode:D,title:""}})))},setCurrent:(i,d)=>i.execCommand("Lang",!1,d),onToolbarSetup:i=>{const d=Ii();return i.setActive(t.formatter.match("lang",{},void 0,!0)),d.set(t.formatter.formatChanged("lang",i.setActive,!0)),Ax(d.clear,Gi(t)(i))},onMenuSetup:Gi(t)})),rZ=t=>{vI(t,oZ(t)),sZ(t).each(s=>vI(t,s))},wI=(t,s)=>{yR(t,s),cW(t,s),CW(t,s),sW(t,s),wW(t,s)},kI=t=>{t.ui.registry.addContext("editable",()=>t.selection.isEditable()),t.ui.registry.addContext("mode",s=>t.mode.get()===s),t.ui.registry.addContext("any",Ye),t.ui.registry.addContext("formatting",s=>t.formatter.canApply(s)),t.ui.registry.addContext("insert",s=>t.schema.isValidChild(t.selection.getNode().tagName,s))},_I=t=>Kb(t,"NodeChange",s=>{s.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())}),CI=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:_I(t),onAction:yu(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Gi(t),onAction:yu(t,"indent")})},aZ=t=>{CI(t)},IR=(t,s)=>a=>{a.setActive(s.get());const i=d=>{s.set(d.state),a.setActive(d.state)};return t.on("PastePlainTextToggle",i),Ax(()=>t.off("PastePlainTextToggle",i),Gi(t)(a))},SI=t=>{const s=uo(bM(t)),a=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:a,onSetup:IR(t,s)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:a,onSetup:IR(t,s)})},LR=(t,s)=>()=>{t.execCommand("mceToggleFormat",!1,s)},uY=t=>{$p.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,a)=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:Ox(t,s.name),onAction:LR(t,s.name),shortcut:s.shortcut})});for(let s=1;s<=6;s++){const a="h"+s,i=`Access+${s}`;t.ui.registry.addToggleButton(a,{text:a.toUpperCase(),tooltip:"Heading "+s,onSetup:Ox(t,a),onAction:LR(t,a),shortcut:i})}},cZ=t=>{$p.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:yu(t,s.action),shortcut:s.shortcut,context:s.context})}),$p.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:Gi(t),onAction:yu(t,s.action)})})},iZ=t=>{$p.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:yu(t,s.action),onSetup:Ox(t,s.name)})})},lZ=t=>{uY(t),cZ(t),iZ(t)},uZ=t=>{$p.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:yu(t,s.action),context:s.context})}),$p.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:Gi(t),onAction:yu(t,s.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Gi(t),onAction:LR(t,"code")})},dZ=t=>{lZ(t),uZ(t)},JE=(t,s)=>Kb(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",a=>{a.setEnabled(!t.mode.isReadOnly()&&t.undoManager[s]())}),fZ=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:JE(t,"hasUndo"),onAction:yu(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:JE(t,"hasRedo"),onAction:yu(t,"redo")})},mZ=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:JE(t,"hasUndo"),onAction:yu(t,"undo"),shortcut:"Meta+Z"}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:JE(t,"hasRedo"),onAction:yu(t,"redo"),shortcut:"Meta+Y"})},gZ=t=>{fZ(t),mZ(t)},pZ=t=>Kb(t,"VisualAid",s=>{s.setActive(t.hasVisual)}),hZ=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:pZ(t),onAction:yu(t,"mceToggleVisualAid"),context:"any"})},yZ=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:yu(t,"mceToggleVisualAid"),context:"any"})},bZ=t=>{yZ(t),hZ(t)},xI=(t,s)=>{nZ(t),dZ(t),wI(t,s),gZ(t),U7(t),bZ(t),aZ(t),rZ(t),SI(t),kI(t)},vZ=t=>Y(t)?t.split(/[ ,]/):t,EI=t=>s=>s.options.get(t),wZ=t=>{const s=t.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:a=>a===!1?{value:[],valid:!0}:Y(a)||qe(a,Y)?{value:vZ(a),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},TI=EI("contextmenu_never_use_native"),kZ=EI("contextmenu_avoid_overlap"),_Z=t=>AI(t).length===0,AI=t=>{const s=t.ui.registry.getAll().contextMenus,a=t.options.get("contextmenu");return t.options.isSet("contextmenu")?a:wt(a,i=>Go(s,i))},Y_=(t,s)=>({type:"makeshift",x:t,y:s}),CZ=(t,s,a)=>Y_(t.x+s,t.y+a),QE=t=>t.type==="longpress"||t.type.indexOf("touch")===0,SZ=t=>{if(QE(t)){const s=t.touches[0];return Y_(s.pageX,s.pageY)}else return Y_(t.pageX,t.pageY)},xZ=t=>{if(QE(t)){const s=t.touches[0];return Y_(s.clientX,s.clientY)}else return Y_(t.clientX,t.clientY)},HR=(t,s)=>{const a=Qh.DOM.getPos(t);return CZ(s,a.x,a.y)},OI=(t,s)=>s.type==="contextmenu"||s.type==="longpress"?t.inline?SZ(s):HR(t.getContentAreaContainer(),xZ(s)):VR(t),VR=t=>({type:"selection",root:Le.fromDom(t.selection.getNode())}),EZ=t=>({type:"node",node:x.some(Le.fromDom(t.selection.getNode())),root:Le.fromDom(t.getBody())}),DI=(t,s,a)=>{switch(a){case"node":return EZ(t);case"point":return OI(t,s);case"selection":return VR(t)}},TZ=(t,s,a,i,d,g)=>{const h=a(),k=DI(t,s,g);w0(h,Cf.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:x.none()}).map(S=>{s.preventDefault(),fa.showMenuAt(d,{anchor:k},{menu:{markers:ry("normal")},data:S})})},AZ={onLtr:()=>[Ga,cc,ic,Vc,lc,Xs,Id,yy,B_,bE,P_,yE],onRtl:()=>[Ga,ic,cc,lc,Vc,Xs,Id,yy,P_,yE,B_,bE]},OZ=12,UR={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},DZ=(t,s)=>{const a=t.selection;if(a.isCollapsed()||s.touches.length<1)return!1;{const i=s.touches[0],d=a.getRng();return gb(t.getWin(),Ph.domRange(d)).exists(h=>h.left<=i.clientX&&h.right>=i.clientX&&h.top<=i.clientY&&h.bottom>=i.clientY)}},RI=t=>{const s=t.selection.getRng(),a=()=>{Mb.setEditorTimeout(t,()=>{t.selection.setRng(s)},10),g()};t.once("touchend",a);const i=h=>{h.preventDefault(),h.stopImmediatePropagation()};t.on("mousedown",i,!0);const d=()=>g();t.once("longpresscancel",d);const g=()=>{t.off("touchend",a),t.off("longpresscancel",d),t.off("mousedown",i)}},RZ=(t,s,a)=>{const i=DI(t,s,a);return ie({bubble:Vu(0,a==="point"?OZ:0,UR),layouts:AZ,overrides:{maxWidthFunction:bu(),maxHeightFunction:Qm()}},i)},zZ=(t,s,a,i,d,g,h)=>{const k=RZ(t,s,g);w0(a,Cf.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!0,search:x.none()}).map(S=>{s.preventDefault();const D=h?_l.HighlightMenuAndItem:_l.HighlightNone;fa.showMenuWithinBounds(d,{anchor:k},{menu:{markers:ry("normal"),highlightOnOpen:D},data:S,type:"horizontal"},()=>x.some(zR(t,i.shared,g==="node"?"node":"selection"))),t.dispatch(iI)})},jR=(t,s,a,i,d,g)=>{const h=rs(),k=h.os.isiOS(),S=h.os.isMacOS(),D=h.os.isAndroid(),N=h.deviceType.isTouch(),I=()=>!(D||k||S&&N),X=()=>{const Q=a();zZ(t,s,Q,i,d,g,I())};if((S||k)&&g!=="node"){const Q=()=>{RI(t),X()};DZ(t,s)?Q():(t.once("selectionchange",Q),t.once("touchend",()=>t.off("selectionchange",Q)))}else X()},zI=t=>Y(t)?t==="|":t.type==="separator",eT={type:"separator"},NI=t=>{const s=a=>({text:a.text,icon:a.icon,enabled:a.enabled,shortcut:a.shortcut});if(Y(t))return t;switch(t.type){case"separator":return eT;case"submenu":return Pt(ie({type:"nestedmenuitem"},s(t)),{getSubmenuItems:()=>{const i=t.getSubmenuItems();return Y(i)?i:Pe(i,NI)}});default:const a=t;return Pt(ie({type:"menuitem"},s(a)),{onAction:vt(a.onAction)})}},MI=(t,s)=>{if(s.length===0)return t;const i=rt(t).filter(d=>!zI(d)).fold(()=>[],d=>[eT]);return t.concat(i).concat(s).concat([eT])},WR=(t,s,a)=>{const i=st(s,(d,g)=>on(t,g.toLowerCase()).map(h=>{const k=h.update(a);if(Y(k)&&xe(cr(k)))return MI(d,k.split(" "));if(Xe(k)&&k.length>0){const S=Pe(k,NI);return MI(d,S)}else return d}).getOrThunk(()=>d.concat([g])),[]);return i.length>0&&zI(i[i.length-1])&&i.pop(),i},NZ=(t,s)=>s.ctrlKey&&!TI(t),MZ=t=>t.type==="longpress"||Go(t,"touches"),PI=(t,s)=>!MZ(s)&&(s.button!==2||s.target===t.getBody()&&s.pointerType===""),BI=(t,s)=>PI(t,s)?t.selection.getStart(!0):s.target,PZ=(t,s)=>{const a=kZ(t),i=PI(t,s)?"selection":"point";if(xe(a)){const d=BI(t,s);return p_(Le.fromDom(d),a)?"node":i}else return i},$I=(t,s,a)=>{const d=rs().deviceType.isTouch,g=hc(fa.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>t.focus(),onShow:()=>a.setContextMenuState(!0),onHide:()=>a.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:hn([Yo("dismissContextMenu",[Jt(zl(),(S,D)=>{Ns.close(S),t.focus()})])])})),h=()=>fa.hide(g),k=S=>{if(TI(t)&&S.preventDefault(),NZ(t,S)||_Z(t))return;const D=PZ(t,S),N=()=>{const X=BI(t,S),Q=t.ui.registry.getAll(),ue=AI(t);return WR(Q.contextMenus,ue,X)};(d()?jR:TZ)(t,S,N,a,g,D)};t.on("init",()=>{const S="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(d()?"":" ResizeWindow");t.on(S,h),t.on("longpress contextmenu",k)})},ZR=Z.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),tT=t=>s=>s.translate(-t.left,-t.top),nT=t=>s=>s.translate(t.left,t.top),Lp=t=>(s,a)=>st(t,(i,d)=>d(i),Dr(s,a)),oT=(t,s,a)=>t.fold(Lp([nT(a),tT(s)]),Lp([tT(s)]),Lp([])),B0=(t,s,a)=>t.fold(Lp([nT(a)]),Lp([]),Lp([nT(s)])),FI=(t,s,a)=>t.fold(Lp([]),Lp([tT(a)]),Lp([nT(s),tT(a)])),BZ=(t,s,a,i,d,g)=>{const h=B0(t,d,g),k=B0(s,d,g);return Math.abs(h.left-k.left)<=a&&Math.abs(h.top-k.top)<=i},II=(t,s,a,i,d,g)=>{const h=B0(t,d,g),k=B0(s,d,g),S=Math.abs(h.left-k.left),D=Math.abs(h.top-k.top);return Dr(S,D)},LI=(t,s,a)=>{const i=t.fold((d,g)=>({position:x.some("absolute"),left:x.some(d+"px"),top:x.some(g+"px")}),(d,g)=>({position:x.some("absolute"),left:x.some(d-a.left+"px"),top:x.some(g-a.top+"px")}),(d,g)=>({position:x.some("fixed"),left:x.some(d+"px"),top:x.some(g+"px")}));return ie({right:x.none(),bottom:x.none()},i)},HI=(t,s,a)=>t.fold((i,d)=>sT(i+s,d+a),(i,d)=>ky(i+s,d+a),(i,d)=>Hd(i+s,d+a)),qR=(t,s,a,i)=>{const d=(g,h)=>(k,S)=>{const D=g(s,a,i);return h(k.getOr(D.left),S.getOr(D.top))};return t.fold(d(FI,sT),d(B0,ky),d(oT,Hd))},sT=ZR.offset,ky=ZR.absolute,Hd=ZR.fixed,GR=(t,s)=>{const a=$e(t,s);return Bt(a)?NaN:parseInt(a,10)},$Z=(t,s)=>{const a=t.element,i=GR(a,s.leftAttr),d=GR(a,s.topAttr);return isNaN(i)||isNaN(d)?x.none():x.some(Dr(i,d))},FZ=(t,s,a)=>{const i=t.element;V(i,s.leftAttr,a.left+"px"),V(i,s.topAttr,a.top+"px")},IZ=(t,s)=>{const a=t.element;$(a,s.leftAttr),$(a,s.topAttr)},LZ=(t,s,a,i)=>$Z(t,s).fold(()=>a,d=>Hd(d.left+i.left,d.top+i.top)),VI=(t,s,a,i,d,g)=>{const h=LZ(t,s,a,i),k=s.mustSnap?VZ(t,s,h,d,g):UZ(t,s,h,d,g),S=oT(h,d,g);return FZ(t,s,S),k.fold(()=>({coord:Hd(S.left,S.top),extra:x.none()}),D=>({coord:D.output,extra:D.extra}))},HZ=(t,s)=>{IZ(t,s)},UI=(t,s,a,i)=>an(t,d=>{const g=d.sensor;return BZ(s,g,d.range.left,d.range.top,a,i)?x.some({output:qR(d.output,s,a,i),extra:d.extra}):x.none()}),VZ=(t,s,a,i,d)=>{const g=s.getSnapPoints(t);return UI(g,a,i,d).orThunk(()=>st(g,(S,D)=>{const N=D.sensor,I=II(a,N,D.range.left,D.range.top,i,d);return S.deltas.fold(()=>({deltas:x.some(I),snap:x.some(D)}),X=>{const Q=(I.left+I.top)/2,ue=(X.left+X.top)/2;return Q<=ue?{deltas:x.some(I),snap:x.some(D)}:S})},{deltas:x.none(),snap:x.none()}).snap.map(S=>({output:qR(S.output,a,i,d),extra:S.extra})))},UZ=(t,s,a,i,d)=>{const g=s.getSnapPoints(t);return UI(g,a,i,d)},jZ=(t,s,a)=>({coord:qR(t.output,t.output,s,a),extra:t.extra});var WZ=Object.freeze({__proto__:null,snapTo:(t,s,a,i)=>{const d=s.getTarget(t.element);if(s.repositionTarget){const g=ha(t.element),h=$c(g),k=I1(d),S=jZ(i,h,k),D=LI(S.coord,h,k);bs(d,D)}}});const KR="data-initial-z-index",ZZ=t=>{Oa(t.element).filter(vo).each(s=>{kt(s,KR).fold(()=>Vo(s,"z-index"),a=>yt(s,"z-index",a)),$(s,KR)})},qZ=t=>{Oa(t.element).filter(vo).each(s=>{Bs(s,"z-index").each(a=>{V(s,KR,a)}),yt(s,"z-index",Ls(t.element,"z-index"))})},YR=(t,s)=>{t.getSystem().addToGui(s),qZ(s)},jI=t=>{ZZ(t),t.getSystem().removeFromGui(t)},WI=(t,s,a)=>t.getSystem().build(gm.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:a}));var X_=rc("snaps",[Xt("getSnapPoints"),As("onSensor"),Xt("leftAttr"),Xt("topAttr"),it("lazyViewport",za),it("mustSnap",!1)]);const XR=[it("useFixed",We),Xt("blockerClass"),it("getTarget",Zt),it("onDrag",ae),it("repositionTarget",!0),it("onDrop",ae),zr("getBounds",za),X_],GZ=t=>Zr(Bs(t,"left"),Bs(t,"top"),Bs(t,"position"),(s,a,i)=>(i==="fixed"?Hd:sT)(parseInt(s,10),parseInt(a,10))).getOrThunk(()=>{const s=Cr(t);return ky(s.left,s.top)}),JR=(t,s,a,i,d)=>{const g=d.bounds,h=B0(s,a,i),k=Iu(h.left,g.x,g.x+g.width-d.width),S=Iu(h.top,g.y,g.y+g.height-d.height),D=ky(k,S);return s.fold(()=>{const N=FI(D,a,i);return sT(N.left,N.top)},J(D),()=>{const N=oT(D,a,i);return Hd(N.left,N.top)})},KZ=(t,s,a,i,d,g,h)=>{const k=s.fold(()=>{const S=HI(a,g.left,g.top),D=oT(S,i,d);return Hd(D.left,D.top)},S=>{const D=VI(t,S,a,g,i,d);return D.extra.each(N=>{S.onSensor(t,N)}),D.coord});return JR(t,k,i,d,h)},YZ=(t,s,a,i)=>{const d=s.getTarget(t.element);if(s.repositionTarget){const g=ha(t.element),h=$c(g),k=I1(d),S=GZ(d),D=KZ(t,s.snaps,S,h,k,i,a),N=LI(D,h,k);bs(d,N)}s.onDrag(t,d,i)},ZI=(t,s)=>({bounds:t.getBounds(),height:Fi(s.element),width:me(s.element)}),QR=(t,s,a,i,d)=>{const g=a.update(i,d),h=a.getStartData().getOrThunk(()=>ZI(s,t));g.each(k=>{YZ(t,s,h,k)})},qI=(t,s,a,i)=>{s.each(jI),a.snaps.each(g=>{HZ(t,g)});const d=a.getTarget(t.element);i.reset(),a.onDrop(t,d)},ez=t=>(s,a)=>{const i=d=>{a.setStartData(ZI(s,d))};return or([Jt(Fm(),d=>{a.getStartData().each(()=>i(d))}),...t(s,a,i)])},XZ=t=>or([Jt(ia(),t.forceDrop),Jt(ah(),t.drop),Jt(ii(),(s,a)=>{t.move(a.event)}),Jt(rh(),t.delayDrop)]);var JZ=Object.freeze({__proto__:null,getData:t=>x.from(Dr(t.x,t.y)),getDelta:(t,s)=>Dr(s.left-t.left,s.top-t.top)});const GI=(t,s,a)=>[Jt(ia(),(i,d)=>{if(d.event.raw.button!==0)return;d.stop();const h=()=>qI(i,x.some(D),t,s),k=yB(h,200),S={drop:h,delayDrop:k.schedule,forceDrop:h,move:I=>{k.cancel(),QR(i,t,s,JZ,I)}},D=WI(i,t.blockerClass,XZ(S));(()=>{a(i),YR(i,D)})()})],QZ=[...XR,Nr("dragger",{handlers:ez(GI)})],eq=t=>or([Jt(tu(),t.forceDrop),Jt(zs(),t.drop),Jt(Kr(),t.drop),Jt(cf(),(s,a)=>{t.move(a.event)})]),tq=t=>{const s=t[0];return x.some(Dr(s.clientX,s.clientY))};var KI=Object.freeze({__proto__:null,getData:t=>{const a=t.raw.touches;return a.length===1?tq(a):x.none()},getDelta:(t,s)=>Dr(s.left-t.left,s.top-t.top)});const J_=(t,s,a)=>{const i=$s(),d=g=>{qI(g,i.get(),t,s),i.clear()};return[Jt(tu(),(g,h)=>{h.stop();const k=()=>d(g),S={drop:k,delayDrop:ae,forceDrop:k,move:I=>{QR(g,t,s,KI,I)}},D=WI(g,t.blockerClass,eq(S));i.set(D),(()=>{a(g),YR(g,D)})()}),Jt(cf(),(g,h)=>{h.stop(),QR(g,t,s,KI,h.event)}),Jt(zs(),(g,h)=>{h.stop(),d(g)}),Jt(Kr(),d)]},nq=[...XR,Nr("dragger",{handlers:ez(J_)})],oq=(t,s,a)=>[...GI(t,s,a),...J_(t,s,a)],sq=[...XR,Nr("dragger",{handlers:ez(oq)})];var YI=Object.freeze({__proto__:null,mouse:QZ,touch:nq,mouseOrTouch:sq}),rq=Object.freeze({__proto__:null,init:()=>{let t=x.none(),s=x.none();const a=()=>{t=x.none(),s=x.none()},i=(S,D)=>{const N=t.map(I=>S.getDelta(I,D));return t=x.some(D),N},d=(S,D)=>S.getData(D).bind(N=>i(S,N)),g=S=>{s=x.some(S)},h=()=>s,k=J({});return xi({readState:k,reset:a,update:d,getStartData:h,setStartData:g})}});const g1=nw({branchKey:"mode",branches:YI,name:"dragging",active:{events:(t,s)=>t.dragger.handlers(t,s)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:x.from(t.extra)})},state:rq,apis:WZ}),tz=40,rT=tz/2,aT=(t,s,a,i,d,g)=>t.fold(()=>g1.snap({sensor:ky(a-rT,i-rT),range:Dr(d,g),output:ky(x.some(a),x.some(i)),extra:{td:s}}),h=>{const k=a-rT,S=i-rT,D=tz,N=tz,I=h.element.dom.getBoundingClientRect();return g1.snap({sensor:ky(k,S),range:Dr(D,N),output:ky(x.some(a-I.width/2),x.some(i-I.height/2)),extra:{td:s}})}),nz=(t,s,a)=>{const i=(d,g)=>d.exists(h=>Rs(h,g));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(d,g)=>{const h=g.td;i(s.get(),h)||(s.set(h),a(h))},mustSnap:!0}},XI=t=>Zs(yc.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:hn([g1.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),g0.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),aq=(t,s)=>{const a=uo([]),i=uo([]),d=uo(!1),g=$s(),h=$s(),k=Kn=>{const qt=Eu(Kn);return aT(Q.getOpt(s),Kn,qt.x,qt.y,qt.width,qt.height)},S=()=>Pe(a.get(),Kn=>k(Kn)),D=Kn=>{const qt=Eu(Kn);return aT(ue.getOpt(s),Kn,qt.right,qt.bottom,qt.width,qt.height)},N=()=>Pe(i.get(),Kn=>D(Kn)),I=nz(S,g,Kn=>{h.get().each(qt=>{t.dispatch("TableSelectorChange",{start:Kn,finish:qt})})}),X=nz(N,h,Kn=>{g.get().each(qt=>{t.dispatch("TableSelectorChange",{start:qt,finish:Kn})})}),Q=XI(I),ue=XI(X),ye=hc(Q.asSpec()),Je=hc(ue.asSpec()),Ae=(Kn,qt,Yn,$n)=>{const to=qt.dom.getBoundingClientRect();Vo(Kn.element,"display");const ws=Ba(Le.fromDom(t.getBody())).dom.innerHeight,Fr=Yn(to),Ws=$n(to,ws);(Fr||Ws)&&yt(Kn.element,"display","none")},Ke=(Kn,qt,Yn,$n)=>{const to=Yn(qt);g1.snapTo(Kn,to),Ae(Kn,qt,Ws=>Ws[$n]<0,(Ws,ro)=>Ws[$n]>ro)},ot=Kn=>Ke(ye,Kn,k,"top"),_t=()=>g.get().each(ot),Et=Kn=>Ke(Je,Kn,D,"bottom"),Cn=()=>h.get().each(Et);if(rs().deviceType.isTouch()){const Kn=qt=>Pe(qt,Le.fromDom);t.on("TableSelectionChange",qt=>{d.get()||(om(s,ye),om(s,Je),d.set(!0));const Yn=Le.fromDom(qt.start),$n=Le.fromDom(qt.finish);g.set(Yn),h.set($n),x.from(qt.otherCells).each(to=>{a.set(Kn(to.upOrLeftCells)),i.set(Kn(to.downOrRightCells)),ot(Yn),Et($n)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{_t(),Cn()}),t.on("TableSelectionClear",()=>{d.get()&&(sm(ye),sm(Je),d.set(!1)),g.clear(),h.clear()})}};var cq=`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`;const iq=(t,s)=>{const a=x.from($e(t,"id")).getOrThunk(()=>{const i=Xn("aria");return V(s,"id",i),i});V(t,"aria-describedby",a)},lq=t=>{$(t,"aria-describedby")},uq=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",dq=(t,s,a)=>{var i;const d=(i=s.delimiter)!==null&&i!==void 0?i:"›",g=(D,N,I)=>yc.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":I}},components:[la(D)],action:X=>{t.focus(),t.selection.select(N),t.nodeChanged()},buttonBehaviours:hn([Ea.config(ie({},a.tooltips.getConfig({tooltipText:a.translate(["Select the {0} element",N.nodeName.toLowerCase()]),onShow:(X,Q)=>{iq(X.element,Q.element)},onHide:X=>{lq(X.element)}}))),qu.button(a.isDisabled),La(()=>a.checkUiComponentContext("any"))])}),h=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[la(` ${d} `)]}),k=D=>st(D,(N,I,X)=>{const Q=g(I.name,I.element,X);return X===0?N.concat([Q]):N.concat([h(),Q])},[]),S=D=>{const N=[];let I=D.length;for(;I-- >0;){const X=D[I];if(X.nodeType===1&&!uq(X)){const Q=BP(t,X);if(Q.isDefaultPrevented()||N.push({name:Q.name,element:X}),Q.isPropagationStopped())break}}return N};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:hn([So.config({mode:"flow",selector:"div[role=button]"}),Po.config({disabled:a.isDisabled}),La(()=>a.checkUiComponentContext("any")),Xr.config({}),Zo.config({}),Yo("elementPathEvents",[Wr((D,N)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>So.focusIn(D)),t.on("NodeChange",I=>{const X=S(I.parents),Q=X.length>0?k(X):[];Zo.set(D,Q)})})])]),components:[]}};var _y;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(_y||(_y={}));const fq=(t,s,a,i,d)=>{const g={height:m1(i+s.top,Bb(t),F2(t))};return a===_y.Both&&(g.width=m1(d+s.left,$O(t),$b(t))),g},JI=(t,s,a)=>{const i=Le.fromDom(t.getContainer()),d=fq(t,s,a,Ys(i),ce(i));Un(d,(g,h)=>{tt(g)&&yt(i,h,z0(g))}),S7(t)},mq=t=>{const s=yM(t);return s===!1?_y.None:s==="both"?_y.Both:_y.Vertical},cT=(t,s,a,i)=>{const g=Dr(a*20,i*20);return JI(t,g,s),x.some(!0)},gq=(t,s)=>{const a=mq(t);if(a===_y.None)return x.none();const i=a===_y.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return x.some(Wu("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":s.translate(i),"data-mce-name":"resize-handle"},behaviours:[g1.config({mode:"mouse",repositionTarget:!1,onDrag:(d,g,h)=>JI(t,h,a),blockerClass:"tox-blocker"}),So.config({mode:"special",onLeft:()=>cT(t,a,-1,0),onRight:()=>cT(t,a,1,0),onUp:()=>cT(t,a,0,-1),onDown:()=>cT(t,a,0,1)}),Xr.config({}),Fo.config({}),Ea.config(s.tooltips.getConfig({tooltipText:s.translate("Resize")}))]},s.icons))},pq=(t,s)=>{const a=(i,d,g)=>Zo.set(i,[la(s.translate(["{0} "+g,d[g]]))]);return yc.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:hn([qu.button(s.isDisabled),La(()=>s.checkUiComponentContext("any")),Xr.config({}),Zo.config({}),jn.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Yo("wordcount-events",[Gf(i=>{const d=jn.getValue(i),g=d.mode==="words"?"characters":"words";jn.setValue(i,{mode:g,count:d.count}),a(i,d.count,g)}),Wr(i=>{t.on("wordCountUpdate",d=>{const{mode:g}=jn.getValue(i);jn.setValue(i,{mode:g,count:d.wordCount}),a(i,d.wordCount,g)})})])]),eventOrder:{[Hc()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},QI=(t,s)=>{const a=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":t.translate(["Build with {0}","TinyMCE"])},innerHtml:t.translate(["Build with {0}",cq.trim()])},behaviours:hn([Fo.config({})])}]}),i=()=>{const k=$4("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[la(Rd.translate(["Press {0} for help",k]))]}},d=()=>{const k=[];return t.hasPlugin("wordcount")&&k.push(pq(t,s)),WO(t)&&k.push(a()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:k}},g=()=>{const k=[],S=vM(t),D=hM(t),N=WO(t)||t.hasPlugin("wordcount"),I=()=>{const X="tox-statusbar__text-container--flex-start",Q="tox-statusbar__text-container--flex-end",ue="tox-statusbar__text-container--space-around";if(S){const ye="tox-statusbar__text-container-3-cols";return!N&&!D?[ye,ue]:N&&!D?[ye,Q]:[ye,X]}return[N&&!D?Q:X]};return D&&k.push(dq(t,{},s)),S&&k.push(i()),N&&k.push(d()),k.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...I()]},components:k}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const k=g(),S=gq(t,s);return k.concat(S.toArray())})()}},eL=(t,s)=>s.get().getOrDie(`UI for ${t} has not been rendered`),hq=(t,s)=>{const a=t.inline,i=a?jW:WE,d=ty(t)?YU:l1,g=cI(),h=$s(),k=$s(),S=$s(),X=rs().deviceType.isTouch()?["tox-platform-touch"]:[],Q=KO(t),ue=ey(t),ye=Zs({dom:{tag:"div",classes:["tox-anchorbar"]}}),Je=Zs({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),Ae=()=>g.mainUi.get().map(wo=>wo.outerContainer).bind(Tr.getHeader),Ke=()=>Jo.fromOption(g.dialogUi.get().map(wo=>wo.sink),"UI has not been rendered"),ot=()=>Jo.fromOption(g.popupUi.get().map(wo=>wo.sink),"(popup) UI has not been rendered"),_t=g.lazyGetInOuterOrDie("anchor bar",ye.getOpt),Et=g.lazyGetInOuterOrDie("bottom anchor bar",Je.getOpt),Cn=g.lazyGetInOuterOrDie("toolbar",Tr.getToolbar),Kn=g.lazyGetInOuterOrDie("throbber",Tr.getThrobber),qt=FU({popup:ot,dialog:Ke},t,_t,Et),Yn=()=>{const wo={attributes:{[DS]:Q?Ka.BottomToTop:Ka.TopToBottom}},Ko=Tr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:qt.popup,onEscape:()=>{t.focus()}}),pr=Tr.parts.toolbar(ie({dom:{tag:"div",classes:["tox-toolbar"]},getSink:qt.popup.shared.getSink,providers:qt.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:_g=>{E7(t,_g)},type:ue,lazyToolbar:Cn,lazyHeader:()=>Ae().getOrDie("Could not find header element")},wo)),ar=Tr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:qt.popup.shared.providers,onEscape:()=>{t.focus()},type:ue}),Wl=Bk(t),ga=Z2(t),Qu=j2(t),Ni=U2(t),ed=$n(),td=Wl||ga||Qu,Rf=()=>Wl?[ar]:ga?[pr]:[],oC=Ni?[ed,Ko]:[Ko];return Tr.parts.header({dom:ie({tag:"div",classes:["tox-editor-header"].concat(td?[]:["tox-editor-header--empty"])},wo),components:De([Qu?oC:[],Rf(),kf(t)?[]:[ye.asSpec()]]),sticky:ty(t),editor:t,sharedBackstage:qt.popup.shared})},$n=()=>Tr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),to=()=>{const wo=Tr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Ko=Tr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[wo,Ko]}},ws=()=>{const wo=YO(t),Ko=Rs(Ze(),wo)&&Ls(wo,"display")==="grid",pr={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(X),attributes:ie({},Rd.isRtl()?{dir:"rtl"}:{})},behaviours:hn([Wc.config({useFixed:()=>d.isDocked(Ae)})])},ar={dom:{styles:{width:document.body.clientWidth+"px"}},events:or([Jt(jg(),Qu=>{yt(Qu.element,"width",document.body.clientWidth+"px")})])},Wl=hc(br(pr,Ko?ar:{})),ga=u3(Wl);return k.set(ga),{sink:Wl,mothership:ga}},Fr=()=>{const wo={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(X),attributes:ie({},Rd.isRtl()?{dir:"rtl"}:{})},behaviours:hn([Wc.config({useFixed:()=>d.isDocked(Ae),getBounds:()=>s.getPopupSinkBounds()})])},Ko=hc(wo),pr=u3(Ko);return S.set(pr),{sink:Ko,mothership:pr}},Ws=()=>{const wo=Yn(),Ko=to(),pr=Tr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:qt.popup}),ar=Tr.parts.viewWrapper({backstage:qt.popup}),Wl=pM(t)&&!a?x.some(QI(t,qt.popup.shared.providers)):x.none(),ga=De([Q?[]:[wo],a?[]:[Ko],Q?[wo]:[]]),Qu=Tr.parts.editorContainer({components:De([ga,a?[]:[Je.asSpec()]])}),Ni=XO(t),ed=ie(ie({role:"application"},Rd.isRtl()?{dir:"rtl"}:{}),Ni?{"aria-hidden":"true"}:{}),td=hc(Tr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(a?["tox-tinymce-inline"]:[]).concat(Q?["tox-tinymce--toolbar-bottom"]:[]).concat(X),styles:ie({visibility:"hidden"},Ni?{opacity:"0",border:"0"}:{}),attributes:ed},components:[Qu,...a?[]:[ar,...Wl.toArray()],pr],behaviours:hn([La(()=>qt.popup.shared.providers.checkUiComponentContext("any")),Po.config({disableClass:"tox-tinymce--disabled"}),So.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Rf=u3(td);return h.set(Rf),{mothership:Rf,outerContainer:td}},ro=wo=>{const Ko=z0(HW(t)),pr=z0(VW(t));return t.inline||($i("div","width",pr)&&yt(wo.element,"width",pr),$i("div","height",Ko)?yt(wo.element,"height",Ko):yt(wo.element,"height","400px")),Ko},un=wo=>{t.addShortcut("alt+F9","focus menubar",()=>{Tr.focusMenubar(wo)}),t.addShortcut("alt+F10","focus toolbar",()=>{Tr.focusToolbar(wo)}),t.addCommand("ToggleToolbarDrawer",(Ko,pr)=>{pr!=null&&pr.skipFocus?Tr.toggleToolbarDrawerWithoutFocusing(wo):Tr.toggleToolbarDrawer(wo)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>Tr.isToolbarDrawerToggled(wo))},Mn=wo=>{const{mainUi:Ko,popupUi:pr,uiMotherships:ar}=wo;Vn(IO(t),(_1,bz)=>{t.ui.registry.addGroupToolbarButton(bz,_1)});const{buttons:Wl,menuItems:ga,contextToolbars:Qu,sidebars:Ni,views:ed}=t.ui.registry.getAll(),td=q2(t),Rf={menuItems:ga,menus:kM(t),menubar:dM(t),toolbar:td.getOrThunk(()=>L2(t)),allowToolbarGroups:ue===ju.floating,buttons:Wl,sidebar:Ni,views:ed};un(Ko.outerContainer),PF(t,Ko.mothership,ar),d.setup(t,qt.popup.shared,Ae),xI(t,qt.popup),$I(t,qt.popup.shared.getSink,qt.popup),WD(t),KF(t,Kn,qt.popup.shared),bI(t,Qu,pr.sink,{backstage:qt.popup}),aq(t,pr.sink);const oC=t.getElement(),_g=ro(Ko.outerContainer),yz={targetNode:oC,height:_g};return i.render(t,wo,Rf,qt.popup,yz)},Lo=wo=>(S.set(wo.mothership),wo),os=()=>{const wo=Ws(),Ko=ws(),pr=zp(t)?Fr():Lo(Ko);g.dialogUi.set(Ko),g.popupUi.set(pr),g.mainUi.set(wo);const ar={popupUi:pr,dialogUi:Ko,mainUi:wo,uiMotherships:g.getUiMotherships()};return Mn(ar)};return{popups:{backstage:qt.popup,getMothership:()=>eL("popups",S)},dialogs:{backstage:qt.dialog,getMothership:()=>eL("dialogs",k)},renderUI:os}},yq=t=>t.dom.textContent,bq=(t,s)=>{const a=kt(t,"id").fold(()=>{const i=Xn("dialog-label");return V(s,"id",i),i},Zt);V(t,"aria-labelledby",a)},vq=J([Xt("lazySink"),Fs("dragBlockClass"),zr("getBounds",za),it("useTabstopAt",Ye),it("firstTabstop",0),it("eventOrder",{}),Ac("modalBehaviours",[So]),li("onExecute"),_h("onEscape")]),oz={sketch:Zt},wq=J([Fl({name:"draghandle",overrides:(t,s)=>({behaviours:hn([g1.config({mode:"mouse",getTarget:a=>ac(a,'[role="dialog"]').getOr(a),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:t.getDragBounds})])})}),di({schema:[Xt("dom")],name:"title"}),di({factory:oz,schema:[Xt("dom")],name:"close"}),di({factory:oz,schema:[Xt("dom")],name:"body"}),Fl({factory:oz,schema:[Xt("dom")],name:"footer"}),du({factory:{sketch:(t,s)=>Pt(ie({},t),{dom:s.dom,components:s.components})},schema:[it("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),it("components",[])],name:"blocker"})]),kq=(t,s,a,i)=>{const d=$s(),g=ue=>{d.set(ue);const ye=t.lazySink(ue).getOrDie(),Je=i.blocker(),Ae=ye.getSystem().build(Pt(ie({},Je),{components:Je.components.concat([Nl(ue)]),behaviours:hn([Fo.config({}),Yo("dialog-blocker-events",[Lm(Vi(),()=>{bm.isBlocked(ue)?ae():So.focusIn(ue)})])])}));om(ye,Ae),So.focusIn(ue)},h=ue=>{d.clear(),Oa(ue.element).each(ye=>{ue.getSystem().getByDom(ye).each(Je=>{sm(Je)})})},k=ue=>Wn(ue,t,"body"),S=ue=>vr(ue,t,"footer"),D=(ue,ye)=>{bm.block(ue,ye)},N=ue=>{bm.unblock(ue)},I=Xn("modal-events"),X=Pt(ie({},t.eventOrder),{[sl()]:[I].concat(t.eventOrder["alloy.system.attached"]||[])}),Q=rs();return{uid:t.uid,dom:t.dom,components:s,apis:{show:g,hide:h,getBody:k,getFooter:S,setIdle:N,setBusy:D},eventOrder:X,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Oc(t.modalBehaviours,[Zo.config({}),So.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),bm.config({getRoot:d.get}),Yo(I,[Wr(ue=>{const ye=Wn(ue,t,"title").element,Je=yq(ye);Q.os.isMacOS()&&It(Je)?V(ue.element,"aria-label",Je):bq(ue.element,ye)})])])}},vc=Qc({name:"ModalDialog",configFields:vq(),partFields:wq(),factory:kq,apis:{show:(t,s)=>{t.show(s)},hide:(t,s)=>{t.hide(s)},getBody:(t,s)=>t.getBody(s),getFooter:(t,s)=>t.getFooter(s),setBusy:(t,s,a)=>{t.setBusy(s,a)},setIdle:(t,s)=>{t.setIdle(s)}}}),tL=To([Ya,C4].concat(cy)),_q=Ol,Q_=[yx("button"),Zu,gc("align","end",["start","end"]),hx,Sf,th("buttonType",["primary","secondary"]),xa("context","mode:design")],sz=[...Q_,Np],rz=[Ic("type",["submit","cancel","custom"]),...sz],Cq=[Ic("type",["menu"]),Mp,Jk,Zu,ol("items",tL),...Q_],Sq=[...Q_,Ic("type",["togglebutton"]),Jk,Zu,Mp,qa("active",!1)],xq=wa("type",{submit:rz,cancel:rz,custom:rz,menu:Cq,togglebutton:Sq}),Eq=[Ya,Np,Ic("level",["info","warn","error","success"]),cP,it("url","")],Tq=To(Eq),$0=t=>[Ya,t],Aq=[Ya,Np,Sf,yx("button"),Zu,G6,th("buttonType",["primary","secondary","toolbar"]),hx,xa("context","mode:design")],Oq=To(Aq),F0=[Ya,C4],vm=F0.concat([x4]),Dq=F0.concat([S4,Sf,xa("context","mode:design")]),Rq=To(Dq),zq=Ol,az=vm.concat([fP("auto"),xa("context","mode:design")]),eC=To(az),cz=Ry([Hb,Np,cP]),iT=vm.concat([xa("storageKey","default"),xa("context","mode:design")]),p1=To(iT),lT=In,nL=To(vm),oL=In,sL=F0.concat([xa("tag","textarea"),Wa("scriptId"),Wa("scriptUrl"),eu("onFocus"),oh("settings",void 0)]),Nq=F0.concat([xa("tag","textarea"),fl("init")]),Mq=Pg(t=>sa("customeditor.old",tl(Nq),t).orThunk(()=>sa("customeditor.new",tl(sL),t))),Pq=In,rL=vm.concat([xa("context","mode:design")]),aL=To(rL),iz=md(),Bq=t=>[Ya,$g("columns"),t],$q=[Ya,Wa("html"),gc("presets","presentation",["presentation","document"]),zr("onInit",ae),qa("stretched",!1)],Fq=To($q),cL=vm.concat([qa("border",!1),qa("sandboxed",!0),qa("streamContent",!1),qa("transparent",!0)]),Iq=To(cL),Lq=In,Hq=To(F0.concat([Za("height")])),lz=To([Wa("url"),Fg("zoom"),Fg("cachedWidth"),Fg("cachedHeight")]),uz=vm.concat([Za("inputMode"),Za("placeholder"),qa("maximized",!1),Sf,xa("context","mode:design")]),Vq=To(uz),iL=In,Uq=t=>[Ya,S4,t,gc("align","start",["start","center","end"]),Za("for")],jq=[Np,Hb],lL=[Np,ol("items",Nm("items",()=>uL))],uL=Dy([To(jq),To(lL)]),Wq=vm.concat([ol("items",uL),Sf,xa("context","mode:design")]),h1=To(Wq),dL=In,Zq=vm.concat([Ny("items",[Np,Hb]),nh("size",1),Sf,xa("context","mode:design")]),uT=To(Zq),I0=In,dT=vm.concat([qa("constrain",!0),Sf,xa("context","mode:design")]),fL=To(dT),tC=To([Wa("width"),Wa("height")]),Vl=F0.concat([S4,nh("min",0),nh("max",0)]),fT=To(Vl),mL=jf,gL=[Ya,ol("header",In),ol("cells",nl(In))],qq=To(gL),Gq=vm.concat([Za("placeholder"),qa("maximized",!1),Sf,xa("context","mode:design")]),Cy=To(Gq),kY=In,pL=[Ic("type",["directory","leaf"]),aP,Wa("id"),Mu("menu",UD),Za("customStateIcon"),Za("customStateIconTooltip")],y1=To(pL),mT=pL.concat([ol("children",Nm("children",()=>Wf("type",{directory:dz,leaf:y1})))]),dz=To(mT),Yq=Wf("type",{directory:dz,leaf:y1}),Xq=[Ya,ol("items",Yq),eu("onLeafAction"),eu("onToggleExpand"),rf("defaultExpandedIds",[],In),Za("defaultSelectedId")],Jq=To(Xq),Qq=vm.concat([gc("filetype","file",["image","media","file"]),Sf,Za("picker_text"),xa("context","mode:design")]),L0=To(Qq),_Y=To([Hb,T4]),fz=t=>sc("items","items",ri(),nl(Pg(s=>sa(`Checking item of ${t}`,mz,s).fold(a=>Jo.error(Zf(a)),a=>Jo.value(a))))),mz=ja(()=>Wf("type",{alertbanner:Tq,bar:To($0(fz("bar"))),button:Oq,checkbox:Rq,colorinput:p1,colorpicker:nL,dropzone:aL,grid:To(Bq(fz("grid"))),iframe:Iq,input:Vq,listbox:h1,selectbox:uT,sizeinput:fL,slider:fT,textarea:Cy,urlinput:L0,customeditor:Mq,htmlpanel:Fq,imagepreview:Hq,collection:eC,label:To(Uq(fz("label"))),table:qq,tree:Jq,panel:hL})),CY=[Ya,it("classes",[]),ol("items",mz)],hL=To(CY),eG=[yx("tab"),aP,ol("items",mz)],nC=[Ya,Ny("tabs",eG)],tG=To(nC),nG=sz,yL=xq,oG=To([Wa("title"),Vs("body",Wf("type",{panel:hL,tabpanel:tG})),xa("size","normal"),rf("buttons",[],yL),it("initialData",{}),zr("onAction",ae),zr("onChange",ae),zr("onSubmit",ae),zr("onClose",ae),zr("onCancel",ae),zr("onTabChange",ae)]),SY=t=>sa("dialog",oG,t),e=To([Ic("type",["cancel","custom"]),...nG]),n=To([Wa("title"),Wa("url"),Fg("height"),Fg("width"),Ig("buttons",e),zr("onAction",ae),zr("onCancel",ae),zr("onClose",ae),zr("onMessage",ae)]),o=t=>sa("dialog",n,t),r=t=>Re(t)?[t].concat(G(Ir(t),r)):Xe(t)?G(t,r):[],c=t=>Y(t.type)&&Y(t.name),u={checkbox:zq,colorinput:lT,colorpicker:oL,dropzone:iz,input:iL,iframe:Lq,imagepreview:lz,selectbox:I0,sizeinput:tC,slider:mL,listbox:dL,size:tC,textarea:kY,urlinput:_Y,customeditor:Pq,collection:cz,togglemenuitem:_q},m=t=>x.from(u[t.type]),b=t=>wt(r(t),c),_=t=>{const s=b(t),a=G(s,i=>m(i).fold(()=>[],d=>[Vs(i.name,d)]));return To(a)},A=t=>{var s;const a=dn(SY(t)),i=_(t),d=(s=t.initialData)!==null&&s!==void 0?s:{};return{internalDialog:a,dataValidator:i,initialData:d}},B={open:(t,s)=>{const a=A(s);return t(a.internalDialog,a.initialData,a.dataValidator)},openUrl:(t,s)=>{const a=dn(o(s));return t(a)},redial:t=>A(t)};var j=Object.freeze({__proto__:null,events:(t,s)=>{const a=(i,d)=>{t.updateState.each(g=>{const h=g(i,d);s.set(h)}),t.renderComponents.each(g=>{const h=g(d,s.get());(t.reuseDom?Xv:PN)(i,h)})};return or([Jt(bd(),(i,d)=>{const g=d;if(!g.universal){const h=t.channel;Vt(g.channels,h)&&a(i,g.data)}}),Wr((i,d)=>{t.initialData.each(g=>{a(i,g)})})])}}),fe=Object.freeze({__proto__:null,getState:(t,s,a)=>a}),se=[Xt("channel"),Fs("renderComponents"),Fs("updateState"),Fs("initialData"),qa("reuseDom",!0)],He=Object.freeze({__proto__:null,init:()=>{const t=uo(x.none()),s=()=>t.set(x.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:s}}});const Ge=Ec({fields:se,name:"reflecting",active:j,apis:fe,state:He}),nt=t=>{const s=[],a={};return Un(t,(i,d)=>{i.fold(()=>{s.push(d)},g=>{a[d]=g})}),s.length>0?Jo.error(s):Jo.value(a)},mt=(t,s,a,i)=>{const d=Zs(s1.sketch(g=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:Pe(t.items,h=>sU(g,h,s,a,i))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[d.asSpec()]}],behaviours:hn([So.config({mode:"acyclic",useTabstopAt:at(O_)}),Bd.memento(d),H9(d,{postprocess:g=>nt(g).fold(h=>(console.error(h),{}),Zt)}),Yo("dialog-body-panel",[Jt(Vi(),(g,h)=>{g.getSystem().broadcastOn([nE],{newFocus:x.some(h.event.target)})})])])}},en=(t,s)=>({uid:t.uid,dom:t.dom,components:t.components,events:zk(t.action),behaviours:Oc(t.tabButtonBehaviours,[Fo.config({}),So.config({mode:"execution",useSpace:!0,useEnter:!0}),jn.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),yn=wl({name:"TabButton",configFields:[it("uid",void 0),Xt("value"),sc("dom","dom",Rm(()=>({attributes:{role:"tab",id:Xn("aria"),"aria-selected":"false"}})),Al()),Fs("action"),it("domModification",{}),Ac("tabButtonBehaviours",[Fo,So,jn]),Xt("view")],factory:en}),Zn=J([Xt("tabs"),Xt("dom"),it("clickToDismiss",!1),Ac("tabbarBehaviours",[xn,So]),Jf(["tabClass","selectedClass"])]),Wt=Sb({factory:yn,name:"tabs",unit:"tab",overrides:t=>{const s=(i,d)=>{xn.dehighlight(i,d),co(i,wC(),{tabbar:i,button:d})},a=(i,d)=>{xn.highlight(i,d),co(i,vC(),{tabbar:i,button:d})};return{action:i=>{const d=i.getSystem().getByUid(t.uid).getOrDie(),g=xn.isHighlighted(d,i);(g&&t.clickToDismiss?s:g?ae:a)(d,i)},domModification:{classes:[t.markers.tabClass]}}}}),At=J([Wt]),sn=(t,s,a,i)=>({uid:t.uid,dom:t.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Oc(t.tabbarBehaviours,[xn.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(d,g)=>{V(g.element,"aria-selected","true")},onDehighlight:(d,g)=>{V(g.element,"aria-selected","false")}}),So.config({mode:"flow",getInitial:d=>xn.getHighlighted(d).map(g=>g.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),qn=Qc({name:"Tabbar",configFields:Zn(),partFields:At(),factory:sn}),yo=(t,s)=>({uid:t.uid,dom:t.dom,behaviours:Oc(t.tabviewBehaviours,[Zo.config({})]),domModification:{attributes:{role:"tabpanel"}}}),gs=wl({name:"Tabview",configFields:[Ac("tabviewBehaviours",[Zo])],factory:yo}),ps=J([it("selectFirst",!0),As("onChangeTab"),As("onDismissTab"),it("tabs",[]),Ac("tabSectionBehaviours",[])]),Ks=di({factory:qn,schema:[Xt("dom"),sf("markers",[Xt("tabClass"),Xt("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),lr=di({factory:gs,name:"tabview"}),Pa=J([Ks,lr]),gi=(t,s,a,i)=>{const d=h=>{const k=jn.getValue(h);vr(h,t,"tabview").each(S=>{re(t.tabs,N=>N.value===k).each(N=>{const I=N.view();kt(h.element,"id").each(X=>{V(S.element,"aria-labelledby",X)}),Zo.set(S,I),t.onChangeTab(S,h,I)})})},g=(h,k)=>{vr(h,t,"tabbar").each(S=>{k(S).each(Im)})};return{uid:t.uid,dom:t.dom,components:s,behaviours:Dv(t.tabSectionBehaviours),events:or(De([t.selectFirst?[Wr((h,k)=>{g(h,xn.getFirst)})]:[],[Jt(vC(),(h,k)=>{const S=k.event.button;d(S)}),Jt(wC(),(h,k)=>{const S=k.event.button;t.onDismissTab(h,S)})]])),apis:{getViewItems:h=>vr(h,t,"tabview").map(k=>Zo.contents(k)).getOr([]),showTab:(h,k)=>{g(h,D=>{const N=xn.getCandidates(D);return re(N,X=>jn.getValue(X)===k).filter(X=>!xn.isHighlighted(D,X))})}}}},Ha=Qc({name:"TabSection",configFields:ps(),partFields:Pa(),factory:gi,apis:{getViewItems:(t,s)=>t.getViewItems(s),showTab:(t,s,a)=>{t.showTab(s,a)}}}),On=(t,s,a)=>Pe(t,(i,d)=>{Zo.set(a,t[d].view());const g=s.dom.getBoundingClientRect();return Zo.set(a,[]),g.height}),go=t=>Sn(ut(t,(s,a)=>s>a?-1:s<a?1:0)),Us=(t,s,a)=>{const i=yi(t).dom,d=ac(t,".tox-dialog-wrap").getOr(t),g=Ls(d,"position")==="fixed";let h;g?h=Math.max(i.clientHeight,window.innerHeight):h=Math.max(i.offsetHeight,i.scrollHeight);const k=Ys(s),D=s.dom.offsetLeft>=a.dom.offsetLeft+ce(a)?Math.max(Ys(a),k):k,N=parseInt(Ls(t,"margin-top"),10)||0,I=parseInt(Ls(t,"margin-bottom"),10)||0,Q=Ys(t)+N+I-D;return h-Q},Hn=(t,s)=>{Sn(t).each(a=>Ha.showTab(s,a.value))},zo=(t,s)=>{yt(t,"height",s+"px"),yt(t,"flex-basis",s+"px")},No=(t,s,a)=>{ac(t,'[role="dialog"]').each(i=>{Yr(i,'[role="tablist"]').each(d=>{a.get().map(g=>(yt(s,"height","0"),yt(s,"flex-basis","0"),Math.min(g,Us(i,s,d)))).each(g=>{zo(s,g)})})})},Nn=t=>Yr(t,'[role="tabpanel"]'),hs=t=>{const s=$s();return{extraEvents:[Wr(d=>{const g=d.element;Nn(g).each(h=>{yt(h,"visibility","hidden"),d.getSystem().getByDom(h).toOptional().each(k=>{const S=On(t,h,k);go(S).fold(s.clear,s.set)}),No(g,h,s),Vo(h,"visibility"),Hn(t,d),requestAnimationFrame(()=>{No(g,h,s)})})}),Jt(jg(),d=>{const g=d.element;Nn(g).each(h=>{No(g,h,s)})}),Jt(xB,(d,g)=>{const h=d.element;Nn(h).each(k=>{const S=yf(Lr(k));yt(k,"visibility","hidden");const D=Bs(k,"height").map(X=>parseInt(X,10));Vo(k,"height"),Vo(k,"flex-basis");const N=k.dom.getBoundingClientRect().height;D.forall(X=>N>X)?(s.set(N),No(h,k,s)):D.each(X=>{zo(k,X)}),Vo(k,"visibility"),S.each(cu)})})],selectFirst:!1}},Ss="send-data-to-section",dc="send-data-to-view",kr=(t,s,a,i)=>{const d=uo({}),g=N=>{const I=jn.getValue(N),X=nt(I).getOr({}),Q=d.get(),ue=br(Q,X);d.set(ue)},h=N=>{const I=d.get();jn.setValue(N,I)},k=uo(null),S=Pe(t.tabs,N=>({value:N.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[la(a.shared.providers.translate(N.title))],view:()=>[s1.sketch(I=>({dom:{tag:"div",classes:["tox-form"]},components:Pe(N.items,X=>sU(I,X,s,a,i)),formBehaviours:hn([So.config({mode:"acyclic",useTabstopAt:at(O_)}),Yo("TabView.form.events",[Wr(h),uf(g)]),hl.config({channels:Qo([{key:Ss,value:{onReceive:g}},{key:dc,value:{onReceive:h}}])})])}))]})),D=hs(S);return Ha.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(N,I,X)=>{const Q=jn.getValue(I);co(N,SB,{name:Q,oldName:k.get()}),k.set(Q)},tabs:S,components:[Ha.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[qn.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:hn([Xr.config({})])}),Ha.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:D.selectFirst,tabSectionBehaviours:hn([Yo("tabpanel",D.extraEvents),So.config({mode:"acyclic"}),Es.config({find:N=>Sn(Ha.getViewItems(N))}),r1(x.none(),N=>(N.getSystem().broadcastOn([Ss],{}),d.get()),(N,I)=>{d.set(I),N.getSystem().broadcastOn([dc],{})})])})},pi=(t,s,a,i,d,g)=>{const h=D=>{const N=D.body;switch(N.type){case"tabpanel":return[kr(N,D.initialData,i,g)];default:return[mt(N,D.initialData,i,g)]}},k=(D,N)=>x.some({isTabPanel:()=>N.body.type==="tabpanel"}),S={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:ie(ie({},a.map(D=>({id:D})).getOr({})),d?S:{})},components:[],behaviours:hn([Bd.childAt(0),Ge.config({channel:`${K3}-${s}`,updateState:k,renderComponents:h,initialData:t})])}},Ul=(t,s,a,i,d,g)=>pi(t,s,x.some(a),i,d,g),wm=(t,s,a,i)=>{const d=pi(t,s,x.none(),a,!1,i);return vc.parts.body(d)},Yi=t=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[q3(x.none(),{dom:{tag:"iframe",attributes:{src:t.url}},behaviours:hn([Xr.config({}),Fo.config({})])})]}],behaviours:hn([So.config({mode:"acyclic",useTabstopAt:at(O_)})])};return vc.parts.body(s)},Ju=Pb.deviceType.isTouch(),Vd=(t,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,s]}),Ri=(t,s)=>vc.parts.close(yc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:t,buttonBehaviours:hn([Xr.config({})])})),jl=()=>vc.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),mo=(t,s)=>vc.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:cm(`<p>${NM(s.translate(t))}</p>`)}]}]}),Ms=t=>vc.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),Ta=(t,s)=>[gm.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),gm.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],fc=t=>{const s="tox-dialog",a=s+"-wrap",i=a+"__backdrop",d=s+"__disable-scroll";return vc.sketch({lazySink:t.lazySink,onEscape:g=>(t.onEscape(g),x.some(!0)),useTabstopAt:g=>!O_(g),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[s].concat(t.extraClasses),styles:ie({position:"relative"},t.extraStyles)},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:cm(`<div class="${a}"></div>`),components:[{dom:{tag:"div",classes:Ju?[i,i+"--opaque"]:[i]}}]}},dragBlockClass:a,modalBehaviours:hn([Fo.config({}),Yo("dialog-events",t.dialogEvents.concat([Lm(Vi(),(g,h)=>{bm.isBlocked(g)?ae():So.focusIn(g)}),Jt($y(),(g,h)=>{g.getSystem().broadcastOn([nE],{newFocus:h.event.newFocus})})])),Yo("scroll-lock",[Wr(()=>{Ia(Ze(),d)}),uf(()=>{sr(Ze(),d)})]),...t.extraBehaviours]),eventOrder:ie({[Hc()]:["dialog-events"],[sl()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Rl()]:["alloy.base.behaviour","dialog-events","scroll-lock"]},t.eventOrder)})},zc=t=>yc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:hn([Xr.config({}),Ea.config(t.tooltips.getConfig({tooltipText:t.translate("Close")}))]),components:[Wu("close",{tag:"span",classes:["tox-icon"]},t.icons)],action:s=>{ms(s,fy)}}),mc=(t,s,a,i)=>{const d=g=>[la(i.translate(g.title))];return{dom:{tag:"h1",classes:["tox-dialog__title"],attributes:ie({},a.map(g=>({id:g})).getOr({}))},components:[],behaviours:hn([Ge.config({channel:`${k$}-${s}`,initialData:t,renderComponents:d})])}},ma=()=>({dom:cm('<div class="tox-dialog__draghandle"></div>')}),ka=(t,s,a,i)=>gm.sketch({dom:cm('<div class="tox-dialog__header"></div>'),components:[mc(t,s,x.some(a),i),ma(),zc(i)],containerBehaviours:hn([g1.config({mode:"mouse",blockerClass:"blocker",getTarget:d=>pf(d,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),xl=(t,s,a)=>{const i=vc.parts.title(mc(t,s,x.none(),a)),d=vc.parts.draghandle(ma()),g=vc.parts.close(zc(a)),h=[i].concat(t.draggable?[d]:[]).concat([g]);return gm.sketch({dom:cm('<div class="tox-dialog__header"></div>'),components:h})},Ud=(t,s,a)=>xl({title:a.shared.providers.translate(t),draggable:a.dialog.isDraggableModal()},s,a.shared.providers),km=(t,s,a,i)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":a.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${i.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:cm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),Df=(t,s,a)=>({onClose:()=>a.closeWindow(),onBlock:i=>{const d=Yr(t().element,".tox-dialog__header").map(g=>Ys(g));vc.setBusy(t(),(g,h)=>km(i.message,h,s,d))},onUnblock:()=>{vc.setIdle(t())}}),b1="tox-dialog--fullscreen",Sy="tox-dialog--width-lg",Hp="tox-dialog--width-md",vu=t=>{switch(t){case"large":return x.some(Sy);case"medium":return x.some(Hp);default:return x.none()}},Vp=(t,s)=>{const a=Le.fromDom(s.element.dom);ji(a,b1)||(wd(a,[Sy,Hp]),vu(t).each(i=>Ia(a,i)))},H0=(t,s)=>{const a=Le.fromDom(t.element.dom),i=EC(a),d=re(i,g=>g===Sy||g===Hp).or(vu(s));Iz(a,[b1,...d.toArray()])},v1=(t,s,a)=>hc(fc(Pt(ie({},t),{firstTabstop:1,lazySink:a.shared.getSink,extraBehaviours:[T_({}),...t.extraBehaviours],onEscape:i=>{ms(i,fy)},dialogEvents:s,eventOrder:{[bd()]:[Ge.name(),hl.name()],[sl()]:["scroll-lock",Ge.name(),"messages","dialog-events","alloy.base.behaviour"],[Rl()]:["alloy.base.behaviour","dialog-events","messages",Ge.name(),"scroll-lock"]}}))),gT=(t,s={})=>{const a=i=>{const d=Pe(i.items,g=>{const h=on(s,g.name).getOr(uo(!1));return Pt(ie({},g),{storage:h})});return Pt(ie({},i),{items:d})};return Pe(t,i=>i.type==="menu"?a(i):i)},w1=t=>st(t,(s,a)=>a.type==="menu"?st(a.items,(d,g)=>(d[g.name]=g.storage,d),s):s,{}),gz=(t,s)=>[P1(Vi(),Y9),t(y_,(a,i,d,g)=>{up(g.element)&&yf(Lr(g.element)).each(Oh),s.onClose(),i.onClose()}),t(fy,(a,i,d,g)=>{i.onCancel(a),ms(g,y_)}),Jt(m3,(a,i)=>s.onUnblock()),Jt(Ix,(a,i)=>s.onBlock(i.event))],bL=(t,s)=>{const a=(d,g)=>Jt(d,(h,k)=>{i(h,(S,D)=>{g(t(),S,k.event,h)})}),i=(d,g)=>{Ge.getState(d).get().each(h=>{g(h,d)})};return[...gz(a,s),a(hg,(d,g,h)=>{g.onAction(d,{name:h.name})})]},zi=(t,s,a)=>{const i=(g,h)=>Jt(g,(k,S)=>{d(k,(D,N)=>{h(t(),D,S.event,k)})}),d=(g,h)=>{Ge.getState(g).get().each(k=>{h(k.internalDialog,g)})};return[...gz(i,s),i(m0,(g,h)=>h.onSubmit(g)),i(Ll,(g,h,k)=>{h.onChange(g,{name:k.name})}),i(hg,(g,h,k,S)=>{const D=()=>S.getSystem().isConnected()?So.focusIn(S):void 0,N=Q=>lo(Q,"disabled")||kt(Q,"aria-disabled").exists(ue=>ue==="true"),I=Lr(S.element),X=yf(I);h.onAction(g,{name:k.name,value:k.value}),yf(I).fold(D,Q=>{N(Q)||X.exists(ue=>pa(Q,ue)&&N(ue))?D():a().toOptional().filter(ue=>!pa(ue.element,Q)).each(D)})}),i(SB,(g,h,k)=>{h.onTabChange(g,{newTabName:k.name,oldTabName:k.oldName})}),uf(g=>{const h=t();jn.setValue(g,h.getData())})]},jd=(t,s)=>_0(t,t.type,s),pT=(t,s,a)=>re(s,i=>i.name===a).bind(i=>i.memento.getOpt(t)),xt=(t,s)=>{const a=s.map(k=>k.footerButtons).getOr([]),i=ko(a,k=>k.align==="start"),d=(k,S)=>gm.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${k}`]},components:Pe(S,D=>D.memento.asSpec())}),g=d("start",i.pass),h=d("end",i.fail);return[g,h]},St=(t,s,a)=>{const i=(d,g)=>{const h=Pe(g.buttons,S=>{const D=Zs(jd(S,a));return{name:S.name,align:S.align,memento:D}}),k=S=>pT(d,h,S);return x.some({lookupByName:k,footerButtons:h})};return{dom:cm('<div class="tox-dialog__footer"></div>'),components:[],behaviours:hn([Ge.config({channel:`${_$}-${s}`,initialData:t,updateState:i,renderComponents:xt})])}},Dn=(t,s,a)=>St(t,s,a),bn=(t,s,a)=>vc.parts.footer(St(t,s,a)),Do=(t,s)=>{if(t.getRoot().getSystem().isConnected()){const i=Es.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return s1.getField(i,s).orThunk(()=>t.getFooter().bind(h=>Ge.getState(h).get()).bind(h=>h.lookupByName(s)))}else return x.none()},js=(t,s)=>{const a=t.getRoot();return Ge.getState(a).get().map(i=>dn(sa("data",i.dataValidator,s))).getOr(s)},Aa=(t,s,a)=>{const i=ue=>{const ye=t.getRoot();ye.getSystem().isConnected()&&ue(ye)},Q={getData:()=>{const ue=t.getRoot(),ye=ue.getSystem().isConnected()?t.getFormWrapper():ue,Je=jn.getValue(ye),Ae=Vn(a,Ke=>Ke.get());return ie(ie({},Je),Ae)},setData:ue=>{i(ye=>{const Je=Q.getData(),Ae=br(Je,ue),Ke=js(t,Ae),ot=t.getFormWrapper();jn.setValue(ot,Ke),Un(a,(_t,Et)=>{Go(Ae,Et)&&_t.set(Ae[Et])})})},setEnabled:(ue,ye)=>{Do(t,ue).each(ye?Po.enable:Po.disable)},focus:ue=>{Do(t,ue).each(Fo.focus)},block:ue=>{if(!Y(ue))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");i(ye=>{co(ye,Ix,{message:ue})})},unblock:()=>{i(ue=>{ms(ue,m3)})},showTab:ue=>{i(ye=>{const Je=t.getBody();Ge.getState(Je).get().exists(Ke=>Ke.isTabPanel())&&Es.getCurrent(Je).each(Ke=>{Ha.showTab(Ke,ue)})})},redial:ue=>{i(ye=>{const Je=t.getId(),Ae=s(ue),Ke=gT(Ae.internalDialog.buttons,a);ye.getSystem().broadcastOn([`${tE}-${Je}`],Ae),ye.getSystem().broadcastOn([`${k$}-${Je}`],Ae.internalDialog),ye.getSystem().broadcastOn([`${K3}-${Je}`],Ae.internalDialog),ye.getSystem().broadcastOn([`${_$}-${Je}`],Pt(ie({},Ae.internalDialog),{buttons:Ke})),Q.setData(Ae.initialData)})},close:()=>{i(ue=>{ms(ue,y_)})},toggleFullscreen:t.toggleFullscreen};return Q},_m=(t,s,a)=>{const i=Xn("dialog"),d=t.internalDialog,g=Ud(d.title,i,a),h=uo(d.size),k=ot=>Do(Ae,ot),S=vu(h.get()).toArray(),D=(ot,_t)=>(h.set(_t.internalDialog.size),Vp(_t.internalDialog.size,ot),x.some(_t)),N=wm({body:d.body,initialData:d.initialData},i,a,k),I=gT(d.buttons),X=w1(I),Q=ao(I.length!==0,bn({buttons:I},i,a)),ue=zi(()=>Ke,Df(()=>Je,a.shared.providers,s),a.shared.getSink),ye={id:i,header:g,body:N,footer:Q,extraClasses:S,extraBehaviours:[Ge.config({channel:`${tE}-${i}`,updateState:D,initialData:t})],extraStyles:{}},Je=v1(ye,ue,a),Ae=(()=>{const ot=()=>{const Et=vc.getBody(Je);return Es.getCurrent(Et).getOr(Et)},_t=()=>{H0(Je,h.get())};return{getId:J(i),getRoot:J(Je),getBody:()=>vc.getBody(Je),getFooter:()=>vc.getFooter(Je),getFormWrapper:ot,toggleFullscreen:_t}})(),Ke=Aa(Ae,s.redial,X);return{dialog:Je,instanceApi:Ke}},Wd=(t,s,a,i=!1,d)=>{const g=Xn("dialog"),h=Xn("dialog-label"),k=Xn("dialog-content"),S=t.internalDialog,D=Yn=>Do(Kn,Yn),N=uo(S.size),I=vu(N.get()).toArray(),X=(Yn,$n)=>(N.set($n.internalDialog.size),Vp($n.internalDialog.size,Yn),d(),x.some($n)),Q=Zs(ka({title:S.title,draggable:!0},g,h,a.shared.providers)),ue=Zs(Ul({body:S.body,initialData:S.initialData},g,k,a,i,D)),ye=gT(S.buttons),Je=w1(ye),Ae=ao(ye.length!==0,Zs(Dn({buttons:ye},g,a))),Ke=zi(()=>qt,{onBlock:Yn=>{bm.block(Et,($n,to)=>{const ws=Q.getOpt(Et).map(Fr=>Ys(Fr.element));return km(Yn.message,to,a.shared.providers,ws)})},onUnblock:()=>{bm.unblock(Et)},onClose:()=>s.closeWindow()},a.shared.getSink),ot="tox-dialog-inline",_t=rs().os,Et=hc({dom:{tag:"div",classes:["tox-dialog",ot,...I],attributes:ie({role:"dialog"},_t.isMacOS()?{"aria-label":S.title}:{"aria-labelledby":h})},eventOrder:{[bd()]:[Ge.name(),hl.name()],[Hc()]:["execute-on-form"],[sl()]:["reflecting","execute-on-form"]},behaviours:hn([So.config({mode:"cyclic",onEscape:Yn=>(ms(Yn,y_),x.some(!0)),useTabstopAt:Yn=>!O_(Yn)&&(Ds(Yn)!=="button"||$e(Yn,"disabled")!=="disabled"),firstTabstop:1}),Ge.config({channel:`${tE}-${g}`,updateState:X,initialData:t}),Fo.config({}),Yo("execute-on-form",Ke.concat([Lm(Vi(),(Yn,$n)=>{So.focusIn(Yn)}),Jt($y(),(Yn,$n)=>{Yn.getSystem().broadcastOn([nE],{newFocus:$n.event.newFocus})})])),bm.config({getRoot:()=>x.some(Et)}),Zo.config({}),T_({})]),components:[Q.asSpec(),ue.asSpec(),...Ae.map(Yn=>Yn.asSpec()).toArray()]}),Cn=()=>{H0(Et,N.get())},Kn={getId:J(g),getRoot:J(Et),getFooter:()=>Ae.map(Yn=>Yn.get(Et)),getBody:()=>ue.get(Et),getFormWrapper:()=>{const Yn=ue.get(Et);return Es.getCurrent(Yn).getOr(Yn)},toggleFullscreen:Cn},qt=Aa(Kn,s.redial,Je);return{dialog:Et,instanceApi:qt}};var k1=tinymce.util.Tools.resolve("tinymce.util.URI");const vL=t=>{const s=h=>{t.getSystem().isConnected()&&h(t)};return{block:h=>{if(!Y(h))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(k=>{co(k,Ix,{message:h})})},unblock:()=>{s(h=>{ms(h,m3)})},close:()=>{s(h=>{ms(h,y_)})},sendMessage:h=>{s(k=>{k.getSystem().broadcastOn([Y3],h)})}}},wL=["insertContent","setContent","execCommand","close","block","unblock"],pz=t=>Re(t)&&wL.indexOf(t.mceAction)!==-1,kL=t=>!pz(t)&&Re(t)&&Go(t,"mceAction"),Up=(t,s,a)=>{switch(a.mceAction){case"insertContent":t.insertContent(a.content);break;case"setContent":t.setContent(a.content);break;case"execCommand":const i=zt(a.ui)?a.ui:!1;t.execCommand(a.cmd,i,a.value);break;case"close":s.close();break;case"block":s.block(a.message);break;case"unblock":s.unblock();break}},_L=(t,s,a,i)=>{const d=Xn("dialog"),g=Ud(t.title,d,i),h=Yi(t),k=t.buttons.bind(ot=>ot.length===0?x.none():x.some(bn({buttons:ot},d,i))),S=bL(()=>Ke,Df(()=>Ae,i.shared.providers,s)),D=ie(ie({},t.height.fold(()=>({}),ot=>({height:ot+"px","max-height":ot+"px"}))),t.width.fold(()=>({}),ot=>({width:ot+"px","max-width":ot+"px"}))),N=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],I=new k1(t.url,{base_uri:new k1(window.location.href)}),X=`${I.protocol}://${I.host}${I.port?":"+I.port:""}`,Q=Ii(),ue=(ot,_t)=>x.some(_t),ye=[Ge.config({channel:`${tE}-${d}`,updateState:ue,initialData:t}),Yo("messages",[Wr(()=>{const ot=Wi(Le.fromDom(window),"message",_t=>{if(I.isSameOrigin(new k1(_t.raw.origin))){const Et=_t.raw.data;pz(Et)?Up(a,Ke,Et):kL(Et)&&t.onMessage(Ke,Et)}});Q.set(ot)}),uf(Q.clear)]),hl.config({channels:{[Y3]:{onReceive:(ot,_t)=>{Yr(ot.element,"iframe").each(Et=>{const Cn=Et.dom.contentWindow;It(Cn)&&Cn.postMessage(_t,X)})}}}})],Ae=v1({id:d,header:g,body:h,footer:k,extraClasses:N,extraBehaviours:ye,extraStyles:D},S,i),Ke=vL(Ae);return{dialog:Ae,instanceApi:Ke}},CL=t=>{const s=t.shared;return{open:(i,d)=>{const g=()=>{vc.hide(D),d()},h=Zs(_0({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:x.some("primary"),align:"end",enabled:!0,icon:x.none()},"cancel",t)),k=jl(),S=Ri(g,s.providers),D=hc(fc({lazySink:()=>s.getSink(),header:Vd(k,S),body:mo(i,s.providers),footer:x.some(Ms(Ta([],[h.asSpec()]))),onEscape:g,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Jt(fy,g)],eventOrder:{}}));vc.show(D);const N=h.get(D);Fo.focus(N)}}},SL=t=>{const s=t.shared;return{open:(i,d)=>{const g=X=>{vc.hide(N),d(X)},h=Zs(_0({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:x.some("primary"),align:"end",enabled:!0,icon:x.none()},"submit",t)),k=_0({context:"any",name:"no",text:"No",primary:!1,buttonType:x.some("secondary"),align:"end",enabled:!0,icon:x.none()},"cancel",t),S=jl(),D=Ri(()=>g(!1),s.providers),N=hc(fc({lazySink:()=>s.getSink(),header:Vd(S,D),body:mo(i,s.providers),footer:x.some(Ms(Ta([],[k,h.asSpec()]))),onEscape:()=>g(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Jt(fy,()=>g(!1)),Jt(m0,()=>g(!0))],eventOrder:{}}));vc.show(N);const I=h.get(N);Fo.focus(I)}}},hz=(t,s)=>dn(sa("data",s,t)),xL=t=>p_(t,".tox-alert-dialog")||p_(t,".tox-confirm-dialog"),xs=(t,s,a)=>s&&a?[]:[Mr.config({contextual:{lazyContext:()=>x.some(Vr(Le.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:i=>ny(t,i.element).map(g=>({bounds:oy(g),optScrollEnv:x.some({currentScrollTop:g.element.dom.scrollTop,scrollElmTop:Cr(g.element).top})})).getOrThunk(()=>({bounds:za(),optScrollEnv:x.none()}))})],Ot=t=>{const s=t.editor,a=ty(s),i=CL(t.backstages.dialog),d=SL(t.backstages.dialog),g=(ue,ye,Je)=>{if(!Bt(ye)){if(ye.inline==="toolbar")return D(ue,t.backstages.popup.shared.anchors.inlineDialog(),Je,ye);if(ye.inline==="bottom")return N(ue,t.backstages.popup.shared.anchors.inlineBottomDialog(),Je,ye);if(ye.inline==="cursor")return D(ue,t.backstages.popup.shared.anchors.cursor(),Je,ye)}return S(ue,Je)},h=(ue,ye)=>k(ue,ye),k=(ue,ye)=>{const Je=Ae=>{const Ke=_L(Ae,{closeWindow:()=>{vc.hide(Ke.dialog),ye(Ke.instanceApi)}},s,t.backstages.dialog);return vc.show(Ke.dialog),Ke.instanceApi};return B.openUrl(Je,ue)},S=(ue,ye)=>{const Je=(Ae,Ke,ot)=>{const _t=Ke,Cn=_m({dataValidator:ot,initialData:_t,internalDialog:Ae},{redial:B.redial,closeWindow:()=>{vc.hide(Cn.dialog),ye(Cn.instanceApi)}},t.backstages.dialog);return vc.show(Cn.dialog),Cn.instanceApi.setData(_t),Cn.instanceApi};return B.open(Je,ue)},D=(ue,ye,Je,Ae)=>{const Ke=(ot,_t,Et)=>{const Cn=hz(_t,Et),Kn=$s(),qt=t.backstages.popup.shared.header.isPositionedAtTop(),Yn={dataValidator:Et,initialData:Cn,internalDialog:ot},$n=()=>Kn.on(Ws=>{fa.reposition(Ws),(!a||!qt)&&Mr.refresh(Ws)}),to=Wd(Yn,{redial:B.redial,closeWindow:()=>{Kn.on(fa.hide),s.off("ResizeEditor",$n),Kn.clear(),Je(to.instanceApi)}},t.backstages.popup,Ae.ariaAttrs,$n),ws=hc(fa.sketch(Pt(ie({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Ae.persistent?{event:"doNotDismissYet"}:{}},qt?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:hn([Yo("window-manager-inline-events",[Jt(zl(),(Ws,ro)=>{ms(to.dialog,fy)})]),...xs(s,a,qt)]),isExtraPart:(Ws,ro)=>xL(ro)})));Kn.set(ws);const Fr=()=>{const Ws=s.inline?Ze():Le.fromDom(s.getContainer()),ro=Vr(Ws);return x.some(ro)};return fa.showWithinBounds(ws,Nl(to.dialog),{anchor:ye},Fr),(!a||!qt)&&(Mr.refresh(ws),s.on("ResizeEditor",$n)),to.instanceApi.setData(Cn),So.focusIn(to.dialog),to.instanceApi};return B.open(Ke,ue)},N=(ue,ye,Je,Ae)=>{const Ke=(ot,_t,Et)=>{const Cn=hz(_t,Et),Kn=$s(),qt=t.backstages.popup.shared.header.isPositionedAtTop(),Yn={dataValidator:Et,initialData:Cn,internalDialog:ot},$n=()=>Kn.on(Ws=>{fa.reposition(Ws),Mr.refresh(Ws)}),to=Wd(Yn,{redial:B.redial,closeWindow:()=>{Kn.on(fa.hide),s.off("ResizeEditor ScrollWindow ElementScroll",$n),Kn.clear(),Je(to.instanceApi)}},t.backstages.popup,Ae.ariaAttrs,$n),ws=hc(fa.sketch(Pt(ie({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Ae.persistent?{event:"doNotDismissYet"}:{}},qt?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:hn([Yo("window-manager-inline-events",[Jt(zl(),(Ws,ro)=>{ms(to.dialog,fy)})]),Mr.config({contextual:{lazyContext:()=>x.some(Vr(Le.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:Ws=>ny(s,Ws.element).map(un=>({bounds:oy(un),optScrollEnv:x.some({currentScrollTop:un.element.dom.scrollTop,scrollElmTop:Cr(un.element).top})})).getOrThunk(()=>({bounds:za(),optScrollEnv:x.none()}))})]),isExtraPart:(Ws,ro)=>xL(ro)})));Kn.set(ws);const Fr=()=>t.backstages.popup.shared.getSink().toOptional().bind(Ws=>{const ro=ny(s,Ws.element),un=15,Mn=ro.map(wo=>oy(wo)).getOr(za()),Lo=Vr(Le.fromDom(s.getContentAreaContainer())),os=Qi(Lo,Mn);return x.some(Hr(os.x,os.y,os.width,os.height-un))});return fa.showWithinBounds(ws,Nl(to.dialog),{anchor:ye},Fr),Mr.refresh(ws),s.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",$n),to.instanceApi.setData(Cn),So.focusIn(to.dialog),to.instanceApi};return B.open(Ke,ue)};return{open:g,openUrl:h,alert:(ue,ye)=>{i.open(ue,ye)},close:ue=>{ue.close()},confirm:(ue,ye)=>{d.open(ue,ye)}}},xo=t=>{sM(t),B7(t),wZ(t)};var us=()=>{Tu.add("silver",t=>{xo(t);let s=()=>za();const{dialogs:a,popups:i,renderUI:d}=hq(t,{getPopupSinkBounds:()=>s()}),g=()=>{const D=d();return ny(t,i.getMothership().element).each(I=>{s=()=>oy(I)}),D};OH.register(t,i.backstage.shared);const h=Ot({editor:t,backstages:{popup:i.backstage,dialog:a.backstage}}),k=$s(),S=()=>IM(t,{backstage:i.backstage},i.getMothership(),k);return{renderUI:g,getWindowManagerImpl:J(h),getNotificationManagerImpl:S}})};us()})();(function(){var p=tinymce.util.Tools.resolve("tinymce.ModelManager");const v=(l,f,y)=>{var w;return y(l,f.prototype)?!0:((w=l.constructor)===null||w===void 0?void 0:w.name)===f.name},E=l=>{const f=typeof l;return l===null?"null":f==="object"&&Array.isArray(l)?"array":f==="object"&&v(l,String,(y,w)=>w.isPrototypeOf(y))?"string":f},z=l=>f=>E(f)===l,F=l=>f=>typeof f===l,H=l=>f=>l===f,q=z("string"),Y=z("object"),Re=z("array"),Ue=H(null),Xe=F("boolean"),$t=H(void 0),zt=l=>l==null,Bt=l=>!zt(l),lt=F("function"),It=F("number"),Me=()=>{},tt=(l,f)=>(...y)=>l(f.apply(null,y)),qe=(l,f)=>y=>l(f(y)),ae=l=>()=>l,vt=l=>l,Pn=(l,f)=>l===f;function Nt(l,...f){return(...y)=>{const w=f.concat(y);return l.apply(null,w)}}const J=l=>f=>!l(f),Zt=l=>()=>{throw new Error(l)},Tn=l=>l(),gn=ae(!1),at=ae(!0);class ke{constructor(f,y){this.tag=f,this.value=y}static some(f){return new ke(!0,f)}static none(){return ke.singletonNone}fold(f,y){return this.tag?y(this.value):f()}isSome(){return this.tag}isNone(){return!this.tag}map(f){return this.tag?ke.some(f(this.value)):ke.none()}bind(f){return this.tag?f(this.value):ke.none()}exists(f){return this.tag&&f(this.value)}forall(f){return!this.tag||f(this.value)}filter(f){return!this.tag||f(this.value)?this:ke.none()}getOr(f){return this.tag?this.value:f}or(f){return this.tag?this:f}getOrThunk(f){return this.tag?this.value:f()}orThunk(f){return this.tag?this:f()}getOrDie(f){if(this.tag)return this.value;throw new Error(f!=null?f:"Called getOrDie on None")}static from(f){return Bt(f)?ke.some(f):ke.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(f){this.tag&&f(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ke.singletonNone=new ke(!1);const bo=Array.prototype.slice,We=Array.prototype.indexOf,Ye=Array.prototype.push,x=(l,f)=>We.call(l,f),bt=(l,f)=>x(l,f)>-1,_e=(l,f)=>{for(let y=0,w=l.length;y<w;y++){const O=l[y];if(f(O,y))return!0}return!1},Ht=(l,f)=>{const y=[];for(let w=0;w<l;w++)y.push(f(w));return y},Gt=(l,f)=>{const y=l.length,w=new Array(y);for(let O=0;O<y;O++){const M=l[O];w[O]=f(M,O)}return w},Te=(l,f)=>{for(let y=0,w=l.length;y<w;y++){const O=l[y];f(O,y)}},Vt=(l,f)=>{for(let y=l.length-1;y>=0;y--){const w=l[y];f(w,y)}},En=(l,f)=>{const y=[],w=[];for(let O=0,M=l.length;O<M;O++){const W=l[O];(f(W,O)?y:w).push(W)}return{pass:y,fail:w}},et=(l,f)=>{const y=[];for(let w=0,O=l.length;w<O;w++){const M=l[w];f(M,w)&&y.push(M)}return y},rn=(l,f,y)=>(Vt(l,(w,O)=>{y=f(y,w,O)}),y),Pe=(l,f,y)=>(Te(l,(w,O)=>{y=f(y,w,O)}),y),gt=(l,f,y)=>{for(let w=0,O=l.length;w<O;w++){const M=l[w];if(f(M,w))return ke.some(M);if(y(M,w))break}return ke.none()},U=(l,f)=>gt(l,f,gn),ko=(l,f)=>{for(let y=0,w=l.length;y<w;y++){const O=l[y];if(f(O,y))return ke.some(y)}return ke.none()},wt=l=>{const f=[];for(let y=0,w=l.length;y<w;++y){if(!Re(l[y]))throw new Error("Arr.flatten item "+y+" was not an array, input: "+l);Ye.apply(f,l[y])}return f},Yt=(l,f)=>wt(Gt(l,f)),st=(l,f)=>{for(let y=0,w=l.length;y<w;++y){const O=l[y];if(f(O,y)!==!0)return!1}return!0},Dt=l=>{const f=bo.call(l,0);return f.reverse(),f},re=(l,f)=>{const y={};for(let w=0,O=l.length;w<O;w++){const M=l[w];y[String(M)]=f(M,w)}return y},de=(l,f)=>{const y=bo.call(l,0);return y.sort(f),y},De=(l,f)=>f>=0&&f<l.length?ke.some(l[f]):ke.none(),G=l=>De(l,0),pe=l=>De(l,l.length-1),Ce=(l,f)=>{for(let y=0;y<l.length;y++){const w=f(l[y],y);if(w.isSome())return w}return ke.none()},Oe=Object.keys,Tt=Object.hasOwnProperty,Ie=(l,f)=>{const y=Oe(l);for(let w=0,O=y.length;w<O;w++){const M=y[w],W=l[M];f(W,M)}},ut=(l,f)=>Lt(l,(y,w)=>({k:w,v:f(y,w)})),Lt=(l,f)=>{const y={};return Ie(l,(w,O)=>{const M=f(w,O);y[M.k]=M.v}),y},Sn=l=>(f,y)=>{l[y]=f},rt=(l,f,y,w)=>{Ie(l,(O,M)=>{(f(O,M)?y:w)(O,M)})},ft=(l,f)=>{const y={};return rt(l,f,Sn(y),Me),y},an=(l,f)=>{const y=[];return Ie(l,(w,O)=>{y.push(f(w,O))}),y},pn=l=>an(l,vt),po=(l,f)=>Un(l,f)?ke.from(l[f]):ke.none(),Un=(l,f)=>Tt.call(l,f),Vn=(l,f)=>Un(l,f)&&l[f]!==void 0&&l[f]!==null,Ho=l=>{for(const f in l)if(Tt.call(l,f))return!1;return!0},Ln=typeof window!="undefined"?window:Function("return this;")(),Wo=(l,f)=>{let y=f!=null?f:Ln;for(let w=0;w<l.length&&y!==void 0&&y!==null;++w)y=y[l[w]];return y},_s=(l,f)=>{const y=l.split(".");return Wo(y,f)},es=(l,f)=>_s(l,f),Gs=(l,f)=>{const y=es(l,f);if(y==null)throw new Error(l+" not available on this browser");return y},_o=Object.getPrototypeOf,Ir=l=>Gs("HTMLElement",l),on=l=>{const f=_s("ownerDocument.defaultView",l);return Y(l)&&(Ir(f).prototype.isPrototypeOf(l)||/^HTML\w*Element$/.test(_o(l).constructor.name))},Go=8,ur=9,Qs=11,Ar=1,_r=3,Cs=l=>l.dom.nodeName.toLowerCase(),Jr=l=>l.dom.nodeType,Zr=l=>f=>Jr(f)===l,ys=l=>Jr(l)===Go||Cs(l)==="#comment",ao=l=>Ps(l)&&on(l.dom),Ps=Zr(Ar),Qe=Zr(_r),Ct=Zr(ur),An=Zr(Qs),Fn=l=>f=>Ps(f)&&Cs(f)===l,jo=(l,f,y)=>{if(q(y)||Xe(y)||It(y))l.setAttribute(f,y+"");else throw console.error("Invalid call to Attribute.set. Key ",f,":: Value ",y,":: Element ",l),new Error("Attribute value was not simple")},ss=(l,f,y)=>{jo(l.dom,f,y)},mr=(l,f)=>{const y=l.dom;Ie(f,(w,O)=>{jo(y,O,w)})},yr=(l,f)=>{Ie(f,(y,w)=>{y.fold(()=>{we(l,w)},O=>{jo(l.dom,w,O)})})},cr=(l,f)=>{const y=l.dom.getAttribute(f);return y===null?void 0:y},xe=(l,f)=>ke.from(cr(l,f)),we=(l,f)=>{l.dom.removeAttribute(f)},ht=l=>Pe(l.dom.attributes,(f,y)=>(f[y.name]=y.value,f),{}),Mt=(l,f)=>{const w=(f||document).createElement("div");if(w.innerHTML=l,!w.hasChildNodes()||w.childNodes.length>1){const O="HTML does not have a single root node";throw console.error(O,l),new Error(O)}return Bo(w.childNodes[0])},oo=(l,f)=>{const w=(f||document).createElement(l);return Bo(w)},Eo=(l,f)=>{const w=(f||document).createTextNode(l);return Bo(w)},Bo=l=>{if(l==null)throw new Error("Node cannot be null or undefined");return{dom:l}},Le={fromHtml:Mt,fromTag:oo,fromText:Eo,fromDom:Bo,fromPoint:(l,f,y)=>ke.from(l.dom.elementFromPoint(f,y)).map(Bo)},Mo=(l,f)=>{const y=l.dom;if(y.nodeType!==Ar)return!1;{const w=y;if(w.matches!==void 0)return w.matches(f);if(w.msMatchesSelector!==void 0)return w.msMatchesSelector(f);if(w.webkitMatchesSelector!==void 0)return w.webkitMatchesSelector(f);if(w.mozMatchesSelector!==void 0)return w.mozMatchesSelector(f);throw new Error("Browser lacks native selectors")}},ze=l=>l.nodeType!==Ar&&l.nodeType!==ur&&l.nodeType!==Qs||l.childElementCount===0,Be=(l,f)=>{const y=f===void 0?document:f.dom;return ze(y)?[]:Gt(y.querySelectorAll(l),Le.fromDom)},Qt=(l,f)=>{const y=f===void 0?document:f.dom;return ze(y)?ke.none():ke.from(y.querySelector(l)).map(Le.fromDom)},cn=(l,f)=>l.dom===f.dom,zn=(l,f)=>{const y=l.dom,w=f.dom;return y===w?!1:y.contains(w)},Qn=Mo,no=l=>Le.fromDom(l.dom.ownerDocument),Gn=l=>Ct(l)?l:no(l),io=l=>Le.fromDom(Gn(l).dom.documentElement),Co=l=>Le.fromDom(Gn(l).dom.defaultView),ds=l=>ke.from(l.dom.parentNode).map(Le.fromDom),Ds=l=>ke.from(l.dom.parentElement).map(Le.fromDom),Is=(l,f)=>{const y=lt(f)?f:gn;let w=l.dom;const O=[];for(;w.parentNode!==null&&w.parentNode!==void 0;){const M=w.parentNode,W=Le.fromDom(M);if(O.push(W),y(W)===!0)break;w=M}return O},_a=l=>ke.from(l.dom.previousSibling).map(Le.fromDom),ua=l=>ke.from(l.dom.nextSibling).map(Le.fromDom),vo=l=>Gt(l.dom.childNodes,Le.fromDom),cs=(l,f)=>{const y=l.dom.childNodes;return ke.from(y[f]).map(Le.fromDom)},is=l=>cs(l,0),aa=(l,f)=>{ds(l).each(w=>{w.dom.insertBefore(f.dom,l.dom)})},Qr=(l,f)=>{ua(l).fold(()=>{ds(l).each(O=>{er(O,f)})},w=>{aa(w,f)})},Or=(l,f)=>{is(l).fold(()=>{er(l,f)},w=>{l.dom.insertBefore(f.dom,w.dom)})},er=(l,f)=>{l.dom.appendChild(f.dom)},El=(l,f,y)=>{cs(l,y).fold(()=>{er(l,f)},w=>{aa(w,f)})},Xa=(l,f)=>{aa(l,f),er(f,l)},Rs=(l,f)=>{Te(f,(y,w)=>{const O=w===0?l:f[w-1];Qr(O,y)})},pa=(l,f)=>{Te(f,y=>{er(l,y)})},ha=l=>{l.dom.textContent="",Te(vo(l),f=>{qr(f)})},qr=l=>{const f=l.dom;f.parentNode!==null&&f.parentNode.removeChild(f)},yi=l=>{const f=vo(l);f.length>0&&Rs(l,f),qr(l)},Ba=(l,f)=>Le.fromDom(l.dom.cloneNode(f)),Oa=l=>Ba(l,!1),Ja=l=>Ba(l,!0),Qa=(l,f)=>{const y=Le.fromTag(f),w=ht(l);return mr(y,w),y},Mi=(l,f)=>{const y=Qa(l,f),w=vo(Ja(l));return pa(y,w),y},Pi=(l,f)=>{const y=Qa(l,f);Qr(l,y);const w=vo(l);return pa(y,w),qr(l),y},ei=["tfoot","thead","tbody","colgroup"],Da=l=>bt(ei,l),Gr=(l,f)=>({rows:l,columns:f}),ti=(l,f)=>({row:l,column:f}),bi=(l,f,y)=>({element:l,rowspan:f,colspan:y}),Bi=(l,f,y,w)=>({element:l,rowspan:f,colspan:y,isNew:w}),qc=(l,f,y,w,O,M)=>({element:l,rowspan:f,colspan:y,row:w,column:O,isLocked:M}),Lr=(l,f,y)=>({element:l,cells:f,section:y}),Va=(l,f,y,w)=>({element:l,cells:f,section:y,isNew:w}),ya=(l,f,y)=>({element:l,isNew:f,isLocked:y}),Ra=(l,f,y,w)=>({element:l,cells:f,section:y,isNew:w}),Xi=(l,f,y,w)=>({startRow:l,startCol:f,finishRow:y,finishCol:w}),Ji=(l,f,y)=>({element:l,colspan:f,column:y}),ee=(l,f)=>({element:l,columns:f}),ve=l=>An(l)&&Bt(l.dom.host),Ze=l=>Le.fromDom(l.dom.getRootNode()),Ut=l=>ve(l)?l:Le.fromDom(Gn(l).dom.body),mn=l=>{const f=Ze(l);return ve(f)?ke.some(f):ke.none()},V=l=>Le.fromDom(l.dom.host),be=l=>{if(Bt(l.target)){const f=Le.fromDom(l.target);if(Ps(f)&&$e(f)&&l.composed&&l.composedPath){const y=l.composedPath();if(y)return G(y)}}return ke.from(l.target)},$e=l=>Bt(l.dom.shadowRoot),kt=l=>{const f=Qe(l)?l.dom.parentNode:l.dom;if(f==null||f.ownerDocument===null)return!1;const y=f.ownerDocument;return mn(Le.fromDom(f)).fold(()=>y.body.contains(f),qe(kt,V))},lo=()=>$(Le.fromDom(document)),$=l=>{const f=l.dom.body;if(f==null)throw new Error("Body is not available yet");return Le.fromDom(f)},oe=(l,f,y)=>et(Is(l,y),f),Ee=(l,f)=>et(vo(l),f),ct=(l,f)=>{let y=[];return Te(vo(l),w=>{f(w)&&(y=y.concat([w])),y=y.concat(ct(w,f))}),y},yt=(l,f,y)=>oe(l,w=>Mo(w,f),y),Ro=(l,f)=>Ee(l,y=>Mo(y,f)),bs=(l,f)=>Be(f,l);var Ls=(l,f,y,w,O)=>l(y,w)?ke.some(y):lt(O)&&O(y)?ke.none():f(y,w,O);const nn=(l,f,y)=>{let w=l.dom;const O=lt(y)?y:gn;for(;w.parentNode;){w=w.parentNode;const M=Le.fromDom(w);if(f(M))return ke.some(M);if(O(M))break}return ke.none()},Bs=(l,f,y)=>Ls((O,M)=>M(O),nn,l,f,y),ba=(l,f)=>{const y=O=>f(Le.fromDom(O));return U(l.dom.childNodes,y).map(Le.fromDom)},$i=(l,f)=>{const y=w=>{for(let O=0;O<w.childNodes.length;O++){const M=Le.fromDom(w.childNodes[O]);if(f(M))return ke.some(M);const W=y(w.childNodes[O]);if(W.isSome())return W}return ke.none()};return y(l.dom)},Vo=(l,f,y)=>nn(l,w=>Mo(w,f),y),Mc=(l,f)=>ba(l,y=>Mo(y,f)),ni=(l,f)=>Qt(f,l),va=(l,f,y)=>Ls((O,M)=>Mo(O,M),Vo,l,f,y),Ys=(l,f,y=Pn)=>l.exists(w=>y(w,f)),Fi=l=>{const f=[],y=w=>{f.push(w)};for(let w=0;w<l.length;w++)l[w].each(y);return f},Sm=(l,f)=>l!=null?f(l):ke.none(),qd=(l,f)=>l?ke.some(f):ke.none(),Dr=(l,f)=>l.substring(f),od=(l,f,y)=>f===""||l.length>=f.length&&l.substr(y,y+f.length)===f,vi=(l,f)=>wi(l,f)?Dr(l,f.length):l,Cr=(l,f,y=0,w)=>{const O=l.indexOf(f,y);return O!==-1?$t(w)?!0:O+f.length<=w:!1},wi=(l,f)=>od(l,f,0),wc=(l,f)=>od(l,f,l.length-f.length),ce=(l=>f=>f.replace(l,""))(/^\s+|\s+$/g),me=l=>l.length>0,dt=l=>{const f=parseFloat(l);return isNaN(f)?ke.none():ke.some(f)},jt=l=>l.style!==void 0&&lt(l.style.getPropertyValue),ho=(l,f,y)=>{if(!q(y))throw console.error("Invalid call to CSS.set. Property ",f,":: Value ",y,":: Element ",l),new Error("CSS value must be a string: "+y);jt(l)&&l.style.setProperty(f,y)},vs=(l,f)=>{jt(l)&&l.style.removeProperty(f)},ts=(l,f,y)=>{const w=l.dom;ho(w,f,y)},tr=(l,f)=>{const y=l.dom;Ie(f,(w,O)=>{ho(y,O,w)})},ca=(l,f)=>{const y=l.dom,O=window.getComputedStyle(y).getPropertyValue(f);return O===""&&!kt(l)?kc(y,f):O},kc=(l,f)=>jt(l)?l.style.getPropertyValue(f):"",ec=(l,f)=>{const y=l.dom,w=kc(y,f);return ke.from(w).filter(O=>O.length>0)},ea=(l,f)=>{const y=l.dom;vs(y,f),Ys(xe(l,"style").map(ce),"")&&we(l,"style")},ta=(l,f)=>{const y=l.dom,w=f.dom;jt(y)&&jt(w)&&(w.style.cssText=y.style.cssText)},Ca=(l,f,y=0)=>xe(l,f).map(w=>parseInt(w,10)).getOr(y),tc=(l,f)=>Ca(l,f,1),Rr=l=>Fn("col")(l)?Ca(l,"span",1)>1:tc(l,"colspan")>1,na=l=>tc(l,"rowspan")>1,Sr=(l,f)=>parseInt(ca(l,f),10),il=ae(10),Gd=ae(10),Gl=(l,f)=>rd(l,f,at),rd=(l,f,y)=>Yt(vo(l),w=>Mo(w,f)?y(w)?[w]:[]:rd(w,f,y)),ad=(l,f,y=gn)=>{if(y(f))return ke.none();if(bt(l,Cs(f)))return ke.some(f);const w=O=>Mo(O,"table")||y(O);return Vo(f,l.join(","),w)},ku=(l,f)=>ad(["td","th"],l,f),_u=l=>Gl(l,"th,td"),ki=l=>Mo(l,"colgroup")?Ro(l,"col"):Yt(Tl(l),f=>Ro(f,"col")),Pc=(l,f)=>va(l,"table",f),Sg=l=>Gl(l,"tr"),Tl=l=>Pc(l).fold(ae([]),f=>Ro(f,"colgroup")),xm=(l,f)=>Gt(l,y=>{if(Cs(y)==="colgroup"){const w=Gt(ki(y),O=>{const M=Ca(O,"span",1);return bi(O,1,M)});return Lr(y,w,"colgroup")}else{const w=Gt(_u(y),O=>{const M=Ca(O,"rowspan",1),W=Ca(O,"colspan",1);return bi(O,M,W)});return Lr(y,w,f(y))}}),cd=l=>ds(l).map(f=>{const y=Cs(f);return Da(y)?y:"tbody"}).getOr("tbody"),Em=l=>{const f=Sg(l),w=[...Tl(l),...f];return xm(w,cd)},Bf=(l,f)=>xm(l,()=>f),id=l=>{let f=!1,y;return(...w)=>(f||(f=!0,y=l.apply(null,w)),y)},$f=(l,f,y,w)=>{const O=l.isiOS()&&/ipad/i.test(y)===!0,M=l.isiOS()&&!O,W=l.isiOS()||l.isAndroid(),te=W||w("(pointer:coarse)"),ge=O||!M&&W&&w("(min-device-width:768px)"),Fe=M||W&&!ge,pt=f.isSafari()&&l.isiOS()&&/safari/i.test(y)===!1,fn=!Fe&&!ge&&!pt;return{isiPad:ae(O),isiPhone:ae(M),isTablet:ae(ge),isPhone:ae(Fe),isTouch:ae(te),isAndroid:l.isAndroid,isiOS:l.isiOS,isWebView:ae(pt),isDesktop:ae(fn)}},Tm=(l,f)=>{for(let y=0;y<l.length;y++){const w=l[y];if(w.test(f))return w}},Cu=(l,f)=>{const y=Tm(l,f);if(!y)return{major:0,minor:0};const w=O=>Number(f.replace(y,"$"+O));return ld(w(1),w(2))},xg=(l,f)=>{const y=String(f).toLowerCase();return l.length===0?Ne():Cu(l,y)},Ne=()=>ld(0,0),ld=(l,f)=>({major:l,minor:f}),_i={nu:ld,detect:xg,unknown:Ne},qp=(l,f)=>Ce(f.brands,y=>{const w=y.brand.toLowerCase();return U(l,O=>{var M;return w===((M=O.brand)===null||M===void 0?void 0:M.toLowerCase())}).map(O=>({current:O.name,version:_i.nu(parseInt(y.version,10),0)}))}),Gp=(l,f)=>{const y=String(f).toLowerCase();return U(l,w=>w.search(y))},Su=(l,f)=>Gp(l,f).map(y=>{const w=_i.detect(y.versionRegexes,f);return{current:y.name,version:w}}),rs=(l,f)=>Gp(l,f).map(y=>{const w=_i.detect(y.versionRegexes,f);return{current:y.name,version:w}}),_c=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,nc=l=>f=>Cr(f,l),xu=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:l=>Cr(l,"edge/")&&Cr(l,"chrome")&&Cr(l,"safari")&&Cr(l,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,_c],search:l=>Cr(l,"chrome")&&!Cr(l,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:l=>Cr(l,"msie")||Cr(l,"trident")},{name:"Opera",versionRegexes:[_c,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:nc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:nc("firefox")},{name:"Safari",versionRegexes:[_c,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:l=>(Cr(l,"safari")||Cr(l,"mobile/"))&&Cr(l,"applewebkit")}],Am=[{name:"Windows",search:nc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:l=>Cr(l,"iphone")||Cr(l,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:nc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:nc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:nc("linux"),versionRegexes:[]},{name:"Solaris",search:nc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:nc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:nc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Kd={browsers:ae(xu),oses:ae(Am)},Cc="Edge",Ff="Chromium",Kl="IE",If="Opera",Yl="Firefox",Bc="Safari",Kp=()=>Yd({current:void 0,version:_i.unknown()}),Yd=l=>{const f=l.current,y=l.version,w=O=>()=>f===O;return{current:f,version:y,isEdge:w(Cc),isChromium:w(Ff),isIE:w(Kl),isOpera:w(If),isFirefox:w(Yl),isSafari:w(Bc)}},Ua={unknown:Kp,nu:Yd,edge:ae(Cc),chromium:ae(Ff),ie:ae(Kl),opera:ae(If),firefox:ae(Yl),safari:ae(Bc)},oi="Windows",$c="iOS",ud="Android",Xd="Linux",Eg="macOS",Jd="Solaris",ll="FreeBSD",Qd="ChromeOS",Ay=()=>Tg({current:void 0,version:_i.unknown()}),Tg=l=>{const f=l.current,y=l.version,w=O=>()=>f===O;return{current:f,version:y,isWindows:w(oi),isiOS:w($c),isAndroid:w(ud),isMacOS:w(Eg),isLinux:w(Xd),isSolaris:w(Jd),isFreeBSD:w(ll),isChromeOS:w(Qd)}},Yp={unknown:Ay,nu:Tg,windows:ae(oi),ios:ae($c),android:ae(ud),linux:ae(Xd),macos:ae(Eg),solaris:ae(Jd),freebsd:ae(ll),chromeos:ae(Qd)},ef={detect:(l,f,y)=>{const w=Kd.browsers(),O=Kd.oses(),M=f.bind(ge=>qp(w,ge)).orThunk(()=>Su(w,l)).fold(Ua.unknown,Ua.nu),W=rs(O,l).fold(Yp.unknown,Yp.nu),te=$f(W,M,l,y);return{browser:M,os:W,deviceType:te}}},dd=l=>window.matchMedia(l).matches;let Lf=id(()=>ef.detect(window.navigator.userAgent,ke.from(window.navigator.userAgentData),dd));const Hr=()=>Lf(),Vr=(l,f)=>{const y=(te,ge)=>{if(!It(ge)&&!ge.match(/^[0-9]+$/))throw new Error(l+".set accepts only positive integer values. Value was "+ge);const Fe=te.dom;jt(Fe)&&(Fe.style[l]=ge+"px")},w=te=>{const ge=f(te);if(ge<=0||ge===null){const Fe=ca(te,l);return parseFloat(Fe)||0}return ge},O=w,M=(te,ge)=>Pe(ge,(Fe,pt)=>{const fn=ca(te,pt),Bn=fn===void 0?0:parseInt(fn,10);return isNaN(Bn)?Fe:Fe+Bn},0);return{set:y,get:w,getOuter:O,aggregate:M,max:(te,ge,Fe)=>{const pt=M(te,Fe);return ge>pt?ge-pt:0}}},Eu=(l,f)=>dt(l).getOr(f),Qi=(l,f,y)=>Eu(ca(l,f),y),Og=(l,f,y,w)=>{const O=Qi(l,`padding-${y}`,0),M=Qi(l,`padding-${w}`,0),W=Qi(l,`border-${y}-width`,0),te=Qi(l,`border-${w}-width`,0);return f-O-M-W-te},za=(l,f)=>{const y=l.dom,w=y.getBoundingClientRect().width||y.offsetWidth;return f==="border-box"?w:Og(l,w,"left","right")},uo=l=>Qi(l,"height",l.dom.offsetHeight),Xl=l=>Qi(l,"width",l.dom.offsetWidth),Dg=l=>za(l,"content-box"),Ii=Vr("width",l=>l.dom.offsetWidth),$s=l=>Ii.get(l),Tu=l=>Ii.getOuter(l),Hf=Dg,Om=Xl,Rg=(l,f,y)=>{const w=l.cells,O=w.slice(0,f),M=w.slice(f),W=O.concat(y).concat(M);return Au(l,W)},Jo=(l,f,y)=>Rg(l,f,[y]),da=(l,f,y)=>{const w=l.cells;w[f]=y},Au=(l,f)=>Ra(l.element,f,l.section,l.isNew),Ou=(l,f)=>{const y=l.cells,w=Gt(y,f);return Ra(l.element,w,l.section,l.isNew)},Ci=(l,f)=>l.cells[f],si=(l,f)=>Ci(l,f).element,Li=l=>l.cells.length,dr=l=>{const f=En(l,y=>y.section==="colgroup");return{rows:f.fail,cols:f.pass}},el=(l,f,y)=>{const w=Gt(l.cells,y);return Ra(f(l.element),w,l.section,!0)},fd="data-snooker-locked-cols",$a=l=>xe(l,fd).bind(f=>ke.from(f.match(/\d+/g))).map(f=>re(f,at)),ul=l=>{const f=Pe(dr(l).rows,(w,O)=>(Te(O.cells,(M,W)=>{M.isLocked&&(w[W]=!0)}),w),{}),y=an(f,(w,O)=>parseInt(O,10));return de(y)},oa=(l,f)=>l+","+f,Du=(l,f,y)=>ke.from(l.access[oa(f,y)]),tf=(l,f,y)=>{const w=nr(l,O=>y(f,O.element));return w.length>0?ke.some(w[0]):ke.none()},nr=(l,f)=>{const y=Yt(l.all,w=>w.cells);return et(y,f)},dl=l=>{const f={};let y=0;return Te(l.cells,w=>{const O=w.colspan;Ht(O,M=>{const W=y+M;f[W]=Ji(w.element,O,W)}),y+=O}),f},Dm=l=>{const f={},y=[],O=G(l).map(Rn=>Rn.element).bind(Pc).bind($a).getOr({});let M=0,W=0,te=0;const{pass:ge,fail:Fe}=En(l,Rn=>Rn.section==="colgroup");Te(Fe,Rn=>{const kn=[];Te(Rn.cells,so=>{let ln=0;for(;f[oa(te,ln)]!==void 0;)ln++;const _n=Vn(O,ln.toString()),xn=qc(so.element,so.rowspan,so.colspan,te,ln,_n);for(let Io=0;Io<so.colspan;Io++)for(let Ts=0;Ts<so.rowspan;Ts++){const rr=te+Ts,Pr=ln+Io,ra=oa(rr,Pr);f[ra]=xn,W=Math.max(W,Pr+1)}kn.push(xn)}),M++,y.push(Lr(Rn.element,kn,Rn.section)),te++});const{columns:pt,colgroups:fn}=pe(ge).map(Rn=>{const kn=dl(Rn);return{colgroups:[ee(Rn.element,pn(kn))],columns:kn}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Gr(M,W),access:f,all:y,columns:pt,colgroups:fn}},fs={fromTable:l=>{const f=Em(l);return Dm(f)},generate:Dm,getAt:Du,findItem:tf,filterItems:nr,justCells:l=>Yt(l.all,f=>f.cells),justColumns:l=>pn(l.columns),hasColumns:l=>Oe(l.columns).length>0,getColumnAt:(l,f)=>ke.from(l.columns[f])},of=(l,f=at)=>{const y=l.grid,w=Ht(y.columns,vt),O=Ht(y.rows,vt);return Gt(w,M=>Rm(()=>Yt(O,Fe=>fs.getAt(l,Fe,M).filter(pt=>pt.column===M).toArray()),Fe=>Fe.colspan===1&&f(Fe.element),()=>fs.getAt(l,0,M)))},Rm=(l,f,y)=>{const w=l();return U(w,f).orThunk(()=>ke.from(w[0]).orThunk(y)).map(W=>W.element)},T=l=>{const f=l.grid,y=Ht(f.rows,vt),w=Ht(f.columns,vt);return Gt(y,O=>Rm(()=>Yt(w,ge=>fs.getAt(l,O,ge).filter(Fe=>Fe.row===O).fold(ae([]),Fe=>[Fe])),ge=>ge.rowspan===1,()=>fs.getAt(l,O,0)))},P=(l,f)=>{if(f<0||f>=l.length-1)return ke.none();const y=l[f].fold(()=>{const O=Dt(l.slice(0,f));return Ce(O,(M,W)=>M.map(te=>({value:te,delta:W+1})))},O=>ke.some({value:O,delta:0})),w=l[f+1].fold(()=>{const O=l.slice(f+1);return Ce(O,(M,W)=>M.map(te=>({value:te,delta:W+1})))},O=>ke.some({value:O,delta:1}));return y.bind(O=>w.map(M=>{const W=M.delta+O.delta;return Math.abs(M.value-O.value)/W}))},K=(l,f)=>y=>Se(y)==="rtl"?f:l,Se=l=>ca(l,"direction")==="rtl"?"rtl":"ltr",Ve=Vr("height",l=>{const f=l.dom;return kt(l)?f.getBoundingClientRect().height:f.offsetHeight}),tn=l=>Ve.get(l),Ao=l=>Ve.getOuter(l),Xo=uo,Uo=(l,f)=>({left:l,top:f,translate:(w,O)=>Uo(l+w,f+O)}),fo=Uo,Ur=l=>{const f=l.getBoundingClientRect();return fo(f.left,f.top)},Sa=(l,f)=>l!==void 0?l:f!==void 0?f:0,Fc=l=>{const f=l.dom.ownerDocument,y=f.body,w=f.defaultView,O=f.documentElement;if(y===l.dom)return fo(y.offsetLeft,y.offsetTop);const M=Sa(w==null?void 0:w.pageYOffset,O.scrollTop),W=Sa(w==null?void 0:w.pageXOffset,O.scrollLeft),te=Sa(O.clientTop,y.clientTop),ge=Sa(O.clientLeft,y.clientLeft);return zu(l).translate(W-ge,M-te)},zu=l=>{const f=l.dom,w=f.ownerDocument.body;return w===f?fo(w.offsetLeft,w.offsetTop):kt(l)?Ur(f):fo(0,0)},Vf=(l,f)=>({row:l,y:f}),zg=(l,f)=>({col:l,x:f}),ai=l=>Fc(l).left+Tu(l),Ng=l=>Fc(l).left,E1=(l,f)=>zg(l,Ng(f)),Oy=(l,f)=>zg(l,ai(f)),oc=l=>Fc(l).top,Xp=(l,f)=>Vf(l,oc(f)),ja=(l,f)=>Vf(l,oc(f)+Ao(f)),Jp=(l,f,y)=>{if(y.length===0)return[];const w=Gt(y.slice(1),(M,W)=>M.map(te=>l(W,te))),O=y[y.length-1].map(M=>f(y.length-1,M));return w.concat([O])},tl=l=>-l,To={delta:vt,positions:l=>Jp(Xp,ja,l),edge:oc},Qp=K({delta:vt,edge:Ng,positions:l=>Jp(E1,Oy,l)},{delta:tl,edge:ai,positions:l=>Jp(Oy,E1,l)}),Uf={delta:(l,f)=>Qp(f).delta(l,f),positions:(l,f)=>Qp(f).positions(l,f),edge:l=>Qp(l).edge(l)},Ry={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Al=(()=>{const l="[0-9]+",y="[eE]"+("[+-]?"+l),w="\\.",O=te=>`(?:${te})?`,W=`[+-]?(?:${["Infinity",l+w+O(l)+O(y),w+l+O(y),l+O(y)].join("|")})`;return new RegExp(`^(${W})(.*)$`)})(),Nu=(l,f)=>_e(f,y=>_e(Ry[y],w=>l===w)),jf=(l,f)=>ke.from(Al.exec(l)).bind(w=>{const O=Number(w[1]),M=w[2];return Nu(M,f)?ke.some({value:O,unit:M}):ke.none()}),In=/(\d+(\.\d+)?)%/,Ol=/(\d+(\.\d+)?)px|em/,eh=Fn("col"),zm=Fn("tr"),Dl=(l,f,y)=>{const w=Ds(l).getOrThunk(()=>$(no(l)));return f(l)/y(w)*100},Mg=(l,f)=>{ts(l,"width",f+"px")},Wf=(l,f)=>{ts(l,"width",f+"%")},md=(l,f)=>{ts(l,"height",f+"px")},Pg=l=>{ea(l,"height")},Ql=l=>Xo(l)+"px",T1=(l,f,y,w)=>{const O=Pc(l).map(M=>{const W=y(M);return Math.floor(f/100*W)}).getOr(f);return w(l,O),O},sa=(l,f,y,w)=>{const O=parseFloat(l);return wc(l,"%")&&Cs(f)!=="table"?T1(f,O,y,w):O},dn=l=>{const f=Ql(l);return f?sa(f,l,tn,md):tn(l)},ci=(l,f,y)=>{const w=y(l),O=tc(l,f);return w/O},Zf=(l,f)=>ec(l,f).orThunk(()=>xe(l,f).map(y=>y+"px")),wa=l=>Zf(l,"width"),Nm=l=>Zf(l,"height"),sc=l=>Dl(l,$s,Hf),Hs=l=>eh(l)?$s(l):Om(l),Bg=l=>zm(l)?tn(l):ci(l,"rowspan",dn),Xt=l=>wa(l).bind(y=>jf(y,["fixed","relative","empty"])),Vs=(l,f,y)=>{ts(l,"width",f+y)},$g=l=>$s(l)+"px",Wa=l=>tn(l)+"px",Ic=l=>Dl(l,$s,Hf)+"%",fl=l=>wa(l).exists(f=>In.test(f)),zy=l=>wa(l).exists(f=>Ol.test(f)),sf=l=>wa(l).isNone(),Ny=ae(In),ol=Fn("col"),Fs=l=>wa(l).getOrThunk(()=>Hs(l)+"px"),Mu=l=>Nm(l).getOrThunk(()=>Bg(l)+"px"),Fg=l=>Gt(fs.justColumns(l),f=>ke.from(f.element)),Za=l=>{const f=Hr().browser,y=f.isChromium()||f.isFirefox();return ol(l)?y:!0},th=(l,f,y,w,O,M)=>l.filter(w).fold(()=>M(P(y,f)),W=>O(W)),eu=(l,f,y,w)=>{const O=of(l),M=fs.hasColumns(l)?Fg(l):O,W=[ke.some(Uf.edge(f))].concat(Gt(Uf.positions(O,f),ge=>ge.map(Fe=>Fe.x))),te=J(Rr);return Gt(M,(ge,Fe)=>th(ge,Fe,W,te,pt=>{if(Za(pt))return y(pt);{const fn=Sm(O[Fe],vt);return th(fn,Fe,W,te,Bn=>w(ke.some($s(Bn))),w)}},w))},Ig=l=>l.map(f=>f+"px").getOr(""),rc=(l,f)=>eu(l,f,Fs,Ig),Lc=(l,f,y)=>eu(l,f,sc,w=>w.fold(()=>y.minCellWidth(),O=>O/y.pixelWidth()*100)),it=(l,f,y)=>eu(l,f,Hs,w=>w.getOrThunk(y.minCellWidth)),fr=(l,f,y,w)=>{const O=T(l),M=Gt(l.all,te=>ke.some(te.element)),W=[ke.some(To.edge(f))].concat(Gt(To.positions(O,f),te=>te.map(ge=>ge.y)));return Gt(M,(te,ge)=>th(te,ge,W,at,y,w))},nh=(l,f)=>fr(l,f,Bg,y=>y.getOrThunk(Gd)),xa=(l,f)=>fr(l,f,Mu,Ig),gc=(l,f)=>()=>kt(l)?f(l):parseFloat(ec(l,"width").getOr("0")),qa=l=>{const f=gc(l,$s),y=ae(0);return{width:f,pixelWidth:f,getWidths:(O,M)=>it(O,l,M),getCellDelta:y,singleColumnWidth:ae([0]),minCellWidth:y,setElementWidth:Me,adjustTableWidth:Me,isRelative:!0,label:"none"}},zr=l=>{const f=gc(l,ge=>parseFloat(Ic(ge))),y=gc(l,$s);return{width:f,pixelWidth:y,getWidths:(ge,Fe)=>Lc(ge,l,Fe),getCellDelta:ge=>ge/y()*100,singleColumnWidth:(ge,Fe)=>[100-ge],minCellWidth:()=>il()/y()*100,setElementWidth:Wf,adjustTableWidth:ge=>{const Fe=f(),pt=ge/100*Fe,fn=Fe+pt;Wf(l,fn)},isRelative:!0,label:"percent"}},oh=l=>{const f=gc(l,$s);return{width:f,pixelWidth:f,getWidths:(W,te)=>it(W,l,te),getCellDelta:vt,singleColumnWidth:(W,te)=>[Math.max(il(),W+te)-W],minCellWidth:il,setElementWidth:Mg,adjustTableWidth:W=>{const te=f()+W;Mg(l,te)},isRelative:!1,label:"pixel"}},rf=(l,f)=>Ny().exec(f)!==null?zr(l):oh(l),R={getTableSize:l=>wa(l).fold(()=>qa(l),y=>rf(l,y)),pixelSize:oh,percentageSize:zr,noneSize:qa},Z=(l,f,y,w,O,M)=>({minRow:l,minCol:f,maxRow:y,maxCol:w,allCells:O,selectedCells:M}),le=(l,f)=>{const y=l.grid.columns;let O=l.grid.rows,M=y,W=0,te=0;const ge=[],Fe=[];return Ie(l.access,pt=>{if(ge.push(pt),f(pt)){Fe.push(pt);const fn=pt.row,Bn=fn+pt.rowspan-1,Rn=pt.column,kn=Rn+pt.colspan-1;fn<O?O=fn:Bn>W&&(W=Bn),Rn<M?M=Rn:kn>te&&(te=kn)}}),Z(O,M,W,te,ge,Fe)},je=(l,f,y)=>{const w=l[y].element,O=Le.fromTag("td");er(O,Le.fromTag("br")),(f?er:Or)(w,O)},Kt=(l,f,y,w)=>{const O=et(l,te=>te.section!=="colgroup"),M=f.grid.columns,W=f.grid.rows;for(let te=0;te<W;te++){let ge=!1;for(let Fe=0;Fe<M;Fe++)te<y.minRow||te>y.maxRow||Fe<y.minCol||Fe>y.maxCol||(fs.getAt(f,te,Fe).filter(w).isNone()?je(O,ge,te):ge=!0)}},vn=(l,f,y,w)=>{Ie(y.columns,W=>{(W.column<f.minCol||W.column>f.maxCol)&&qr(W.element)});const O=et(Gl(l,"tr"),W=>W.dom.childElementCount===0);Te(O,qr),(f.minCol===f.maxCol||f.minRow===f.maxRow)&&Te(Gl(l,"th,td"),W=>{we(W,"rowspan"),we(W,"colspan")}),we(l,fd),we(l,"data-snooker-col-series"),R.getTableSize(l).adjustTableWidth(w)},eo=(l,f,y,w)=>{if(w.minCol===0&&f.grid.columns===w.maxCol+1)return 0;const O=it(f,l,y),M=Pe(O,(Fe,pt)=>Fe+pt,0),ge=Pe(O.slice(w.minCol,w.maxCol+1),(Fe,pt)=>Fe+pt,0)/M*y.pixelWidth()-y.pixelWidth();return y.getCellDelta(ge)},$o=(l,f)=>{const y=Bn=>Mo(Bn.element,f),w=Ja(l),O=Em(w),M=R.getTableSize(l),W=fs.generate(O),te=le(W,y),ge="th:not("+f+"),td:not("+f+")",Fe=rd(w,"th,td",Bn=>Mo(Bn,ge));Te(Fe,qr),Kt(O,W,te,y);const pt=fs.fromTable(l),fn=eo(l,pt,M,te);return vn(w,te,W,fn),w},Qo=" ",qs=((l,f)=>{const y=M=>{if(!l(M))throw new Error("Can only get "+f+" value of a "+f+" node");return w(M).getOr("")},w=M=>l(M)?ke.from(M.dom.nodeValue):ke.none();return{get:y,getOption:w,set:(M,W)=>{if(!l(M))throw new Error("Can only set raw "+f+" value of a "+f+" node");M.dom.nodeValue=W}}})(Qe,"text"),jr=l=>qs.get(l),Si=l=>qs.getOption(l),ml=(l,f)=>qs.set(l,f),Sc=l=>Cs(l)==="img"?1:Si(l).fold(()=>vo(l).length,f=>f.length),Pu=l=>Si(l).filter(f=>f.trim().length!==0||f.indexOf(Qo)>-1).isSome(),gd=l=>ao(l)&&cr(l,"contenteditable")==="false",pd=["img","br"],af=l=>Pu(l)||bt(pd,Cs(l))||gd(l),Mm=l=>$i(l,af),Lg=l=>sh(l,af),sh=(l,f)=>{const y=w=>{const O=vo(w);for(let M=O.length-1;M>=0;M--){const W=O[M];if(f(W))return ke.some(W);const te=y(W);if(te.isSome())return te}return ke.none()};return y(l)},Fa={scope:["row","col"]},tu=l=>()=>{const f=Le.fromTag("td",l.dom);return er(f,Le.fromTag("br",l.dom)),f},cf=l=>()=>Le.fromTag("col",l.dom),zs=l=>()=>Le.fromTag("colgroup",l.dom),Kr=l=>()=>Le.fromTag("tr",l.dom),ia=(l,f,y)=>{const w=Mi(l,f);return Ie(y,(O,M)=>{O===null?we(w,M):ss(w,M,O)}),w},ii=l=>l,rh=(l,f,y)=>Mm(l).map(O=>{const M=y.join(","),W=yt(O,M,te=>cn(te,l));return rn(W,(te,ge)=>{const Fe=Oa(ge);return er(te,Fe),Fe},f)}).getOr(f),ah=(l,f)=>{Ie(Fa,(y,w)=>xe(l,w).filter(O=>bt(y,O)).each(O=>ss(f,w,O)))},Hi=(l,f,y)=>{const w=(W,te)=>{ta(W.element,te),ea(te,"height"),W.colspan!==1&&ea(te,"width")},O=W=>{const te=Le.fromTag(Cs(W.element),f.dom),ge=y.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Fe=ge.length>0?rh(W.element,te,ge):te;return er(Fe,Le.fromTag("br")),w(W,te),ah(W.element,te),l(W.element,te),te};return{col:W=>{const te=Le.fromTag(Cs(W.element),f.dom);return w(W,te),l(W.element,te),te},colgroup:zs(f),row:Kr(f),cell:O,replace:ia,colGap:cf(f),gap:tu(f)}},Vi=l=>({col:cf(l),colgroup:zs(l),row:Kr(l),cell:tu(l),replace:ii,colGap:cf(l),gap:tu(l)}),yC=(l,f)=>{const w=document.createElement("div");return w.innerHTML=l,vo(Le.fromDom(w))},nu=l=>Gt(l,Le.fromDom),Hg=l=>f=>f.options.get(l),hd="100%",lf=l=>{var f;const y=l.dom,w=(f=y.getParent(l.selection.getStart(),y.isBlock))!==null&&f!==void 0?f:l.getBody();return Hf(Le.fromDom(w))+"px"},Vg=(l,f)=>Bm(l)||!$m(l)?f:Hc(l)?Pt(ie({},f),{width:lf(l)}):Pt(ie({},f),{width:hd}),DT=(l,f)=>Bm(l)||$m(l)?f:Hc(l)?Pt(ie({},f),{width:lf(l)}):Pt(ie({},f),{width:hd}),My=l=>{const f=l.options.register;f("table_clone_elements",{processor:"string[]"}),f("table_use_colgroups",{processor:"boolean",default:!0}),f("table_header_type",{processor:y=>{const w=bt(["section","cells","sectionCells","auto"],y);return w?{value:y,valid:w}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),f("table_sizing_mode",{processor:"string",default:"auto"}),f("table_default_attributes",{processor:"object",default:{border:"1"}}),f("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),f("table_column_resizing",{processor:y=>{const w=bt(["preservetable","resizetable"],y);return w?{value:y,valid:w}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),f("table_resize_bars",{processor:"boolean",default:!0}),f("table_style_by_css",{processor:"boolean",default:!0}),f("table_merge_content_on_paste",{processor:"boolean",default:!0})},Pm=l=>ke.from(l.options.get("table_clone_elements")),RT=l=>{const f=l.options.get("object_resizing");return bt(f.split(","),"table")},Na=Hg("table_header_type"),A1=Hg("table_column_resizing"),yd=l=>A1(l)==="preservetable",Ug=l=>A1(l)==="resizetable",Py=Hg("table_sizing_mode"),bd=l=>Py(l)==="relative",Hc=l=>Py(l)==="fixed",Bm=l=>Py(l)==="responsive",O1=Hg("table_resize_bars"),$m=Hg("table_style_by_css"),xc=Hg("table_merge_content_on_paste"),D1=l=>{const f=l.options,y=f.get("table_default_attributes");return f.isSet("table_default_attributes")?y:DT(l,y)},R1=l=>{const f=l.options,y=f.get("table_default_styles");return f.isSet("table_default_styles")?y:Vg(l,y)},zT=Hg("table_use_colgroups"),bC=l=>va(l,"[contenteditable]"),Fm=(l,f=!1)=>kt(l)?l.dom.isContentEditable:bC(l).fold(ae(f),y=>jg(y)==="true"),jg=l=>l.dom.contentEditable,sl=l=>Le.fromDom(l.getBody()),Rl=l=>f=>cn(f,sl(l)),zl=l=>{we(l,"data-mce-style");const f=y=>we(y,"data-mce-style");Te(_u(l),f),Te(ki(l),f),Te(Sg(l),f)},By=l=>Le.fromDom(l.selection.getStart()),$y=l=>l.getBoundingClientRect().width,ch=l=>l.getBoundingClientRect().height,q0=l=>(f,y)=>{const w=f.dom.getStyle(y,l)||f.dom.getAttrib(y,l);return ke.from(w).filter(me)},vC=q0("width"),wC=q0("height"),G0=l=>/^(\d+(\.\d+)?)%$/.test(l),ih=l=>/^(\d+(\.\d+)?)px$/.test(l),ms=l=>Bs(l,Fn("table")).exists(Fm),co=(l,f)=>{const y=f.column,w=f.column+f.colspan-1,O=f.row,M=f.row+f.rowspan-1;return y<=l.finishCol&&w>=l.startCol&&O<=l.finishRow&&M>=l.startRow},Im=(l,f)=>f.column>=l.startCol&&f.column+f.colspan-1<=l.finishCol&&f.row>=l.startRow&&f.row+f.rowspan-1<=l.finishRow,z1=(l,f)=>{let y=!0;const w=Nt(Im,f);for(let O=f.startRow;O<=f.finishRow;O++)for(let M=f.startCol;M<=f.finishCol;M++)y=y&&fs.getAt(l,O,M).exists(w);return y?ke.some(f):ke.none()},N1=(l,f)=>Xi(Math.min(l.row,f.row),Math.min(l.column,f.column),Math.max(l.row+l.rowspan-1,f.row+f.rowspan-1),Math.max(l.column+l.colspan-1,f.column+f.colspan-1)),K0=(l,f,y)=>{const w=fs.findItem(l,f,cn),O=fs.findItem(l,y,cn);return w.bind(M=>O.map(W=>N1(M,W)))},M1=(l,f,y)=>K0(l,f,y).bind(w=>z1(l,w)),or=(l,f,y,w)=>fs.findItem(l,f,cn).bind(O=>{const M=y>0?O.row+O.rowspan-1:O.row,W=w>0?O.column+O.colspan-1:O.column;return fs.getAt(l,M+y,W+w).map(ge=>ge.element)}),Y0=(l,f,y)=>K0(l,f,y).map(w=>{const O=fs.filterItems(l,Nt(co,w));return Gt(O,M=>M.element)}),kC=(l,f)=>{const y=(w,O)=>zn(O,w);return fs.findItem(l,f,y).map(w=>w.element)},X0=(l,f,y)=>Pc(l).bind(w=>{const O=Wg(w);return or(O,l,f,y)}),Jt=(l,f,y)=>{const w=Wg(l);return Y0(w,f,y)},lh=(l,f,y,w,O)=>{const M=Wg(l),W=cn(l,y)?ke.some(f):kC(M,f),te=cn(l,O)?ke.some(w):kC(M,w);return W.bind(ge=>te.bind(Fe=>Y0(M,ge,Fe)))},_C=(l,f,y)=>{const w=Wg(l);return M1(w,f,y)},Wg=fs.fromTable;var CC=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],qf=()=>{const l=Fe=>Le.fromDom(Fe.dom.cloneNode(!1)),f=Fe=>Gn(Fe).dom,y=Fe=>Ps(Fe)?Cs(Fe)==="body"?!0:bt(CC,Cs(Fe)):!1,w=Fe=>Ps(Fe)?bt(["br","img","hr","input"],Cs(Fe)):!1,O=Fe=>Ps(Fe)&&cr(Fe,"contenteditable")==="false",M=(Fe,pt)=>Fe.dom.compareDocumentPosition(pt.dom),W=(Fe,pt)=>{const fn=ht(Fe);mr(pt,fn)},te=Fe=>{const pt=Cs(Fe);return bt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],pt)},ge=Fe=>Ps(Fe)?xe(Fe,"lang"):ke.none();return{up:ae({selector:Vo,closest:va,predicate:nn,all:Is}),down:ae({selector:bs,predicate:ct}),styles:ae({get:ca,getRaw:ec,set:ts,remove:ea}),attrs:ae({get:cr,set:ss,remove:we,copyTo:W}),insert:ae({before:aa,after:Qr,afterAll:Rs,append:er,appendAll:pa,prepend:Or,wrap:Xa}),remove:ae({unwrap:yi,remove:qr}),create:ae({nu:Le.fromTag,clone:l,text:Le.fromText}),query:ae({comparePosition:M,prevSibling:_a,nextSibling:ua}),property:ae({children:vo,name:Cs,parent:ds,document:f,isText:Qe,isComment:ys,isElement:Ps,isSpecial:te,getLanguage:ge,getText:jr,setText:ml,isBoundary:y,isEmptyTag:w,isNonEditable:O}),eq:cn,is:Qn}};const P1=(l,f,y,w)=>{const O=y[0],M=y.slice(1);return w(l,f,O,M)},Zg=(l,f,y)=>y.length>0?P1(l,f,y,Fy):ke.none(),Fy=(l,f,y,w)=>{const O=f(l,y);return rn(w,(M,W)=>{const te=f(l,W);return Lm(l,M,te)},O)},Lm=(l,f,y)=>f.bind(w=>y.filter(Nt(l.eq,w))),Wr=(l,f)=>Nt(l.eq,f),uf=(l,f,y,w=gn)=>{const O=[f].concat(l.up().all(f)),M=[y].concat(l.up().all(y)),W=pt=>ko(pt,w).fold(()=>pt,Bn=>pt.slice(0,Bn+1)),te=W(O),ge=W(M),Fe=U(te,pt=>_e(ge,Wr(l,pt)));return{firstpath:te,secondpath:ge,shared:Fe}},SC=Zg,Gf=uf,J0=qf(),qg=(l,f)=>SC(J0,(y,w)=>l(w),f),Q0=(l,f,y)=>Gf(J0,l,f,y),ew=l=>Vo(l,"table"),Ui=(l,f,y)=>{const w=O=>M=>y!==void 0&&y(M)||cn(M,O);return cn(l,f)?ke.some({boxes:ke.some([l]),start:l,finish:f}):ew(l).bind(O=>ew(f).bind(M=>{if(cn(O,M))return ke.some({boxes:Jt(O,l,f),start:l,finish:f});if(zn(O,M)){const W=yt(f,"td,th",w(O)),te=W.length>0?W[W.length-1]:f;return ke.some({boxes:lh(O,l,O,f,M),start:l,finish:te})}else if(zn(M,O)){const W=yt(l,"td,th",w(M)),te=W.length>0?W[W.length-1]:l;return ke.some({boxes:lh(M,l,O,f,M),start:l,finish:te})}else return Q0(l,f).shared.bind(W=>va(W,"table",y).bind(te=>{const ge=yt(f,"td,th",w(te)),Fe=ge.length>0?ge[ge.length-1]:f,pt=yt(l,"td,th",w(te)),fn=pt.length>0?pt[pt.length-1]:l;return ke.some({boxes:lh(te,l,O,f,M),start:fn,finish:Fe})}))}))},uh=(l,f)=>{const y=bs(l,f);return y.length>0?ke.some(y):ke.none()},NT=(l,f)=>U(l,y=>Mo(y,f)),Hm=(l,f,y)=>ni(l,f).bind(w=>ni(l,y).bind(O=>qg(ew,[w,O]).map(M=>({first:w,last:O,table:M})))),MT=(l,f)=>Vo(l,"table").bind(y=>ni(y,f).bind(w=>Ui(w,l).bind(O=>O.boxes.map(M=>({boxes:M,start:O.start,finish:O.finish}))))),Gg=(l,f,y,w,O)=>NT(l,O).bind(M=>X0(M,f,y).bind(W=>MT(W,w))),B1=(l,f)=>uh(l,f),PT=(l,f,y)=>Hm(l,f,y).bind(w=>{const O=ge=>cn(l,ge),M="thead,tfoot,tbody,table",W=Vo(w.first,M,O),te=Vo(w.last,M,O);return W.bind(ge=>te.bind(Fe=>cn(ge,Fe)?_C(w.table,w.first,w.last):ke.none()))}),Iy=vt,vd=l=>{const f=(w,O)=>xe(w,O).exists(M=>parseInt(M,10)>1),y=w=>f(w,"rowspan")||f(w,"colspan");return l.length>0&&st(l,y)?ke.some(l):ke.none()},xi=(l,f,y)=>f.length<=1?ke.none():PT(l,y.firstSelectedSelector,y.lastSelectedSelector).map(w=>({bounds:w,cells:f})),hn="data-mce-selected",dh="td["+hn+"],th["+hn+"]",Ec="["+hn+"]",tw="data-mce-first-selected",nw="td["+tw+"],th["+tw+"]",ow="data-mce-last-selected",Er="td["+ow+"],th["+ow+"]",BT=Ec,Kg={selected:hn,selectedSelector:dh,firstSelected:tw,firstSelectedSelector:nw,lastSelected:ow,lastSelectedSelector:Er},Kf=(l,f,y)=>({element:y,mergable:xi(f,l,Kg),unmergable:vd(l),selection:Iy(l)}),fh=(l,f,y)=>({element:l,clipboard:f,generators:y}),sw=(l,f,y,w)=>({selection:Iy(l),clipboard:y,generators:w}),df=l=>Pc(l).bind(f=>B1(f,Kg.firstSelectedSelector)).fold(ae(l),f=>f[0]),xC=l=>(f,y)=>{const w=Cs(f),O=w==="col"||w==="colgroup"?df(f):f;return va(O,l,y)},Ia=xC("th,td,caption"),$1=xC("th,td"),sr=l=>nu(l.model.table.getSelectedCells()),rw=l=>et(sr(l),f=>Mo(f,Kg.selectedSelector)),ji=l=>Pc(l[0]).map(f=>{const y=$o(f,BT);return zl(y),[y]}),mh=(l,f)=>Gt(f,y=>l.selection.serializer.serialize(y.dom,{})).join(""),wd=(l,f)=>{const y=l.getDoc(),w=Ze(Le.fromDom(l.getBody())),O=Le.fromTag("div",y);ss(O,"data-mce-bogus","all"),tr(O,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const M=Ut(w);pa(O,f),er(M,O);const W=O.dom.innerText;return qr(O),W},Iz=(l,f)=>{l.on("BeforeGetContent",y=>{const w=O=>{y.preventDefault(),ji(O).each(M=>{const W=y.format==="text"?wd(l,M):mh(l,M);y.content=W})};if(y.selection===!0){const O=rw(l);O.length>=1&&w(O)}}),l.on("BeforeSetContent",y=>{if(y.selection===!0&&y.paste===!0){const w=sr(l);G(w).each(O=>{Pc(O).each(M=>{const W=et(yC(y.content),ge=>Cs(ge)!=="meta"),te=Fn("table");if(xc(l)&&W.length===1&&te(W[0])){y.preventDefault();const ge=Le.fromDom(l.getDoc()),Fe=Vi(ge),pt=fh(O,W[0],Fe);f.pasteCells(M,pt).each(()=>{l.focus()})}})})}})},F1=(l,f)=>({element:l,offset:f}),$T=(l,f,y)=>l.property().isText(f)&&l.property().getText(f).trim().length===0||l.property().isComment(f)?y(f).bind(w=>$T(l,w,y).orThunk(()=>ke.some(w))):ke.none(),EC=(l,f)=>l.property().isText(f)?l.property().getText(f).length:l.property().children(f).length,Bu=(l,f)=>{const y=$T(l,f,l.query().prevSibling).getOr(f);if(l.property().isText(y))return F1(y,EC(l,y));const w=l.property().children(y);return w.length>0?Bu(l,w[w.length-1]):F1(y,EC(l,y))},kd=Bu,Ei=qf(),gh=l=>kd(Ei,l),I1=(l,f)=>{Rr(l)||Xt(l).each(w=>{const O=w.value/2;Vs(l,O,w.unit),Vs(f,O,w.unit)})},L1=l=>Gt(l,ae(0)),ph=(l,f,y,w,O)=>O(l.slice(0,f)).concat(w).concat(O(l.slice(y))),Vm=l=>(f,y,w,O)=>{if(l(w)){const M=Math.max(O,f[y]-Math.abs(w)),W=Math.abs(M-f[y]);return w>=0?W:-W}else return w},ff=Vm(l=>l<0),hh=Vm(at),Um=()=>{const l=(te,ge,Fe,pt,fn)=>{const Bn=ff(te,ge,pt,fn);return ph(te,ge,Fe+1,[Bn,0],L1)},f=(te,ge,Fe,pt)=>{const fn=(100+Fe)/100,Bn=Math.max(pt,(te[ge]+Fe)/fn);return Gt(te,(Rn,kn)=>(kn===ge?Bn:Rn/fn)-Rn)},y=(te,ge,Fe,pt,fn,Bn)=>Bn?f(te,ge,pt,fn):l(te,ge,Fe,pt,fn);return{resizeTable:(te,ge)=>te(ge),clampTableDelta:ff,calcLeftEdgeDeltas:y,calcMiddleDeltas:(te,ge,Fe,pt,fn,Bn,Rn)=>y(te,Fe,pt,fn,Bn,Rn),calcRightEdgeDeltas:(te,ge,Fe,pt,fn,Bn)=>{if(Bn)return f(te,Fe,pt,fn);{const Rn=ff(te,Fe,pt,fn);return L1(te.slice(0,Fe)).concat([Rn])}},calcRedestributedWidths:(te,ge,Fe,pt)=>{if(pt){const Bn=(ge+Fe)/ge,Rn=Gt(te,kn=>kn/Bn);return{delta:Bn*100-100,newSizes:Rn}}else return{delta:Fe,newSizes:te}}}},Yf=()=>{const l=(W,te,ge,Fe,pt)=>{const fn=Fe>=0?ge:te,Bn=hh(W,fn,Fe,pt);return ph(W,te,ge+1,[Bn,-Bn],L1)};return{resizeTable:(W,te,ge)=>{ge&&W(te)},clampTableDelta:(W,te,ge,Fe,pt)=>{if(pt){if(ge>=0)return ge;{const fn=Pe(W,(Bn,Rn)=>Bn+Rn-Fe,0);return Math.max(-fn,ge)}}else return ff(W,te,ge,Fe)},calcLeftEdgeDeltas:l,calcMiddleDeltas:(W,te,ge,Fe,pt,fn)=>l(W,ge,Fe,pt,fn),calcRightEdgeDeltas:(W,te,ge,Fe,pt,fn)=>{if(fn)return L1(W);{const Bn=Fe/W.length;return Gt(W,ae(Bn))}},calcRedestributedWidths:(W,te,ge,Fe)=>({delta:0,newSizes:W})}},Yg=l=>fs.fromTable(l).grid,Ly=Fn("th"),H1=l=>st(l,f=>Ly(f.element)),TC=(l,f)=>l&&f?"sectionCells":l?"section":"cells",aw=l=>{const f=l.section==="thead",y=Ys(yh(l.cells),"th");return l.section==="tfoot"?{type:"footer"}:f||y?{type:"header",subType:TC(f,y)}:{type:"body"}},yh=l=>{const f=et(l,y=>Ly(y.element));return f.length===0?ke.some("td"):f.length===l.length?ke.some("th"):ke.none()},AC=l=>{const f=Gt(l,O=>aw(O).type),y=bt(f,"header"),w=bt(f,"footer");if(!y&&!w)return ke.some("body");{const O=bt(f,"body");return y&&!O&&!w?ke.some("header"):!y&&!O&&w?ke.some("footer"):ke.none()}},FT=l=>Ce(l.all,f=>{const y=aw(f);return y.type==="header"?ke.from(y.subType):ke.none()}),V1=(l,f,y)=>ya(y(l.element,f),!0,l.isLocked),cw=(l,f)=>l.section!==f?Ra(l.element,l.cells,f,l.isNew):l,Hy=()=>({transformRow:cw,transformCell:(l,f,y)=>{const w=y(l.element,f),O=Cs(w)!=="td"?Pi(w,"td"):w;return ya(O,l.isNew,l.isLocked)}}),iw=()=>({transformRow:cw,transformCell:V1}),bh=()=>({transformRow:(l,f)=>cw(l,f==="thead"?"tbody":f),transformCell:V1}),vh={getTableSectionType:(l,f)=>{const y=fs.fromTable(l);switch(FT(y).getOr(f)){case"section":return Hy();case"sectionCells":return iw();case"cells":return bh()}},section:Hy,sectionCells:iw,cells:bh,fallback:()=>({transformRow:vt,transformCell:V1})},$u=(l,f,y,w)=>{y===w?we(l,f):ss(l,f,y)},Vy=(l,f,y)=>{pe(Ro(l,f)).fold(()=>Or(l,y),w=>Qr(w,y))},OC=(l,f)=>{const y=Mc(l,f).getOrThunk(()=>{const w=Le.fromTag(f,no(l).dom);return f==="thead"?Vy(l,"caption,colgroup",w):f==="colgroup"?Vy(l,"caption",w):er(l,w),w});return ha(y),y},DC=(l,f)=>{const y=[],w=[],O=Rn=>Gt(Rn,kn=>{kn.isNew&&y.push(kn.element);const so=kn.element;return ha(so),Te(kn.cells,ln=>{ln.isNew&&w.push(ln.element),$u(ln.element,"colspan",ln.colspan,1),$u(ln.element,"rowspan",ln.rowspan,1),er(so,ln.element)}),so}),M=Rn=>Yt(Rn,kn=>Gt(kn.cells,so=>($u(so.element,"span",so.colspan,1),so.element))),W=(Rn,kn)=>{const so=OC(l,kn),_n=(kn==="colgroup"?M:O)(Rn);pa(so,_n)},te=Rn=>{Mc(l,Rn).each(qr)},ge=(Rn,kn)=>{Rn.length>0?W(Rn,kn):te(kn)},Fe=[],pt=[],fn=[],Bn=[];return Te(f,Rn=>{switch(Rn.section){case"thead":Fe.push(Rn);break;case"tbody":pt.push(Rn);break;case"tfoot":fn.push(Rn);break;case"colgroup":Bn.push(Rn);break}}),ge(Bn,"colgroup"),ge(Fe,"thead"),ge(pt,"tbody"),ge(fn,"tfoot"),{newRows:y,newCells:w}},RC=l=>Gt(l,f=>{const y=Oa(f.element);return Te(f.cells,w=>{const O=Ja(w.element);$u(O,"colspan",w.colspan,1),$u(O,"rowspan",w.rowspan,1),er(y,O)}),y}),Xg=(l,f)=>Gt(l,y=>Ci(y,f)),Vz=(l,f)=>l[f],Jg=(l,f)=>{if(l.length===0)return 0;const y=l[0];return ko(l,O=>!f(y.element,O.element)).getOr(l.length)},wh=(l,f,y,w)=>{const O=Vz(l,f),M=O.section==="colgroup",W=Jg(O.cells.slice(y),w),te=M?1:Jg(Xg(l.slice(f),y),w);return{colspan:W,rowspan:te}},zC=(l,f)=>{const y=Gt(l,O=>Gt(O.cells,gn)),w=(O,M,W,te)=>{for(let ge=O;ge<O+W;ge++)for(let Fe=M;Fe<M+te;Fe++)y[ge][Fe]=!0};return Gt(l,(O,M)=>{const W=Yt(O.cells,(te,ge)=>{if(y[M][ge]===!1){const Fe=wh(l,M,ge,f);return w(M,ge,Fe.rowspan,Fe.colspan),[Bi(te.element,Fe.rowspan,Fe.colspan,te.isNew)]}else return[]});return Va(O.element,W,O.section,O.isNew)})},kh=(l,f,y)=>{const w=[];Te(l.colgroups,O=>{const M=[];for(let W=0;W<l.grid.columns;W++){const te=fs.getColumnAt(l,W).map(ge=>ya(ge.element,y,!1)).getOrThunk(()=>ya(f.colGap(),!0,!1));M.push(te)}w.push(Ra(O.element,M,"colgroup",y))});for(let O=0;O<l.grid.rows;O++){const M=[];for(let ge=0;ge<l.grid.columns;ge++){const Fe=fs.getAt(l,O,ge).map(pt=>ya(pt.element,y,pt.isLocked)).getOrThunk(()=>ya(f.gap(),!0,!1));M.push(Fe)}const W=l.all[O],te=Ra(W.element,M,W.section,y);w.push(te)}return w},IT=(l,f)=>kh(l,f,!1),lw=l=>zC(l,cn),NC=(l,f)=>Ce(l.all,y=>U(y.cells,w=>cn(f,w.element))),MC=(l,f,y)=>{const w=Gt(f.selection,M=>ku(M).bind(W=>NC(l,W)).filter(y)),O=Fi(w);return qd(O.length>0,O)},Gc=(l,f,y,w,O)=>(M,W,te,ge)=>{const Fe=fs.fromTable(M),pt=ke.from(ge==null?void 0:ge.section).getOrThunk(vh.fallback);return f(Fe,W).map(Bn=>{const Rn=IT(Fe,te),kn=l(Rn,Bn,cn,O(te),pt),so=ul(kn.grid),ln=lw(kn.grid);return{info:Bn,grid:ln,cursor:kn.cursor,lockedColumns:so}}).bind(Bn=>{const Rn=DC(M,Bn.grid),kn=ke.from(ge==null?void 0:ge.sizing).getOrThunk(()=>R.getTableSize(M)),so=ke.from(ge==null?void 0:ge.resize).getOrThunk(Yf);return y(M,Bn.grid,Bn.info,{sizing:kn,resize:so,section:pt}),w(M),we(M,fd),Bn.lockedColumns.length>0&&ss(M,fd,Bn.lockedColumns.join(",")),ke.some({cursor:Bn.cursor,newRows:Rn.newRows,newCells:Rn.newCells})})},Uz=(l,f)=>ku(f.element).bind(y=>NC(l,y).map(w=>Pt(ie({},w),{generators:f.generators,clipboard:f.clipboard}))),jm=(l,f)=>MC(l,f,at).map(y=>({cells:y,generators:f.generators,clipboard:f.clipboard})),LT=(l,f)=>f.mergable,Xf=(l,f)=>f.unmergable,gl=(l,f)=>MC(l,f,at),_d=(l,f)=>MC(l,f,y=>!y.isLocked),Qg=(l,f)=>NC(l,f).exists(y=>!y.isLocked),PC=(l,f)=>st(f,y=>Qg(l,y)),Uy=(l,f)=>LT(l,f).filter(y=>PC(l,y.cells)),U1=(l,f)=>Xf(l,f).filter(y=>PC(l,y)),Wm=(l,f,y,w)=>{const O=dr(l).rows;if(O.length===0)return l;for(let M=f.startRow;M<=f.finishRow;M++)for(let W=f.startCol;W<=f.finishCol;W++){const te=O[M],ge=Ci(te,W).isLocked;da(te,W,ya(w(),!1,ge))}return l},uw=(l,f,y,w)=>{const O=dr(l).rows;let M=!0;for(let W=0;W<O.length;W++)for(let te=0;te<Li(O[0]);te++){const ge=O[W],Fe=Ci(ge,te),pt=Fe.element,fn=y(pt,f);fn&&!M?da(ge,te,ya(w(),!0,Fe.isLocked)):fn&&(M=!1)}return l},Cd=(l,f)=>Pe(l,(y,w)=>_e(y,O=>f(O.element,w.element))?y:y.concat([w]),[]),mf=(l,f,y,w)=>(f>0&&f<l[0].cells.length&&Te(l,O=>{const M=O.cells[f-1];let W=0;const te=w();for(;O.cells.length>f+W&&y(M.element,O.cells[f+W].element);)da(O,f+W,ya(te,!0,O.cells[f+W].isLocked)),W++}),l),HT=(l,f,y,w)=>{const O=dr(l).rows;if(f>0&&f<O.length){const M=O[f-1].cells,W=Cd(M,y);Te(W,te=>{let ge=ke.none();for(let Fe=f;Fe<O.length;Fe++)for(let pt=0;pt<Li(O[0]);pt++){const fn=O[Fe],Bn=Ci(fn,pt);y(Bn.element,te.element)&&(ge.isNone()&&(ge=ke.some(w())),ge.each(kn=>{da(fn,pt,ya(kn,!0,Bn.isLocked))}))}})}return l},pc=l=>{const f=M=>M(l),y=ae(l),w=()=>O,O={tag:!0,inner:l,fold:(M,W)=>W(l),isValue:at,isError:gn,map:M=>j1.value(M(l)),mapError:w,bind:f,exists:f,forall:f,getOr:y,or:w,getOrThunk:y,orThunk:w,getOrDie:y,each:M=>{M(l)},toOptional:()=>ke.some(l)};return O},jy=l=>{const f=()=>y,y={tag:!1,inner:l,fold:(w,O)=>w(l),isValue:gn,isError:at,map:f,mapError:w=>j1.error(w(l)),bind:f,exists:gn,forall:at,getOr:vt,or:vt,getOrThunk:Tn,orThunk:Tn,getOrDie:Zt(String(l)),each:Me,toOptional:ke.none};return y},j1={value:pc,error:jy,fromOption:(l,f)=>l.fold(()=>jy(f),pc)},dw=(l,f,y)=>{if(l.row>=f.length||l.column>Li(f[0]))return j1.error("invalid start address out of table bounds, row: "+l.row+", column: "+l.column);const w=f.slice(l.row),O=w[0].cells.slice(l.column),M=Li(y[0]),W=y.length;return j1.value({rowDelta:w.length-W,colDelta:O.length-M})},ep=(l,f)=>{const y=Li(l[0]),w=Li(f[0]);return{rowDelta:0,colDelta:y-w}},Zm=(l,f)=>{const y=l.length,w=f.length;return{rowDelta:y-w,colDelta:0}},Fu=(l,f,y,w)=>{const O=f.section==="colgroup"?y.col:y.cell;return Ht(l,M=>ya(O(),!0,w(M)))},su=(l,f,y,w)=>{const O=l[l.length-1];return l.concat(Ht(f,()=>{const M=O.section==="colgroup"?y.colgroup:y.row,W=el(O,M,vt),te=Fu(W.cells.length,W,y,ge=>Un(w,ge.toString()));return Au(W,te)}))},BC=(l,f,y,w)=>Gt(l,O=>{const M=Fu(f,O,y,gn);return Rg(O,w,M)}),VT=(l,f,y)=>Gt(l,w=>Pe(y,(O,M)=>{const W=Fu(1,w,f,at)[0];return Jo(O,M,W)},w)),gf=(l,f,y)=>{const w=f.colDelta<0?BC:vt,O=f.rowDelta<0?su:vt,M=ul(l),W=Li(l[0]),te=_e(M,pt=>pt===W-1),ge=w(l,Math.abs(f.colDelta),y,te?W-1:W),Fe=ul(ge);return O(ge,Math.abs(f.rowDelta),y,re(Fe,at))},Jf=(l,f,y,w)=>{const O=Ci(l[f],y),M=Nt(w,O.element),W=l[f];return l.length>1&&Li(W)>1&&(y>0&&M(si(W,y-1))||y<W.cells.length-1&&M(si(W,y+1))||f>0&&M(si(l[f-1],y))||f<l.length-1&&M(si(l[f+1],y)))},W1=(l,f,y,w,O,M)=>{const W=l.row,te=l.column,ge=y.length,Fe=Li(y[0]),pt=W+ge,fn=te+Fe+M.length,Bn=re(M,at);for(let Rn=W;Rn<pt;Rn++){let kn=0;for(let so=te;so<fn;so++){if(Bn[so]){kn++;continue}Jf(f,Rn,so,O)&&uw(f,si(f[Rn],so),O,w.cell);const ln=so-te-kn,_n=Ci(y[Rn-W],ln),xn=_n.element,Io=w.replace(xn);da(f[Rn],so,ya(Io,!0,_n.isLocked))}}return f},As=(l,f,y)=>{const w=Li(f[0]),O=dr(f).cols.length+l.row,M=Ht(w-l.column,te=>te+l.column),W=U(M,te=>st(y,ge=>ge!==te)).getOr(w-1);return{row:O,column:W}},li=(l,f,y)=>et(y,w=>w>=l.column&&w<=Li(f[0])+l.column),tp=(l,f,y,w,O)=>{const M=ul(f),W=As(l,f,M),te=dr(y).rows,ge=li(W,te,M);return dw(W,f,te).map(pt=>{const fn=Pt(ie({},pt),{colDelta:pt.colDelta-ge.length}),Bn=gf(f,fn,w),Rn=ul(Bn),kn=li(W,te,Rn);return W1(W,Bn,te,w,O,kn)})},_h=(l,f,y,w,O)=>{mf(f,l,O,w.cell);const M=Zm(y,f),W=gf(y,M,w),te=Zm(f,W),ge=gf(f,te,w);return Gt(ge,(Fe,pt)=>Rg(Fe,l,W[pt].cells))},Nr=(l,f,y,w,O)=>{HT(f,l,O,w.cell);const M=ul(f),W=ep(f,y),te=Pt(ie({},W),{colDelta:W.colDelta-M.length}),ge=gf(f,te,w),{cols:Fe,rows:pt}=dr(ge),fn=ul(ge),Bn=ep(y,f),Rn=Pt(ie({},Bn),{colDelta:Bn.colDelta+fn.length}),kn=VT(y,w,fn),so=gf(kn,Rn,w);return[...Fe,...pt.slice(0,l),...so,...pt.slice(l,pt.length)]},np=(l,f,y,w)=>el(l,O=>w(O,y),f),Qf=(l,f,y,w,O)=>{const{rows:M,cols:W}=dr(l),te=M.slice(0,f),ge=M.slice(f),Fe=np(M[y],(pt,fn)=>f>0&&f<M.length&&w(si(M[f-1],fn),si(M[f],fn))?Ci(M[f],fn):ya(O(pt.element,w),!0,pt.isLocked),w,O);return[...W,...te,Fe,...ge]},$C=(l,f,y,w,O,M,W)=>{if(y==="colgroup"||!w){const te=Ci(l,O);return ya(W(te.element,M),!0,!1)}else return Ci(l,f)},UT=(l,f,y,w,O)=>Gt(l,M=>{const W=f>0&&f<Li(M)&&w(si(M,f-1),si(M,f)),te=$C(M,f,M.section,W,y,w,O);return Jo(M,f,te)}),FC=(l,f)=>Yt(l,y=>{const w=y.cells,O=rn(f,(M,W)=>W>=0&&W<M.length?M.slice(0,W).concat(M.slice(W+1)):M,w);return O.length>0?[Ra(y.element,O,y.section,y.isNew)]:[]}),Mr=(l,f,y)=>{const{rows:w,cols:O}=dr(l);return[...O,...w.slice(0,f),...w.slice(y+1)]},Wy=(l,f,y,w)=>si(l[f],y)!==void 0&&f>0&&w(si(l[f-1],y),si(l[f],y)),jT=(l,f,y)=>f>0&&y(si(l,f-1),si(l,f)),IC=(l,f,y,w)=>Wy(l,f,y,w)||jT(l[f],y,w),op=(l,f)=>st(f,vt)&&H1(l.cells)?at:(w,O,M)=>!(Cs(w.element)==="th"&&f[M]),Iu=(l,f)=>st(f,vt)&&H1(l)?at:(w,O,M)=>!(Cs(w.element)==="th"&&f[O]),Zy=(l,f,y,w)=>{const O=W=>W==="row"?na(f):Rr(f),M=W=>O(W)?`${W}group`:W;return l?Ly(f)?M(y):null:w&&Ly(f)?M(y==="row"?"col":"row"):null},em=(l,f)=>(y,w,O)=>ke.some(Zy(l,y.element,"col",f[O])),Xn=(l,f)=>(y,w)=>ke.some(Zy(l,y.element,"row",f[w])),LC=(l,f,y)=>ya(y(l.element,f),!0,l.isLocked),Z1=(l,f,y,w,O,M,W)=>{const te=ge=>_e(f,Fe=>y(ge.element,Fe.element));return Gt(l,(ge,Fe)=>Ou(ge,(pt,fn)=>{if(te(pt)){const Bn=W(pt,Fe,fn)?O(pt,y,w):pt;return M(Bn,Fe,fn).each(Rn=>{yr(Bn.element,{scope:ke.from(Rn)})}),Bn}else return pt}))},HC=(l,f,y)=>Yt(l,(w,O)=>IC(l,O,f,y)?[]:[Ci(w,f)]),VC=(l,f,y)=>{const w=l[f];return Yt(w.cells,(O,M)=>IC(l,f,M,y)?[]:[O])},fw=(l,f,y,w,O)=>{const M=dr(l).rows,W=Yt(f,pt=>HC(M,pt,w)),te=Gt(M,pt=>H1(pt.cells)),ge=Iu(W,te),Fe=Xn(y,te);return Z1(l,W,w,O,LC,Fe,ge)},mw=(l,f,y,w,O,M,W)=>{const{cols:te,rows:ge}=dr(l),Fe=ge[f[0]],pt=Yt(f,ln=>VC(ge,ln,O)),fn=Gt(Fe.cells,(ln,_n)=>H1(HC(ge,_n,O))),Bn=[...ge];Te(f,ln=>{Bn[ln]=W.transformRow(ge[ln],y)});const Rn=[...te,...Bn],kn=op(Fe,fn),so=em(w,fn);return Z1(Rn,pt,O,M,W.transformCell,so,kn)},Ch=(l,f,y,w)=>{const O=dr(l).rows,M=Gt(f,W=>Ci(O[W.row],W.column));return Z1(l,M,y,w,LC,ke.none,at)},sp={generate:l=>{if(!Re(l))throw new Error("cases must be an array");if(l.length===0)throw new Error("there must be at least one case");const f=[],y={};return Te(l,(w,O)=>{const M=Oe(w);if(M.length!==1)throw new Error("one and only one name per case");const W=M[0],te=w[W];if(y[W]!==void 0)throw new Error("duplicate key detected:"+W);if(W==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Re(te))throw new Error("case arguments must be an array");f.push(W),y[W]=(...ge)=>{const Fe=ge.length;if(Fe!==te.length)throw new Error("Wrong number of arguments to case "+W+". Expected "+te.length+" ("+te+"), got "+Fe);return{fold:(...fn)=>{if(fn.length!==l.length)throw new Error("Wrong number of arguments to fold. Expected "+l.length+", got "+fn.length);return fn[O].apply(null,ge)},match:fn=>{const Bn=Oe(fn);if(f.length!==Bn.length)throw new Error("Wrong number of arguments to match. Expected: "+f.join(",")+`
Actual: `+Bn.join(","));if(!st(f,kn=>bt(Bn,kn)))throw new Error("Not all branches were specified when using match. Specified: "+Bn.join(", ")+`
Required: `+f.join(", "));return fn[W].apply(null,ge)},log:fn=>{console.log(fn,{constructors:f,constructor:W,params:ge})}}}}),y}},Gy=sp.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Sh=ie({},Gy),q1=(l,f)=>l.length===0?Sh.none():l.length===1?Sh.only(0):f===0?Sh.left(0,1):f===l.length-1?Sh.right(f-1,f):f>0&&f<l.length-1?Sh.middle(f-1,f,f+1):Sh.none(),Lu=(l,f,y,w,O)=>{const M=l.slice(0),W=q1(l,f),te=ae(Gt(M,ae(0))),ge=Bn=>w.singleColumnWidth(M[Bn],y),Fe=(Bn,Rn)=>O.calcLeftEdgeDeltas(M,Bn,Rn,y,w.minCellWidth(),w.isRelative),pt=(Bn,Rn,kn)=>O.calcMiddleDeltas(M,Bn,Rn,kn,y,w.minCellWidth(),w.isRelative),fn=(Bn,Rn)=>O.calcRightEdgeDeltas(M,Bn,Rn,y,w.minCellWidth(),w.isRelative);return W.fold(te,ge,Fe,pt,fn)},WT=(l,f,y)=>{let w=0;for(let O=l;O<f;O++)w+=y[O]!==void 0?y[O]:0;return w},G1=(l,f)=>{const y=fs.justCells(l);return Gt(y,w=>{const O=WT(w.column,w.column+w.colspan,f);return{element:w.element,width:O,colspan:w.colspan}})},K1=(l,f)=>{const y=fs.justColumns(l);return Gt(y,(w,O)=>({element:w.element,width:f[O],colspan:w.colspan}))},ZT=(l,f)=>Gt(l.all,(y,w)=>({element:y.element,height:f[w]})),qT=l=>rn(l,(f,y)=>f+y,0),UC=(l,f)=>fs.hasColumns(l)?K1(l,f):G1(l,f),Ky=(l,f,y)=>{const w=UC(l,f);Te(w,O=>{y.setElementWidth(O.element,O.width)})},jC=(l,f,y,w,O)=>{const M=fs.fromTable(l),W=O.getCellDelta(f),te=O.getWidths(M,O),ge=y===M.grid.columns-1,Fe=w.clampTableDelta(te,y,W,O.minCellWidth(),ge),pt=Lu(te,y,Fe,O,w),fn=Gt(pt,(Bn,Rn)=>Bn+te[Rn]);Ky(M,fn,O),w.resizeTable(O.adjustTableWidth,Fe,ge)},gw=(l,f,y)=>{const w=fs.fromTable(l),O=nh(w,l),M=Gt(O,(ge,Fe)=>y===Fe?Math.max(f+ge,Gd()):ge),W=ZT(w,M);Te(W,ge=>{md(ge.element,ge.height)}),Te(fs.justCells(w),ge=>{Pg(ge.element)});const te=qT(M);md(l,te)},GT=(l,f,y,w,O)=>{const M=fs.generate(f),W=w.getWidths(M,w),te=w.pixelWidth(),{newSizes:ge,delta:Fe}=O.calcRedestributedWidths(W,te,y.pixelDelta,w.isRelative);Ky(M,ge,w),w.adjustTableWidth(Fe)},Yy=(l,f,y,w)=>{const O=fs.generate(f),M=w.getWidths(O,w);Ky(O,M,w)},xh=l=>Pe(l,(y,w)=>_e(y,M=>M.column===w.column)?y:y.concat([w]),[]).sort((y,w)=>y.column-w.column),qm=Fn("col"),Y1=Fn("colgroup"),pw=l=>Cs(l)==="tr"||Y1(l),X1=l=>{const f=Ca(l,"colspan",1),y=Ca(l,"rowspan",1);return{element:l,colspan:f,rowspan:y}},hw=(l,f=X1)=>{const y=te=>qm(te.element)?l.col(te):l.cell(te),w=te=>Y1(te.element)?l.colgroup(te):l.row(te),O=te=>{if(pw(te))return w({element:te});{const ge=te,Fe=y(f(ge));return M=ke.some({item:ge,replacement:Fe}),Fe}};let M=ke.none();return{getOrInit:(te,ge)=>M.fold(()=>O(te),Fe=>ge(te,Fe.item)?Fe.replacement:O(te))}},yw=l=>f=>{const y=[],w=(W,te)=>U(y,ge=>te(ge.item,W)),O=W=>{const te=l==="td"?{scope:null}:{},ge=f.replace(W,l,te);return y.push({item:W,sub:ge}),ge};return{replaceOrInit:(W,te)=>{if(pw(W)||qm(W))return W;{const ge=W;return w(ge,te).fold(()=>O(ge),Fe=>te(W,Fe.item)?Fe.sub:O(ge))}}}},bw=l=>xe(l,"scope").map(f=>f.substr(0,3)),pl={modification:hw,transform:yw,merging:l=>({unmerge:w=>{const O=bw(w);return O.each(M=>ss(w,"scope",M)),()=>{const M=l.cell({element:w,colspan:1,rowspan:1});return ea(M,"width"),ea(w,"width"),O.each(W=>ss(M,"scope",W)),M}},merge:w=>{const O=()=>{const M=Fi(Gt(w,bw));if(M.length===0)return ke.none();{const W=M[0],te=["row","col"];return _e(M,Fe=>Fe!==W&&bt(te,Fe))?ke.none():ke.from(W)}};return ea(w[0],"width"),O().fold(()=>we(w[0],"scope"),M=>ss(w[0],"scope",M+"group")),ae(w[0])}})},rp=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ZC=(l,f)=>{const y=l.property().name(f);return bt(["ol","ul"],y)},Gm=(l,f)=>{const y=l.property().name(f);return bt(rp,y)},ap=(l,f)=>bt(["br","img","hr","input"],l.property().name(f)),vw=qf(),Ft=l=>Gm(vw,l),Hu=l=>ZC(vw,l),cp=l=>ap(vw,l),KT=l=>{const f=Fn("br"),y=ge=>st(ge,Fe=>f(Fe)||Qe(Fe)&&jr(Fe).trim().length===0),w=ge=>Cs(ge)==="li"||nn(ge,Hu).isSome(),O=ge=>ua(ge).map(Fe=>Ft(Fe)?!0:cp(Fe)?Cs(Fe)!=="img":!1).getOr(!1),M=ge=>Lg(ge).bind(Fe=>{const pt=O(Fe);return ds(Fe).map(fn=>pt===!0||w(fn)||f(Fe)||Ft(fn)&&!cn(ge,fn)?[]:[Le.fromTag("br")])}).getOr([]),te=(()=>{const ge=Yt(l,Fe=>{const pt=vo(Fe);return y(pt)?[]:pt.concat(M(Fe))});return ge.length===0?[Le.fromTag("br")]:ge})();ha(l[0]),pa(l[0],te)},Xy=l=>Fm(l,!0),ru=l=>{_u(l).length===0&&qr(l)},Eh=(l,f)=>({grid:l,cursor:f}),qC=l=>Ce(l,f=>Ce(f.cells,y=>{const w=y.element;return qd(Xy(w),w)})),GC=(l,f,y)=>{var w,O;const M=dr(l).rows;return ke.from((O=(w=M[f])===null||w===void 0?void 0:w.cells[y])===null||O===void 0?void 0:O.element).filter(Xy).orThunk(()=>qC(M))},ui=(l,f,y)=>{const w=GC(l,f,y);return Eh(l,w)},J1=l=>Pe(l,(y,w)=>_e(y,M=>M.row===w.row)?y:y.concat([w]),[]).sort((y,w)=>y.row-w.row),KC=(l,f,y,w)=>{const O=f[0].row,M=J1(f),W=rn(M,(te,ge)=>({grid:Qf(te.grid,O,ge.row+te.delta,y,w.getOrInit),delta:te.delta+1}),{grid:l,delta:0}).grid;return ui(W,O,f[0].column)},YT=(l,f,y,w)=>{const O=J1(f),M=O[O.length-1],W=M.row+M.rowspan,te=rn(O,(ge,Fe)=>Qf(ge,W,Fe.row,y,w.getOrInit),l);return ui(te,W,f[0].column)},YC=(l,f,y,w)=>{const O=f.details,M=xh(O),W=M[0].column,te=rn(M,(ge,Fe)=>({grid:UT(ge.grid,W,Fe.column+ge.delta,y,w.getOrInit),delta:ge.delta+1}),{grid:l,delta:0}).grid;return ui(te,O[0].row,W)},XT=(l,f,y,w)=>{const O=f.details,M=O[O.length-1],W=M.column+M.colspan,te=xh(O),ge=rn(te,(Fe,pt)=>UT(Fe,W,pt.column,y,w.getOrInit),l);return ui(ge,O[0].row,W)},XC=(l,f,y,w)=>{const O=xh(f),M=Gt(O,te=>te.column),W=fw(l,M,!0,y,w.replaceOrInit);return ui(W,f[0].row,f[0].column)},JT=(l,f,y,w)=>{const O=Ch(l,f,y,w.replaceOrInit);return ui(O,f[0].row,f[0].column)},QT=(l,f,y,w)=>{const O=xh(f),M=Gt(O,te=>te.column),W=fw(l,M,!1,y,w.replaceOrInit);return ui(W,f[0].row,f[0].column)},JC=(l,f,y,w)=>{const O=Ch(l,f,y,w.replaceOrInit);return ui(O,f[0].row,f[0].column)},Th=(l,f)=>(y,w,O,M,W)=>{const te=J1(w),ge=Gt(te,pt=>pt.row),Fe=mw(y,ge,l,f,O,M.replaceOrInit,W);return ui(Fe,w[0].row,w[0].column)},eA=Th("thead",!0),QC=Th("tbody",!1),tA=Th("tfoot",!1),la=(l,f,y,w)=>{const O=xh(f.details),M=FC(l,Gt(O,te=>te.column)),W=M.length>0?M[0].cells.length-1:0;return ui(M,O[0].row,Math.min(O[0].column,W))},ww=(l,f,y,w)=>{const O=J1(f),M=Mr(l,O[0].row,O[O.length-1].row),W=Math.max(dr(M).rows.length-1,0);return ui(M,Math.min(f[0].row,W),f[0].column)},eS=(l,f,y,w)=>{const O=f.cells;KT(O);const M=Wm(l,f.bounds,y,w.merge(O));return Eh(M,ke.from(O[0]))},tS=(l,f,y,w)=>{const M=rn(f,(W,te)=>uw(W,te,y,w.unmerge(te)),l);return Eh(M,ke.from(f[0]))},kw=(l,f,y,w)=>{const M=((ge,Fe)=>{const pt=fs.fromTable(ge);return kh(pt,Fe,!0)})(f.clipboard,f.generators),W=ti(f.row,f.column);return tp(W,l,M,f.generators,y).fold(()=>Eh(l,ke.some(f.element)),ge=>ui(ge,f.row,f.column))},hc=(l,f,y)=>{const w=Bf(l,y.section),O=fs.generate(w);return kh(O,f,!0)},Nl=(l,f,y,w)=>{const O=dr(l).rows,M=f.cells[0].column,W=O[f.cells[0].row],te=hc(f.clipboard,f.generators,W),ge=_h(M,l,te,f.generators,y);return ui(ge,f.cells[0].row,f.cells[0].column)},nS=(l,f,y,w)=>{const O=dr(l).rows,M=f.cells[f.cells.length-1].column+f.cells[f.cells.length-1].colspan,W=O[f.cells[0].row],te=hc(f.clipboard,f.generators,W),ge=_h(M,l,te,f.generators,y);return ui(ge,f.cells[0].row,M)},_w=(l,f,y,w)=>{const O=dr(l).rows,M=f.cells[0].row,W=O[M],te=hc(f.clipboard,f.generators,W),ge=Nr(M,l,te,f.generators,y);return ui(ge,f.cells[0].row,f.cells[0].column)},Cw=(l,f,y,w)=>{const O=dr(l).rows,M=f.cells[f.cells.length-1].row+f.cells[f.cells.length-1].rowspan,W=O[f.cells[0].row],te=hc(f.clipboard,f.generators,W),ge=Nr(M,l,te,f.generators,y);return ui(ge,M,f.cells[0].column)},nA=(l,f)=>{const y=fs.fromTable(l);return gl(y,f).bind(O=>{const M=O[O.length-1],W=O[0].column,te=M.column+M.colspan,ge=wt(Gt(y.all,Fe=>et(Fe.cells,pt=>pt.column>=W&&pt.column<te)));return yh(ge)}).getOr("")},Q1=(l,f)=>{const y=fs.fromTable(l);return gl(y,f).bind(yh).getOr("")},oS=(l,f)=>{const y=fs.fromTable(l);return gl(y,f).bind(O=>{const M=O[O.length-1],W=O[0].row,te=M.row+M.rowspan,ge=y.all.slice(W,te);return AC(ge)}).getOr("")},Jy=(l,f,y,w)=>Yy(l,f,y,w.sizing),sS=(l,f,y,w)=>GT(l,f,y,w.sizing,w.resize),ac=(l,f)=>_e(f,y=>y.column===0&&y.isLocked),oA=(l,f)=>_e(f,y=>y.column+y.colspan>=l.grid.columns&&y.isLocked),au=(l,f)=>{const y=of(l),w=xh(f);return Pe(w,(O,M)=>{const te=y[M.column].map(Tu).getOr(0);return O+te},0)},Yr=l=>(f,y)=>gl(f,y).filter(w=>!(l?ac:oA)(f,w)).map(w=>({details:w,pixelDelta:au(f,w)})),pf=(l,f)=>_d(l,f).map(y=>({details:y,pixelDelta:-au(l,y)})),Ah=l=>(f,y)=>jm(f,y).filter(w=>!(l?ac:oA)(f,w.cells)),Sw=pl.transform("th"),Qy=pl.transform("td"),rS=Gc(KC,gl,Me,Me,pl.modification),Km=Gc(YT,gl,Me,Me,pl.modification),Kc=Gc(YC,Yr(!0),sS,Me,pl.modification),hf=Gc(XT,Yr(!1),sS,Me,pl.modification),aS=Gc(la,pf,sS,ru,pl.modification),sA=Gc(ww,gl,Me,ru,pl.modification),xw=Gc(XC,_d,Me,Me,Sw),ev=Gc(QT,_d,Me,Me,Qy),Ew=Gc(eA,_d,Me,Me,Sw),Tw=Gc(QC,_d,Me,Me,Qy),tv=Gc(tA,_d,Me,Me,Qy),Jn=Gc(JT,_d,Me,Me,Sw),eb=Gc(JC,_d,Me,Me,Qy),Aw=Gc(eS,Uy,Jy,Me,pl.merging),cS=Gc(tS,U1,Jy,Me,pl.merging),rA=Gc(kw,Uz,Jy,Me,pl.modification),Yc=Gc(Nl,Ah(!0),Me,Me,pl.modification),iS=Gc(nS,Ah(!1),Me,Me,pl.modification),Ym=Gc(_w,jm,Me,Me,pl.modification),lS=Gc(Cw,jm,Me,Me,pl.modification),Ow=nA,uS=Q1,Xc=oS,Xm=(l,f)=>l.dispatch("NewRow",{node:f}),Dw=(l,f)=>l.dispatch("NewCell",{node:f}),ip=(l,f,y)=>{l.dispatch("TableModified",Pt(ie({},y),{table:f}))},aA=(l,f,y,w,O)=>{l.dispatch("TableSelectionChange",{cells:f,start:y,finish:w,otherCells:O})},cc=l=>{l.dispatch("TableSelectionClear")},ic=(l,f,y,w,O)=>{l.dispatch("ObjectResizeStart",{target:f,width:y,height:w,origin:O})},Vc=(l,f,y,w,O)=>{l.dispatch("ObjectResized",{target:f,width:y,height:w,origin:O})},lc={structure:!1,style:!0},Xs={structure:!0,style:!1},Ga={structure:!0,style:!0},nv=(l,f)=>bd(l)?R.percentageSize(f):Hc(l)?R.pixelSize(f):R.getTableSize(f),Rw=(l,f,y)=>{const w=uc=>Cs(sl(uc))==="table",O=uc=>!w(l)||Yg(uc).rows>1,M=uc=>!w(l)||Yg(uc).columns>1,W=Pm(l),te=Ug(l)?Me:I1,ge=uc=>{switch(Na(l)){case"section":return vh.section();case"sectionCells":return vh.sectionCells();case"cells":return vh.cells();default:return vh.getTableSectionType(uc,"section")}},Fe=(uc,jv)=>jv.cursor.fold(()=>{const am=_u(uc);return G(am).filter(kt).map(ls=>{y.clearSelectedCells(uc.dom);const fi=l.dom.createRng();return fi.selectNode(ls.dom),l.selection.setRng(fi),ss(ls,"data-mce-selected","1"),fi})},am=>{const ls=gh(am),fi=l.dom.createRng();return fi.setStart(ls.element.dom,ls.offset),fi.setEnd(ls.element.dom,ls.offset),l.selection.setRng(fi),y.clearSelectedCells(uc.dom),ke.some(fi)}),pt=(uc,jv,am,ls)=>(fi,Wv,Zv=!1)=>{zl(fi);const k2=Le.fromDom(l.getDoc()),dg=Hi(am,k2,W),Op={sizing:nv(l,fi),resize:Ug(l)?Um():Yf(),section:ge(fi)};return jv(fi)?uc(fi,Wv,dg,Op).bind(qv=>{f.refresh(fi.dom),Te(qv.newRows,Ob=>{Xm(l,Ob.dom)}),Te(qv.newCells,Ob=>{Dw(l,Ob.dom)});const cO=Fe(fi,qv);return kt(fi)&&(zl(fi),Zv||ip(l,fi.dom,ls)),cO.map(Ob=>({rng:Ob,effect:ls}))}):ke.none()},fn=pt(sA,O,Me,Xs),Bn=pt(aS,M,Me,Xs),Rn=pt(rS,at,Me,Xs),kn=pt(Km,at,Me,Xs),so=pt(Kc,at,te,Xs),ln=pt(hf,at,te,Xs),_n=pt(Aw,at,Me,Xs),xn=pt(cS,at,Me,Xs),Io=pt(Yc,at,Me,Xs),Ts=pt(iS,at,Me,Xs),rr=pt(Ym,at,Me,Xs),Pr=pt(lS,at,Me,Xs),ra=pt(rA,at,Me,Ga),Il=pt(Jn,at,Me,Xs),Ad=pt(eb,at,Me,Xs),Ap=pt(xw,at,Me,Xs),wf=pt(ev,at,Me,Xs),wr=pt(Ew,at,Me,Xs),Zi=pt(Tw,at,Me,Xs),qi=pt(tv,at,Me,Xs);return{deleteRow:fn,deleteColumn:Bn,insertRowsBefore:Rn,insertRowsAfter:kn,insertColumnsBefore:so,insertColumnsAfter:ln,mergeCells:_n,unmergeCells:xn,pasteColsBefore:Io,pasteColsAfter:Ts,pasteRowsBefore:rr,pasteRowsAfter:Pr,pasteCells:ra,makeCellsHeader:Il,unmakeCellsHeader:Ad,makeColumnsHeader:Ap,unmakeColumnsHeader:wf,makeRowsHeader:wr,makeRowsBody:Zi,makeRowsFooter:qi,getTableRowType:Xc,getTableCellType:uS,getTableColType:Ow}},zw=(l,f,y)=>{const w=Ca(l,f,1);y===1||w<=1?we(l,f):ss(l,f,Math.min(y,w))},Nw=(l,f)=>y=>{const w=y.column+y.colspan-1,O=y.column;return w>=l&&O<f},dS=(l,f,y)=>{if(fs.hasColumns(l)){const w=et(fs.justColumns(l),Nw(f,y)),O=Gt(w,W=>{const te=Ja(W.element);return zw(te,"span",y-f),te}),M=Le.fromTag("colgroup");return pa(M,O),[M]}else return[]},fS=(l,f,y)=>Gt(l.all,w=>{const O=et(w.cells,Nw(f,y)),M=Gt(O,te=>{const ge=Ja(te.element);return zw(ge,"colspan",y-f),ge}),W=Le.fromTag("tr");return pa(W,M),W}),tb=(l,f)=>{const y=fs.fromTable(l);return _d(y,f).map(O=>{const M=O[O.length-1],W=O[0].column,te=M.column+M.colspan,ge=dS(y,W,te),Fe=fS(y,W,te);return[...ge,...Fe]})},ov=(l,f,y)=>{const w=fs.fromTable(l);return gl(w,f).bind(M=>{const W=kh(w,y,!1),ge=dr(W).rows.slice(M[0].row,M[M.length-1].row+M[M.length-1].rowspan),Fe=Yt(ge,fn=>{const Bn=et(fn.cells,Rn=>!Rn.isLocked);return Bn.length>0?[Pt(ie({},fn),{cells:Bn})]:[]}),pt=lw(Fe);return qd(pt.length>0,pt)}).map(M=>RC(M))},nb=sp.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),mS=(l,f,y)=>{const w=y.substring(0,y.length-l.length),O=parseFloat(w);return w===O.toString()?f(O):nb.invalid(y)},cA=l=>wc(l,"%")?mS("%",nb.percent,l):wc(l,"px")?mS("px",nb.pixels,l):nb.invalid(l),lp=Pt(ie({},nb),{from:cA}),hl=(l,f)=>Gt(l,y=>lp.from(y).fold(()=>y,O=>O/f*100+"%",O=>O+"%")),iA=(l,f,y)=>{const w=y/f;return Gt(l,O=>lp.from(O).fold(()=>O,W=>W*w+"px",W=>W/100*y+"px"))},lA=(l,f)=>{const y=l.fold(()=>ae(""),w=>{const O=w/f;return ae(O+"px")},()=>{const w=100/f;return ae(w+"%")});return Ht(f,y)},cu=(l,f,y)=>l.fold(()=>f,w=>iA(f,y,w),w=>hl(f,y)),Oh=(l,f,y)=>{const w=lp.from(y),O=st(l,M=>M==="0px")?lA(w,l.length):cu(w,l,f);return Mw(O)},up=(l,f)=>l.length===0?f:rn(l,(y,w)=>lp.from(w).fold(ae(0),vt,vt)+y,0),yf=(l,f)=>{const y=Math.floor(l);return{value:y+f,remainder:l-y}},Ti=(l,f)=>lp.from(l).fold(ae(l),y=>y+f+"px",y=>y+f+"%"),Mw=l=>{if(l.length===0)return l;const f=rn(l,(w,O)=>{const M=lp.from(O).fold(()=>({value:O,remainder:0}),W=>yf(W,"px"),W=>({value:W+"%",remainder:0}));return{output:[M.value].concat(w.output),remainder:w.remainder+M.remainder}},{output:[],remainder:0}),y=f.output;return y.slice(0,y.length-1).concat([Ti(y[y.length-1],Math.round(f.remainder))])},Jm=lp.from,gS=(l,f,y)=>{Te(f,w=>{const O=l.slice(w.column,w.colspan+w.column),M=up(O,il());ts(w.element,"width",M+y)})},sv=(l,f,y)=>{Te(f,(w,O)=>{const M=up([l[O]],il());ts(w.element,"width",M+y)})},Pw=(l,f,y)=>{Te(y,w=>{ea(w.element,"height")}),Te(f,(w,O)=>{ts(w.element,"height",l[O])})},ob=l=>Jm(l).fold(ae("px"),ae("px"),ae("%")),rv=(l,f,y)=>{const w=fs.fromTable(l),O=w.all,M=fs.justCells(w),W=fs.justColumns(w);f.each(te=>{const ge=ob(te),Fe=$s(l),pt=rc(w,l),fn=Oh(pt,Fe,te);fs.hasColumns(w)?sv(fn,W,ge):gS(fn,M,ge),ts(l,"width",te)}),y.each(te=>{const ge=tn(l),Fe=xa(w,l),pt=Oh(Fe,ge,te);Pw(pt,O,M),ts(l,"height",te)})},pS=fl,hS=zy,yS=sf,sb=l=>{we(l,"width"),we(l,"height")},dp=l=>{const f=Ic(l);rv(l,ke.some(f),ke.none()),sb(l)},rb=l=>{const f=$g(l);rv(l,ke.some(f),ke.none()),sb(l)},uA=l=>{const f=Wa(l);rv(l,ke.none(),ke.some(f)),sb(l)},Bw=l=>{ea(l,"width");const f=ki(l),y=f.length>0?f:_u(l);Te(y,w=>{ea(w,"width"),sb(w)}),sb(l)},dA={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},av=()=>Le.fromTag("th"),fA=()=>Le.fromTag("td"),bS=()=>Le.fromTag("col"),mA=(l,f,y,w)=>{const O=Le.fromTag("tr");for(let M=0;M<l;M++){const W=w<f||M<y?av():fA();M<y&&ss(W,"scope","row"),w<f&&ss(W,"scope","col"),er(W,Le.fromTag("br")),er(O,W)}return O},vS=l=>{const f=Le.fromTag("colgroup");return Ht(l,()=>er(f,bS())),f},ab=(l,f,y,w)=>Ht(l,O=>mA(f,y,w,O)),wS=(l,f,y,w,O,M=dA)=>{const W=Le.fromTag("table"),te=O!=="cells";tr(W,M.styles),mr(W,M.attributes),M.colGroups&&er(W,vS(f));const ge=Math.min(l,y);if(te&&y>0){const Rn=Le.fromTag("thead");er(W,Rn);const so=ab(y,f,O==="sectionCells"?ge:0,w);pa(Rn,so)}const Fe=Le.fromTag("tbody");er(W,Fe);const pt=te?l-ge:l,Bn=ab(pt,f,te?0:y,w);return pa(Fe,Bn),W},Wi=l=>l.dom.innerHTML,$w=l=>{const f=Le.fromTag("div"),y=Le.fromDom(l.dom.cloneNode(!0));return er(f,y),Wi(f)},kS=(l,f)=>{l.selection.select(f.dom,!0),l.selection.collapse(!0)},Fw=(l,f)=>{ni(f,"td,th").each(Nt(kS,l))},cb=(l,f)=>{Te(bs(f,"tr"),y=>{Xm(l,y.dom),Te(bs(y,"th,td"),w=>{Dw(l,w.dom)})})},gA=l=>q(l)&&l.indexOf("%")!==-1,pA=(l,f,y,w,O)=>{const M=R1(l),W={styles:M,attributes:D1(l),colGroups:zT(l)};return l.undoManager.ignore(()=>{const te=wS(y,f,O,w,Na(l),W);ss(te,"data-mce-id","__mce");const ge=$w(te);l.insertContent(ge),l.addVisual()}),ni(sl(l),'table[data-mce-id="__mce"]').map(te=>(Hc(l)?rb(te):Bm(l)?Bw(te):(bd(l)||gA(M.width))&&dp(te),zl(te),we(te,"data-mce-id"),cb(l,te),Fw(l,te),te.dom)).getOrNull()},hA=(l,f,y,w={})=>{const O=M=>It(M)&&M>0;if(O(f)&&O(y)){const M=w.headerRows||0,W=w.headerColumns||0;return pA(l,y,f,W,M)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var cv=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const _S="x-tinymce/dom-table-",Iw=_S+"rows",Lw=_S+"columns",ib=l=>{const f=cv.FakeClipboardItem(l);cv.write([f])},Hw=l=>{var f;const y=(f=cv.read())!==null&&f!==void 0?f:[];return Ce(y,w=>ke.from(w.getType(l)))},CS=l=>{Hw(l).isSome()&&cv.clear()},SS=l=>{l.fold(yA,f=>ib({[Iw]:f}))},xS=()=>Hw(Iw),yA=()=>CS(Iw),ES=l=>{l.fold(TS,f=>ib({[Lw]:f}))},Vw=()=>Hw(Lw),TS=()=>CS(Lw),Qm=l=>Ia(By(l),Rl(l)).filter(ms),AS=l=>$1(By(l),Rl(l)).filter(ms),bA=(l,f)=>{const y=Rl(l),w=()=>Qm(l).each(ln=>{Pc(ln,y).filter(J(y)).each(_n=>{const xn=Le.fromText("");if(Qr(_n,xn),qr(_n),l.dom.isEmpty(l.getBody()))l.setContent(""),l.selection.setCursorLocation();else{const Io=l.dom.createRng();Io.setStart(xn.dom,0),Io.setEnd(xn.dom,0),l.selection.setRng(Io),l.nodeChanged()}})}),O=ln=>Qm(l).each(_n=>{Bm(l)||Hc(l)||bd(l)||Pc(_n,y).each(Io=>{ln==="relative"&&!pS(Io)?dp(Io):ln==="fixed"&&!hS(Io)?rb(Io):ln==="responsive"&&!yS(Io)&&Bw(Io),zl(Io),ip(l,Io.dom,Xs)})}),M=ln=>Pc(ln,y),W=ln=>AS(l).bind(_n=>M(_n).map(xn=>ln(xn,_n))),te=(ln,_n)=>{W(xn=>{l.formatter.toggle("tableclass",{value:_n},xn.dom),ip(l,xn.dom,lc)})},ge=(ln,_n)=>{W(xn=>{const Io=sr(l),rr=st(Io,Pr=>l.formatter.match("tablecellclass",{value:_n},Pr.dom))?l.formatter.remove:l.formatter.apply;Te(Io,Pr=>rr("tablecellclass",{value:_n},Pr.dom)),ip(l,xn.dom,lc)})},Fe=()=>{Qm(l).each(ln=>{Pc(ln,y).each(_n=>{Mc(_n,"caption").fold(()=>{const xn=Le.fromTag("caption");er(xn,Le.fromText("Caption")),El(_n,xn,0),l.selection.setCursorLocation(xn.dom,0)},xn=>{Fn("caption")(ln)&&Qt("td",_n).each(Io=>l.selection.setCursorLocation(Io.dom,0)),qr(xn)}),ip(l,_n.dom,Xs)})})},pt=ln=>{l.focus()},fn=(ln,_n=!1)=>W((xn,Io)=>{const Ts=Kf(sr(l),xn,Io);ln(xn,Ts,_n).each(pt)}),Bn=()=>W((ln,_n)=>{const xn=Kf(sr(l),ln,_n),Io=Hi(Me,Le.fromDom(l.getDoc()),ke.none());return ov(ln,xn,Io)}),Rn=()=>W((ln,_n)=>{const xn=Kf(sr(l),ln,_n);return tb(ln,xn)}),kn=(ln,_n)=>_n().each(xn=>{const Io=Gt(xn,Ts=>Ja(Ts));W((Ts,rr)=>{const Pr=Vi(Le.fromDom(l.getDoc())),ra=sw(sr(l),rr,Io,Pr);ln(Ts,ra).each(pt)})}),so=ln=>(_n,xn)=>po(xn,"type").each(Io=>{fn(ln(Io),xn.no_events)});Ie({mceTableSplitCells:()=>fn(f.unmergeCells),mceTableMergeCells:()=>fn(f.mergeCells),mceTableInsertRowBefore:()=>fn(f.insertRowsBefore),mceTableInsertRowAfter:()=>fn(f.insertRowsAfter),mceTableInsertColBefore:()=>fn(f.insertColumnsBefore),mceTableInsertColAfter:()=>fn(f.insertColumnsAfter),mceTableDeleteCol:()=>fn(f.deleteColumn),mceTableDeleteRow:()=>fn(f.deleteRow),mceTableCutCol:()=>Rn().each(ln=>{ES(ln),fn(f.deleteColumn)}),mceTableCutRow:()=>Bn().each(ln=>{SS(ln),fn(f.deleteRow)}),mceTableCopyCol:()=>Rn().each(ln=>ES(ln)),mceTableCopyRow:()=>Bn().each(ln=>SS(ln)),mceTablePasteColBefore:()=>kn(f.pasteColsBefore,Vw),mceTablePasteColAfter:()=>kn(f.pasteColsAfter,Vw),mceTablePasteRowBefore:()=>kn(f.pasteRowsBefore,xS),mceTablePasteRowAfter:()=>kn(f.pasteRowsAfter,xS),mceTableDelete:w,mceTableCellToggleClass:ge,mceTableToggleClass:te,mceTableToggleCaption:Fe,mceTableSizingMode:(ln,_n)=>O(_n),mceTableCellType:so(ln=>ln==="th"?f.makeCellsHeader:f.unmakeCellsHeader),mceTableColType:so(ln=>ln==="th"?f.makeColumnsHeader:f.unmakeColumnsHeader),mceTableRowType:so(ln=>{switch(ln){case"header":return f.makeRowsHeader;case"footer":return f.makeRowsFooter;default:return f.makeRowsBody}})},(ln,_n)=>l.addCommand(_n,ln)),l.addCommand("mceInsertTable",(ln,_n)=>{hA(l,_n.rows,_n.columns,_n.options)}),l.addCommand("mceTableApplyCellStyle",(ln,_n)=>{const xn=rr=>"tablecell"+rr.toLowerCase().replace("-","");if(!Y(_n))return;const Io=et(sr(l),ms);if(Io.length===0)return;const Ts=ft(_n,(rr,Pr)=>l.formatter.has(xn(Pr))&&q(rr));Ho(Ts)||(Ie(Ts,(rr,Pr)=>{const ra=xn(Pr);Te(Io,Il=>{rr===""?l.formatter.remove(ra,{value:null},Il.dom,!0):l.formatter.apply(ra,{value:rr},Il.dom)})}),M(Io[0]).each(rr=>ip(l,rr.dom,lc)))})},vA=(l,f)=>{const y=Rl(l),w=O=>$1(By(l)).bind(M=>Pc(M,y).map(W=>{const te=Kf(sr(l),W,M);return O(W,te)})).getOr("");Ie({mceTableRowType:()=>w(f.getTableRowType),mceTableCellType:()=>w(f.getTableCellType),mceTableColType:()=>w(f.getTableColType)},(O,M)=>l.addQueryValueHandler(M,O))},iv=sp.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Vu=(l,f,y,w)=>l.fold(f,y,w),lv=l=>l.fold(vt,vt,vt),uv=iv.before,Uw=iv.on,OS=iv.after,Ka={before:uv,on:Uw,after:OS,cata:Vu,getStart:lv},Dh={create:(l,f)=>({selection:l,kill:f})},eg=(l,f)=>{const y=l.document.createRange();return y.selectNode(f.dom),y},dv=(l,f)=>{const y=l.document.createRange();return RS(y,f),y},RS=(l,f)=>l.selectNodeContents(f.dom),wA=(l,f)=>{f.fold(y=>{l.setStartBefore(y.dom)},(y,w)=>{l.setStart(y.dom,w)},y=>{l.setStartAfter(y.dom)})},kA=(l,f)=>{f.fold(y=>{l.setEndBefore(y.dom)},(y,w)=>{l.setEnd(y.dom,w)},y=>{l.setEndAfter(y.dom)})},zS=(l,f,y)=>{const w=l.document.createRange();return wA(w,f),kA(w,y),w},lb=(l,f,y,w,O)=>{const M=l.document.createRange();return M.setStart(f.dom,y),M.setEnd(w.dom,O),M},jw=l=>({left:l.left,top:l.top,right:l.right,bottom:l.bottom,width:l.width,height:l.height}),_A=l=>{const f=l.getClientRects(),y=f.length>0?f[0]:l.getBoundingClientRect();return y.width>0||y.height>0?ke.some(y).map(jw):ke.none()},Rh=sp.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),NS=(l,f,y)=>f(Le.fromDom(y.startContainer),y.startOffset,Le.fromDom(y.endContainer),y.endOffset),MS=(l,f)=>f.match({domRange:y=>({ltr:ae(y),rtl:ke.none}),relative:(y,w)=>({ltr:id(()=>zS(l,y,w)),rtl:id(()=>ke.some(zS(l,w,y)))}),exact:(y,w,O,M)=>({ltr:id(()=>lb(l,y,w,O,M)),rtl:id(()=>ke.some(lb(l,O,M,y,w)))})}),PS=(l,f)=>{const y=f.ltr();return y.collapsed?f.rtl().filter(O=>O.collapsed===!1).map(O=>Rh.rtl(Le.fromDom(O.endContainer),O.endOffset,Le.fromDom(O.startContainer),O.startOffset)).getOrThunk(()=>NS(l,Rh.ltr,y)):NS(l,Rh.ltr,y)},Ww=(l,f)=>{const y=MS(l,f);return PS(l,y)},fv=(l,f)=>Ww(l,f).match({ltr:(w,O,M,W)=>{const te=l.document.createRange();return te.setStart(w.dom,O),te.setEnd(M.dom,W),te},rtl:(w,O,M,W)=>{const te=l.document.createRange();return te.setStart(M.dom,W),te.setEnd(w.dom,O),te}});Rh.ltr,Rh.rtl;const tg={create:(l,f,y,w)=>({start:l,soffset:f,finish:y,foffset:w})},$S={create:(l,f,y,w)=>({start:Ka.on(l,f),finish:Ka.on(y,w)})},FS=(l,f)=>{const y=fv(l,f);return tg.create(Le.fromDom(y.startContainer),y.startOffset,Le.fromDom(y.endContainer),y.endOffset)},mv=$S.create,SA=(l,f,y,w,O,M,W)=>cn(y,O)&&w===M?ke.none():va(y,"td,th",f).bind(te=>va(O,"td,th",f).bind(ge=>fp(l,f,te,ge,W))),fp=(l,f,y,w,O)=>cn(y,w)?ke.none():Ui(y,w,f).bind(M=>{const W=M.boxes.getOr([]);return W.length>1?(O(l,W,M.start,M.finish),ke.some(Dh.create(ke.some(mv(y,0,y,Sc(y))),!0))):ke.none()}),gv=(l,f,y,w,O)=>{const M=W=>(O.clearBeforeUpdate(y),O.selectRange(y,W.boxes,W.start,W.finish),W.boxes);return Gg(w,l,f,O.firstSelectedSelector,O.lastSelectedSelector).map(M)},ub=(l,f)=>({item:l,mode:f}),IS=(l,f,y,w=zh)=>l.property().parent(f).map(O=>ub(O,w)),zh=(l,f,y,w=Nh)=>y.sibling(l,f).map(O=>ub(O,w)),Nh=(l,f,y,w=Nh)=>{const O=l.property().children(f);return y.first(O).map(W=>ub(W,w))},xA=[{current:IS,next:zh,fallback:ke.none()},{current:zh,next:Nh,fallback:ke.some(IS)},{current:Nh,next:Nh,fallback:ke.some(zh)}],LS=(l,f,y,w,O=xA)=>U(O,W=>W.current===y).bind(W=>W.current(l,f,w,W.next).orThunk(()=>W.fallback.bind(te=>LS(l,f,te,w)))),Mh={left:()=>({sibling:(y,w)=>y.query().prevSibling(w),first:y=>y.length>0?ke.some(y[y.length-1]):ke.none()}),right:()=>({sibling:(y,w)=>y.query().nextSibling(w),first:y=>y.length>0?ke.some(y[0]):ke.none()})},Zw=(l,f,y,w,O,M)=>LS(l,f,w,O).bind(te=>M(te.item)?ke.none():y(te.item)?ke.some(te.item):Zw(l,te.item,y,te.mode,O,M)),qw=(l,f,y,w)=>Zw(l,f,y,zh,Mh.left(),w),TA=(l,f,y,w)=>Zw(l,f,y,zh,Mh.right(),w),Gw=l=>f=>l.property().children(f).length===0,HS=(l,f,y)=>Ph(l,f,Gw(l),y),VS=(l,f,y)=>US(l,f,Gw(l),y),Ph=qw,US=TA,pv=qf(),ng=(l,f)=>HS(pv,l,f),tm=(l,f)=>VS(pv,l,f),db=(l,f,y)=>Ph(pv,l,f,y),fb=(l,f,y)=>US(pv,l,f,y),AA=(l,f,y)=>nn(l,f,y).isSome(),yl=sp.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Sd=(l,f,y)=>{const w=l.getRect(f),O=l.getRect(y);return O.right>w.left&&O.left<w.right},Kw=l=>va(l,"tr"),jS=(l,f,y,w,O,M,W)=>va(w,"td,th",W).bind(te=>va(f,"td,th",W).map(ge=>cn(te,ge)?cn(w,te)&&Sc(te)===O?M(ge):yl.none("in same cell"):qg(Kw,[te,ge]).fold(()=>Sd(l,ge,te)?yl.success():M(ge),Fe=>M(ge)))).getOr(yl.none("default")),OA=(l,f,y,w,O)=>l.fold(f,y,w,O),og=Pt(ie({},yl),{verify:jS,cata:OA}),Bh=(l,f,y,w)=>({parent:l,children:f,element:y,index:w}),Uc=l=>ds(l).bind(f=>{const y=vo(f);return Yw(y,l).map(w=>Bh(f,y,l,w))}),Yw=(l,f)=>ko(l,Nt(cn,f)),hv=Fn("br"),gp=(l,f,y)=>f(l,y).bind(w=>Qe(w)&&jr(w).trim().length===0?gp(w,f,y):ke.some(w)),mb=(l,f,y)=>y.traverse(f).orThunk(()=>gp(f,y.gather,l)).map(y.relative),DA=(l,f)=>cs(l,f).filter(hv).orThunk(()=>cs(l,f-1).filter(hv)),Xw=(l,f,y,w)=>DA(f,y).bind(O=>w.traverse(O).fold(()=>gp(O,w.gather,l).map(w.relative),M=>Uc(M).map(W=>Ka.on(W.parent,W.index)))),gb=(l,f,y,w)=>(hv(f)?mb(l,f,w):Xw(l,f,y,w)).map(M=>({start:M,finish:M})),jc=l=>og.cata(l,f=>ke.none(),()=>ke.none(),f=>ke.some(F1(f,0)),f=>ke.some(F1(f,Sc(f)))),Jw=(l,f)=>({left:l.left,top:l.top+f,right:l.right,bottom:l.bottom+f}),iu=(l,f)=>({left:l.left,top:l.top-f,right:l.right,bottom:l.bottom-f}),Qw=(l,f,y)=>({left:l.left+f,top:l.top+y,right:l.right+f,bottom:l.bottom+y}),$h=l=>l.top,Fh=l=>l.bottom,ek=(l,f,y)=>y>=0&&y<Sc(f)?l.getRangedRect(f,y,f,y+1):y>0?l.getRangedRect(f,y-1,f,y):ke.none(),nm=l=>({left:l.left,top:l.top,right:l.right,bottom:l.bottom}),tk=(l,f)=>ke.some(l.getRect(f)),nk=(l,f,y)=>Ps(f)?tk(l,f).map(nm):Qe(f)?ek(l,f,y).map(nm):ke.none(),ok=(l,f)=>Ps(f)?tk(l,f).map(nm):Qe(f)?l.getRangedRect(f,0,f,Sc(f)).map(nm):ke.none(),bf=5,yv=100,Jc=sp.generate([{none:[]},{retry:["caret"]}]),WS=(l,f)=>l.left<f.left||Math.abs(f.right-l.left)<1||l.left>f.right,sk=(l,f,y)=>Bs(f,Ft).fold(gn,w=>ok(l,w).exists(O=>WS(y,O))),rk=(l,f,y,w,O)=>{const M=Jw(O,bf);return Math.abs(y.bottom-w.bottom)<1||y.top>O.bottom?Jc.retry(M):y.top===O.bottom?Jc.retry(Jw(O,1)):sk(l,f,O)?Jc.retry(Qw(M,bf,0)):Jc.none()},ak={point:$h,adjuster:(l,f,y,w,O)=>{const M=iu(O,bf);return Math.abs(y.top-w.top)<1||y.bottom<O.top?Jc.retry(M):y.bottom===O.top?Jc.retry(iu(O,1)):sk(l,f,O)?Jc.retry(Qw(M,bf,0)):Jc.none()},move:iu,gather:ng},qS={point:Fh,adjuster:rk,move:Jw,gather:tm},GS=(l,f,y)=>l.elementFromPoint(f,y).filter(w=>Cs(w)==="table").isSome(),Ml=(l,f,y,w,O)=>sg(l,f,y,f.move(w,bf),O),sg=(l,f,y,w,O)=>O===0?ke.some(w):GS(l,w.left,f.point(w))?Ml(l,f,y,w,O-1):l.situsFromPoint(w.left,f.point(w)).bind(M=>M.start.fold(ke.none,W=>ok(l,W).bind(te=>f.adjuster(l,W,te,y,w).fold(ke.none,ge=>sg(l,f,y,ge,O-1))).orThunk(()=>ke.some(w)),ke.none)),KS=(l,f,y)=>l.point(f)>y.getInnerHeight()?ke.some(l.point(f)-y.getInnerHeight()):l.point(f)<0?ke.some(-l.point(f)):ke.none(),pp=(l,f,y)=>{const w=l.move(y,bf),O=sg(f,l,y,w,yv).getOr(w);return KS(l,O,f).fold(()=>f.situsFromPoint(O.left,l.point(O)),M=>(f.scrollBy(0,M),f.situsFromPoint(O.left,l.point(O)-M)))},Ai={tryUp:Nt(pp,ak),tryDown:Nt(pp,qS),getJumpSize:ae(bf)},bl=20,Oi=(l,f,y)=>l.getSelection().bind(w=>gb(f,w.finish,w.foffset,y).fold(()=>ke.some(F1(w.finish,w.foffset)),O=>{const M=l.fromSitus(O),W=og.verify(l,w.finish,w.foffset,M.finish,M.foffset,y.failure,f);return jc(W)})),Pl=(l,f,y,w,O,M)=>M===0?ke.none():hp(l,f,y,w,O).bind(W=>{const te=l.fromSitus(W),ge=og.verify(l,y,w,te.finish,te.foffset,O.failure,f);return og.cata(ge,()=>ke.none(),()=>ke.some(W),Fe=>cn(y,Fe)&&w===0?bv(l,y,w,iu,O):Pl(l,f,Fe,0,O,M-1),Fe=>cn(y,Fe)&&w===Sc(Fe)?bv(l,y,w,Jw,O):Pl(l,f,Fe,Sc(Fe),O,M-1))}),bv=(l,f,y,w,O)=>nk(l,f,y).bind(M=>Bl(l,O,w(M,Ai.getJumpSize()))),Bl=(l,f,y)=>{const w=Hr().browser;return w.isChromium()||w.isSafari()||w.isFirefox()?f.retry(l,y):ke.none()},hp=(l,f,y,w,O)=>nk(l,y,w).bind(M=>Bl(l,O,M)),YS=(l,f,y)=>Oi(l,f,y).bind(w=>Pl(l,f,w.element,w.offset,y,bl).map(l.fromSitus)),jz=(l,f)=>AA(l,y=>ds(y).exists(w=>cn(w,f))),RA=(l,f,y,w,O)=>va(w,"td,th",f).bind(M=>va(M,"table",f).bind(W=>jz(O,W)?YS(l,f,y).bind(te=>va(te.finish,"td,th",f).map(ge=>({start:M,finish:ge,range:te}))):ke.none())),ck=(l,f,y,w,O,M)=>M(w,f).orThunk(()=>RA(l,f,y,w,O).map(W=>{const te=W.range;return Dh.create(ke.some(mv(te.start,te.soffset,te.finish,te.foffset)),!0)})),zA=(l,f)=>va(l,"tr",f).bind(y=>va(y,"table",f).bind(w=>{const O=bs(w,"tr");return cn(y,O[0])?db(w,M=>Lg(M).isSome(),f).map(M=>{const W=Sc(M);return Dh.create(ke.some(mv(M,W,M,W)),!0)}):ke.none()})),vv=(l,f)=>va(l,"tr",f).bind(y=>va(y,"table",f).bind(w=>{const O=bs(w,"tr");return cn(y,O[O.length-1])?fb(w,M=>Mm(M).isSome(),f).map(M=>Dh.create(ke.some(mv(M,0,M,0)),!0)):ke.none()})),Wc=(l,f,y,w,O,M,W)=>RA(l,y,w,O,M).bind(te=>fp(f,y,te.start,te.finish,W)),pb=l=>{let f=l;return{get:()=>f,set:O=>{f=O}}},hb=l=>{const f=pb(ke.none()),y=()=>f.get().each(l);return{clear:()=>{y(),f.set(ke.none())},isSet:()=>f.get().isSome(),get:()=>f.get(),set:te=>{y(),f.set(ke.some(te))}}},rg=()=>{const l=hb(Me),f=y=>l.get().each(y);return Pt(ie({},l),{on:f})},ik=(l,f)=>va(l,"td,th",f),wv=l=>Ds(l).exists(Fm),lk=(l,f,y,w)=>{const O=rg(),M=O.clear,W=pt=>{O.on(fn=>{w.clearBeforeUpdate(f),ik(pt.target,y).each(Bn=>{Ui(fn,Bn,y).each(Rn=>{const kn=Rn.boxes.getOr([]);if(kn.length===1){const so=kn[0],ln=jg(so)==="false",_n=Ys(bC(pt.target),so,cn);ln&&_n&&w.selectRange(f,kn,so,so)}else kn.length>1&&(w.selectRange(f,kn,Rn.start,Rn.finish),l.selectContents(Bn))})})})};return{clearstate:M,mousedown:pt=>{w.clear(f),ik(pt.target,y).filter(wv).each(O.set)},mouseover:pt=>{W(pt)},mouseup:pt=>{W(pt),M()}}},kv={traverse:ua,gather:tm,relative:Ka.before,retry:Ai.tryDown,failure:og.failedDown},uk={traverse:_a,gather:ng,relative:Ka.before,retry:Ai.tryUp,failure:og.failedUp},Ih=l=>f=>f===l,om=Ih(38),yb=Ih(40),yp=l=>l>=37&&l<=40,sm={isBackward:Ih(37),isForward:Ih(39)},XS={isBackward:Ih(39),isForward:Ih(37)},vl=l=>{const f=l!==void 0?l.dom:document,y=f.body.scrollLeft||f.documentElement.scrollLeft,w=f.body.scrollTop||f.documentElement.scrollTop;return fo(y,w)},dk=(l,f,y)=>{const O=(y!==void 0?y.dom:document).defaultView;O&&O.scrollBy(l,f)},ag=sp.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),bp=l=>ag.exact(l.start,l.soffset,l.finish,l.foffset),_v=l=>l.match({domRange:f=>Le.fromDom(f.startContainer),relative:(f,y)=>Ka.getStart(f),exact:(f,y,w,O)=>f}),Cv=ag.domRange,NA=ag.relative,MA=ag.exact,JS=l=>{const f=_v(l);return Co(f)},QS=tg.create,vp={domRange:Cv,relative:NA,exact:MA,exactFromRange:bp,getWin:JS,range:QS},Lh=(l,f,y)=>{var w;return ke.from((w=l.caretPositionFromPoint)===null||w===void 0?void 0:w.call(l,f,y)).bind(O=>{if(O.offsetNode===null)return ke.none();const M=l.createRange();return M.setStart(O.offsetNode,O.offset),M.collapse(),ke.some(M)})},bb=(l,f,y)=>{var w;return ke.from((w=l.caretRangeFromPoint)===null||w===void 0?void 0:w.call(l,f,y))},PA=(l,f,y)=>l.caretPositionFromPoint?Lh(l,f,y):l.caretRangeFromPoint?bb(l,f,y):ke.none(),e2=(l,f,y)=>{const w=l.document;return PA(w,f,y).map(O=>tg.create(Le.fromDom(O.startContainer),O.startOffset,Le.fromDom(O.endContainer),O.endOffset))},vb=(l,f)=>{const y=Cs(l);return y==="input"?Ka.after(l):bt(["br","img"],y)?f===0?Ka.before(l):Ka.after(l):Ka.on(l,f)},Sv=(l,f)=>{const y=l.fold(Ka.before,vb,Ka.after),w=f.fold(Ka.before,vb,Ka.after);return vp.relative(y,w)},fk=(l,f,y,w)=>{const O=vb(l,f),M=vb(y,w);return vp.relative(O,M)},t2=(l,f,y,w)=>{const M=no(l).dom.createRange();return M.setStart(l.dom,f),M.setEnd(y.dom,w),M},xv=(l,f,y,w)=>{const O=t2(l,f,y,w),M=cn(l,y)&&f===w;return O.collapsed&&!M},Hh=l=>ke.from(l.getSelection()),n2=(l,f)=>{Hh(l).each(y=>{y.removeAllRanges(),y.addRange(f)})},wp=(l,f,y,w,O)=>{const M=lb(l,f,y,w,O);n2(l,M)},Ns=(l,f,y,w,O,M)=>{f.collapse(y.dom,w),f.extend(O.dom,M)},rm=(l,f)=>Ww(l,f).match({ltr:(y,w,O,M)=>{wp(l,y,w,O,M)},rtl:(y,w,O,M)=>{Hh(l).each(W=>{if(W.setBaseAndExtent)W.setBaseAndExtent(y.dom,w,O.dom,M);else if(W.extend)try{Ns(l,W,y,w,O,M)}catch(te){wp(l,O,M,y,w)}else wp(l,O,M,y,w)})}}),cg=(l,f,y,w,O)=>{const M=fk(f,y,w,O);rm(l,M)},Ev=(l,f,y)=>{const w=Sv(f,y);rm(l,w)},mk=l=>{if(l.rangeCount>0){const f=l.getRangeAt(0),y=l.getRangeAt(l.rangeCount-1);return ke.some(tg.create(Le.fromDom(f.startContainer),f.startOffset,Le.fromDom(y.endContainer),y.endOffset))}else return ke.none()},wb=l=>{if(l.anchorNode===null||l.focusNode===null)return mk(l);{const f=Le.fromDom(l.anchorNode),y=Le.fromDom(l.focusNode);return xv(f,l.anchorOffset,y,l.focusOffset)?ke.some(tg.create(f,l.anchorOffset,y,l.focusOffset)):mk(l)}},kp=(l,f,y=!0)=>{const O=(y?dv:eg)(l,f);n2(l,O)},kb=l=>Hh(l).filter(f=>f.rangeCount>0).bind(wb),Tv=l=>kb(l).map(f=>vp.exact(f.start,f.soffset,f.finish,f.foffset)),o2=(l,f)=>{const y=fv(l,f);return _A(y)},BA=(l,f,y)=>e2(l,f,y),_p=l=>{Hh(l).each(f=>f.removeAllRanges())},Av=l=>({elementFromPoint:(ln,_n)=>Le.fromPoint(Le.fromDom(l.document),ln,_n),getRect:ln=>ln.dom.getBoundingClientRect(),getRangedRect:(ln,_n,xn,Io)=>{const Ts=vp.exact(ln,_n,xn,Io);return o2(l,Ts)},getSelection:()=>Tv(l).map(ln=>FS(l,ln)),fromSitus:ln=>{const _n=vp.relative(ln.start,ln.finish);return FS(l,_n)},situsFromPoint:(ln,_n)=>BA(l,ln,_n).map(xn=>$S.create(xn.start,xn.soffset,xn.finish,xn.foffset)),clearSelection:()=>{_p(l)},collapseSelection:(ln=!1)=>{Tv(l).each(_n=>_n.fold(xn=>xn.collapse(ln),(xn,Io)=>{const Ts=ln?xn:Io;Ev(l,Ts,Ts)},(xn,Io,Ts,rr)=>{const Pr=ln?xn:Ts,ra=ln?Io:rr;cg(l,Pr,ra,Pr,ra)}))},setSelection:ln=>{cg(l,ln.start,ln.soffset,ln.finish,ln.foffset)},setRelativeSelection:(ln,_n)=>{Ev(l,ln,_n)},selectNode:ln=>{kp(l,ln,!1)},selectContents:ln=>{kp(l,ln)},getInnerHeight:()=>l.innerHeight,getScrollY:()=>vl(Le.fromDom(l.document)).top,scrollBy:(ln,_n)=>{dk(ln,_n,Le.fromDom(l.document))}}),ig=(l,f)=>({rows:l,cols:f}),gk=(l,f,y,w)=>{const O=Av(l),M=lk(O,f,y,w);return{clearstate:M.clearstate,mousedown:M.mousedown,mouseover:M.mouseover,mouseup:M.mouseup}},pk=l=>Bs(l,ao).exists(Fm),Cp=(l,f)=>pk(l)||pk(f),hk=(l,f,y,w)=>{const O=Av(l),M=()=>(w.clear(f),ke.none());return{keydown:(ge,Fe,pt,fn,Bn,Rn)=>{const kn=ge.raw,so=kn.which,ln=kn.shiftKey===!0;return uh(f,w.selectedSelector).fold(()=>(yp(so)&&!ln&&w.clearBeforeUpdate(f),yp(so)&&ln&&!Cp(Fe,fn)?ke.none:yb(so)&&ln?Nt(Wc,O,f,y,kv,fn,Fe,w.selectRange):om(so)&&ln?Nt(Wc,O,f,y,uk,fn,Fe,w.selectRange):yb(so)?Nt(ck,O,y,kv,fn,Fe,vv):om(so)?Nt(ck,O,y,uk,fn,Fe,zA):ke.none),xn=>{const Io=Ts=>()=>Ce(Ts,Pr=>gv(Pr.rows,Pr.cols,f,xn,w)).fold(()=>Hm(f,w.firstSelectedSelector,w.lastSelectedSelector).map(Pr=>{const ra=yb(so)||Rn.isForward(so)?Ka.after:Ka.before;return O.setRelativeSelection(Ka.on(Pr.first,0),ra(Pr.table)),w.clear(f),Dh.create(ke.none(),!0)}),Pr=>ke.some(Dh.create(ke.none(),!0)));return yp(so)&&ln&&!Cp(Fe,fn)?ke.none:yb(so)&&ln?Io([ig(1,0)]):om(so)&&ln?Io([ig(-1,0)]):Rn.isBackward(so)&&ln?Io([ig(0,-1),ig(-1,0)]):Rn.isForward(so)&&ln?Io([ig(0,1),ig(1,0)]):yp(so)&&!ln?M:ke.none})()},keyup:(ge,Fe,pt,fn,Bn)=>uh(f,w.selectedSelector).fold(()=>{const Rn=ge.raw,kn=Rn.which;return Rn.shiftKey===!0&&yp(kn)&&Cp(Fe,fn)?SA(f,y,Fe,pt,fn,Bn,w.selectRange):ke.none()},ke.none)}},s2=(l,f,y,w)=>{const O=Av(l);return(M,W)=>{w.clearBeforeUpdate(f),Ui(M,W,y).each(te=>{const ge=te.boxes.getOr([]);w.selectRange(f,ge,te.start,te.finish),O.selectContents(W),O.collapseSelection()})}},r2=(l,f)=>{const y=cr(l,f);return y===void 0||y===""?[]:y.split(" ")},vf=(l,f,y)=>{const O=r2(l,f).concat([y]);return ss(l,f,O.join(" ")),!0},a2=(l,f,y)=>{const w=et(r2(l,f),O=>O!==y);return w.length>0?ss(l,f,w.join(" ")):we(l,f),!1},Ov=l=>l.dom.classList!==void 0,lu=l=>r2(l,"class"),Tc=(l,f)=>vf(l,"class",f),$A=(l,f)=>a2(l,"class",f),xd=(l,f)=>{Ov(l)?l.dom.classList.add(f):Tc(l,f)},FA=l=>{(Ov(l)?l.dom.classList:lu(l)).length===0&&we(l,"class")},c2=(l,f)=>{Ov(l)?l.dom.classList.remove(f):$A(l,f),FA(l)},_b=(l,f)=>Ov(l)&&l.dom.classList.contains(f),Vh=(l,f)=>{Te(f,y=>{c2(l,y)})},i2=l=>f=>{xd(f,l)},l2=l=>f=>{Vh(f,l)},u2={byClass:l=>{const f=i2(l.selected),y=l2([l.selected,l.lastSelected,l.firstSelected]),w=M=>{const W=bs(M,l.selectedSelector);Te(W,y)};return{clearBeforeUpdate:w,clear:w,selectRange:(M,W,te,ge)=>{w(M),Te(W,f),xd(te,l.firstSelected),xd(ge,l.lastSelected)},selectedSelector:l.selectedSelector,firstSelectedSelector:l.firstSelectedSelector,lastSelectedSelector:l.lastSelectedSelector}},byAttr:(l,f,y)=>{const w=ge=>{we(ge,l.selected),we(ge,l.firstSelected),we(ge,l.lastSelected)},O=ge=>{ss(ge,l.selected,"1")},M=ge=>{W(ge),y()},W=ge=>{const Fe=bs(ge,`${l.selectedSelector},${l.firstSelectedSelector},${l.lastSelectedSelector}`);Te(Fe,w)};return{clearBeforeUpdate:W,clear:M,selectRange:(ge,Fe,pt,fn)=>{M(ge),Te(Fe,O),ss(pt,l.firstSelected,"1"),ss(fn,l.lastSelected,"1"),f(Fe,pt,fn)},selectedSelector:l.selectedSelector,firstSelectedSelector:l.firstSelectedSelector,lastSelectedSelector:l.lastSelectedSelector}}},jn=(l,f,y,w)=>{switch(l.tag){case"none":return f();case"single":return w(l.element);case"multiple":return y(l.elements)}},Ac=()=>({tag:"none"}),Dv=l=>({tag:"multiple",elements:l}),Oc=l=>({tag:"single",element:l}),uu=(l,f,y)=>({get:()=>B1(l(),y).fold(()=>f().fold(Ac,Oc),Dv)}),yk=(l,f)=>{const y=l.slice(0,f[f.length-1].row+1),w=lw(y);return Yt(w,O=>{const M=O.cells.slice(0,f[f.length-1].column+1);return Gt(M,W=>W.element)})},Cb=(l,f)=>{const y=l.slice(f[0].row+f[0].rowspan-1,l.length),w=lw(y);return Yt(w,O=>{const M=O.cells.slice(f[0].column+f[0].colspan-1,O.cells.length);return Gt(M,W=>W.element)})},Uh=(l,f,y)=>{const w=fs.fromTable(l);return gl(w,f).map(M=>{const W=kh(w,y,!1),{rows:te}=dr(W),ge=yk(te,M),Fe=Cb(te,M);return{upOrLeftCells:ge,downOrRightCells:Fe}})},d2=(l,f,y,w,O,M,W)=>({target:l,x:f,y,stop:w,prevent:O,kill:M,raw:W}),lg=l=>{const f=Le.fromDom(be(l).getOr(l.target)),y=()=>l.stopPropagation(),w=()=>l.preventDefault(),O=tt(w,y);return d2(f,l.clientX,l.clientY,y,w,O,l)},jh=(l,f)=>y=>{l(y)&&f(lg(y))},IA=(l,f,y,w,O)=>{const M=jh(y,w);return l.dom.addEventListener(f,M,O),{unbind:Nt(HA,l,f,M,O)}},LA=(l,f,y,w)=>IA(l,f,y,w,!1),HA=(l,f,y,w)=>{l.dom.removeEventListener(f,y,w)},f2=at,Sp=(l,f,y)=>LA(l,f,f2,y),Wh=lg,xp=l=>!_b(Le.fromDom(l.target),"ephox-snooker-resizer-bar"),Rv=(l,f)=>{const y=uu(()=>Le.fromDom(l.getBody()),()=>$1(By(l),Rl(l)),Kg.selectedSelector),w=(ge,Fe,pt)=>{Pc(Fe).each(Bn=>{const Rn=Gt(ge,xn=>xn.dom),kn=Pm(l),so=Hi(Me,Le.fromDom(l.getDoc()),kn),ln=sr(l),_n=Uh(Bn,{selection:ln},so).map(xn=>ut(xn,Io=>Gt(Io,Ts=>Ts.dom))).getOrUndefined();aA(l,Rn,Fe.dom,pt.dom,_n)})},O=()=>cc(l),M=u2.byAttr(Kg,w,O);return l.on("init",ge=>{const Fe=l.getWin(),pt=sl(l),fn=Rl(l),Bn=()=>{const wr=l.selection,Zi=Le.fromDom(wr.getStart()),qi=Le.fromDom(wr.getEnd());qg(Pc,[Zi,qi]).fold(()=>M.clear(pt),Me)},Rn=gk(Fe,pt,fn,M),kn=hk(Fe,pt,fn,M),so=s2(Fe,pt,fn,M),ln=wr=>wr.raw.shiftKey===!0;l.on("TableSelectorChange",wr=>so(wr.start,wr.finish));const _n=(wr,Zi)=>{ln(wr)&&(Zi.kill&&wr.kill(),Zi.selection.each(qi=>{const fu=vp.relative(qi.start,qi.finish),ns=fv(Fe,fu);l.selection.setRng(ns)}))},xn=wr=>{const Zi=Wh(wr);if(Zi.raw.shiftKey&&yp(Zi.raw.which)){const qi=l.selection.getRng(),fu=Le.fromDom(qi.startContainer),ns=Le.fromDom(qi.endContainer);kn.keyup(Zi,fu,qi.startOffset,ns,qi.endOffset).each(rl=>{_n(Zi,rl)})}},Io=wr=>{const Zi=Wh(wr);f.hide();const qi=l.selection.getRng(),fu=Le.fromDom(qi.startContainer),ns=Le.fromDom(qi.endContainer),rl=K(sm,XS)(Le.fromDom(l.selection.getStart()));kn.keydown(Zi,fu,qi.startOffset,ns,qi.endOffset,rl).each(uc=>{_n(Zi,uc)}),f.show()},Ts=wr=>wr.button===0,rr=wr=>wr.buttons===void 0?!0:(wr.buttons&1)!==0,Pr=wr=>{Rn.clearstate()},ra=wr=>{Ts(wr)&&xp(wr)&&Rn.mousedown(Wh(wr))},Il=wr=>{rr(wr)&&xp(wr)&&Rn.mouseover(Wh(wr))},Ad=wr=>{Ts(wr)&&xp(wr)&&Rn.mouseup(Wh(wr))},wf=(()=>{const wr=pb(Le.fromDom(pt)),Zi=pb(0);return{touchEnd:fu=>{const ns=Le.fromDom(fu.target);if(Fn("td")(ns)||Fn("th")(ns)){const rl=wr.get(),uc=Zi.get();cn(rl,ns)&&fu.timeStamp-uc<300&&(fu.preventDefault(),so(ns,ns))}wr.set(ns),Zi.set(fu.timeStamp)}}})();l.on("dragstart",Pr),l.on("mousedown",ra),l.on("mouseover",Il),l.on("mouseup",Ad),l.on("touchend",wf.touchEnd),l.on("keyup",xn),l.on("keydown",Io),l.on("NodeChange",Bn)}),l.on("PreInit",()=>{l.serializer.addTempAttr(Kg.firstSelected),l.serializer.addTempAttr(Kg.lastSelected)}),{getSelectedCells:()=>jn(y.get(),ae([]),ge=>Gt(ge,Fe=>Fe.dom),ge=>[ge.dom]),clearSelectedCells:ge=>M.clear(Le.fromDom(ge))}},$l=l=>{let f=[];return{bind:M=>{if(M===void 0)throw new Error("Event bind error: undefined handler");f.push(M)},unbind:M=>{f=et(f,W=>W!==M)},trigger:(...M)=>{const W={};Te(l,(te,ge)=>{W[te]=M[ge]}),Te(f,te=>{te(W)})}}},Ed=l=>{const f=ut(l,w=>({bind:w.bind,unbind:w.unbind})),y=ut(l,w=>w.trigger);return{registry:f,trigger:y}},Ep=(l,f)=>{let y=null;const w=()=>{Ue(y)||(clearTimeout(y),y=null)};return{cancel:w,throttle:(...M)=>{w(),y=setTimeout(()=>{y=null,l.apply(null,M)},f)}}},Zh=l=>l.slice(0).sort(),zv=(l,f)=>{throw new Error("All required keys ("+Zh(l).join(", ")+") were not specified. Specified keys were: "+Zh(f).join(", ")+".")},Nv=l=>{throw new Error("Unsupported keys for object: "+Zh(l).join(", "))},VA=(l,f)=>{if(!Re(f))throw new Error("The "+l+" fields must be an array. Was: "+f+".");Te(f,y=>{if(!q(y))throw new Error("The value "+y+" in the "+l+" fields was not a string.")})},UA=(l,f)=>{throw new Error("All values need to be of type: "+f+". Keys ("+Zh(l).join(", ")+") were not.")},jA=l=>{const f=Zh(l);U(f,(w,O)=>O<f.length-1&&w===f[O+1]).each(w=>{throw new Error("The field: "+w+" occurs more than once in the combined fields: ["+f.join(", ")+"].")})},WA=(l,f)=>m2(l,f,{validate:lt,label:"function"}),m2=(l,f,y)=>{if(f.length===0)throw new Error("You must specify at least one required field.");return VA("required",f),jA(f),w=>{const O=Oe(w);st(f,te=>bt(O,te))||zv(f,O),l(f,O);const W=et(f,te=>!y.validate(w[te],te));return W.length>0&&UA(W,y.label),w}},g2=(l,f)=>{const y=et(f,w=>!bt(l,w));y.length>0&&Nv(y)},bk=l=>WA(g2,l),Mv=bk(["compare","extract","mutate","sink"]),di=bk(["element","start","stop","destroy"]),du=bk(["forceDrop","drop","move","delayDrop"]),Fl=()=>{let l=ke.none();const f=()=>{l=ke.none()},y=(M,W)=>{const te=l.map(ge=>M.compare(ge,W));return l=ke.some(W),te},w=(M,W)=>{W.extract(M).each(ge=>{y(W,ge).each(pt=>{O.trigger.move(pt)})})},O=Ed({move:$l(["info"])});return{onEvent:w,reset:f,events:O.registry}},Sb=()=>{const l=Ed({move:$l(["info"])});return{onEvent:Me,reset:Me,events:l.registry}},vk=()=>{const l=Sb(),f=Fl();let y=l;return{on:()=>{y.reset(),y=f},off:()=>{y.reset(),y=l},isOn:()=>y===f,onEvent:(te,ge)=>{y.onEvent(te,ge)},events:f.events}},p2=(l,f,y)=>{let w=!1;const O=Ed({start:$l([]),stop:$l([])}),M=vk(),W=()=>{kn.stop(),M.isOn()&&(M.off(),O.trigger.stop())},te=Ep(W,200),ge=ln=>{kn.start(ln),M.on(),O.trigger.start()},Fe=ln=>{te.cancel(),M.onEvent(ln,f)};M.events.move.bind(ln=>{f.mutate(l,ln.info)});const pt=()=>{w=!0},fn=()=>{w=!1},Bn=()=>w,Rn=ln=>(..._n)=>{w&&ln.apply(null,_n)},kn=f.sink(du({forceDrop:W,drop:Rn(W),move:Rn(Fe),delayDrop:Rn(te.throttle)}),y),so=()=>{kn.destroy()};return{element:kn.element,go:ge,on:pt,off:fn,isActive:Bn,destroy:so,events:O.registry}},Pv=l=>{const f=l.replace(/\./g,"-");return{resolve:w=>f+"-"+w}},Bv=Pv("ephox-dragster").resolve,qA=l=>{const f=ie({layerClass:Bv("blocker")},l),y=Le.fromTag("div");return ss(y,"role","presentation"),tr(y,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),xd(y,Bv("blocker")),xd(y,f.layerClass),{element:ae(y),destroy:()=>{qr(y)}}};var Fv=Mv({compare:(l,f)=>fo(f.left-l.left,f.top-l.top),extract:l=>ke.some(fo(l.x,l.y)),sink:(l,f)=>{const y=qA(f),w=Sp(y.element(),"mousedown",l.forceDrop),O=Sp(y.element(),"mouseup",l.drop),M=Sp(y.element(),"mousemove",l.move),W=Sp(y.element(),"mouseout",l.delayDrop),te=()=>{y.destroy(),O.unbind(),M.unbind(),W.unbind(),w.unbind()},ge=pt=>{er(pt,y.element())},Fe=()=>{qr(y.element())};return di({element:y.element,start:ge,stop:Fe,destroy:te})},mutate:(l,f)=>{l.mutate(f.left,f.top)}});const vr=(l,f={})=>{var y;const w=(y=f.mode)!==null&&y!==void 0?y:Fv;return p2(l,w,f)},Td=Pv("ephox-snooker").resolve,y2=()=>{const l=Ed({drag:$l(["xDelta","yDelta"])});return{mutate:(y,w)=>{l.trigger.drag(y,w)},events:l.registry}},wk=()=>{const l=Ed({drag:$l(["xDelta","yDelta","target"])});let f=ke.none();const y=y2();return y.events.drag.bind(M=>{f.each(W=>{l.trigger.drag(M.xDelta,M.yDelta,W)})}),{assign:M=>{f=ke.some(M)},get:()=>f,mutate:y.mutate,events:l.registry}},qh=(l,f,y,w,O)=>{const M=Le.fromTag("div");return tr(M,{position:"absolute",left:f-w/2+"px",top:y+"px",height:O+"px",width:w+"px"}),mr(M,{"data-column":l,role:"presentation"}),M},Iv=(l,f,y,w,O)=>{const M=Le.fromTag("div");return tr(M,{position:"absolute",left:f+"px",top:y-O/2+"px",height:O+"px",width:w+"px"}),mr(M,{"data-row":l,role:"presentation"}),M},xb=Td("resizer-bar"),kk=Td("resizer-rows"),b2=Td("resizer-cols"),_k=7,v2=(l,f)=>Yt(l.all,(y,w)=>f(y.element)?[w]:[]),Eb=(l,f)=>{const y=[];return Ht(l.grid.columns,w=>{fs.getColumnAt(l,w).map(M=>M.element).forall(f)&&y.push(w)}),et(y,w=>{const O=fs.filterItems(l,M=>M.column===w);return st(O,M=>f(M.element))})},Tp=l=>{const f=bs(l.parent(),"."+xb);Te(f,qr)},Lv=(l,f,y)=>{const w=l.origin();Te(f,O=>{O.each(M=>{const W=y(w,M);xd(W,xb),er(l.parent(),W)})})},YA=(l,f,y,w)=>{Lv(l,f,(O,M)=>{const W=qh(M.col,M.x-O.left,y.top-O.top,_k,w);return xd(W,b2),W})},XA=(l,f,y,w)=>{Lv(l,f,(O,M)=>{const W=Iv(M.row,y.left-O.left,M.y-O.top,w,_k);return xd(W,kk),W})},JA=(l,f,y,w,O)=>{const M=Fc(y),W=f.isResizable,te=w.length>0?To.positions(w,y):[],ge=te.length>0?v2(l,W):[],Fe=et(te,(Rn,kn)=>_e(ge,so=>kn===so));XA(f,Fe,M,Tu(y));const pt=O.length>0?Uf.positions(O,y):[],fn=pt.length>0?Eb(l,W):[],Bn=et(pt,(Rn,kn)=>_e(fn,so=>kn===so));YA(f,Bn,M,Ao(y))},wl=(l,f)=>{if(Tp(l),l.isResizable(f)){const y=fs.fromTable(f),w=T(y),O=of(y);JA(y,l,f,w,O)}},Qc=(l,f)=>{const y=bs(l.parent(),"."+xb);Te(y,f)},Gh=l=>{Qc(l,f=>{ts(f,"display","none")})},qz=l=>{Qc(l,f=>{ts(f,"display","block")})},QA=l=>_b(l,kk),eO=l=>_b(l,b2),Es=Td("resizer-bar-dragging"),tO=l=>{const f=wk(),y=vr(f,{});let w=ke.none();const O=(kn,so)=>ke.from(cr(kn,so));f.events.drag.bind(kn=>{O(kn.target,"data-row").each(so=>{const ln=Sr(kn.target,"top");ts(kn.target,"top",ln+kn.yDelta+"px")}),O(kn.target,"data-column").each(so=>{const ln=Sr(kn.target,"left");ts(kn.target,"left",ln+kn.xDelta+"px")})});const M=(kn,so)=>{const ln=Sr(kn,so),_n=Ca(kn,"data-initial-"+so,0);return ln-_n};y.events.stop.bind(()=>{f.get().each(kn=>{w.each(so=>{O(kn,"data-row").each(ln=>{const _n=M(kn,"top");we(kn,"data-initial-top"),Rn.trigger.adjustHeight(so,_n,parseInt(ln,10))}),O(kn,"data-column").each(ln=>{const _n=M(kn,"left");we(kn,"data-initial-left"),Rn.trigger.adjustWidth(so,_n,parseInt(ln,10))}),wl(l,so)})})});const W=(kn,so)=>{Rn.trigger.startAdjust(),f.assign(kn),ss(kn,"data-initial-"+so,Sr(kn,so)),xd(kn,Es),ts(kn,"opacity","0.2"),y.go(l.parent())},te=Sp(l.parent(),"mousedown",kn=>{QA(kn.target)&&W(kn.target,"top"),eO(kn.target)&&W(kn.target,"left")}),ge=kn=>cn(kn,l.view()),Fe=kn=>va(kn,"table",ge).filter(Fm),pt=Sp(l.view(),"mouseover",kn=>{Fe(kn.target).fold(()=>{kt(kn.target)&&Tp(l)},so=>{y.isActive()&&(w=ke.some(so),wl(l,so))})}),fn=()=>{te.unbind(),pt.unbind(),y.destroy(),Tp(l)},Bn=kn=>{wl(l,kn)},Rn=Ed({adjustHeight:$l(["table","delta","row"]),adjustWidth:$l(["table","delta","column"]),startAdjust:$l([])});return{destroy:fn,refresh:Bn,on:y.on,off:y.off,hideBars:Nt(Gh,l),showBars:Nt(qz,l),events:Rn.registry}},Ck={create:(l,f,y)=>{const w=To,O=Uf,M=tO(l),W=Ed({beforeResize:$l(["table","type"]),afterResize:$l(["table","type"]),startDrag:$l([])});return M.events.adjustHeight.bind(te=>{const ge=te.table;W.trigger.beforeResize(ge,"row");const Fe=w.delta(te.delta,ge);gw(ge,Fe,te.row),W.trigger.afterResize(ge,"row")}),M.events.startAdjust.bind(te=>{W.trigger.startDrag()}),M.events.adjustWidth.bind(te=>{const ge=te.table;W.trigger.beforeResize(ge,"col");const Fe=O.delta(te.delta,ge),pt=y(ge);jC(ge,Fe,te.column,f,pt),W.trigger.afterResize(ge,"col")}),{on:M.on,off:M.off,refreshBars:M.refresh,hideBars:M.hideBars,showBars:M.showBars,destroy:M.destroy,events:W.registry}}},Tb={only:(l,f)=>{const y=Ct(l)?io(l):l;return{parent:ae(y),view:ae(l),origin:ae(fo(0,0)),isResizable:f}},detached:(l,f,y)=>{const w=()=>Fc(f);return{parent:ae(f),view:ae(l),origin:w,isResizable:y}},body:(l,f,y)=>({parent:ae(f),view:ae(l),origin:ae(fo(0,0)),isResizable:y})},oO=()=>{const l=Le.fromTag("div");return tr(l,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),er(lo(),l),l},sO=(l,f)=>l.inline?Tb.body(Le.fromDom(l.getBody()),oO(),f):Tb.only(Le.fromDom(l.getDoc()),f),Sk=(l,f)=>{l.inline&&qr(f.parent())},Hv=l=>Bt(l)&&l.nodeName==="TABLE",Vv="bar-",Yz=l=>cr(l,"data-mce-resize")!=="false",rO=l=>{const f=fs.fromTable(l);fs.hasColumns(f)||Te(_u(l),y=>{const w=ca(y,"width");ts(y,"width",w),we(y,"width")})},Ab=l=>wi(l,"corner-"),xk=l=>vi(l,"corner-"),aO=l=>{const f=rg(),y=rg(),w=rg();let O,M,W,te;const ge=_n=>nv(l,_n),Fe=()=>yd(l)?Yf():Um(),pt=_n=>Yg(_n).columns,fn=_n=>Yg(_n).rows,Bn=(_n,xn,Io,Ts)=>{const rr=xk(xn),Pr=wc(rr,"e"),ra=wi(rr,"n");if(M===""&&dp(_n),te===""&&uA(_n),Io!==O&&M!==""){ts(_n,"width",M);const Il=Fe(),Ad=ge(_n),Ap=yd(l)||Pr?pt(_n)-1:0;jC(_n,Io-O,Ap,Il,Ad)}else if(G0(M)){const Il=parseFloat(M.replace("%","")),Ad=Io*Il/O;ts(_n,"width",Ad+"%")}if(ih(M)&&rO(_n),Ts!==W&&te!==""){ts(_n,"height",te);const Il=ra?0:fn(_n)-1;gw(_n,Ts-W,Il)}},Rn=()=>{y.on(_n=>{_n.destroy()}),w.on(_n=>{Sk(l,_n)})};return l.on("init",()=>{const _n=sO(l,Yz);if(w.set(_n),RT(l)&&O1(l)){const xn=Fe(),Io=Ck.create(_n,xn,ge);l.mode.isReadOnly()||Io.on(),Io.events.startDrag.bind(Ts=>{f.set(l.selection.getRng())}),Io.events.beforeResize.bind(Ts=>{const rr=Ts.table.dom;ic(l,rr,$y(rr),ch(rr),Vv+Ts.type)}),Io.events.afterResize.bind(Ts=>{const rr=Ts.table,Pr=rr.dom;zl(rr),f.on(ra=>{l.selection.setRng(ra),l.focus()}),Vc(l,Pr,$y(Pr),ch(Pr),Vv+Ts.type),l.undoManager.add()}),y.set(Io)}}),l.on("ObjectResizeStart",_n=>{const xn=_n.target;if(Hv(xn)&&!l.mode.isReadOnly()){const Io=Le.fromDom(xn);Te(l.dom.select(".mce-clonedresizable"),Ts=>{l.dom.addClass(Ts,"mce-"+A1(l)+"-columns")}),!hS(Io)&&Hc(l)?rb(Io):!pS(Io)&&bd(l)&&dp(Io),yS(Io)&&wi(_n.origin,Vv)&&dp(Io),O=_n.width,M=Bm(l)?"":vC(l,xn).getOr(""),W=_n.height,te=wC(l,xn).getOr("")}}),l.on("ObjectResized",_n=>{const xn=_n.target;if(Hv(xn)){const Io=Le.fromDom(xn),Ts=_n.origin;Ab(Ts)&&Bn(Io,Ts,_n.width,_n.height),zl(Io),ip(l,Io.dom,lc)}}),l.on("SwitchMode",()=>{y.on(_n=>{l.mode.isReadOnly()?(_n.off(),_n.hideBars()):(_n.on(),_n.showBars())})}),l.on("dragstart dragend",_n=>{y.on(xn=>{_n.type==="dragstart"?(xn.hideBars(),xn.off()):(xn.on(),xn.showBars())})}),l.on("remove",()=>{Rn()}),{refresh:_n=>{y.on(xn=>xn.refreshBars(Le.fromDom(_n)))},hide:()=>{y.on(_n=>_n.hideBars())},show:()=>{y.on(_n=>_n.showBars())}}},w2=l=>{My(l);const f=aO(l),y=Rv(l,f),w=Rw(l,f,y);return bA(l,w),vA(l,w),Iz(l,w),{getSelectedCells:y.getSelectedCells,clearSelectedCells:y.clearSelectedCells}},Po=l=>({table:w2(l)});var Uv=()=>{p.add("dom",Po)};Uv()})();(function(){var p=tinymce.util.Tools.resolve("tinymce.PluginManager"),v=tinymce.util.Tools.resolve("tinymce.Env"),E=tinymce.util.Tools.resolve("tinymce.util.Tools");const z=Bt=>lt=>lt.options.get(Bt),F=z("content_style"),H=z("content_css_cors"),q=z("body_class"),Y=z("body_id"),Re=Bt=>{var lt;let It="";const Me=Bt.dom.encode,tt=(lt=F(Bt))!==null&&lt!==void 0?lt:"";It+='<base href="'+Me(Bt.documentBaseURI.getURI())+'">';const qe=H(Bt)?' crossorigin="anonymous"':"";E.each(Bt.contentCSS,gn=>{It+='<link type="text/css" rel="stylesheet" href="'+Me(Bt.documentBaseURI.toAbsolute(gn))+'"'+qe+">"}),tt&&(It+='<style type="text/css">'+tt+"</style>");const ae=Y(Bt),vt=q(Bt),Nt='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(v.os.isMacOS()||v.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",J=Bt.getBody().dir,Zt=J?' dir="'+Me(J)+'"':"";return"<!DOCTYPE html><html><head>"+It+'</head><body id="'+Me(ae)+'" class="mce-content-body '+Me(vt)+'"'+Zt+">"+Bt.getContent()+Nt+"</body></html>"},Ue=Bt=>{const lt=Re(Bt);Bt.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:lt}}).focus("close")},Xe=Bt=>{Bt.addCommand("mcePreview",()=>{Ue(Bt)})},$t=Bt=>{const lt=()=>Bt.execCommand("mcePreview");Bt.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:lt,context:"any"}),Bt.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:lt,context:"any"})};var zt=()=>{p.add("preview",Bt=>{Xe(Bt),$t(Bt)})};zt()})();(function(){var p=tinymce.util.Tools.resolve("tinymce.PluginManager");const v=(wt,Yt,st)=>{var Dt;return st(wt,Yt.prototype)?!0:((Dt=wt.constructor)===null||Dt===void 0?void 0:Dt.name)===Yt.name},E=wt=>{const Yt=typeof wt;return wt===null?"null":Yt==="object"&&Array.isArray(wt)?"array":Yt==="object"&&v(wt,String,(st,Dt)=>Dt.isPrototypeOf(st))?"string":Yt},z=wt=>Yt=>E(Yt)===wt,F=wt=>Yt=>typeof Yt===wt,H=z("string"),q=z("object"),Y=z("array"),Re=F("function");var Ue=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Xe=tinymce.util.Tools.resolve("tinymce.EditorManager"),$t=tinymce.util.Tools.resolve("tinymce.Env"),zt=tinymce.util.Tools.resolve("tinymce.util.Tools");const Bt=wt=>Yt=>Yt.options.get(wt),lt=wt=>{const Yt=wt.options.register,st=Dt=>H(Dt)||Re(Dt)||q(Dt);Yt("importcss_merge_classes",{processor:"boolean",default:!0}),Yt("importcss_exclusive",{processor:"boolean",default:!0}),Yt("importcss_selector_converter",{processor:"function"}),Yt("importcss_selector_filter",{processor:st}),Yt("importcss_file_filter",{processor:st}),Yt("importcss_groups",{processor:"object[]"}),Yt("importcss_append",{processor:"boolean",default:!1})},It=Bt("importcss_merge_classes"),Me=Bt("importcss_exclusive"),tt=Bt("importcss_selector_converter"),qe=Bt("importcss_selector_filter"),ae=Bt("importcss_groups"),vt=Bt("importcss_append"),Pn=Bt("importcss_file_filter"),Nt=Bt("skin"),J=Bt("skin_url"),Zt=Array.prototype.push,Tn=(wt,Yt)=>{const st=wt.length,Dt=new Array(st);for(let re=0;re<st;re++){const de=wt[re];Dt[re]=Yt(de,re)}return Dt},gn=wt=>{const Yt=[];for(let st=0,Dt=wt.length;st<Dt;++st){if(!Y(wt[st]))throw new Error("Arr.flatten item "+st+" was not an array, input: "+wt);Zt.apply(Yt,wt[st])}return Yt},at=(wt,Yt)=>gn(Tn(wt,Yt)),ke=()=>{const wt=[],Yt=[],st={};return{addItemToGroup:(De,G)=>{st[De]?st[De].push(G):(Yt.push(De),st[De]=[G])},addItem:De=>{wt.push(De)},toFormats:()=>at(Yt,G=>{const pe=st[G];return pe.length===0?[]:[{title:G,items:pe}]}).concat(wt)}},bo=/^\.(?:ephox|tiny-pageembed|mce)(?:[.-]+\w+)+$/,We=wt=>{const Yt=$t.cacheSuffix;return H(wt)&&(wt=wt.replace("?"+Yt,"").replace("&"+Yt,"")),wt},Ye=(wt,Yt)=>{const st=Nt(wt);if(st){const Dt=J(wt),re=Dt?wt.documentBaseURI.toAbsolute(Dt):Xe.baseURL+"/skins/ui/"+st,de=Xe.baseURL+"/skins/content/",De=wt.editorManager.suffix;return Yt===re+"/content"+(wt.inline?".inline":"")+`${De}.css`||Yt.indexOf(de)!==-1}return!1},x=wt=>H(wt)?Yt=>Yt.indexOf(wt)!==-1:wt instanceof RegExp?Yt=>wt.test(Yt):wt,bt=wt=>wt.styleSheet,_e=wt=>wt.selectorText,Ht=(wt,Yt,st)=>{const Dt=[],re={},de=(De,G)=>{let pe=De.href,Ce;if(pe=We(pe),!(!pe||st&&!st(pe,G)||Ye(wt,pe))){zt.each(De.imports,Oe=>{de(Oe,!0)});try{Ce=De.cssRules||De.rules}catch(Oe){}zt.each(Ce,Oe=>{bt(Oe)&&Oe.styleSheet?de(Oe.styleSheet,!0):_e(Oe)&&zt.each(Oe.selectorText.split(","),Tt=>{Dt.push(zt.trim(Tt))})})}};zt.each(wt.contentCSS,De=>{re[De]=!0}),st||(st=(De,G)=>G||re[De]);try{zt.each(Yt.styleSheets,De=>{de(De)})}catch(De){}return Dt},Gt=(wt,Yt)=>{let st={};const Dt=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(Yt);if(!Dt)return;const re=Dt[1],de=Dt[2].substr(1).split(".").join(" "),De=zt.makeMap("a,img");return Dt[1]?(st={title:Yt},wt.schema.getTextBlockElements()[re]?st.block=re:wt.schema.getBlockElements()[re]||De[re.toLowerCase()]?st.selector=re:st.inline=re):Dt[2]&&(st={inline:"span",title:Yt.substr(1),classes:de}),It(wt)?st.classes=de:st.attributes={class:de},st},Te=(wt,Yt)=>zt.grep(wt,st=>!st.filter||st.filter(Yt)),Vt=wt=>zt.map(wt,Yt=>zt.extend({},Yt,{original:Yt,selectors:{},filter:x(Yt.filter)})),En=(wt,Yt)=>Yt===null||Me(wt),et=(wt,Yt,st,Dt)=>!(En(wt,st)?Yt in Dt:Yt in st.selectors),rn=(wt,Yt,st,Dt)=>{En(wt,st)?Dt[Yt]=!0:st.selectors[Yt]=!0},Pe=(wt,Yt,st,Dt)=>{let re;const de=tt(wt);return Dt&&Dt.selector_converter?re=Dt.selector_converter:de?re=de:re=()=>Gt(wt,st),re.call(Yt,st,Dt)},gt=wt=>{wt.on("init",()=>{const Yt=ke(),st={},Dt=x(qe(wt)),re=Vt(ae(wt)),de=(G,pe)=>{if(et(wt,G,pe,st)){rn(wt,G,pe,st);const Ce=Pe(wt,wt.plugins.importcss,G,pe);if(Ce){const Oe=Ce.name||Ue.DOM.uniqueId();return wt.formatter.register(Oe,Ce),{title:Ce.title,format:Oe}}}return null};zt.each(Ht(wt,wt.getDoc(),x(Pn(wt))),G=>{if(!bo.test(G)&&(!Dt||Dt(G))){const pe=Te(re,G);if(pe.length>0)zt.each(pe,Ce=>{const Oe=de(G,Ce);Oe&&Yt.addItemToGroup(Ce.title,Oe)});else{const Ce=de(G,null);Ce&&Yt.addItem(Ce)}}});const De=Yt.toFormats();wt.dispatch("addStyleModifications",{items:De,replace:!vt(wt)})})},U=wt=>({convertSelectorToFormat:st=>Gt(wt,st)});var ko=()=>{p.add("importcss",wt=>(lt(wt),gt(wt),U(wt)))};ko()})();(function(){const p=ze=>{let Be=ze;return{get:()=>Be,set:zn=>{Be=zn}}};var v=tinymce.util.Tools.resolve("tinymce.PluginManager");const E=(ze,Be,Qt)=>{var cn;return Qt(ze,Be.prototype)?!0:((cn=ze.constructor)===null||cn===void 0?void 0:cn.name)===Be.name},z=ze=>{const Be=typeof ze;return ze===null?"null":Be==="object"&&Array.isArray(ze)?"array":Be==="object"&&E(ze,String,(Qt,cn)=>cn.isPrototypeOf(Qt))?"string":Be},F=ze=>Be=>z(Be)===ze,H=ze=>Be=>typeof Be===ze,q=F("string"),Y=F("array"),Re=H("boolean"),Ue=ze=>ze==null,Xe=ze=>!Ue(ze),$t=H("number"),zt=()=>{},Bt=ze=>()=>ze,lt=Bt(!0),Me=Bt("[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]");class tt{constructor(Be,Qt){this.tag=Be,this.value=Qt}static some(Be){return new tt(!0,Be)}static none(){return tt.singletonNone}fold(Be,Qt){return this.tag?Qt(this.value):Be()}isSome(){return this.tag}isNone(){return!this.tag}map(Be){return this.tag?tt.some(Be(this.value)):tt.none()}bind(Be){return this.tag?Be(this.value):tt.none()}exists(Be){return this.tag&&Be(this.value)}forall(Be){return!this.tag||Be(this.value)}filter(Be){return!this.tag||Be(this.value)?this:tt.none()}getOr(Be){return this.tag?this.value:Be}or(Be){return this.tag?this:Be}getOrThunk(Be){return this.tag?this.value:Be()}orThunk(Be){return this.tag?this:Be()}getOrDie(Be){if(this.tag)return this.value;throw new Error(Be!=null?Be:"Called getOrDie on None")}static from(Be){return Xe(Be)?tt.some(Be):tt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Be){this.tag&&Be(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}tt.singletonNone=new tt(!1);const qe=Me;var ae=tinymce.util.Tools.resolve("tinymce.Env"),vt=tinymce.util.Tools.resolve("tinymce.util.Tools");const Pn=Array.prototype.slice,Nt=Array.prototype.push,J=(ze,Be)=>{const Qt=ze.length,cn=new Array(Qt);for(let zn=0;zn<Qt;zn++){const Qn=ze[zn];cn[zn]=Be(Qn,zn)}return cn},Zt=(ze,Be)=>{for(let Qt=0,cn=ze.length;Qt<cn;Qt++){const zn=ze[Qt];Be(zn,Qt)}},Tn=(ze,Be)=>{for(let Qt=ze.length-1;Qt>=0;Qt--){const cn=ze[Qt];Be(cn,Qt)}},gn=(ze,Be)=>{if(ze.length===0)return[];{let Qt=Be(ze[0]);const cn=[];let zn=[];for(let Qn=0,no=ze.length;Qn<no;Qn++){const Gn=ze[Qn],io=Be(Gn);io!==Qt&&(cn.push(zn),zn=[]),Qt=io,zn.push(Gn)}return zn.length!==0&&cn.push(zn),cn}},at=(ze,Be,Qt)=>(Zt(ze,(cn,zn)=>{Qt=Be(Qt,cn,zn)}),Qt),ke=ze=>{const Be=[];for(let Qt=0,cn=ze.length;Qt<cn;++Qt){if(!Y(ze[Qt]))throw new Error("Arr.flatten item "+Qt+" was not an array, input: "+ze);Nt.apply(Be,ze[Qt])}return Be},bo=(ze,Be)=>ke(J(ze,Be)),We=(ze,Be)=>{const Qt=Pn.call(ze,0);return Qt.sort(Be),Qt},Ye=Object.hasOwnProperty,x=(ze,Be)=>Ye.call(ze,Be);typeof window!="undefined"||Function("return this;")();const bt=9,_e=11,Ht=1,Gt=3,Te=ze=>ze.dom.nodeType,En=(ze=>Be=>Te(Be)===ze)(Gt),et=(ze,Be,Qt)=>{if(q(Qt)||Re(Qt)||$t(Qt))ze.setAttribute(Be,Qt+"");else throw console.error("Invalid call to Attribute.set. Key ",Be,":: Value ",Qt,":: Element ",ze),new Error("Attribute value was not simple")},rn=(ze,Be,Qt)=>{et(ze.dom,Be,Qt)},Pe=(ze,Be)=>{const cn=(Be||document).createElement("div");if(cn.innerHTML=ze,!cn.hasChildNodes()||cn.childNodes.length>1){const zn="HTML does not have a single root node";throw console.error(zn,ze),new Error(zn)}return ko(cn.childNodes[0])},gt=(ze,Be)=>{const cn=(Be||document).createElement(ze);return ko(cn)},U=(ze,Be)=>{const cn=(Be||document).createTextNode(ze);return ko(cn)},ko=ze=>{if(ze==null)throw new Error("Node cannot be null or undefined");return{dom:ze}},Yt={fromHtml:Pe,fromTag:gt,fromText:U,fromDom:ko,fromPoint:(ze,Be,Qt)=>tt.from(ze.dom.elementFromPoint(Be,Qt)).map(ko)},st=ze=>ze.nodeType!==Ht&&ze.nodeType!==bt&&ze.nodeType!==_e||ze.childElementCount===0,Dt=(ze,Be)=>{const Qt=Be===void 0?document:Be.dom;return st(Qt)?[]:J(Qt.querySelectorAll(ze),Yt.fromDom)},re=ze=>tt.from(ze.dom.parentNode).map(Yt.fromDom),de=ze=>J(ze.dom.childNodes,Yt.fromDom),De=(ze,Be)=>({element:ze,offset:Be}),G=(ze,Be)=>{const Qt=de(ze);return Qt.length>0&&Be<Qt.length?De(Qt[Be],0):De(ze,Be)},pe=(ze,Be)=>{re(ze).each(cn=>{cn.dom.insertBefore(Be.dom,ze.dom)})},Ce=(ze,Be)=>{ze.dom.appendChild(Be.dom)},Oe=(ze,Be)=>{pe(ze,Be),Ce(Be,ze)},Ie=((ze,Be)=>{const Qt=Qn=>{if(!ze(Qn))throw new Error("Can only get "+Be+" value of a "+Be+" node");return cn(Qn).getOr("")},cn=Qn=>ze(Qn)?tt.from(Qn.dom.nodeValue):tt.none();return{get:Qt,getOption:cn,set:(Qn,no)=>{if(!ze(Qn))throw new Error("Can only set raw "+Be+" value of a "+Be+" node");Qn.dom.nodeValue=no}}})(En,"text"),ut=ze=>Ie.get(ze),Lt=(ze,Be,Qt)=>(ze.compareDocumentPosition(Be)&Qt)!==0,Sn=(ze,Be)=>Lt(ze,Be,Node.DOCUMENT_POSITION_PRECEDING),rt=(ze,Be)=>Dt(Be,ze);var ft=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const an=(ze,Be)=>ze.isBlock(Be)||x(ze.schema.getVoidElements(),Be.nodeName),pn=(ze,Be)=>!ze.isEditable(Be),po=(ze,Be)=>ze.getContentEditable(Be)==="true"&&Be.parentNode&&!ze.isEditable(Be.parentNode),Un=(ze,Be)=>!ze.isBlock(Be)&&x(ze.schema.getWhitespaceElements(),Be.nodeName),Vn=(ze,Be)=>an(ze,Be)||pn(ze,Be)||Un(ze,Be)||po(ze,Be),Ho=ze=>ze.nodeType===3,Ln=()=>({sOffset:0,fOffset:0,elements:[]}),Wo=(ze,Be)=>G(Yt.fromDom(ze),Be),_s=(ze,Be,Qt,cn,zn,Qn=!0)=>{let no=Qn?Be(!1):Qt;for(;no;){const Gn=pn(ze,no);if(Gn||Un(ze,no)){if(Gn?cn.cef(no):cn.boundary(no))break;no=Be(!0);continue}else if(an(ze,no)){if(cn.boundary(no))break}else Ho(no)&&cn.text(no);if(no===zn)break;no=Be(!1)}},es=(ze,Be,Qt,cn,zn)=>{var Qn;if(Vn(ze,Qt))return;const no=(Qn=ze.getParent(cn,ze.isBlock))!==null&&Qn!==void 0?Qn:ze.getRoot(),Gn=new ft(Qt,no),io=zn?Gn.next.bind(Gn):Gn.prev.bind(Gn);_s(ze,io,Qt,{boundary:lt,cef:lt,text:Co=>{zn?Be.fOffset+=Co.length:Be.sOffset+=Co.length,Be.elements.push(Yt.fromDom(Co))}})},Gs=(ze,Be,Qt,cn,zn,Qn=!0)=>{const no=new ft(Qt,Be),Gn=[];let io=Ln();es(ze,io,Qt,Be,!1);const Co=()=>(io.elements.length>0&&(Gn.push(io),io=Ln()),!1);return _s(ze,no.next.bind(no),Qt,{boundary:Co,cef:ds=>(Co(),zn&&Gn.push(...zn.cef(ds)),!1),text:ds=>{io.elements.push(Yt.fromDom(ds)),zn&&zn.text(ds,io)}},cn,Qn),cn&&es(ze,io,cn,Be,!0),Co(),Gn},_o=(ze,Be)=>{const Qt=Wo(Be.startContainer,Be.startOffset),cn=Qt.element.dom,zn=Wo(Be.endContainer,Be.endOffset),Qn=zn.element.dom;return Gs(ze,Be.commonAncestorContainer,cn,Qn,{text:(no,Gn)=>{no===Qn?Gn.fOffset+=no.length-zn.offset:no===cn&&(Gn.sOffset+=Qt.offset)},cef:no=>{const Gn=bo(rt(Yt.fromDom(no),"*[contenteditable=true]"),io=>{const Co=io.dom;return Gs(ze,Co,Co)});return We(Gn,(io,Co)=>Sn(io.elements[0].dom,Co.elements[0].dom)?1:-1)}},!1)},Ir=(ze,Be)=>Be.collapsed?[]:_o(ze,Be),on=(ze,Be)=>{const Qt=ze.createRng();return Qt.selectNode(Be),Ir(ze,Qt)},Go=(ze,Be)=>bo(Be,Qt=>on(ze,Qt)),ur=(ze,Be,Qt=0,cn=ze.length)=>{const zn=Be.regex;zn.lastIndex=Qt;const Qn=[];let no;for(;no=zn.exec(ze);){const Gn=no[Be.matchIndex],io=no.index+no[0].indexOf(Gn),Co=io+Gn.length;if(Co>cn)break;Qn.push({start:io,finish:Co}),zn.lastIndex=Co}return Qn},Qs=(ze,Be)=>{const Qt=at(ze,(cn,zn)=>{const Qn=ut(zn),no=cn.last,Gn=no+Qn.length,io=bo(Be,(Co,ds)=>Co.start<Gn&&Co.finish>no?[{element:zn,start:Math.max(no,Co.start)-no,finish:Math.min(Gn,Co.finish)-no,matchId:ds}]:[]);return{results:cn.results.concat(io),last:Gn}},{results:[],last:0}).results;return gn(Qt,cn=>cn.matchId)},Ar=(ze,Be)=>bo(Be,Qt=>{const cn=Qt.elements,zn=J(cn,ut).join(""),Qn=ur(zn,ze,Qt.sOffset,zn.length-Qt.fOffset);return Qs(cn,Qn)}),_r=(ze,Be)=>{Tn(ze,(Qt,cn)=>{Tn(Qt,zn=>{const Qn=Yt.fromDom(Be.cloneNode(!1));rn(Qn,"data-mce-index",cn);const no=zn.element.dom;if(no.length===zn.finish&&zn.start===0)Oe(zn.element,Qn);else{no.length!==zn.finish&&no.splitText(zn.finish);const Gn=no.splitText(zn.start);Oe(Yt.fromDom(Gn),Qn)}})})},Cs=(ze,Be,Qt,cn)=>{const zn=on(ze,Qt),Qn=Ar(Be,zn);return _r(Qn,cn),Qn.length},Jr=(ze,Be,Qt,cn)=>{const zn=Qt.getBookmark(),Qn=ze.select("td[data-mce-selected],th[data-mce-selected]"),no=Qn.length>0?Go(ze,Qn):Ir(ze,Qt.getRng()),Gn=Ar(Be,no);return _r(Gn,cn),Qt.moveToBookmark(zn),Gn.length},Zr=ze=>ze.getAttribute("data-mce-index"),ys=(ze,Be,Qt,cn)=>{const zn=ze.dom.create("span",{"data-mce-bogus":1});zn.className="mce-match-marker";const Qn=ze.getBody();return cr(ze,Be,!1),cn?Jr(ze.dom,Qt,ze.selection,zn):Cs(ze.dom,Qt,Qn,zn)},ao=ze=>{var Be;const Qt=ze.parentNode;ze.firstChild&&Qt.insertBefore(ze.firstChild,ze),(Be=ze.parentNode)===null||Be===void 0||Be.removeChild(ze)},Ps=(ze,Be)=>{const Qt=[],cn=vt.toArray(ze.getBody().getElementsByTagName("span"));if(cn.length)for(let zn=0;zn<cn.length;zn++){const Qn=Zr(cn[zn]);Qn===null||!Qn.length||Qn===Be.toString()&&Qt.push(cn[zn])}return Qt},Qe=(ze,Be,Qt)=>{const cn=Be.get();let zn=cn.index;const Qn=ze.dom;Qt?zn+1===cn.count?zn=0:zn++:zn-1===-1?zn=cn.count-1:zn--,Qn.removeClass(Ps(ze,cn.index),"mce-match-marker-selected");const no=Ps(ze,zn);return no.length?(Qn.addClass(Ps(ze,zn),"mce-match-marker-selected"),ze.selection.scrollIntoView(no[0]),zn):-1},Ct=(ze,Be)=>{const Qt=Be.parentNode;ze.remove(Be),Qt&&ze.isEmpty(Qt)&&ze.remove(Qt)},An=(ze,Be)=>{const cn="("+ze.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return Be?`(?:^|\\s|${qe()})`+cn+`(?=$|\\s|${qe()})`:cn},Fn=(ze,Be,Qt,cn,zn,Qn)=>{const no=ze.selection,Gn=An(Qt,zn),io=no.isForward(),Co={regex:new RegExp(Gn,cn?"g":"gi"),matchIndex:1},ds=ys(ze,Be,Co,Qn);if(ae.browser.isSafari()&&no.setRng(no.getRng(),io),ds){const Ds=Qe(ze,Be,!0);Be.set({index:Ds,count:ds,text:Qt,matchCase:cn,wholeWord:zn,inSelection:Qn})}return ds},jo=(ze,Be)=>{const Qt=Qe(ze,Be,!0);Be.set(Pt(ie({},Be.get()),{index:Qt}))},ss=(ze,Be)=>{const Qt=Qe(ze,Be,!1);Be.set(Pt(ie({},Be.get()),{index:Qt}))},mr=ze=>{const Be=Zr(ze);return Be!==null&&Be.length>0},yr=(ze,Be,Qt,cn,zn)=>{const Qn=Be.get(),no=Qn.index;let Gn,io=no;cn=cn!==!1;const Co=ze.getBody(),ds=vt.grep(vt.toArray(Co.getElementsByTagName("span")),mr);for(let Ds=0;Ds<ds.length;Ds++){const Is=Zr(ds[Ds]);let _a=Gn=parseInt(Is,10);if(zn||_a===Qn.index){for(Qt.length?(ds[Ds].innerText=Qt,ao(ds[Ds])):Ct(ze.dom,ds[Ds]);ds[++Ds];)if(_a=parseInt(Zr(ds[Ds]),10),_a===Gn)Ct(ze.dom,ds[Ds]);else{Ds--;break}cn&&io--}else Gn>no&&ds[Ds].setAttribute("data-mce-index",String(Gn-1))}return Be.set(Pt(ie({},Qn),{count:zn?0:Qn.count-1,index:io})),cn?jo(ze,Be):ss(ze,Be),!zn&&Be.get().count>0},cr=(ze,Be,Qt)=>{let cn,zn;const Qn=Be.get(),no=vt.toArray(ze.getBody().getElementsByTagName("span"));for(let Gn=0;Gn<no.length;Gn++){const io=Zr(no[Gn]);io!==null&&io.length&&(io===Qn.index.toString()&&(cn||(cn=no[Gn].firstChild),zn=no[Gn].firstChild),ao(no[Gn]))}if(Be.set(Pt(ie({},Qn),{index:-1,count:0,text:""})),cn&&zn){const Gn=ze.dom.createRng();return Gn.setStart(cn,0),Gn.setEnd(zn,zn.data.length),Qt!==!1&&ze.selection.setRng(Gn),Gn}else return},xe=(ze,Be)=>Be.get().count>1,we=(ze,Be)=>Be.get().count>1,ht=(ze,Be)=>({done:Gn=>cr(ze,Be,Gn),find:(Gn,io,Co,ds=!1)=>Fn(ze,Be,Gn,io,Co,ds),next:()=>jo(ze,Be),prev:()=>ss(ze,Be),replace:(Gn,io,Co)=>yr(ze,Be,Gn,io,Co)}),Mt=ze=>{const Be=p(tt.none()),Qt=()=>Be.get().each(ze);return{clear:()=>{Qt(),Be.set(tt.none())},isSet:()=>Be.get().isSome(),get:()=>Be.get(),set:Gn=>{Qt(),Be.set(tt.some(Gn))}}},oo=()=>{const ze=Mt(zt),Be=Qt=>ze.get().each(Qt);return Pt(ie({},ze),{on:Be})},Eo=(ze,Be)=>{const Qt=oo();ze.undoManager.add();const cn=vt.trim(ze.selection.getContent({format:"text"})),zn=vo=>{vo.setEnabled("next",xe(ze,Be)),vo.setEnabled("prev",we(ze,Be))},Qn=vo=>{const cs=vo.getData(),is=Be.get();Be.set(Pt(ie({},is),{matchCase:cs.matchcase,wholeWord:cs.wholewords,inSelection:cs.inselection}))},no=(vo,cs)=>{Zt(["replace","replaceall","prev","next"],Qr=>vo.setEnabled(Qr,!cs))},Gn=(vo,cs)=>{cs.redial(ua(vo,cs.getData()))},io=(vo,cs)=>{ae.browser.isSafari()&&ae.deviceType.isTouch()&&(cs==="find"||cs==="replace"||cs==="replaceall")&&vo.focus(cs)},Co=vo=>{cr(ze,Be,!1),no(vo,!0),zn(vo)},ds=vo=>{const cs=vo.getData(),is=Be.get();if(!cs.findtext.length){Co(vo);return}if(is.text===cs.findtext&&is.matchCase===cs.matchcase&&is.wholeWord===cs.wholewords)jo(ze,Be);else{const aa=Fn(ze,Be,cs.findtext,cs.matchcase,cs.wholewords,cs.inselection);aa<=0&&Gn(!0,vo),no(vo,aa===0)}zn(vo)},Ds=Be.get(),Is={findtext:cn,replacetext:"",wholewords:Ds.wholeWord,matchcase:Ds.matchCase,inselection:Ds.inSelection},_a=vo=>{const cs=[{type:"label",label:"Find",for:"findtext",items:[{type:"bar",items:[{type:"input",name:"findtext",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]}]},{type:"input",name:"replacetext",label:"Replace with",inputMode:"search"}];return vo&&cs.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),cs},ua=(vo,cs)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:_a(vo)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:cs,onChange:(is,aa)=>{vo&&Gn(!1,is),aa.name==="findtext"&&Be.get().count>0&&Co(is)},onAction:(is,aa)=>{const Qr=is.getData();switch(aa.name){case"find":ds(is);break;case"replace":yr(ze,Be,Qr.replacetext)?zn(is):Co(is);break;case"replaceall":yr(ze,Be,Qr.replacetext,!0,!0),Co(is);break;case"prev":ss(ze,Be),zn(is);break;case"next":jo(ze,Be),zn(is);break;case"matchcase":case"wholewords":case"inselection":Gn(!1,is),Qn(is),Co(is);break}io(is,aa.name)},onSubmit:is=>{ds(is),io(is,"find")},onClose:()=>{ze.focus(),cr(ze,Be),ze.undoManager.add()}});Qt.set(ze.windowManager.open(ua(!1,Is),{inline:"toolbar"}))},Bo=(ze,Be)=>{ze.addCommand("SearchReplace",()=>{Eo(ze,Be)})},ir=(ze,Be)=>()=>{Eo(ze,Be)},Le=(ze,Be)=>{ze.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:ir(ze,Be),icon:"search"}),ze.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:ir(ze,Be),icon:"search",shortcut:"Meta+F"}),ze.shortcuts.add("Meta+F","",ir(ze,Be))};var Mo=()=>{v.add("searchreplace",ze=>{const Be=p({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return Bo(ze,Be),Le(ze,Be),ht(ze,Be)})};Mo()})();(function(){var p=tinymce.util.Tools.resolve("tinymce.PluginManager");const v=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,E=et=>rn=>rn.options.get(et),z=et=>{const rn=et.options.register;rn("autolink_pattern",{processor:"regexp",default:new RegExp("^"+v().source+"$","i")}),rn("link_default_target",{processor:"string"}),rn("link_default_protocol",{processor:"string",default:"https"})},F=E("autolink_pattern"),H=E("link_default_target"),q=E("link_default_protocol"),Y=E("allow_unsafe_link_target"),Re=(et,rn,Pe)=>{var gt;return Pe(et,rn.prototype)?!0:((gt=et.constructor)===null||gt===void 0?void 0:gt.name)===rn.name},Ue=et=>{const rn=typeof et;return et===null?"null":rn==="object"&&Array.isArray(et)?"array":rn==="object"&&Re(et,String,(Pe,gt)=>gt.isPrototypeOf(Pe))?"string":rn},Xe=et=>rn=>Ue(rn)===et,$t=et=>rn=>et===rn,zt=Xe("string"),Bt=$t(void 0),lt=et=>et==null,It=et=>!lt(et),Me=et=>rn=>!et(rn),tt=Object.hasOwnProperty,qe=(et,rn)=>tt.call(et,rn),ae=(et,rn,Pe)=>et.length>=rn.length&&et.substr(Pe,Pe+rn.length)===rn,vt=(et,rn,Pe=0,gt)=>{const U=et.indexOf(rn,Pe);return U!==-1?Bt(gt)?!0:U+rn.length<=gt:!1},Pn=(et,rn)=>ae(et,rn,0),Nt="\uFEFF",J=et=>et===Nt,Zt=et=>et.replace(/\uFEFF/g,"");var Tn=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const gn=et=>et.nodeType===3,at=et=>et.nodeType===1,ke=et=>/^[(\[{ \u00a0]$/.test(et),bo=et=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(et),We=et=>/[?!,.;:]/.test(et),Ye=(et,rn,Pe)=>{for(let gt=rn-1;gt>=0;gt--){const U=et.charAt(gt);if(!J(U)&&Pe(U))return gt}return-1},x=(et,rn)=>{let Pe=et,gt=rn;for(;at(Pe)&&Pe.childNodes[gt];)Pe=Pe.childNodes[gt],gt=gn(Pe)?Pe.data.length:Pe.childNodes.length;return{container:Pe,offset:gt}},bt=(et,rn)=>{var Pe;const gt=et.schema.getVoidElements(),U=F(et),{dom:ko,selection:wt}=et;if(ko.getParent(wt.getNode(),"a[href]")!==null||et.mode.isReadOnly())return null;const Yt=wt.getRng(),st=Tn(ko,Ie=>ko.isBlock(Ie)||qe(gt,Ie.nodeName.toLowerCase())||ko.getContentEditable(Ie)==="false"),{container:Dt,offset:re}=x(Yt.endContainer,Yt.endOffset),de=(Pe=ko.getParent(Dt,ko.isBlock))!==null&&Pe!==void 0?Pe:ko.getRoot(),De=st.backwards(Dt,re+rn,(Ie,ut)=>{const Lt=Ie.data,Sn=Ye(Lt,ut,Me(ke));return Sn===-1||We(Lt[Sn])?Sn:Sn+1},de);if(!De)return null;let G=De.container;const pe=st.backwards(De.container,De.offset,(Ie,ut)=>{G=Ie;const Lt=Ye(Ie.data,ut,ke);return Lt===-1?Lt:Lt+1},de),Ce=ko.createRng();pe?Ce.setStart(pe.container,pe.offset):Ce.setStart(G,0),Ce.setEnd(De.container,De.offset);const Tt=Zt(Ce.toString()).match(U);if(Tt){let Ie=Tt[0];return Pn(Ie,"www.")?Ie=q(et)+"://"+Ie:vt(Ie,"@")&&!bo(Ie)&&(Ie="mailto:"+Ie),{rng:Ce,url:Ie}}else return null},_e=(et,rn)=>{const{dom:Pe,selection:gt}=et,{rng:U,url:ko}=rn,wt=gt.getBookmark();gt.setRng(U);const Yt="createlink",st={command:Yt,ui:!1,value:ko};if(!et.dispatch("BeforeExecCommand",st).isDefaultPrevented()){et.getDoc().execCommand(Yt,!1,ko),et.dispatch("ExecCommand",st);const re=H(et);if(zt(re)){const de=gt.getNode();Pe.setAttrib(de,"target",re),re==="_blank"&&!Y(et)&&Pe.setAttrib(de,"rel","noopener")}}gt.moveToBookmark(wt),et.nodeChanged()},Ht=et=>{const rn=bt(et,-1);It(rn)&&_e(et,rn)},Gt=Ht,Te=et=>{const rn=bt(et,0);It(rn)&&_e(et,rn)},Vt=et=>{et.on("keydown",rn=>{rn.keyCode===13&&!rn.isDefaultPrevented()&&Te(et)}),et.on("keyup",rn=>{rn.keyCode===32?Ht(et):(rn.keyCode===48&&rn.shiftKey||rn.keyCode===221)&&Gt(et)})};var En=()=>{p.add("autolink",et=>{z(et),Vt(et)})};En()})();(function(){var p=tinymce.util.Tools.resolve("tinymce.PluginManager");const v=(_e,Ht,Gt)=>{var Te;return Gt(_e,Ht.prototype)?!0:((Te=_e.constructor)===null||Te===void 0?void 0:Te.name)===Ht.name},E=_e=>{const Ht=typeof _e;return _e===null?"null":Ht==="object"&&Array.isArray(_e)?"array":Ht==="object"&&v(_e,String,(Gt,Te)=>Te.isPrototypeOf(Gt))?"string":Ht},z=_e=>Ht=>E(Ht)===_e,F=_e=>Ht=>_e===Ht,H=z("string"),q=F(void 0);var Y=tinymce.util.Tools.resolve("tinymce.util.Delay"),Re=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),Ue=tinymce.util.Tools.resolve("tinymce.util.Tools");const Xe=_e=>_e.dispatch("RestoreDraft"),$t=_e=>_e.dispatch("StoreDraft"),zt=_e=>_e.dispatch("RemoveDraft"),Bt=_e=>{const Ht={s:1e3,m:6e4},Gt=/^(\d+)([ms]?)$/.exec(_e);return(Gt&&Gt[2]?Ht[Gt[2]]:1)*parseInt(_e,10)},lt=_e=>Ht=>Ht.options.get(_e),It=_e=>{const Ht=_e.options.register,Gt=Te=>{const Vt=H(Te);return Vt?{value:Bt(Te),valid:Vt}:{valid:!1,message:"Must be a string."}};Ht("autosave_ask_before_unload",{processor:"boolean",default:!0}),Ht("autosave_prefix",{processor:"string",default:"tinymce-autosave-{path}{query}{hash}-{id}-"}),Ht("autosave_restore_when_empty",{processor:"boolean",default:!1}),Ht("autosave_interval",{processor:Gt,default:"30s"}),Ht("autosave_retention",{processor:Gt,default:"20m"})},Me=lt("autosave_ask_before_unload"),tt=lt("autosave_restore_when_empty"),qe=lt("autosave_interval"),ae=lt("autosave_retention"),vt=_e=>{const Ht=document.location;return _e.options.get("autosave_prefix").replace(/{path}/g,Ht.pathname).replace(/{query}/g,Ht.search).replace(/{hash}/g,Ht.hash).replace(/{id}/g,_e.id)},Pn=(_e,Ht)=>{if(q(Ht))return _e.dom.isEmpty(_e.getBody());{const Gt=Ue.trim(Ht);if(Gt==="")return!0;{const Te=new DOMParser().parseFromString(Gt,"text/html");return _e.dom.isEmpty(Te)}}},Nt=_e=>{var Ht;const Gt=parseInt((Ht=Re.getItem(vt(_e)+"time"))!==null&&Ht!==void 0?Ht:"0",10)||0;return new Date().getTime()-Gt>ae(_e)?(J(_e,!1),!1):!0},J=(_e,Ht)=>{const Gt=vt(_e);Re.removeItem(Gt+"draft"),Re.removeItem(Gt+"time"),Ht!==!1&&zt(_e)},Zt=_e=>{const Ht=vt(_e);!Pn(_e)&&_e.isDirty()&&(Re.setItem(Ht+"draft",_e.getContent({format:"raw",no_events:!0})),Re.setItem(Ht+"time",new Date().getTime().toString()),$t(_e))},Tn=_e=>{var Ht;const Gt=vt(_e);Nt(_e)&&(_e.setContent((Ht=Re.getItem(Gt+"draft"))!==null&&Ht!==void 0?Ht:"",{format:"raw"}),Xe(_e))},gn=_e=>{const Ht=qe(_e);Y.setEditorInterval(_e,()=>{Zt(_e)},Ht)},at=_e=>{_e.undoManager.transact(()=>{Tn(_e),J(_e)}),_e.focus()},ke=_e=>({hasDraft:()=>Nt(_e),storeDraft:()=>Zt(_e),restoreDraft:()=>Tn(_e),removeDraft:Ht=>J(_e,Ht),isEmpty:Ht=>Pn(_e,Ht)});var bo=tinymce.util.Tools.resolve("tinymce.EditorManager");const We=_e=>{_e.editorManager.on("BeforeUnload",Ht=>{let Gt;Ue.each(bo.get(),Te=>{Te.plugins.autosave&&Te.plugins.autosave.storeDraft(),!Gt&&Te.isDirty()&&Me(Te)&&(Gt=Te.translate("You have unsaved changes are you sure you want to navigate away?"))}),Gt&&(Ht.preventDefault(),Ht.returnValue=Gt)})},Ye=_e=>Ht=>{const Gt=()=>Nt(_e)&&!_e.mode.isReadOnly();Ht.setEnabled(Gt());const Te=()=>Ht.setEnabled(Gt());return _e.on("StoreDraft RestoreDraft RemoveDraft",Te),()=>_e.off("StoreDraft RestoreDraft RemoveDraft",Te)},x=_e=>{gn(_e);const Ht=()=>{at(_e)};_e.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:Ht,onSetup:Ye(_e)}),_e.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:Ht,onSetup:Ye(_e)})};var bt=()=>{p.add("autosave",_e=>(It(_e),We(_e),x(_e),_e.on("init",()=>{tt(_e)&&_e.dom.isEmpty(_e.getBody())&&Tn(_e)}),ke(_e)))};bt()})();(function(){var p=tinymce.util.Tools.resolve("tinymce.PluginManager");const E=(tt=>qe=>typeof qe===tt)("function");var z=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),F=tinymce.util.Tools.resolve("tinymce.util.Tools");const H=tt=>qe=>qe.options.get(tt),q=tt=>{const qe=tt.options.register;qe("save_enablewhendirty",{processor:"boolean",default:!0}),qe("save_onsavecallback",{processor:"function"}),qe("save_oncancelcallback",{processor:"function"})},Y=H("save_enablewhendirty"),Re=H("save_onsavecallback"),Ue=H("save_oncancelcallback"),Xe=(tt,qe)=>{tt.notificationManager.open({text:qe,type:"error"})},$t=tt=>{const qe=z.DOM.getParent(tt.id,"form");if(Y(tt)&&!tt.isDirty())return;tt.save();const ae=Re(tt);if(E(ae)){ae.call(tt,tt),tt.nodeChanged();return}qe?(tt.setDirty(!1),(!qe.onsubmit||qe.onsubmit())&&(typeof qe.submit=="function"?qe.submit():Xe(tt,"Error: Form submit field collision.")),tt.nodeChanged()):Xe(tt,"Error: No form element found.")},zt=tt=>{const qe=F.trim(tt.startContent),ae=Ue(tt);if(E(ae)){ae.call(tt,tt);return}tt.resetContent(qe)},Bt=tt=>{tt.addCommand("mceSave",()=>{$t(tt)}),tt.addCommand("mceCancel",()=>{zt(tt)})},lt=tt=>qe=>{const ae=()=>{qe.setEnabled(!Y(tt)||tt.isDirty())};return ae(),tt.on("NodeChange dirty",ae),()=>tt.off("NodeChange dirty",ae)},It=tt=>{tt.ui.registry.addButton("save",{icon:"save",tooltip:"Save",enabled:!1,onAction:()=>tt.execCommand("mceSave"),onSetup:lt(tt),shortcut:"Meta+S"}),tt.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",enabled:!1,onAction:()=>tt.execCommand("mceCancel"),onSetup:lt(tt)}),tt.addShortcut("Meta+S","","mceSave")};var Me=()=>{p.add("save",tt=>{q(tt),It(tt),Bt(tt)})};Me()})();(function(){var p=tinymce.util.Tools.resolve("tinymce.PluginManager");const v=(rt,ft,an)=>{var pn;return an(rt,ft.prototype)?!0:((pn=rt.constructor)===null||pn===void 0?void 0:pn.name)===ft.name},E=rt=>{const ft=typeof rt;return rt===null?"null":ft==="object"&&Array.isArray(rt)?"array":ft==="object"&&v(rt,String,(an,pn)=>pn.isPrototypeOf(an))?"string":ft},z=rt=>ft=>E(ft)===rt,F=rt=>ft=>typeof ft===rt,H=z("string"),q=F("boolean"),Y=rt=>rt==null,Re=rt=>!Y(rt),Ue=F("function"),Xe=F("number"),$t=(rt,ft)=>an=>rt(ft(an)),Bt=(rt=>()=>rt)(!1);class lt{constructor(ft,an){this.tag=ft,this.value=an}static some(ft){return new lt(!0,ft)}static none(){return lt.singletonNone}fold(ft,an){return this.tag?an(this.value):ft()}isSome(){return this.tag}isNone(){return!this.tag}map(ft){return this.tag?lt.some(ft(this.value)):lt.none()}bind(ft){return this.tag?ft(this.value):lt.none()}exists(ft){return this.tag&&ft(this.value)}forall(ft){return!this.tag||ft(this.value)}filter(ft){return!this.tag||ft(this.value)?this:lt.none()}getOr(ft){return this.tag?this.value:ft}or(ft){return this.tag?this:ft}getOrThunk(ft){return this.tag?this.value:ft()}orThunk(ft){return this.tag?this:ft()}getOrDie(ft){if(this.tag)return this.value;throw new Error(ft!=null?ft:"Called getOrDie on None")}static from(ft){return Re(ft)?lt.some(ft):lt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ft){this.tag&&ft(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}lt.singletonNone=new lt(!1);const It=(rt,ft)=>{const an=rt.length,pn=new Array(an);for(let po=0;po<an;po++){const Un=rt[po];pn[po]=ft(Un,po)}return pn},Me=(rt,ft)=>{for(let an=0,pn=rt.length;an<pn;an++){const po=rt[an];ft(po,an)}},tt=(rt,ft)=>{const an=[];for(let pn=0,po=rt.length;pn<po;pn++){const Un=rt[pn];ft(Un,pn)&&an.push(Un)}return an},qe=11,ae=1,vt=3,Pn=(rt,ft)=>{const pn=(ft||document).createElement("div");if(pn.innerHTML=rt,!pn.hasChildNodes()||pn.childNodes.length>1){const po="HTML does not have a single root node";throw console.error(po,rt),new Error(po)}return Zt(pn.childNodes[0])},Nt=(rt,ft)=>{const pn=(ft||document).createElement(rt);return Zt(pn)},J=(rt,ft)=>{const pn=(ft||document).createTextNode(rt);return Zt(pn)},Zt=rt=>{if(rt==null)throw new Error("Node cannot be null or undefined");return{dom:rt}},gn={fromHtml:Pn,fromTag:Nt,fromText:J,fromDom:Zt,fromPoint:(rt,ft,an)=>lt.from(rt.dom.elementFromPoint(ft,an)).map(Zt)},at=(rt,ft)=>{const an=rt.dom;if(an.nodeType!==ae)return!1;{const pn=an;if(pn.matches!==void 0)return pn.matches(ft);if(pn.msMatchesSelector!==void 0)return pn.msMatchesSelector(ft);if(pn.webkitMatchesSelector!==void 0)return pn.webkitMatchesSelector(ft);if(pn.mozMatchesSelector!==void 0)return pn.mozMatchesSelector(ft);throw new Error("Browser lacks native selectors")}};typeof window!="undefined"||Function("return this;")();const ke=rt=>rt.dom.nodeName.toLowerCase(),bo=rt=>rt.dom.nodeType,We=rt=>ft=>bo(ft)===rt,Ye=We(ae),x=We(vt),bt=We(qe),_e=rt=>ft=>Ye(ft)&&ke(ft)===rt,Ht=rt=>lt.from(rt.dom.parentNode).map(gn.fromDom),Gt=rt=>It(rt.dom.childNodes,gn.fromDom),Te=(rt,ft,an)=>{if(H(an)||q(an)||Xe(an))rt.setAttribute(ft,an+"");else throw console.error("Invalid call to Attribute.set. Key ",ft,":: Value ",an,":: Element ",rt),new Error("Attribute value was not simple")},Vt=(rt,ft,an)=>{Te(rt.dom,ft,an)},En=(rt,ft)=>{rt.dom.removeAttribute(ft)},et=rt=>bt(rt)&&Re(rt.dom.host),rn=rt=>gn.fromDom(rt.dom.getRootNode()),Pe=rt=>{const ft=rn(rt);return et(ft)?lt.some(ft):lt.none()},gt=rt=>gn.fromDom(rt.dom.host),U=rt=>{const ft=x(rt)?rt.dom.parentNode:rt.dom;if(ft==null||ft.ownerDocument===null)return!1;const an=ft.ownerDocument;return Pe(gn.fromDom(ft)).fold(()=>an.body.contains(ft),$t(U,gt))},ko=(rt,ft,an)=>{let pn=rt.dom;const po=Ue(an)?an:Bt;for(;pn.parentNode;){pn=pn.parentNode;const Un=gn.fromDom(pn);if(ft(Un))return lt.some(Un);if(po(Un))break}return lt.none()},wt=(rt,ft,an)=>ko(rt,pn=>at(pn,ft),an),Yt=rt=>rt.style!==void 0&&Ue(rt.style.getPropertyValue),st=(rt,ft)=>{const an=rt.dom,po=window.getComputedStyle(an).getPropertyValue(ft);return po===""&&!U(rt)?Dt(an,ft):po},Dt=(rt,ft)=>Yt(rt)?rt.style.getPropertyValue(ft):"",re=rt=>st(rt,"direction")==="rtl"?"rtl":"ltr",de=(rt,ft)=>tt(Gt(rt),ft),De=(rt,ft)=>de(rt,an=>at(an,ft)),G=rt=>Ht(rt).filter(Ye),pe=(rt,ft)=>(ft?wt(rt,"ol,ul"):lt.some(rt)).getOr(rt),Ce=_e("li"),Oe=(rt,ft,an)=>{Me(ft,pn=>{const po=gn.fromDom(pn),Un=Ce(po),Vn=pe(po,Un);G(Vn).each(Ln=>{if(rt.setStyle(Vn.dom,"direction",null),re(Ln)===an?En(Vn,"dir"):Vt(Vn,"dir",an),re(Vn)!==an&&rt.setStyle(Vn.dom,"direction",an),Un){const _s=De(Vn,"li[dir],li[style]");Me(_s,es=>{En(es,"dir"),rt.setStyle(es.dom,"direction",null)})}})})},Tt=(rt,ft)=>{rt.selection.isEditable()&&(Oe(rt.dom,rt.selection.getSelectedBlocks(),ft),rt.nodeChanged())},Ie=rt=>{rt.addCommand("mceDirectionLTR",()=>{Tt(rt,"ltr")}),rt.addCommand("mceDirectionRTL",()=>{Tt(rt,"rtl")})},ut=(rt,ft)=>an=>{const pn=po=>{const Un=gn.fromDom(po.element);an.setActive(re(Un)===ft),an.setEnabled(rt.selection.isEditable())};return rt.on("NodeChange",pn),an.setEnabled(rt.selection.isEditable()),()=>rt.off("NodeChange",pn)},Lt=rt=>{rt.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:()=>rt.execCommand("mceDirectionLTR"),onSetup:ut(rt,"ltr")}),rt.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:()=>rt.execCommand("mceDirectionRTL"),onSetup:ut(rt,"rtl")})};var Sn=()=>{p.add("directionality",rt=>{Ie(rt),Lt(rt)})};Sn()})();(function(){var p=tinymce.util.Tools.resolve("tinymce.PluginManager");const v=(Y,Re)=>{Y.focus(),Y.undoManager.transact(()=>{Y.setContent(Re)}),Y.selection.setCursorLocation(),Y.nodeChanged()},E=Y=>Y.getContent({source_view:!0}),z=Y=>{const Re=E(Y);Y.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:Re},onSubmit:Ue=>{v(Y,Ue.getData().code),Ue.close()}})},F=Y=>{Y.addCommand("mceCodeEditor",()=>{z(Y)})},H=Y=>{const Re=()=>Y.execCommand("mceCodeEditor");Y.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:Re}),Y.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:Re})};var q=()=>{p.add("code",Y=>(F(Y),H(Y),{}))};q()})();(function(){const p=zt=>{let Bt=zt;return{get:()=>Bt,set:Me=>{Bt=Me}}};var v=tinymce.util.Tools.resolve("tinymce.PluginManager");const E=(zt,Bt)=>{zt.dispatch("VisualBlocks",{state:Bt})},z=(zt,Bt,lt)=>{zt.dom.toggleClass(zt.getBody(),"mce-visualblocks"),lt.set(!lt.get()),E(zt,lt.get())},F=(zt,Bt,lt)=>{zt.addCommand("mceVisualBlocks",()=>{z(zt,Bt,lt)})},H=zt=>Bt=>Bt.options.get(zt),q=zt=>{const Bt=zt.options.register;Bt("visualblocks_default_state",{processor:"boolean",default:!1})},Y=H("visualblocks_default_state"),Re=(zt,Bt,lt)=>{zt.on("PreviewFormats AfterPreviewFormats",It=>{lt.get()&&zt.dom.toggleClass(zt.getBody(),"mce-visualblocks",It.type==="afterpreviewformats")}),zt.on("init",()=>{Y(zt)&&z(zt,Bt,lt)})},Ue=(zt,Bt)=>lt=>{lt.setActive(Bt.get());const It=Me=>lt.setActive(Me.state);return zt.on("VisualBlocks",It),()=>zt.off("VisualBlocks",It)},Xe=(zt,Bt)=>{const lt=()=>zt.execCommand("mceVisualBlocks");zt.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:lt,onSetup:Ue(zt,Bt),context:"any"}),zt.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:lt,onSetup:Ue(zt,Bt),context:"any"})};var $t=()=>{v.add("visualblocks",(zt,Bt)=>{q(zt);const lt=p(!1);F(zt,Bt,lt),Xe(zt,lt),Re(zt,Bt,lt)})};$t()})();(function(){const p=Qe=>{let Ct=Qe;return{get:()=>Ct,set:jo=>{Ct=jo}}};var v=tinymce.util.Tools.resolve("tinymce.PluginManager");const E=Qe=>({isEnabled:()=>Qe.get()}),z=(Qe,Ct)=>Qe.dispatch("VisualChars",{state:Ct}),F=(Qe,Ct,An)=>{var Fn;return An(Qe,Ct.prototype)?!0:((Fn=Qe.constructor)===null||Fn===void 0?void 0:Fn.name)===Ct.name},H=Qe=>{const Ct=typeof Qe;return Qe===null?"null":Ct==="object"&&Array.isArray(Qe)?"array":Ct==="object"&&F(Qe,String,(An,Fn)=>Fn.isPrototypeOf(An))?"string":Ct},q=Qe=>Ct=>H(Ct)===Qe,Y=Qe=>Ct=>typeof Ct===Qe,Re=Qe=>Ct=>Qe===Ct,Ue=q("string"),Xe=q("object"),$t=Re(null),zt=Y("boolean"),Bt=Qe=>Qe==null,lt=Qe=>!Bt(Qe),It=Y("number");class Me{constructor(Ct,An){this.tag=Ct,this.value=An}static some(Ct){return new Me(!0,Ct)}static none(){return Me.singletonNone}fold(Ct,An){return this.tag?An(this.value):Ct()}isSome(){return this.tag}isNone(){return!this.tag}map(Ct){return this.tag?Me.some(Ct(this.value)):Me.none()}bind(Ct){return this.tag?Ct(this.value):Me.none()}exists(Ct){return this.tag&&Ct(this.value)}forall(Ct){return!this.tag||Ct(this.value)}filter(Ct){return!this.tag||Ct(this.value)?this:Me.none()}getOr(Ct){return this.tag?this.value:Ct}or(Ct){return this.tag?this:Ct}getOrThunk(Ct){return this.tag?this.value:Ct()}orThunk(Ct){return this.tag?this:Ct()}getOrDie(Ct){if(this.tag)return this.value;throw new Error(Ct!=null?Ct:"Called getOrDie on None")}static from(Ct){return lt(Ct)?Me.some(Ct):Me.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ct){this.tag&&Ct(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Me.singletonNone=new Me(!1);const tt=(Qe,Ct)=>{const An=Qe.length,Fn=new Array(An);for(let jo=0;jo<An;jo++){const ss=Qe[jo];Fn[jo]=Ct(ss,jo)}return Fn},qe=(Qe,Ct)=>{for(let An=0,Fn=Qe.length;An<Fn;An++){const jo=Qe[An];Ct(jo,An)}},ae=(Qe,Ct)=>{const An=[];for(let Fn=0,jo=Qe.length;Fn<jo;Fn++){const ss=Qe[Fn];Ct(ss,Fn)&&An.push(ss)}return An},vt=Object.keys,Pn=(Qe,Ct)=>{const An=vt(Qe);for(let Fn=0,jo=An.length;Fn<jo;Fn++){const ss=An[Fn],mr=Qe[ss];Ct(mr,ss)}},Nt=typeof window!="undefined"?window:Function("return this;")(),J=(Qe,Ct)=>{let An=Ct!=null?Ct:Nt;for(let Fn=0;Fn<Qe.length&&An!==void 0&&An!==null;++Fn)An=An[Qe[Fn]];return An},Zt=(Qe,Ct)=>{const An=Qe.split(".");return J(An,Ct)},Tn=(Qe,Ct)=>Zt(Qe,Ct),gn=(Qe,Ct)=>{const An=Tn(Qe,Ct);if(An==null)throw new Error(Qe+" not available on this browser");return An},at=Object.getPrototypeOf,ke=Qe=>gn("HTMLElement",Qe),bo=Qe=>{const Ct=Zt("ownerDocument.defaultView",Qe);return Xe(Qe)&&(ke(Ct).prototype.isPrototypeOf(Qe)||/^HTML\w*Element$/.test(at(Qe).constructor.name))},We=1,Ye=3,x=Qe=>Qe.dom.nodeType,bt=Qe=>Qe.dom.nodeValue,_e=Qe=>Ct=>x(Ct)===Qe,Ht=Qe=>Gt(Qe)&&bo(Qe.dom),Gt=_e(We),Te=_e(Ye),Vt=(Qe,Ct,An)=>{if(Ue(An)||zt(An)||It(An))Qe.setAttribute(Ct,An+"");else throw console.error("Invalid call to Attribute.set. Key ",Ct,":: Value ",An,":: Element ",Qe),new Error("Attribute value was not simple")},En=(Qe,Ct,An)=>{Vt(Qe.dom,Ct,An)},et=(Qe,Ct)=>{const An=Qe.dom.getAttribute(Ct);return An===null?void 0:An},rn=(Qe,Ct)=>{Qe.dom.removeAttribute(Ct)},Pe=(Qe,Ct)=>{const An=et(Qe,Ct);return An===void 0||An===""?[]:An.split(" ")},gt=(Qe,Ct,An)=>{const jo=Pe(Qe,Ct).concat([An]);return En(Qe,Ct,jo.join(" ")),!0},U=(Qe,Ct,An)=>{const Fn=ae(Pe(Qe,Ct),jo=>jo!==An);return Fn.length>0?En(Qe,Ct,Fn.join(" ")):rn(Qe,Ct),!1},ko=Qe=>Qe.dom.classList!==void 0,wt=Qe=>Pe(Qe,"class"),Yt=(Qe,Ct)=>gt(Qe,"class",Ct),st=(Qe,Ct)=>U(Qe,"class",Ct),Dt=(Qe,Ct)=>{ko(Qe)?Qe.dom.classList.add(Ct):Yt(Qe,Ct)},re=Qe=>{(ko(Qe)?Qe.dom.classList:wt(Qe)).length===0&&rn(Qe,"class")},de=(Qe,Ct)=>{ko(Qe)?Qe.dom.classList.remove(Ct):st(Qe,Ct),re(Qe)},De=(Qe,Ct)=>{const Fn=(Ct||document).createElement("div");if(Fn.innerHTML=Qe,!Fn.hasChildNodes()||Fn.childNodes.length>1){const jo="HTML does not have a single root node";throw console.error(jo,Qe),new Error(jo)}return Ce(Fn.childNodes[0])},G=(Qe,Ct)=>{const Fn=(Ct||document).createElement(Qe);return Ce(Fn)},pe=(Qe,Ct)=>{const Fn=(Ct||document).createTextNode(Qe);return Ce(Fn)},Ce=Qe=>{if(Qe==null)throw new Error("Node cannot be null or undefined");return{dom:Qe}},Tt={fromHtml:De,fromTag:G,fromText:pe,fromDom:Ce,fromPoint:(Qe,Ct,An)=>Me.from(Qe.dom.elementFromPoint(Ct,An)).map(Ce)},Ie={" ":"nbsp","­":"shy"},ut=(Qe,Ct)=>{let An="";return Pn(Qe,(Fn,jo)=>{An+=jo}),new RegExp("["+An+"]",Ct?"g":"")},Lt=Qe=>{let Ct="";return Pn(Qe,An=>{Ct&&(Ct+=","),Ct+="span.mce-"+An}),Ct},Sn=ut(Ie),rt=ut(Ie,!0),ft=Lt(Ie),an="mce-nbsp",pn=Qe=>Qe.dom.contentEditable,po=Qe=>'<span data-mce-bogus="1" class="mce-'+Ie[Qe]+'">'+Qe+"</span>",Un=Qe=>Qe.nodeName.toLowerCase()==="span"&&Qe.classList.contains("mce-nbsp-wrap"),Vn=Qe=>{const Ct=bt(Qe);return Te(Qe)&&Ue(Ct)&&Sn.test(Ct)},Ho=Qe=>Ht(Qe)&&pn(Qe)==="false",Ln=(Qe,Ct)=>{if(Ht(Qe)&&!Un(Qe.dom)){const An=pn(Qe);if(An==="true")return!0;if(An==="false")return!1}return Ct},Wo=(Qe,Ct,An)=>{let Fn=[];const jo=Qe.dom,ss=tt(jo.childNodes,Tt.fromDom),mr=yr=>Un(yr.dom)||!Ho(yr);return qe(ss,yr=>{An&&mr(yr)&&Ct(yr)&&(Fn=Fn.concat([yr])),Fn=Fn.concat(Wo(yr,Ct,Ln(yr,An)))}),Fn},_s=(Qe,Ct)=>{for(;Qe.parentNode;){if(Qe.parentNode===Ct)return Ct;Qe=Qe.parentNode}},es=Qe=>Qe.replace(rt,po),Gs=(Qe,Ct)=>{const An=Qe.dom,Fn=Wo(Tt.fromDom(Ct),Vn,Qe.dom.isEditable(Ct));qe(Fn,jo=>{var ss;const mr=jo.dom.parentNode;if(Un(mr))Dt(Tt.fromDom(mr),an);else{const yr=es(An.encode((ss=bt(jo))!==null&&ss!==void 0?ss:"")),cr=An.create("div",{},yr);let xe;for(;xe=cr.lastChild;)An.insertAfter(xe,jo.dom);Qe.dom.remove(jo.dom)}})},_o=(Qe,Ct)=>{const An=Qe.dom.select(ft,Ct);qe(An,Fn=>{Un(Fn)?de(Tt.fromDom(Fn),an):Qe.dom.remove(Fn,!0)})},Ir=Qe=>{const Ct=Qe.getBody(),An=Qe.selection.getBookmark();let Fn=_s(Qe.selection.getNode(),Ct);Fn=Fn!==void 0?Fn:Ct,_o(Qe,Fn),Gs(Qe,Fn),Qe.selection.moveToBookmark(An)},on=(Qe,Ct)=>{z(Qe,Ct.get());const An=Qe.getBody();Ct.get()===!0?Gs(Qe,An):_o(Qe,An)},Go=(Qe,Ct)=>{Ct.set(!Ct.get());const An=Qe.selection.getBookmark();on(Qe,Ct),Qe.selection.moveToBookmark(An)},ur=(Qe,Ct)=>{Qe.addCommand("mceVisualChars",()=>{Go(Qe,Ct)})},Qs=Qe=>Ct=>Ct.options.get(Qe),Ar=Qe=>{const Ct=Qe.options.register;Ct("visualchars_default_state",{processor:"boolean",default:!1})},_r=Qs("visualchars_default_state"),Cs=(Qe,Ct)=>{Qe.on("init",()=>{on(Qe,Ct)})},Jr=(Qe,Ct)=>{let An=null;return{cancel:()=>{$t(An)||(clearTimeout(An),An=null)},throttle:(...ss)=>{$t(An)&&(An=setTimeout(()=>{An=null,Qe.apply(null,ss)},Ct))}}},Zr=(Qe,Ct)=>{const An=Jr(()=>{Ir(Qe)},300);Qe.on("keydown",Fn=>{Ct.get()===!0&&(Fn.keyCode===13?Ir(Qe):An.throttle())}),Qe.on("remove",An.cancel)},ys=(Qe,Ct)=>An=>{An.setActive(Ct.get());const Fn=jo=>An.setActive(jo.state);return Qe.on("VisualChars",Fn),()=>Qe.off("VisualChars",Fn)},ao=(Qe,Ct)=>{const An=()=>Qe.execCommand("mceVisualChars");Qe.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:An,onSetup:ys(Qe,Ct),context:"any"}),Qe.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:An,onSetup:ys(Qe,Ct),context:"any"})};var Ps=()=>{v.add("visualchars",Qe=>{Ar(Qe);const Ct=p(_r(Qe));return ur(Qe,Ct),ao(Qe,Ct),Zr(Qe,Ct),Cs(Qe,Ct),E(Ct)})};Ps()})();(function(){const p=ce=>{let me=ce;return{get:()=>me,set:ho=>{me=ho}}};var v=tinymce.util.Tools.resolve("tinymce.PluginManager");const E=ce=>({isFullscreen:()=>ce.get()!==null}),z=(ce,me,dt)=>{var jt;return dt(ce,me.prototype)?!0:((jt=ce.constructor)===null||jt===void 0?void 0:jt.name)===me.name},F=ce=>{const me=typeof ce;return ce===null?"null":me==="object"&&Array.isArray(ce)?"array":me==="object"&&z(ce,String,(dt,jt)=>jt.isPrototypeOf(dt))?"string":me},H=ce=>me=>F(me)===ce,q=ce=>me=>typeof me===ce,Y=ce=>me=>ce===me,Re=H("string"),Ue=H("object"),Xe=H("array"),$t=Y(null),zt=q("boolean"),Bt=Y(void 0),lt=ce=>ce==null,It=ce=>!lt(ce),Me=q("function"),tt=q("number"),qe=()=>{},ae=(ce,me)=>(...dt)=>ce(me.apply(null,dt)),vt=(ce,me)=>dt=>ce(me(dt)),Pn=ce=>()=>ce;function Nt(ce,...me){return(...dt)=>{const jt=me.concat(dt);return ce.apply(null,jt)}}const J=Pn(!1),Zt=Pn(!0);class Tn{constructor(me,dt){this.tag=me,this.value=dt}static some(me){return new Tn(!0,me)}static none(){return Tn.singletonNone}fold(me,dt){return this.tag?dt(this.value):me()}isSome(){return this.tag}isNone(){return!this.tag}map(me){return this.tag?Tn.some(me(this.value)):Tn.none()}bind(me){return this.tag?me(this.value):Tn.none()}exists(me){return this.tag&&me(this.value)}forall(me){return!this.tag||me(this.value)}filter(me){return!this.tag||me(this.value)?this:Tn.none()}getOr(me){return this.tag?this.value:me}or(me){return this.tag?this:me}getOrThunk(me){return this.tag?this.value:me()}orThunk(me){return this.tag?this:me()}getOrDie(me){if(this.tag)return this.value;throw new Error(me!=null?me:"Called getOrDie on None")}static from(me){return It(me)?Tn.some(me):Tn.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(me){this.tag&&me(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Tn.singletonNone=new Tn(!1);const gn=Array.prototype.push,at=(ce,me)=>{const dt=ce.length,jt=new Array(dt);for(let ho=0;ho<dt;ho++){const vs=ce[ho];jt[ho]=me(vs,ho)}return jt},ke=(ce,me)=>{for(let dt=0,jt=ce.length;dt<jt;dt++){const ho=ce[dt];me(ho,dt)}},bo=(ce,me)=>{const dt=[];for(let jt=0,ho=ce.length;jt<ho;jt++){const vs=ce[jt];me(vs,jt)&&dt.push(vs)}return dt},We=(ce,me,dt)=>{for(let jt=0,ho=ce.length;jt<ho;jt++){const vs=ce[jt];if(me(vs,jt))return Tn.some(vs);if(dt(vs,jt))break}return Tn.none()},Ye=(ce,me)=>We(ce,me,J),x=ce=>{const me=[];for(let dt=0,jt=ce.length;dt<jt;++dt){if(!Xe(ce[dt]))throw new Error("Arr.flatten item "+dt+" was not an array, input: "+ce);gn.apply(me,ce[dt])}return me},bt=(ce,me)=>x(at(ce,me)),_e=(ce,me)=>me>=0&&me<ce.length?Tn.some(ce[me]):Tn.none(),Ht=ce=>_e(ce,0),Gt=(ce,me)=>{for(let dt=0;dt<ce.length;dt++){const jt=me(ce[dt],dt);if(jt.isSome())return jt}return Tn.none()},Te=(ce,me,dt)=>ce.isSome()&&me.isSome()?Tn.some(dt(ce.getOrDie(),me.getOrDie())):Tn.none(),Vt=ce=>{const me=p(Tn.none()),dt=()=>me.get().each(ce);return{clear:()=>{dt(),me.set(Tn.none())},isSet:()=>me.get().isSome(),get:()=>me.get(),set:tr=>{dt(),me.set(Tn.some(tr))}}},En=()=>Vt(ce=>ce.unbind()),et=()=>{const ce=Vt(qe),me=dt=>ce.get().each(dt);return Pt(ie({},ce),{on:me})},rn=(ce,me)=>{let dt=null;return{cancel:()=>{$t(dt)||(clearTimeout(dt),dt=null)},throttle:(...vs)=>{$t(dt)&&(dt=setTimeout(()=>{dt=null,ce.apply(null,vs)},me))}}},Pe=Object.keys,gt=(ce,me)=>{const dt=Pe(ce);for(let jt=0,ho=dt.length;jt<ho;jt++){const vs=dt[jt],ts=ce[vs];me(ts,vs)}},U=typeof window!="undefined"?window:Function("return this;")(),ko=(ce,me)=>{let dt=me!=null?me:U;for(let jt=0;jt<ce.length&&dt!==void 0&&dt!==null;++jt)dt=dt[ce[jt]];return dt},wt=(ce,me)=>{const dt=ce.split(".");return ko(dt,me)},Yt=(ce,me)=>wt(ce,me),st=(ce,me)=>{const dt=Yt(ce,me);if(dt==null)throw new Error(ce+" not available on this browser");return dt},Dt=Object.getPrototypeOf,re=ce=>st("HTMLElement",ce),de=ce=>{const me=wt("ownerDocument.defaultView",ce);return Ue(ce)&&(re(me).prototype.isPrototypeOf(ce)||/^HTML\w*Element$/.test(Dt(ce).constructor.name))},De=9,G=11,pe=1,Ce=3,Oe=ce=>ce.dom.nodeType,Tt=ce=>me=>Oe(me)===ce,Ie=ce=>ut(ce)&&de(ce.dom),ut=Tt(pe),Lt=Tt(Ce),Sn=Tt(G),rt=(ce,me,dt)=>{if(Re(dt)||zt(dt)||tt(dt))ce.setAttribute(me,dt+"");else throw console.error("Invalid call to Attribute.set. Key ",me,":: Value ",dt,":: Element ",ce),new Error("Attribute value was not simple")},ft=(ce,me,dt)=>{rt(ce.dom,me,dt)},an=(ce,me)=>{const dt=ce.dom.getAttribute(me);return dt===null?void 0:dt},pn=(ce,me)=>{ce.dom.removeAttribute(me)},po=ce=>ce.dom.classList!==void 0,Un=(ce,me)=>po(ce)&&ce.dom.classList.contains(me),Vn=(ce,me,dt=0,jt)=>{const ho=ce.indexOf(me,dt);return ho!==-1?Bt(jt)?!0:ho+me.length<=jt:!1},Ho=ce=>ce.style!==void 0&&Me(ce.style.getPropertyValue),Ln=(ce,me)=>{const jt=(me||document).createElement("div");if(jt.innerHTML=ce,!jt.hasChildNodes()||jt.childNodes.length>1){const ho="HTML does not have a single root node";throw console.error(ho,ce),new Error(ho)}return es(jt.childNodes[0])},Wo=(ce,me)=>{const jt=(me||document).createElement(ce);return es(jt)},_s=(ce,me)=>{const jt=(me||document).createTextNode(ce);return es(jt)},es=ce=>{if(ce==null)throw new Error("Node cannot be null or undefined");return{dom:ce}},_o={fromHtml:Ln,fromTag:Wo,fromText:_s,fromDom:es,fromPoint:(ce,me,dt)=>Tn.from(ce.dom.elementFromPoint(me,dt)).map(es)},Ir=(ce,me)=>{const dt=ce.dom;if(dt.nodeType!==pe)return!1;{const jt=dt;if(jt.matches!==void 0)return jt.matches(me);if(jt.msMatchesSelector!==void 0)return jt.msMatchesSelector(me);if(jt.webkitMatchesSelector!==void 0)return jt.webkitMatchesSelector(me);if(jt.mozMatchesSelector!==void 0)return jt.mozMatchesSelector(me);throw new Error("Browser lacks native selectors")}},on=ce=>ce.nodeType!==pe&&ce.nodeType!==De&&ce.nodeType!==G||ce.childElementCount===0,Go=(ce,me)=>{const dt=document;return on(dt)?[]:at(dt.querySelectorAll(ce),_o.fromDom)},ur=(ce,me)=>ce.dom===me.dom,Qs=ce=>_o.fromDom(ce.dom.ownerDocument),Ar=ce=>Tn.from(ce.dom.parentNode).map(_o.fromDom),_r=(ce,me)=>{const dt=Me(me)?me:J;let jt=ce.dom;const ho=[];for(;jt.parentNode!==null&&jt.parentNode!==void 0;){const vs=jt.parentNode,ts=_o.fromDom(vs);if(ho.push(ts),dt(ts)===!0)break;jt=vs}return ho},Cs=ce=>{const me=dt=>bo(dt,jt=>!ur(ce,jt));return Ar(ce).map(Zr).map(me).getOr([])},Jr=ce=>Tn.from(ce.dom.nextSibling).map(_o.fromDom),Zr=ce=>at(ce.dom.childNodes,_o.fromDom),ys=ce=>Sn(ce)&&It(ce.dom.host),ao=ce=>_o.fromDom(ce.dom.getRootNode()),Ps=ce=>{const me=ao(ce);return ys(me)?Tn.some(me):Tn.none()},Qe=ce=>_o.fromDom(ce.dom.host),Ct=ce=>{if(It(ce.target)){const me=_o.fromDom(ce.target);if(ut(me)&&An(me)&&ce.composed&&ce.composedPath){const dt=ce.composedPath();if(dt)return Ht(dt)}}return Tn.from(ce.target)},An=ce=>It(ce.dom.shadowRoot),Fn=ce=>{const me=Lt(ce)?ce.dom.parentNode:ce.dom;if(me==null||me.ownerDocument===null)return!1;const dt=me.ownerDocument;return Ps(_o.fromDom(me)).fold(()=>dt.body.contains(me),vt(Fn,Qe))},jo=ce=>{const me=ce.dom.body;if(me==null)throw new Error("Body is not available yet");return _o.fromDom(me)},ss=(ce,me,dt)=>{if(!Re(dt))throw console.error("Invalid call to CSS.set. Property ",me,":: Value ",dt,":: Element ",ce),new Error("CSS value must be a string: "+dt);Ho(ce)&&ce.style.setProperty(me,dt)},mr=(ce,me,dt)=>{const jt=ce.dom;ss(jt,me,dt)},yr=(ce,me)=>{const dt=ce.dom;gt(me,(jt,ho)=>{ss(dt,ho,jt)})},cr=(ce,me)=>{const dt=ce.dom,ho=window.getComputedStyle(dt).getPropertyValue(me);return ho===""&&!Fn(ce)?xe(dt,me):ho},xe=(ce,me)=>Ho(ce)?ce.style.getPropertyValue(me):"",we=(ce,me,dt,jt,ho,vs,ts)=>({target:ce,x:me,y:dt,stop:jt,prevent:ho,kill:vs,raw:ts}),ht=ce=>{const me=_o.fromDom(Ct(ce).getOr(ce.target)),dt=()=>ce.stopPropagation(),jt=()=>ce.preventDefault(),ho=ae(jt,dt);return we(me,ce.clientX,ce.clientY,dt,jt,ho,ce)},Mt=(ce,me)=>dt=>{ce(dt)&&me(ht(dt))},oo=(ce,me,dt,jt,ho)=>{const vs=Mt(dt,jt);return ce.dom.addEventListener(me,vs,ho),{unbind:Nt(Bo,ce,me,vs,ho)}},Eo=(ce,me,dt,jt)=>oo(ce,me,dt,jt,!1),Bo=(ce,me,dt,jt)=>{ce.dom.removeEventListener(me,dt,jt)},ir=Zt,Le=(ce,me,dt)=>Eo(ce,me,ir,dt),Mo=ce=>{let me=!1,dt;return(...jt)=>(me||(me=!0,dt=ce.apply(null,jt)),dt)},ze=(ce,me,dt,jt)=>{const ho=ce.isiOS()&&/ipad/i.test(dt)===!0,vs=ce.isiOS()&&!ho,ts=ce.isiOS()||ce.isAndroid(),tr=ts||jt("(pointer:coarse)"),ca=ho||!vs&&ts&&jt("(min-device-width:768px)"),kc=vs||ts&&!ca,ec=me.isSafari()&&ce.isiOS()&&/safari/i.test(dt)===!1,ea=!kc&&!ca&&!ec;return{isiPad:Pn(ho),isiPhone:Pn(vs),isTablet:Pn(ca),isPhone:Pn(kc),isTouch:Pn(tr),isAndroid:ce.isAndroid,isiOS:ce.isiOS,isWebView:Pn(ec),isDesktop:Pn(ea)}},Be=(ce,me)=>{for(let dt=0;dt<ce.length;dt++){const jt=ce[dt];if(jt.test(me))return jt}},Qt=(ce,me)=>{const dt=Be(ce,me);if(!dt)return{major:0,minor:0};const jt=ho=>Number(me.replace(dt,"$"+ho));return Qn(jt(1),jt(2))},cn=(ce,me)=>{const dt=String(me).toLowerCase();return ce.length===0?zn():Qt(ce,dt)},zn=()=>Qn(0,0),Qn=(ce,me)=>({major:ce,minor:me}),no={nu:Qn,detect:cn,unknown:zn},Gn=(ce,me)=>Gt(me.brands,dt=>{const jt=dt.brand.toLowerCase();return Ye(ce,ho=>{var vs;return jt===((vs=ho.brand)===null||vs===void 0?void 0:vs.toLowerCase())}).map(ho=>({current:ho.name,version:no.nu(parseInt(dt.version,10),0)}))}),io=(ce,me)=>{const dt=String(me).toLowerCase();return Ye(ce,jt=>jt.search(dt))},Co=(ce,me)=>io(ce,me).map(dt=>{const jt=no.detect(dt.versionRegexes,me);return{current:dt.name,version:jt}}),ds=(ce,me)=>io(ce,me).map(dt=>{const jt=no.detect(dt.versionRegexes,me);return{current:dt.name,version:jt}}),Ds=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Is=ce=>me=>Vn(me,ce),_a=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:ce=>Vn(ce,"edge/")&&Vn(ce,"chrome")&&Vn(ce,"safari")&&Vn(ce,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ds],search:ce=>Vn(ce,"chrome")&&!Vn(ce,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:ce=>Vn(ce,"msie")||Vn(ce,"trident")},{name:"Opera",versionRegexes:[Ds,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Is("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Is("firefox")},{name:"Safari",versionRegexes:[Ds,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:ce=>(Vn(ce,"safari")||Vn(ce,"mobile/"))&&Vn(ce,"applewebkit")}],ua=[{name:"Windows",search:Is("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:ce=>Vn(ce,"iphone")||Vn(ce,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Is("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Is("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Is("linux"),versionRegexes:[]},{name:"Solaris",search:Is("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Is("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Is("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],vo={browsers:Pn(_a),oses:Pn(ua)},cs="Edge",is="Chromium",aa="IE",Qr="Opera",Or="Firefox",er="Safari",El=()=>Xa({current:void 0,version:no.unknown()}),Xa=ce=>{const me=ce.current,dt=ce.version,jt=ho=>()=>me===ho;return{current:me,version:dt,isEdge:jt(cs),isChromium:jt(is),isIE:jt(aa),isOpera:jt(Qr),isFirefox:jt(Or),isSafari:jt(er)}},Rs={unknown:El,nu:Xa,edge:Pn(cs),chromium:Pn(is),ie:Pn(aa),opera:Pn(Qr),firefox:Pn(Or),safari:Pn(er)},pa="Windows",ha="iOS",qr="Android",yi="Linux",Ba="macOS",Oa="Solaris",Ja="FreeBSD",Qa="ChromeOS",Mi=()=>Pi({current:void 0,version:no.unknown()}),Pi=ce=>{const me=ce.current,dt=ce.version,jt=ho=>()=>me===ho;return{current:me,version:dt,isWindows:jt(pa),isiOS:jt(ha),isAndroid:jt(qr),isMacOS:jt(Ba),isLinux:jt(yi),isSolaris:jt(Oa),isFreeBSD:jt(Ja),isChromeOS:jt(Qa)}},ei={unknown:Mi,nu:Pi,windows:Pn(pa),ios:Pn(ha),android:Pn(qr),linux:Pn(yi),macos:Pn(Ba),solaris:Pn(Oa),freebsd:Pn(Ja),chromeos:Pn(Qa)},Gr={detect:(ce,me,dt)=>{const jt=vo.browsers(),ho=vo.oses(),vs=me.bind(ca=>Gn(jt,ca)).orThunk(()=>Co(jt,ce)).fold(Rs.unknown,Rs.nu),ts=ds(ho,ce).fold(ei.unknown,ei.nu),tr=ze(ts,vs,ce,dt);return{browser:vs,os:ts,deviceType:tr}}},ti=ce=>window.matchMedia(ce).matches;let bi=Mo(()=>Gr.detect(window.navigator.userAgent,Tn.from(window.navigator.userAgentData),ti));const Bi=()=>bi(),qc=(ce,me)=>({left:ce,top:me,translate:(jt,ho)=>qc(ce+jt,me+ho)}),Lr=qc,Va=ce=>{const me=ce!==void 0?ce.dom:document,dt=me.body.scrollLeft||me.documentElement.scrollLeft,jt=me.body.scrollTop||me.documentElement.scrollTop;return Lr(dt,jt)},ya=ce=>{const me=ce===void 0?window:ce;return Bi().browser.isFirefox()?Tn.none():Tn.from(me.visualViewport)},Ra=(ce,me,dt,jt)=>({x:ce,y:me,width:dt,height:jt,right:ce+dt,bottom:me+jt}),Xi=ce=>{const me=ce===void 0?window:ce,dt=me.document,jt=Va(_o.fromDom(dt));return ya(me).fold(()=>{const ho=me.document.documentElement,vs=ho.clientWidth,ts=ho.clientHeight;return Ra(jt.left,jt.top,vs,ts)},ho=>Ra(Math.max(ho.pageLeft,jt.left),Math.max(ho.pageTop,jt.top),ho.width,ho.height))},Ji=(ce,me,dt)=>ya(dt).map(jt=>{const ho=vs=>me(ht(vs));return jt.addEventListener(ce,ho),{unbind:()=>jt.removeEventListener(ce,ho)}}).getOrThunk(()=>({unbind:qe}));var ee=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ve=tinymce.util.Tools.resolve("tinymce.Env");const Ze=(ce,me)=>{ce.dispatch("FullscreenStateChanged",{state:me}),ce.dispatch("ResizeEditor")},Ut=ce=>me=>me.options.get(ce),mn=ce=>{const me=ce.options.register;me("fullscreen_native",{processor:"boolean",default:!1})},V=Ut("fullscreen_native"),be=ce=>{const me=_o.fromDom(ce.getElement());return Ps(me).map(Qe).getOrThunk(()=>jo(Qs(me)))},$e=ce=>ce.fullscreenElement!==void 0?ce.fullscreenElement:ce.msFullscreenElement!==void 0?ce.msFullscreenElement:ce.webkitFullscreenElement!==void 0?ce.webkitFullscreenElement:null,kt=()=>document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange",lo=ce=>{const me=ce.dom;me.requestFullscreen?me.requestFullscreen():me.msRequestFullscreen?me.msRequestFullscreen():me.webkitRequestFullScreen&&me.webkitRequestFullScreen()},$=ce=>{const me=ce.dom;me.exitFullscreen?me.exitFullscreen():me.msExitFullscreen?me.msExitFullscreen():me.webkitCancelFullScreen&&me.webkitCancelFullScreen()},oe=ce=>ce.dom===$e(Qs(ce).dom),Ee=(ce,me,dt)=>bo(_r(ce,dt),me),ct=(ce,me)=>bo(Cs(ce),me),yt=ce=>Go(ce),Ro=(ce,me,dt)=>Ee(ce,jt=>Ir(jt,me),dt),bs=(ce,me)=>ct(ce,dt=>Ir(dt,me)),Ls="data-ephox-mobile-fullscreen-style",nn="display:none!important;",Bs="position:absolute!important;",ba="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",$i="background-color:rgb(255,255,255)!important;",Vo=ve.os.isAndroid(),Mc=ce=>{const me=cr(ce,"background-color");return me!==void 0&&me!==""?"background-color:"+me+"!important":$i},ni=(ce,me,dt)=>{const jt=kc=>bs(kc,"*:not(.tox-silver-sink)"),ho=kc=>ec=>{const ea=an(ec,"style"),ta=ea===void 0?"no-styles":ea.trim();ta!==kc&&(ft(ec,Ls,ta),yr(ec,ce.parseStyle(kc)))},vs=Ro(me,"*"),ts=bt(vs,jt),tr=Mc(dt);ke(ts,ho(nn)),ke(vs,ho(Bs+ba+tr)),ho((Vo===!0?"":Bs)+ba+tr)(me)},va=ce=>{const me=yt("["+Ls+"]");ke(me,dt=>{const jt=an(dt,Ls);jt&&jt!=="no-styles"?yr(dt,ce.parseStyle(jt)):pn(dt,"style"),pn(dt,Ls)})},Ys=ee.DOM,Fi=()=>Xi(window),Sm=ce=>window.scrollTo(ce.x,ce.y),qd=ya().fold(()=>({bind:qe,unbind:qe}),ce=>{const me=et(),dt=En(),jt=En(),ho=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},vs=()=>{window.requestAnimationFrame(()=>{me.on(kc=>yr(kc,{top:ce.offsetTop+"px",left:ce.offsetLeft+"px",height:ce.height+"px",width:ce.width+"px"}))})},ts=rn(()=>{ho(),vs()},50);return{bind:kc=>{me.set(kc),ts.throttle(),dt.set(Ji("resize",ts.throttle)),jt.set(Ji("scroll",ts.throttle))},unbind:()=>{me.on(()=>{dt.clear(),jt.clear()}),me.clear()}}}),Dr=(ce,me)=>{const dt=document.body,jt=document.documentElement,ho=ce.getContainer(),vs=_o.fromDom(ho),ts=Jr(vs).filter(na=>Ie(na)&&Un(na,"tox-silver-sink")),tr=be(ce),ca=me.get(),kc=_o.fromDom(ce.getBody()),ec=ve.deviceType.isTouch(),ea=ho.style,ta=ce.iframeElement,Ca=ta==null?void 0:ta.style,tc=na=>{na(dt,"tox-fullscreen"),na(jt,"tox-fullscreen"),na(ho,"tox-fullscreen"),Ps(vs).map(Sr=>Qe(Sr).dom).each(Sr=>{na(Sr,"tox-fullscreen"),na(Sr,"tox-shadowhost")})},Rr=()=>{ec&&va(ce.dom),tc(Ys.removeClass),qd.unbind(),Tn.from(me.get()).each(na=>na.fullscreenChangeHandler.unbind())};if(ca)ca.fullscreenChangeHandler.unbind(),V(ce)&&oe(tr)&&$(Qs(tr)),Ca.width=ca.iframeWidth,Ca.height=ca.iframeHeight,ea.width=ca.containerWidth,ea.height=ca.containerHeight,ea.top=ca.containerTop,ea.left=ca.containerLeft,Te(ts,ca.sinkCssPosition,(na,Sr)=>{mr(na,"position",Sr)}),Rr(),Sm(ca.scrollPos),me.set(null),Ze(ce,!1),ce.off("remove",Rr);else{const na=Le(Qs(tr),kt(),il=>{V(ce)&&!oe(tr)&&me.get()!==null&&Dr(ce,me)}),Sr={scrollPos:Fi(),containerWidth:ea.width,containerHeight:ea.height,containerTop:ea.top,containerLeft:ea.left,iframeWidth:Ca.width,iframeHeight:Ca.height,fullscreenChangeHandler:na,sinkCssPosition:ts.map(il=>cr(il,"position"))};ec&&ni(ce.dom,vs,kc),Ca.width=Ca.height="100%",ea.width=ea.height="",tc(Ys.addClass),ts.each(il=>{mr(il,"position","fixed")}),qd.bind(vs),ce.on("remove",Rr),me.set(Sr),V(ce)&&lo(tr),Ze(ce,!0)}},od=(ce,me)=>{ce.addCommand("mceFullScreen",()=>{Dr(ce,me)})};var vi=tinymce.util.Tools.resolve("tinymce.util.VK");const Cr=(ce,me)=>{ce.on("init",()=>{ce.on("keydown",dt=>{dt.keyCode===vi.TAB&&!(dt.metaKey||dt.ctrlKey)&&me.get()&&dt.preventDefault()})})},wi=(ce,me)=>dt=>{dt.setActive(me.get()!==null);const jt=ho=>dt.setActive(ho.state);return ce.on("FullscreenStateChanged",jt),()=>ce.off("FullscreenStateChanged",jt)},wc=(ce,me)=>{const dt=()=>ce.execCommand("mceFullScreen");ce.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:dt,onSetup:wi(ce,me),context:"any"}),ce.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:dt,onSetup:wi(ce,me),shortcut:"Meta+Shift+F",context:"any"})};var sd=()=>{v.add("fullscreen",ce=>{const me=p(null);return ce.inline||(mn(ce),od(ce,me),wc(ce,me),Cr(ce,me),ce.addShortcut("Meta+Shift+F","","mceFullScreen")),E(me)})};sd()})();(function(){var p=tinymce.util.Tools.resolve("tinymce.PluginManager");const v=Object.getPrototypeOf,E=($,oe,Ee)=>{var ct;return Ee($,oe.prototype)?!0:((ct=$.constructor)===null||ct===void 0?void 0:ct.name)===oe.name},z=$=>{const oe=typeof $;return $===null?"null":oe==="object"&&Array.isArray($)?"array":oe==="object"&&E($,String,(Ee,ct)=>ct.isPrototypeOf(Ee))?"string":oe},F=$=>oe=>z(oe)===$,H=$=>oe=>typeof oe===$,q=$=>oe=>$===oe,Y=($,oe)=>Ue($)&&E($,oe,(Ee,ct)=>v(Ee)===ct),Re=F("string"),Ue=F("object"),Xe=$=>Y($,Object),$t=F("array"),zt=q(null),Bt=H("boolean"),lt=$=>$==null,It=$=>!lt($),Me=H("function"),tt=H("number"),qe=($,oe)=>{if($t($)){for(let Ee=0,ct=$.length;Ee<ct;++Ee)if(!oe($[Ee]))return!1;return!0}return!1},ae=()=>{};class vt{constructor(oe,Ee){this.tag=oe,this.value=Ee}static some(oe){return new vt(!0,oe)}static none(){return vt.singletonNone}fold(oe,Ee){return this.tag?Ee(this.value):oe()}isSome(){return this.tag}isNone(){return!this.tag}map(oe){return this.tag?vt.some(oe(this.value)):vt.none()}bind(oe){return this.tag?oe(this.value):vt.none()}exists(oe){return this.tag&&oe(this.value)}forall(oe){return!this.tag||oe(this.value)}filter(oe){return!this.tag||oe(this.value)?this:vt.none()}getOr(oe){return this.tag?this.value:oe}or(oe){return this.tag?this:oe}getOrThunk(oe){return this.tag?this.value:oe()}orThunk(oe){return this.tag?this:oe()}getOrDie(oe){if(this.tag)return this.value;throw new Error(oe!=null?oe:"Called getOrDie on None")}static from(oe){return It(oe)?vt.some(oe):vt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(oe){this.tag&&oe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}vt.singletonNone=new vt(!1);const Pn=Object.keys,Nt=Object.hasOwnProperty,J=($,oe)=>{const Ee=Pn($);for(let ct=0,yt=Ee.length;ct<yt;ct++){const Ro=Ee[ct],bs=$[Ro];oe(bs,Ro)}},Zt=$=>(oe,Ee)=>{$[Ee]=oe},Tn=($,oe,Ee,ct)=>{J($,(yt,Ro)=>{(oe(yt,Ro)?Ee:ct)(yt,Ro)})},gn=($,oe)=>{const Ee={};return Tn($,oe,Zt(Ee),ae),Ee},at=($,oe)=>Nt.call($,oe),ke=($,oe)=>at($,oe)&&$[oe]!==void 0&&$[oe]!==null,bo=Array.prototype.push,We=$=>{const oe=[];for(let Ee=0,ct=$.length;Ee<ct;++Ee){if(!$t($[Ee]))throw new Error("Arr.flatten item "+Ee+" was not an array, input: "+$);bo.apply(oe,$[Ee])}return oe},Ye=($,oe)=>oe>=0&&oe<$.length?vt.some($[oe]):vt.none(),x=$=>Ye($,0),bt=($,oe)=>{for(let Ee=0;Ee<$.length;Ee++){const ct=oe($[Ee],Ee);if(ct.isSome())return ct}return vt.none()};typeof window!="undefined"||Function("return this;")();const _e=($,oe,Ee)=>{if(Re(Ee)||Bt(Ee)||tt(Ee))$.setAttribute(oe,Ee+"");else throw console.error("Invalid call to Attribute.set. Key ",oe,":: Value ",Ee,":: Element ",$),new Error("Attribute value was not simple")},Ht=($,oe,Ee)=>{_e($.dom,oe,Ee)},Gt=($,oe)=>{$.dom.removeAttribute(oe)},Te=($,oe)=>{const ct=(oe||document).createElement("div");if(ct.innerHTML=$,!ct.hasChildNodes()||ct.childNodes.length>1){const yt="HTML does not have a single root node";throw console.error(yt,$),new Error(yt)}return et(ct.childNodes[0])},Vt=($,oe)=>{const ct=(oe||document).createElement($);return et(ct)},En=($,oe)=>{const ct=(oe||document).createTextNode($);return et(ct)},et=$=>{if($==null)throw new Error("Node cannot be null or undefined");return{dom:$}},Pe={fromHtml:Te,fromTag:Vt,fromText:En,fromDom:et,fromPoint:($,oe,Ee)=>vt.from($.dom.elementFromPoint(oe,Ee)).map(et)};var gt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),U=tinymce.util.Tools.resolve("tinymce.util.URI");const ko=$=>$.length>0,wt=$=>oe=>oe.options.get($),Yt=$=>{const oe=$.options.register;oe("image_dimensions",{processor:"boolean",default:!0}),oe("image_advtab",{processor:"boolean",default:!1}),oe("image_uploadtab",{processor:"boolean",default:!0}),oe("image_prepend_url",{processor:"string",default:""}),oe("image_class_list",{processor:"object[]"}),oe("image_description",{processor:"boolean",default:!0}),oe("image_title",{processor:"boolean",default:!1}),oe("image_caption",{processor:"boolean",default:!1}),oe("image_list",{processor:Ee=>{const ct=Ee===!1||Re(Ee)||qe(Ee,Ue)||Me(Ee);return ct?{value:Ee,valid:ct}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},st=wt("image_dimensions"),Dt=wt("image_advtab"),re=wt("image_uploadtab"),de=wt("image_prepend_url"),De=wt("image_class_list"),G=wt("image_description"),pe=wt("image_title"),Ce=wt("image_caption"),Oe=wt("image_list"),Tt=wt("a11y_advanced_options"),Ie=wt("automatic_uploads"),ut=$=>ko($.options.get("images_upload_url")),Lt=$=>It($.options.get("images_upload_handler")),Sn=($,oe)=>Math.max(parseInt($,10),parseInt(oe,10)),rt=$=>new Promise(oe=>{const Ee=document.createElement("img"),ct=Ro=>{Ee.onload=Ee.onerror=null,Ee.parentNode&&Ee.parentNode.removeChild(Ee),oe(Ro)};Ee.onload=()=>{const Ro=Sn(Ee.width,Ee.clientWidth),bs=Sn(Ee.height,Ee.clientHeight),Ls={width:Ro,height:bs};ct(Promise.resolve(Ls))},Ee.onerror=()=>{ct(Promise.reject(`Failed to get image dimensions for: ${$}`))};const yt=Ee.style;yt.visibility="hidden",yt.position="fixed",yt.bottom=yt.left="0px",yt.width=yt.height="auto",document.body.appendChild(Ee),Ee.src=$}),ft=$=>($&&($=$.replace(/px$/,"")),$),an=$=>($.length>0&&/^[0-9]+$/.test($)&&($+="px"),$),pn=$=>{if($.margin){const oe=String($.margin).split(" ");switch(oe.length){case 1:$["margin-top"]=$["margin-top"]||oe[0],$["margin-right"]=$["margin-right"]||oe[0],$["margin-bottom"]=$["margin-bottom"]||oe[0],$["margin-left"]=$["margin-left"]||oe[0];break;case 2:$["margin-top"]=$["margin-top"]||oe[0],$["margin-right"]=$["margin-right"]||oe[1],$["margin-bottom"]=$["margin-bottom"]||oe[0],$["margin-left"]=$["margin-left"]||oe[1];break;case 3:$["margin-top"]=$["margin-top"]||oe[0],$["margin-right"]=$["margin-right"]||oe[1],$["margin-bottom"]=$["margin-bottom"]||oe[2],$["margin-left"]=$["margin-left"]||oe[1];break;case 4:$["margin-top"]=$["margin-top"]||oe[0],$["margin-right"]=$["margin-right"]||oe[1],$["margin-bottom"]=$["margin-bottom"]||oe[2],$["margin-left"]=$["margin-left"]||oe[3]}delete $.margin}return $},po=($,oe)=>{const Ee=Oe($);Re(Ee)?fetch(Ee).then(ct=>{ct.ok&&ct.json().then(oe)}):Me(Ee)?Ee(oe):oe(Ee)},Un=($,oe,Ee)=>{const ct=()=>{Ee.onload=Ee.onerror=null,$.selection&&($.selection.select(Ee),$.nodeChanged())};Ee.onload=()=>{!oe.width&&!oe.height&&st($)&&$.dom.setAttribs(Ee,{width:String(Ee.clientWidth),height:String(Ee.clientHeight)}),ct()},Ee.onerror=ct},Vn=$=>new Promise((oe,Ee)=>{const ct=new FileReader;ct.onload=()=>{oe(ct.result)},ct.onerror=()=>{var yt;Ee((yt=ct.error)===null||yt===void 0?void 0:yt.message)},ct.readAsDataURL($)}),Ho=$=>$.nodeName==="IMG"&&($.hasAttribute("data-mce-object")||$.hasAttribute("data-mce-placeholder")),Ln=($,oe)=>{const Ee=$.options.get;return U.isDomSafe(oe,"img",{allow_html_data_urls:Ee("allow_html_data_urls"),allow_script_urls:Ee("allow_script_urls"),allow_svg_data_urls:Ee("allow_svg_data_urls")})},Wo=gt.DOM,_s=$=>$.style.marginLeft&&$.style.marginRight&&$.style.marginLeft===$.style.marginRight?ft($.style.marginLeft):"",es=$=>$.style.marginTop&&$.style.marginBottom&&$.style.marginTop===$.style.marginBottom?ft($.style.marginTop):"",Gs=$=>$.style.borderWidth?ft($.style.borderWidth):"",_o=($,oe)=>{var Ee;return $.hasAttribute(oe)&&(Ee=$.getAttribute(oe))!==null&&Ee!==void 0?Ee:""},Ir=$=>$.parentNode!==null&&$.parentNode.nodeName==="FIGURE",on=($,oe,Ee)=>{Ee===""||Ee===null?$.removeAttribute(oe):$.setAttribute(oe,Ee)},Go=$=>{const oe=Wo.create("figure",{class:"image"});Wo.insertAfter(oe,$),oe.appendChild($),oe.appendChild(Wo.create("figcaption",{contentEditable:"true"},"Caption")),oe.contentEditable="false"},ur=$=>{const oe=$.parentNode;It(oe)&&(Wo.insertAfter($,oe),Wo.remove(oe))},Qs=$=>{Ir($)?ur($):Go($)},Ar=($,oe)=>{const Ee=$.getAttribute("style"),ct=oe(Ee!==null?Ee:"");ct.length>0?($.setAttribute("style",ct),$.setAttribute("data-mce-style",ct)):$.removeAttribute("style")},_r=($,oe)=>(Ee,ct,yt)=>{const Ro=Ee.style;Ro[ct]?(Ro[ct]=an(yt),Ar(Ee,oe)):on(Ee,ct,yt)},Cs=($,oe)=>$.style[oe]?ft($.style[oe]):_o($,oe),Jr=($,oe)=>{const Ee=an(oe);$.style.marginLeft=Ee,$.style.marginRight=Ee},Zr=($,oe)=>{const Ee=an(oe);$.style.marginTop=Ee,$.style.marginBottom=Ee},ys=($,oe)=>{const Ee=an(oe);$.style.borderWidth=Ee},ao=($,oe)=>{$.style.borderStyle=oe},Ps=$=>{var oe;return(oe=$.style.borderStyle)!==null&&oe!==void 0?oe:""},Qe=$=>It($)&&$.nodeName==="FIGURE",Ct=$=>$.nodeName==="IMG",An=$=>Wo.getAttrib($,"alt").length===0&&Wo.getAttrib($,"role")==="presentation",Fn=$=>An($)?"":_o($,"alt"),jo=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),ss=($,oe)=>{var Ee;const ct=document.createElement("img");return on(ct,"style",oe.style),(_s(ct)||oe.hspace!=="")&&Jr(ct,oe.hspace),(es(ct)||oe.vspace!=="")&&Zr(ct,oe.vspace),(Gs(ct)||oe.border!=="")&&ys(ct,oe.border),(Ps(ct)||oe.borderStyle!=="")&&ao(ct,oe.borderStyle),$((Ee=ct.getAttribute("style"))!==null&&Ee!==void 0?Ee:"")},mr=($,oe)=>{const Ee=document.createElement("img");if(Mt($,Pt(ie({},oe),{caption:!1}),Ee),xe(Ee,oe.alt,oe.isDecorative),oe.caption){const ct=Wo.create("figure",{class:"image"});return ct.appendChild(Ee),ct.appendChild(Wo.create("figcaption",{contentEditable:"true"},"Caption")),ct.contentEditable="false",ct}else return Ee},yr=($,oe)=>({src:_o(oe,"src"),alt:Fn(oe),title:_o(oe,"title"),width:Cs(oe,"width"),height:Cs(oe,"height"),class:_o(oe,"class"),style:$(_o(oe,"style")),caption:Ir(oe),hspace:_s(oe),vspace:es(oe),border:Gs(oe),borderStyle:Ps(oe),isDecorative:An(oe)}),cr=($,oe,Ee,ct,yt)=>{Ee[ct]!==oe[ct]&&yt($,ct,String(Ee[ct]))},xe=($,oe,Ee)=>{if(Ee){Wo.setAttrib($,"role","presentation");const ct=Pe.fromDom($);Ht(ct,"alt","")}else{if(zt(oe)){const ct=Pe.fromDom($);Gt(ct,"alt")}else{const ct=Pe.fromDom($);Ht(ct,"alt",oe)}Wo.getAttrib($,"role")==="presentation"&&Wo.setAttrib($,"role","")}},we=($,oe,Ee)=>{(Ee.alt!==oe.alt||Ee.isDecorative!==oe.isDecorative)&&xe($,Ee.alt,Ee.isDecorative)},ht=($,oe)=>(Ee,ct,yt)=>{$(Ee,yt),Ar(Ee,oe)},Mt=($,oe,Ee)=>{const ct=yr($,Ee);cr(Ee,ct,oe,"caption",(yt,Ro,bs)=>Qs(yt)),cr(Ee,ct,oe,"src",on),cr(Ee,ct,oe,"title",on),cr(Ee,ct,oe,"width",_r("width",$)),cr(Ee,ct,oe,"height",_r("height",$)),cr(Ee,ct,oe,"class",on),cr(Ee,ct,oe,"style",ht((yt,Ro)=>on(yt,"style",Ro),$)),cr(Ee,ct,oe,"hspace",ht(Jr,$)),cr(Ee,ct,oe,"vspace",ht(Zr,$)),cr(Ee,ct,oe,"border",ht(ys,$)),cr(Ee,ct,oe,"borderStyle",ht(ao,$)),we(Ee,ct,oe)},oo=($,oe)=>{const Ee=$.dom.styles.parse(oe),ct=pn(Ee),yt=$.dom.styles.parse($.dom.styles.serialize(ct));return $.dom.styles.serialize(yt)},Eo=$=>{const oe=$.selection.getNode(),Ee=$.dom.getParent(oe,"figure.image");return Ee?$.dom.select("img",Ee)[0]:oe&&(oe.nodeName!=="IMG"||Ho(oe))?null:oe},Bo=($,oe)=>{var Ee;const ct=$.dom,yt=gn($.schema.getTextBlockElements(),(bs,Ls)=>!$.schema.isValidChild(Ls,"figure")),Ro=ct.getParent(oe.parentNode,bs=>ke(yt,bs.nodeName),$.getBody());return Ro&&(Ee=ct.split(Ro,oe))!==null&&Ee!==void 0?Ee:oe},ir=$=>{const oe=Eo($);return oe?yr(Ee=>oo($,Ee),oe):jo()},Le=($,oe)=>{const Ee=mr(yt=>oo($,yt),oe);$.dom.setAttrib(Ee,"data-mce-id","__mcenew"),$.focus(),$.selection.setContent(Ee.outerHTML);const ct=$.dom.select('*[data-mce-id="__mcenew"]')[0];if($.dom.setAttrib(ct,"data-mce-id",null),Qe(ct)){const yt=Bo($,ct);$.selection.select(yt)}else $.selection.select(ct)},Mo=($,oe)=>{$.dom.setAttrib(oe,"src",oe.getAttribute("src"))},ze=($,oe)=>{if(oe){const Ee=$.dom.is(oe.parentNode,"figure.image")?oe.parentNode:oe;$.dom.remove(Ee),$.focus(),$.nodeChanged(),$.dom.isEmpty($.getBody())&&($.setContent(""),$.selection.setCursorLocation())}},Be=($,oe)=>{const Ee=Eo($);if(Ee)if(Mt(ct=>oo($,ct),oe,Ee),Mo($,Ee),Qe(Ee.parentNode)){const ct=Ee.parentNode;Bo($,ct),$.selection.select(Ee.parentNode)}else $.selection.select(Ee),Un($,oe,Ee)},Qt=($,oe)=>{const Ee=oe.src;return Pt(ie({},oe),{src:Ln($,Ee)?Ee:""})},cn=($,oe)=>{const Ee=Eo($);if(Ee){const ct=yr(bs=>oo($,bs),Ee),yt=ie(ie({},ct),oe),Ro=Qt($,yt);yt.src?Be($,Ro):ze($,Ee)}else oe.src&&Le($,ie(ie({},jo()),oe))},no=($=>(...oe)=>{if(oe.length===0)throw new Error("Can't merge zero objects");const Ee={};for(let ct=0;ct<oe.length;ct++){const yt=oe[ct];for(const Ro in yt)at(yt,Ro)&&(Ee[Ro]=$(Ee[Ro],yt[Ro]))}return Ee})(($,oe)=>Xe($)&&Xe(oe)?no($,oe):oe);var Gn=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),io=tinymce.util.Tools.resolve("tinymce.util.Tools");const Co=$=>Re($.value)?$.value:"",ds=$=>Re($.text)?$.text:Re($.title)?$.title:"",Ds=($,oe)=>{const Ee=[];return io.each($,ct=>{const yt=ds(ct);if(ct.menu!==void 0){const Ro=Ds(ct.menu,oe);Ee.push({text:yt,items:Ro})}else{const Ro=oe(ct);Ee.push({text:yt,value:Ro})}}),Ee},Is=($=Co)=>oe=>oe?vt.from(oe).map(Ee=>Ds(Ee,$)):vt.none(),_a=$=>Is(Co)($),ua=$=>at($,"items"),vo=($,oe)=>bt($,Ee=>ua(Ee)?vo(Ee.items,oe):Ee.value===oe?vt.some(Ee):vt.none()),is={sanitizer:Is,sanitize:_a,findEntry:($,oe)=>$.bind(Ee=>vo(Ee,oe))},Qr={makeTab:$=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},Or=$=>{const oe=is.sanitizer(Ys=>$.convertURL(Ys.value||Ys.url||"","src")),Ee=new Promise(Ys=>{po($,Fi=>{Ys(oe(Fi).map(Sm=>We([[{text:"None",value:""}],Sm])))})}),ct=is.sanitize(De($)),yt=Dt($),Ro=re($),bs=ut($),Ls=Lt($),nn=ir($),Bs=G($),ba=pe($),$i=st($),Vo=Ce($),Mc=Tt($),ni=Ie($),va=vt.some(de($)).filter(Ys=>Re(Ys)&&Ys.length>0);return Ee.then(Ys=>({image:nn,imageList:Ys,classList:ct,hasAdvTab:yt,hasUploadTab:Ro,hasUploadUrl:bs,hasUploadHandler:Ls,hasDescription:Bs,hasImageTitle:ba,hasDimensions:$i,hasImageCaption:Vo,prependURL:va,hasAccessibilityOptions:Mc,automaticUploads:ni}))},er=$=>{const oe={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},Ee=$.imageList.map(ba=>({name:"images",type:"listbox",label:"Image list",items:ba})),ct={name:"alt",type:"input",label:"Alternative description",enabled:!($.hasAccessibilityOptions&&$.image.isDecorative)},yt={name:"title",type:"input",label:"Image title"},Ro={name:"dimensions",type:"sizeinput"},bs={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},Ls=$.classList.map(ba=>({name:"classes",type:"listbox",label:"Class",items:ba})),nn={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Bs=ba=>ba?{type:"grid",columns:2}:{type:"panel"};return We([[oe],Ee.toArray(),$.hasAccessibilityOptions&&$.hasDescription?[bs]:[],$.hasDescription?[ct]:[],$.hasImageTitle?[yt]:[],$.hasDimensions?[Ro]:[],[Pt(ie({},Bs($.classList.isSome()&&$.hasImageCaption)),{items:We([Ls.toArray(),$.hasImageCaption?[nn]:[]])})]])},Xa={makeTab:$=>({title:"General",name:"general",items:er($)}),makeItems:er},pa={makeTab:$=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},ha=$=>({prevImage:is.findEntry($.imageList,$.image.src),prevAlt:$.image.alt,open:!0}),qr=$=>({src:{value:$.src,meta:{}},images:$.src,alt:$.alt,title:$.title,dimensions:{width:$.width,height:$.height},classes:$.class,caption:$.caption,style:$.style,vspace:$.vspace,border:$.border,hspace:$.hspace,borderstyle:$.borderStyle,fileinput:[],isDecorative:$.isDecorative}),yi=($,oe)=>({src:$.src.value,alt:($.alt===null||$.alt.length===0)&&oe?null:$.alt,title:$.title,width:$.dimensions.width,height:$.dimensions.height,class:$.classes,style:$.style,caption:$.caption,hspace:$.hspace,vspace:$.vspace,border:$.border,borderStyle:$.borderstyle,isDecorative:$.isDecorative}),Ba=($,oe)=>/^(?:[a-zA-Z]+:)?\/\//.test(oe)?vt.none():$.prependURL.bind(Ee=>oe.substring(0,Ee.length)!==Ee?vt.some(Ee+oe):vt.none()),Oa=($,oe)=>{const Ee=oe.getData();Ba($,Ee.src.value).each(ct=>{oe.setData({src:{value:ct,meta:Ee.src.meta}})})},Ja=($,oe,Ee)=>{$.hasDescription&&Re(Ee.alt)&&(oe.alt=Ee.alt),$.hasAccessibilityOptions&&(oe.isDecorative=Ee.isDecorative||oe.isDecorative||!1),$.hasImageTitle&&Re(Ee.title)&&(oe.title=Ee.title),$.hasDimensions&&(Re(Ee.width)&&(oe.dimensions.width=Ee.width),Re(Ee.height)&&(oe.dimensions.height=Ee.height)),Re(Ee.class)&&is.findEntry($.classList,Ee.class).each(ct=>{oe.classes=ct.value}),$.hasImageCaption&&Bt(Ee.caption)&&(oe.caption=Ee.caption),$.hasAdvTab&&(Re(Ee.style)&&(oe.style=Ee.style),Re(Ee.vspace)&&(oe.vspace=Ee.vspace),Re(Ee.border)&&(oe.border=Ee.border),Re(Ee.hspace)&&(oe.hspace=Ee.hspace),Re(Ee.borderstyle)&&(oe.borderstyle=Ee.borderstyle))},Qa=($,oe)=>{const Ee=oe.getData(),ct=Ee.src.meta;if(ct!==void 0){const yt=no({},Ee);Ja($,yt,ct),oe.setData(yt)}},Mi=($,oe,Ee,ct)=>{const yt=ct.getData(),Ro=yt.src.value,bs=yt.src.meta||{};!bs.width&&!bs.height&&oe.hasDimensions&&(ko(Ro)?$.imageSize(Ro).then(Ls=>{Ee.open&&ct.setData({dimensions:Ls})}).catch(Ls=>console.error(Ls)):ct.setData({dimensions:{width:"",height:""}}))},Pi=($,oe,Ee)=>{const ct=Ee.getData(),yt=is.findEntry($.imageList,ct.src.value);oe.prevImage=yt,Ee.setData({images:yt.map(Ro=>Ro.value).getOr("")})},ei=($,oe,Ee,ct)=>{Oa(oe,ct),Qa(oe,ct),Mi($,oe,Ee,ct),Pi(oe,Ee,ct)},Da=($,oe,Ee,ct)=>{const yt=ct.getData(),Ro=is.findEntry(oe.imageList,yt.images);Ro.each(bs=>{yt.alt===""||Ee.prevImage.map(nn=>nn.text===yt.alt).getOr(!1)?bs.value===""?ct.setData({src:bs,alt:Ee.prevAlt}):ct.setData({src:bs,alt:bs.text}):ct.setData({src:bs})}),Ee.prevImage=Ro,ei($,oe,Ee,ct)},Gr=($,oe,Ee,ct)=>{const yt=ct.getData();ct.block("Uploading image"),x(yt.fileinput).fold(()=>{ct.unblock()},Ro=>{const bs=URL.createObjectURL(Ro),Ls=()=>{ct.unblock(),URL.revokeObjectURL(bs)},nn=Bs=>{ct.setData({src:{value:Bs,meta:{}}}),ct.showTab("general"),ei($,oe,Ee,ct),ct.focus("src")};Vn(Ro).then(Bs=>{const ba=$.createBlobCache(Ro,bs,Bs);oe.automaticUploads?$.uploadImage(ba).then($i=>{nn($i.url),Ls()}).catch($i=>{Ls(),$.alertErr($i,()=>{ct.focus("fileinput")})}):($.addToBlobCache(ba),nn(ba.blobUri()),ct.unblock())})})},ti=($,oe,Ee)=>(ct,yt)=>{yt.name==="src"?ei($,oe,Ee,ct):yt.name==="images"?Da($,oe,Ee,ct):yt.name==="alt"?Ee.prevAlt=ct.getData().alt:yt.name==="fileinput"?Gr($,oe,Ee,ct):yt.name==="isDecorative"&&ct.setEnabled("alt",!ct.getData().isDecorative)},bi=$=>()=>{$.open=!1},Bi=$=>$.hasAdvTab||$.hasUploadUrl||$.hasUploadHandler?{type:"tabpanel",tabs:We([[Xa.makeTab($)],$.hasAdvTab?[Qr.makeTab($)]:[],$.hasUploadTab&&($.hasUploadUrl||$.hasUploadHandler)?[pa.makeTab($)]:[]])}:{type:"panel",items:Xa.makeItems($)},qc=($,oe,Ee)=>ct=>{const yt=no(qr(oe.image),ct.getData()),Ro=Pt(ie({},yt),{style:ss(Ee.normalizeCss,yi(yt,!1))});$.execCommand("mceUpdateImage",!1,yi(Ro,oe.hasAccessibilityOptions)),$.editorUpload.uploadImagesAuto(),ct.close()},Lr=$=>oe=>Ln($,oe)?rt($.documentBaseURI.toAbsolute(oe)).then(Ee=>({width:String(Ee.width),height:String(Ee.height)})):Promise.resolve({width:"",height:""}),Va=$=>(oe,Ee,ct)=>{var yt;return $.editorUpload.blobCache.create({blob:oe,blobUri:Ee,name:(yt=oe.name)===null||yt===void 0?void 0:yt.replace(/\.[^\.]+$/,""),filename:oe.name,base64:ct.split(",")[1]})},ya=$=>oe=>{$.editorUpload.blobCache.add(oe)},Ra=$=>(oe,Ee)=>{$.windowManager.alert(oe,Ee)},Xi=$=>oe=>oo($,oe),Ji=$=>oe=>$.dom.parseStyle(oe),ee=$=>(oe,Ee)=>$.dom.serializeStyle(oe,Ee),ve=$=>oe=>Gn($).upload([oe],!1).then(Ee=>{var ct;return Ee.length===0?Promise.reject("Failed to upload image"):Ee[0].status===!1?Promise.reject((ct=Ee[0].error)===null||ct===void 0?void 0:ct.message):Ee[0]}),Ze=$=>{const oe={imageSize:Lr($),addToBlobCache:ya($),createBlobCache:Va($),alertErr:Ra($),normalizeCss:Xi($),parseStyle:Ji($),serializeStyle:ee($),uploadImage:ve($)};return{open:()=>{Or($).then(ct=>{const yt=ha(ct);return{title:"Insert/Edit Image",size:"normal",body:Bi(ct),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:qr(ct.image),onSubmit:qc($,ct,oe),onChange:ti(oe,ct,yt),onClose:bi(yt)}}).then($.windowManager.open)}}},Ut=$=>{$.addCommand("mceImage",Ze($).open),$.addCommand("mceUpdateImage",(oe,Ee)=>{$.undoManager.transact(()=>cn($,Ee))})},mn=$=>{const oe=$.attr("class");return It(oe)&&/\bimage\b/.test(oe)},V=$=>oe=>{let Ee=oe.length;const ct=yt=>{yt.attr("contenteditable",$?"true":null)};for(;Ee--;){const yt=oe[Ee];mn(yt)&&(yt.attr("contenteditable",$?"false":null),io.each(yt.getAll("figcaption"),ct))}},be=$=>{$.on("PreInit",()=>{$.parser.addNodeFilter("figure",V(!0)),$.serializer.addNodeFilter("figure",V(!1))})},$e=$=>oe=>{const Ee=()=>{oe.setEnabled($.selection.isEditable())};return $.on("NodeChange",Ee),Ee(),()=>{$.off("NodeChange",Ee)}},kt=$=>{$.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Ze($).open,onSetup:oe=>{oe.setActive(It(Eo($)));const Ee=$.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",oe.setActive).unbind,ct=$e($)(oe);return()=>{Ee(),ct()}}}),$.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Ze($).open,onSetup:$e($)}),$.ui.registry.addContextMenu("image",{update:oe=>$.selection.isEditable()&&(Qe(oe)||Ct(oe)&&!Ho(oe))?["image"]:[]})};var lo=()=>{p.add("image",$=>{Yt($),be($),kt($),Ut($)})};lo()})();(function(){var p=tinymce.util.Tools.resolve("tinymce.PluginManager");const v=(ee,ve,Ze)=>{var Ut;return Ze(ee,ve.prototype)?!0:((Ut=ee.constructor)===null||Ut===void 0?void 0:Ut.name)===ve.name},E=ee=>{const ve=typeof ee;return ee===null?"null":ve==="object"&&Array.isArray(ee)?"array":ve==="object"&&v(ee,String,(Ze,Ut)=>Ut.isPrototypeOf(Ze))?"string":ve},z=ee=>ve=>E(ve)===ee,F=ee=>ve=>typeof ve===ee,H=ee=>ve=>ee===ve,q=z("string"),Y=z("object"),Re=z("array"),Ue=H(null),Xe=F("boolean"),$t=ee=>ee==null,zt=ee=>!$t(ee),Bt=F("function"),lt=(ee,ve)=>{if(Re(ee)){for(let Ze=0,Ut=ee.length;Ze<Ut;++Ze)if(!ve(ee[Ze]))return!1;return!0}return!1},It=()=>{},Me=ee=>()=>ee,tt=(ee,ve)=>ee===ve;class qe{constructor(ve,Ze){this.tag=ve,this.value=Ze}static some(ve){return new qe(!0,ve)}static none(){return qe.singletonNone}fold(ve,Ze){return this.tag?Ze(this.value):ve()}isSome(){return this.tag}isNone(){return!this.tag}map(ve){return this.tag?qe.some(ve(this.value)):qe.none()}bind(ve){return this.tag?ve(this.value):qe.none()}exists(ve){return this.tag&&ve(this.value)}forall(ve){return!this.tag||ve(this.value)}filter(ve){return!this.tag||ve(this.value)?this:qe.none()}getOr(ve){return this.tag?this.value:ve}or(ve){return this.tag?this:ve}getOrThunk(ve){return this.tag?this.value:ve()}orThunk(ve){return this.tag?this:ve()}getOrDie(ve){if(this.tag)return this.value;throw new Error(ve!=null?ve:"Called getOrDie on None")}static from(ve){return zt(ve)?qe.some(ve):qe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ve){this.tag&&ve(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}qe.singletonNone=new qe(!1);const ae=Array.prototype.indexOf,vt=Array.prototype.push,Pn=(ee,ve)=>ae.call(ee,ve),Nt=(ee,ve)=>Pn(ee,ve)>-1,J=(ee,ve)=>{const Ze=ee.length,Ut=new Array(Ze);for(let mn=0;mn<Ze;mn++){const V=ee[mn];Ut[mn]=ve(V,mn)}return Ut},Zt=(ee,ve)=>{for(let Ze=0,Ut=ee.length;Ze<Ut;Ze++){const mn=ee[Ze];ve(mn,Ze)}},Tn=(ee,ve,Ze)=>(Zt(ee,(Ut,mn)=>{Ze=ve(Ze,Ut,mn)}),Ze),gn=ee=>{const ve=[];for(let Ze=0,Ut=ee.length;Ze<Ut;++Ze){if(!Re(ee[Ze]))throw new Error("Arr.flatten item "+Ze+" was not an array, input: "+ee);vt.apply(ve,ee[Ze])}return ve},at=(ee,ve)=>gn(J(ee,ve)),ke=(ee,ve)=>{for(let Ze=0;Ze<ee.length;Ze++){const Ut=ve(ee[Ze],Ze);if(Ut.isSome())return Ut}return qe.none()},bo=(ee,ve,Ze=tt)=>ee.exists(Ut=>Ze(Ut,ve)),We=ee=>{const ve=[],Ze=Ut=>{ve.push(Ut)};for(let Ut=0;Ut<ee.length;Ut++)ee[Ut].each(Ze);return ve},Ye=(ee,ve)=>ee?qe.some(ve):qe.none(),x=ee=>ve=>ve.options.get(ee),bt=ee=>{const ve=ee.options.register;ve("link_assume_external_targets",{processor:Ze=>{const Ut=q(Ze)||Xe(Ze);return Ut?Ze===!0?{value:1,valid:Ut}:Ze==="http"||Ze==="https"?{value:Ze,valid:Ut}:{value:0,valid:Ut}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),ve("link_context_toolbar",{processor:"boolean",default:!1}),ve("link_list",{processor:Ze=>q(Ze)||Bt(Ze)||lt(Ze,Y)}),ve("link_default_target",{processor:"string"}),ve("link_default_protocol",{processor:"string",default:"https"}),ve("link_target_list",{processor:Ze=>Xe(Ze)||lt(Ze,Y),default:!0}),ve("link_rel_list",{processor:"object[]",default:[]}),ve("link_class_list",{processor:"object[]",default:[]}),ve("link_title",{processor:"boolean",default:!0}),ve("allow_unsafe_link_target",{processor:"boolean",default:!1}),ve("link_quicklink",{processor:"boolean",default:!1})},_e=x("link_assume_external_targets"),Ht=x("link_context_toolbar"),Gt=x("link_list"),Te=x("link_default_target"),Vt=x("link_default_protocol"),En=x("link_target_list"),et=x("link_rel_list"),rn=x("link_class_list"),Pe=x("link_title"),gt=x("allow_unsafe_link_target"),U=x("link_quicklink"),ko=Object.keys,wt=Object.hasOwnProperty,Yt=(ee,ve)=>{const Ze=ko(ee);for(let Ut=0,mn=Ze.length;Ut<mn;Ut++){const V=Ze[Ut],be=ee[V];ve(be,V)}},st=ee=>(ve,Ze)=>{ee[Ze]=ve},Dt=(ee,ve,Ze,Ut)=>{Yt(ee,(mn,V)=>{(ve(mn,V)?Ze:Ut)(mn,V)})},re=(ee,ve)=>{const Ze={};return Dt(ee,ve,st(Ze),It),Ze},de=(ee,ve)=>wt.call(ee,ve),De=(ee,ve)=>de(ee,ve)&&ee[ve]!==void 0&&ee[ve]!==null;var G=tinymce.util.Tools.resolve("tinymce.util.URI"),pe=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Ce=tinymce.util.Tools.resolve("tinymce.util.Tools");const Oe=ee=>zt(ee)&&ee.nodeName.toLowerCase()==="a",Tt=ee=>Oe(ee)&&!!Lt(ee),Ie=(ee,ve)=>{if(ee.collapsed)return[];{const Ze=ee.cloneContents(),Ut=Ze.firstChild,mn=new pe(Ut,Ze),V=[];let be=Ut;do ve(be)&&V.push(be);while(be=mn.next());return V}},ut=ee=>/^\w+:/i.test(ee),Lt=ee=>{var ve,Ze;return(Ze=(ve=ee.getAttribute("data-mce-href"))!==null&&ve!==void 0?ve:ee.getAttribute("href"))!==null&&Ze!==void 0?Ze:""},Sn=(ee,ve)=>{const Ze=["noopener"],Ut=ee?ee.split(/\s+/):[],mn=kt=>Ce.trim(kt.sort().join(" ")),V=kt=>(kt=be(kt),kt.length>0?kt.concat(Ze):Ze),be=kt=>kt.filter(lo=>Ce.inArray(Ze,lo)===-1),$e=ve?V(Ut):be(Ut);return $e.length>0?mn($e):""},rt=ee=>ee.replace(/\uFEFF/g,""),ft=(ee,ve)=>(ve=ve||po(ee.selection.getRng())[0]||ee.selection.getNode(),Wo(ve)?qe.from(ee.dom.select("a[href]",ve)[0]):qe.from(ee.dom.getParent(ve,"a[href]"))),an=(ee,ve)=>ft(ee,ve).isSome(),pn=(ee,ve)=>{const Ze=ve.fold(()=>ee.getContent({format:"text"}),Ut=>Ut.innerText||Ut.textContent||"");return rt(Ze)},po=ee=>Ie(ee,Tt),Un=ee=>Ce.grep(ee,Tt),Vn=ee=>Un(ee).length>0,Ho=ee=>po(ee).length>0,Ln=ee=>{const ve=ee.schema.getTextInlineElements(),Ze=V=>V.nodeType===1&&!Oe(V)&&!de(ve,V.nodeName.toLowerCase());if(ft(ee).exists(V=>V.hasAttribute("data-mce-block")))return!1;const mn=ee.selection.getRng();return mn.collapsed?!0:Ie(mn,Ze).length===0},Wo=ee=>zt(ee)&&ee.nodeName==="FIGURE"&&/\bimage\b/i.test(ee.className),_s=ee=>Tn(["title","rel","class","target"],(Ze,Ut)=>(ee[Ut].each(mn=>{Ze[Ut]=mn.length>0?mn:null}),Ze),{href:ee.href}),es=(ee,ve)=>(ve==="http"||ve==="https")&&!ut(ee)?ve+"://"+ee:ee,Gs=(ee,ve)=>{const Ze=ie({},ve);if(et(ee).length===0&&!gt(ee)){const Ut=Sn(Ze.rel,Ze.target==="_blank");Ze.rel=Ut||null}return qe.from(Ze.target).isNone()&&En(ee)===!1&&(Ze.target=Te(ee)),Ze.href=es(Ze.href,_e(ee)),Ze},_o=(ee,ve,Ze,Ut)=>{Ze.each(mn=>{de(ve,"innerText")?ve.innerText=mn:ve.textContent=mn}),ee.dom.setAttribs(ve,Ut),ee.selection.select(ve)},Ir=(ee,ve,Ze,Ut)=>{const mn=ee.dom;Wo(ve)?Zr(mn,ve,Ut):Ze.fold(()=>{ee.execCommand("mceInsertLink",!1,Ut)},V=>{ee.insertContent(mn.createHTML("a",Ut,mn.encode(V)))})},on=(ee,ve,Ze)=>{const Ut=ee.selection.getNode(),mn=ft(ee,Ut),V=Gs(ee,_s(Ze));ee.undoManager.transact(()=>{Ze.href===ve.href&&ve.attach(),mn.fold(()=>{Ir(ee,Ut,Ze.text,V)},be=>{ee.focus(),_o(ee,be,Ze.text,V)})})},Go=ee=>{const ve=ee.dom,Ze=ee.selection,Ut=Ze.getBookmark(),mn=Ze.getRng().cloneRange(),V=ve.getParent(mn.startContainer,"a[href]",ee.getBody()),be=ve.getParent(mn.endContainer,"a[href]",ee.getBody());V&&mn.setStartBefore(V),be&&mn.setEndAfter(be),Ze.setRng(mn),ee.execCommand("unlink"),Ze.moveToBookmark(Ut)},ur=ee=>{ee.undoManager.transact(()=>{const ve=ee.selection.getNode();Wo(ve)?Jr(ee,ve):Go(ee),ee.focus()})},Qs=ee=>{const{class:ve,href:Ze,rel:Ut,target:mn,text:V,title:be}=ee;return re({class:ve.getOrNull(),href:Ze,rel:Ut.getOrNull(),target:mn.getOrNull(),text:V.getOrNull(),title:be.getOrNull()},($e,kt)=>Ue($e)===!1)},Ar=(ee,ve)=>{const Ze=ee.options.get,Ut={allow_html_data_urls:Ze("allow_html_data_urls"),allow_script_urls:Ze("allow_script_urls"),allow_svg_data_urls:Ze("allow_svg_data_urls")},mn=ve.href;return Pt(ie({},ve),{href:G.isDomSafe(mn,"a",Ut)?mn:""})},_r=(ee,ve,Ze)=>{const Ut=Ar(ee,Ze);ee.hasPlugin("rtc",!0)?ee.execCommand("createlink",!1,Qs(Ut)):on(ee,ve,Ut)},Cs=ee=>{ee.hasPlugin("rtc",!0)?ee.execCommand("unlink"):ur(ee)},Jr=(ee,ve)=>{var Ze;const Ut=ee.dom.select("img",ve)[0];if(Ut){const mn=ee.dom.getParents(Ut,"a[href]",ve)[0];mn&&((Ze=mn.parentNode)===null||Ze===void 0||Ze.insertBefore(Ut,mn),ee.dom.remove(mn))}},Zr=(ee,ve,Ze)=>{var Ut;const mn=ee.select("img",ve)[0];if(mn){const V=ee.create("a",Ze);(Ut=mn.parentNode)===null||Ut===void 0||Ut.insertBefore(V,mn),V.appendChild(mn)}},ys=ee=>q(ee.value)?ee.value:"",ao=ee=>q(ee.text)?ee.text:q(ee.title)?ee.title:"",Ps=(ee,ve)=>{const Ze=[];return Ce.each(ee,Ut=>{const mn=ao(Ut);if(Ut.menu!==void 0){const V=Ps(Ut.menu,ve);Ze.push({text:mn,items:V})}else{const V=ve(Ut);Ze.push({text:mn,value:V})}}),Ze},Qe=(ee=ys)=>ve=>qe.from(ve).map(Ze=>Ps(Ze,ee)),Fn={sanitize:ee=>Qe(ys)(ee),sanitizeWith:Qe,createUi:(ee,ve)=>Ze=>({name:ee,type:"listbox",label:ve,items:Ze}),getValue:ys},jo=ee=>De(ee,"items"),ss=(ee,ve)=>ke(ve,Ze=>jo(Ze)?ss(ee,Ze.items):Ye(Ze.value===ee,Ze)),mr=(ee,ve,Ze,Ut)=>{const mn=Ut[ve],V=ee.length>0;return mn!==void 0?ss(mn,Ze).map(be=>({url:{value:be.value,meta:{text:V?ee:be.text,attach:It}},text:V?ee:be.text})):qe.none()},yr=(ee,ve)=>ve==="link"?ee.link:ve==="anchor"?ee.anchor:qe.none(),xe={init:(ee,ve)=>{const Ze={text:ee.text,title:ee.title},Ut=kt=>{var lo;return Ye(Ze.title.length<=0,qe.from((lo=kt.meta)===null||lo===void 0?void 0:lo.title).getOr(""))},mn=kt=>{var lo;return Ye(Ze.text.length<=0,qe.from((lo=kt.meta)===null||lo===void 0?void 0:lo.text).getOr(kt.value))},V=kt=>{const lo=mn(kt.url),$=Ut(kt.url);return lo.isSome()||$.isSome()?qe.some(ie(ie({},lo.map(oe=>({text:oe})).getOr({})),$.map(oe=>({title:oe})).getOr({}))):qe.none()},be=(kt,lo)=>{const $=yr(ve,lo).getOr([]);return mr(Ze.text,lo,$,kt)};return{onChange:(kt,lo)=>{const $=lo.name;return $==="url"?V(kt()):Nt(["anchor","link"],$)?be(kt(),$):(($==="text"||$==="title")&&(Ze[$]=kt()[$]),qe.none())}}},getDelta:mr};var we=tinymce.util.Tools.resolve("tinymce.util.Delay");const ht=(ee,ve,Ze)=>{const Ut=ee.selection.getRng();we.setEditorTimeout(ee,()=>{ee.windowManager.confirm(ve,mn=>{ee.selection.setRng(Ut),Ze(mn)})})},Mt=ee=>{const ve=ee.href;return ve.indexOf("@")>0&&ve.indexOf("/")===-1&&ve.indexOf("mailto:")===-1?qe.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Ut=>Pt(ie({},Ut),{href:"mailto:"+ve})}):qe.none()},oo=(ee,ve)=>Ze=>{const Ut=Ze.href;return ee===1&&!ut(Ut)||ee===0&&/^\s*www(\.|\d\.)/i.test(Ut)?qe.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${ve}:// prefix?`,preprocess:V=>Pt(ie({},V),{href:ve+"://"+Ut})}):qe.none()},Bo={preprocess:(ee,ve)=>ke([Mt,oo(_e(ee),Vt(ee))],Ze=>Ze(ve)).fold(()=>Promise.resolve(ve),Ze=>new Promise(Ut=>{ht(ee,Ze.message,mn=>{Ut(mn?Ze.preprocess(ve):ve)})}))},Le={getAnchors:ee=>{const ve=ee.dom.select("a:not([href])"),Ze=at(ve,Ut=>{const mn=Ut.name||Ut.id;return mn?[{text:mn,value:"#"+mn}]:[]});return Ze.length>0?qe.some([{text:"None",value:""}].concat(Ze)):qe.none()}},ze={getClasses:ee=>{const ve=rn(ee);return ve.length>0?Fn.sanitize(ve):qe.none()}},Be=ee=>{try{return qe.some(JSON.parse(ee))}catch(ve){return qe.none()}},cn={getLinks:ee=>{const ve=Ut=>ee.convertURL(Ut.value||Ut.url||"","href"),Ze=Gt(ee);return new Promise(Ut=>{q(Ze)?fetch(Ze).then(mn=>mn.ok?mn.text().then(Be):Promise.reject()).then(Ut,()=>Ut(qe.none())):Bt(Ze)?Ze(mn=>Ut(qe.some(mn))):Ut(qe.from(Ze))}).then(Ut=>Ut.bind(Fn.sanitizeWith(ve)).map(mn=>mn.length>0?[{text:"None",value:""}].concat(mn):mn))}},Qn={getRels:(ee,ve)=>{const Ze=et(ee);if(Ze.length>0){const Ut=bo(ve,"_blank"),mn=gt(ee)===!1,V=$e=>Sn(Fn.getValue($e),Ut);return(mn?Fn.sanitizeWith(V):Fn.sanitize)(Ze)}return qe.none()}},no=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],io={getTargets:ee=>{const ve=En(ee);return Re(ve)?Fn.sanitize(ve).orThunk(()=>qe.some(no)):ve===!1?qe.none():qe.some(no)}},Co=(ee,ve,Ze)=>{const Ut=ee.getAttrib(ve,Ze);return Ut!==null&&Ut.length>0?qe.some(Ut):qe.none()},ds=(ee,ve)=>{const Ze=ee.dom,mn=Ln(ee)?qe.some(pn(ee.selection,ve)):qe.none(),V=ve.bind($=>qe.from(Ze.getAttrib($,"href"))),be=ve.bind($=>qe.from(Ze.getAttrib($,"target"))),$e=ve.bind($=>Co(Ze,$,"rel")),kt=ve.bind($=>Co(Ze,$,"class")),lo=ve.bind($=>Co(Ze,$,"title"));return{url:V,text:mn,title:lo,target:be,rel:$e,linkClass:kt}},Is={collect:(ee,ve)=>cn.getLinks(ee).then(Ze=>{const Ut=ds(ee,ve);return{anchor:Ut,catalogs:{targets:io.getTargets(ee),rels:Qn.getRels(ee,Ut.target),classes:ze.getClasses(ee),anchor:Le.getAnchors(ee),link:Ze},optNode:ve,flags:{titleEnabled:Pe(ee)}}})},_a=(ee,ve)=>Ze=>{const Ut=Ze.getData();if(!Ut.url.value){Cs(ee),Ze.close();return}const mn=$e=>qe.from(Ut[$e]).filter(kt=>!bo(ve.anchor[$e],kt)),V={href:Ut.url.value,text:mn("text"),target:mn("target"),rel:mn("rel"),class:mn("linkClass"),title:mn("title")},be={href:Ut.url.value,attach:Ut.url.meta!==void 0&&Ut.url.meta.attach?Ut.url.meta.attach:It};Bo.preprocess(ee,V).then($e=>{_r(ee,be,$e)}),Ze.close()},ua=ee=>{const ve=ft(ee);return Is.collect(ee,ve)},vo=(ee,ve)=>{const Ze=ee.anchor,Ut=Ze.url.getOr("");return{url:{value:Ut,meta:{original:{value:Ut}}},text:Ze.text.getOr(""),title:Ze.title.getOr(""),anchor:Ut,link:Ut,rel:Ze.rel.getOr(""),target:Ze.target.or(ve).getOr(""),linkClass:Ze.linkClass.getOr("")}},cs=(ee,ve,Ze)=>{const Ut=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],mn=ee.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),V=ee.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],be=qe.from(Te(Ze)),$e=vo(ee,be),kt=ee.catalogs,lo=xe.init($e,kt);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:gn([Ut,mn,V,We([kt.anchor.map(Fn.createUi("anchor","Anchors")),kt.rels.map(Fn.createUi("rel","Rel")),kt.targets.map(Fn.createUi("target","Open link in...")),kt.link.map(Fn.createUi("link","Link list")),kt.classes.map(Fn.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:$e,onChange:(oe,{name:Ee})=>{lo.onChange(oe.getData,{name:Ee}).each(ct=>{oe.setData(ct)})},onSubmit:ve}},is=ee=>{ua(ee).then(Ze=>{const Ut=_a(ee,Ze);return cs(Ze,Ut,ee)}).then(Ze=>{ee.windowManager.open(Ze)})},aa=ee=>{ee.addCommand("mceLink",(ve,Ze)=>{(Ze==null?void 0:Ze.dialog)===!0||!U(ee)?is(ee):ee.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},Qr=ee=>{ee.addShortcut("Meta+K","",()=>{ee.execCommand("mceLink")})},Or=ee=>{let ve=ee;return{get:()=>ve,set:mn=>{ve=mn}}},er=ee=>{const ve=Or(qe.none()),Ze=()=>ve.get().each(ee);return{clear:()=>{Ze(),ve.set(qe.none())},isSet:()=>ve.get().isSome(),get:()=>ve.get(),set:$e=>{Ze(),ve.set(qe.some($e))}}},El=()=>{const ee=er(It),ve=Ze=>ee.get().each(Ze);return Pt(ie({},ee),{on:ve})},Xa=(ee,ve)=>ee.substring(ve),Rs=(ee,ve,Ze)=>ve===""||ee.length>=ve.length&&ee.substr(Ze,Ze+ve.length)===ve,pa=(ee,ve)=>ha(ee,ve)?Xa(ee,ve.length):ee,ha=(ee,ve)=>Rs(ee,ve,0);var qr=tinymce.util.Tools.resolve("tinymce.util.VK");const yi=(ee,ve)=>{document.body.appendChild(ee),ee.dispatchEvent(ve),document.body.removeChild(ee)},Ba=ee=>{const ve=document.createElement("a");ve.target="_blank",ve.href=ee,ve.rel="noreferrer noopener";const Ze=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(Ze),yi(ve,Ze)},Oa=ee=>ee.altKey===!0&&ee.shiftKey===!1&&ee.ctrlKey===!1&&ee.metaKey===!1,Ja=(ee,ve)=>{if(ve){const Ze=Lt(ve);if(/^#/.test(Ze)){const Ut=ee.dom.select(`${Ze},[name="${pa(Ze,"#")}"]`);Ut.length&&ee.selection.scrollIntoView(Ut[0],!0)}else Ba(ve.href)}},Qa=ee=>{const ve=ee.selection.getRng(),Ze=ve.startContainer;return Tt(Ze)&&ve.startContainer===ve.endContainer&&ee.dom.select("img",Ze).length===1},Mi=(ee,ve)=>{const Ze=Un(ee.dom.getParents(ve));return Ye(Ze.length===1,Ze[0])},Pi=ee=>{const ve=po(ee.selection.getRng());return Ye(ve.length>0,ve[0]).or(Mi(ee,ee.selection.getNode()))},ei=ee=>ee.selection.isCollapsed()||Qa(ee)?Mi(ee,ee.selection.getStart()):Pi(ee),Da=ee=>{const ve=El(),Ze=()=>ve.get().or(ei(ee)),Ut=()=>Ze().each(mn=>Ja(ee,mn));return ee.on("contextmenu",mn=>{Mi(ee,mn.target).each(ve.set)}),ee.on("SelectionChange",()=>{ve.isSet()||ei(ee).each(ve.set)}),ee.on("click",mn=>{ve.clear();const V=Un(ee.dom.getParents(mn.target));V.length===1&&qr.metaKeyPressed(mn)&&(mn.preventDefault(),Ja(ee,V[0]))}),ee.on("keydown",mn=>{ve.clear(),!mn.isDefaultPrevented()&&mn.keyCode===13&&Oa(mn)&&Ze().each(V=>{mn.preventDefault(),Ja(ee,V)})}),{gotoSelectedLink:Ut}},Gr=ee=>()=>{ee.execCommand("mceLink",!1,{dialog:!0})},ti=(ee,ve)=>(ee.on("NodeChange",ve),()=>ee.off("NodeChange",ve)),bi=ee=>ve=>{const Ze=()=>{ve.setActive(!ee.mode.isReadOnly()&&an(ee,ee.selection.getNode())),ve.setEnabled(ee.selection.isEditable())};return Ze(),ti(ee,Ze)},Bi=ee=>ve=>{const Ze=()=>{ve.setEnabled(ee.selection.isEditable())};return Ze(),ti(ee,Ze)},qc=ee=>ve=>{const Ze=V=>Vn(V)||Ho(ee.selection.getRng()),Ut=ee.dom.getParents(ee.selection.getStart()),mn=V=>{ve.setEnabled(Ze(V)&&ee.selection.isEditable())};return mn(Ut),ti(ee,V=>mn(V.parents))},Lr=(ee,ve)=>{ee.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:Gr(ee),onSetup:bi(ee)}),ee.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:ve.gotoSelectedLink,onSetup:qc(ee)}),ee.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Cs(ee),onSetup:qc(ee)})},Va=(ee,ve)=>{ee.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:ve.gotoSelectedLink,onSetup:qc(ee)}),ee.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Gr(ee),onSetup:Bi(ee)}),ee.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Cs(ee),onSetup:qc(ee)})},ya=ee=>{const ve="link unlink openlink",Ze="link";ee.ui.registry.addContextMenu("link",{update:Ut=>ee.dom.isEditable(Ut)?Vn(ee.dom.getParents(Ut,"a"))?ve:Ze:""})},Ra=(ee,ve)=>{const Ze=V=>{V.selection.collapse(!1)},Ut=V=>{const be=ee.selection.getNode();return V.setEnabled(an(ee,be)&&ee.selection.isEditable()),It},mn=V=>{const be=ft(ee),$e=Ln(ee);if(be.isNone()&&$e){const kt=pn(ee.selection,be);return Ye(kt.length===0,V)}else return qe.none()};ee.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:bi(ee)},label:"Link",predicate:V=>Ht(ee)&&an(ee,V),initValue:()=>ft(ee).fold(Me(""),Lt),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:V=>{const be=ee.selection.getNode();return V.setActive(an(ee,be)),bi(ee)(V)},onAction:V=>{const be=V.getValue(),$e=mn(be);_r(ee,{href:be,attach:It},{href:be,text:$e,title:qe.none(),rel:qe.none(),target:qe.from(Te(ee)),class:qe.none()}),Ze(ee),V.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Ut,onAction:V=>{Cs(ee),V.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Ut,onAction:V=>{ve.gotoSelectedLink(),V.hide()}}]})},Xi=ee=>{const ve=Da(ee);Lr(ee,ve),Va(ee,ve),ya(ee),Ra(ee,ve)};var Ji=()=>{p.add("link",ee=>{bt(ee),aa(ee),Xi(ee),Qr(ee)})};Ji()})();(function(){var p=tinymce.util.Tools.resolve("tinymce.PluginManager");const v=(xe,we,ht)=>{var Mt;return ht(xe,we.prototype)?!0:((Mt=xe.constructor)===null||Mt===void 0?void 0:Mt.name)===we.name},E=xe=>{const we=typeof xe;return xe===null?"null":we==="object"&&Array.isArray(xe)?"array":we==="object"&&v(xe,String,(ht,Mt)=>Mt.isPrototypeOf(ht))?"string":we},z=xe=>we=>E(we)===xe,F=z("string"),H=z("object"),q=z("array"),Y=xe=>xe==null,Re=xe=>!Y(xe);class Ue{constructor(we,ht){this.tag=we,this.value=ht}static some(we){return new Ue(!0,we)}static none(){return Ue.singletonNone}fold(we,ht){return this.tag?ht(this.value):we()}isSome(){return this.tag}isNone(){return!this.tag}map(we){return this.tag?Ue.some(we(this.value)):Ue.none()}bind(we){return this.tag?we(this.value):Ue.none()}exists(we){return this.tag&&we(this.value)}forall(we){return!this.tag||we(this.value)}filter(we){return!this.tag||we(this.value)?this:Ue.none()}getOr(we){return this.tag?this.value:we}or(we){return this.tag?this:we}getOrThunk(we){return this.tag?this.value:we()}orThunk(we){return this.tag?this:we()}getOrDie(we){if(this.tag)return this.value;throw new Error(we!=null?we:"Called getOrDie on None")}static from(we){return Re(we)?Ue.some(we):Ue.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(we){this.tag&&we(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ue.singletonNone=new Ue(!1);const Xe=Array.prototype.push,$t=(xe,we)=>{for(let ht=0,Mt=xe.length;ht<Mt;ht++){const oo=xe[ht];we(oo,ht)}},zt=xe=>{const we=[];for(let ht=0,Mt=xe.length;ht<Mt;++ht){if(!q(xe[ht]))throw new Error("Arr.flatten item "+ht+" was not an array, input: "+xe);Xe.apply(we,xe[ht])}return we},Bt=xe=>{let we=xe;return{get:()=>we,set:oo=>{we=oo}}},lt=Object.keys,It=Object.hasOwnProperty,Me=(xe,we)=>{const ht=lt(xe);for(let Mt=0,oo=ht.length;Mt<oo;Mt++){const Eo=ht[Mt],Bo=xe[Eo];we(Bo,Eo)}},tt=(xe,we)=>qe(xe,we)?Ue.from(xe[we]):Ue.none(),qe=(xe,we)=>It.call(xe,we),ae=xe=>we=>we.options.get(xe),vt=xe=>{const we=xe.options.register;we("audio_template_callback",{processor:"function"}),we("video_template_callback",{processor:"function"}),we("iframe_template_callback",{processor:"function"}),we("media_live_embeds",{processor:"boolean",default:!0}),we("media_filter_html",{processor:"boolean",default:!0}),we("media_url_resolver",{processor:"function"}),we("media_alt_source",{processor:"boolean",default:!0}),we("media_poster",{processor:"boolean",default:!0}),we("media_dimensions",{processor:"boolean",default:!0})},Pn=ae("audio_template_callback"),Nt=ae("video_template_callback"),J=ae("iframe_template_callback"),Zt=ae("media_live_embeds"),Tn=ae("media_filter_html"),gn=ae("media_url_resolver"),at=ae("media_alt_source"),ke=ae("media_poster"),bo=ae("media_dimensions");var We=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ye=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),x=tinymce.util.Tools.resolve("tinymce.html.DomParser");const bt=Ye.DOM,_e=xe=>xe.replace(/px$/,""),Ht=xe=>{const we=xe.attr("style"),ht=we?bt.parseStyle(we):{};return{type:"ephox-embed-iri",source:xe.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:tt(ht,"max-width").map(_e).getOr(""),height:tt(ht,"max-height").map(_e).getOr("")}},Gt=(xe,we)=>{let ht={};const oo=x({validate:!1,forced_root_block:!1},we).parse(xe);for(let Eo=oo;Eo;Eo=Eo.walk())if(Eo.type===1){const Bo=Eo.name;if(Eo.attr("data-ephox-embed-iri")){ht=Ht(Eo);break}else!ht.source&&Bo==="param"&&(ht.source=Eo.attr("movie")),(Bo==="iframe"||Bo==="object"||Bo==="embed"||Bo==="video"||Bo==="audio")&&(ht.type||(ht.type=Bo),ht=We.extend(Eo.attributes.map,ht)),Bo==="source"&&(ht.source?ht.altsource||(ht.altsource=Eo.attr("src")):ht.source=Eo.attr("src")),Bo==="img"&&!ht.poster&&(ht.poster=Eo.attr("src"))}return ht.source=ht.source||ht.src||"",ht.altsource=ht.altsource||"",ht.poster=ht.poster||"",ht},Te=xe=>{var we;const ht={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},Mt=(we=xe.toLowerCase().split(".").pop())!==null&&we!==void 0?we:"";return tt(ht,Mt).getOr("")};var Vt=tinymce.util.Tools.resolve("tinymce.html.Node"),En=tinymce.util.Tools.resolve("tinymce.html.Serializer");const et=(xe,we={})=>x(ie({forced_root_block:!1,validate:!1,allow_conditional_comments:!0},we),xe),rn=Ye.DOM,Pe=xe=>/^[0-9.]+$/.test(xe)?xe+"px":xe,gt=(xe,we)=>{const ht=we.attr("style"),Mt=ht?rn.parseStyle(ht):{};Re(xe.width)&&(Mt["max-width"]=Pe(xe.width)),Re(xe.height)&&(Mt["max-height"]=Pe(xe.height)),we.attr("style",rn.serializeStyle(Mt))},U=["source","altsource"],ko=(xe,we,ht,Mt)=>{let oo=0,Eo=0;const Bo=et(Mt);Bo.addNodeFilter("source",Le=>oo=Le.length);const ir=Bo.parse(xe);for(let Le=ir;Le;Le=Le.walk())if(Le.type===1){const Mo=Le.name;if(Le.attr("data-ephox-embed-iri")){gt(we,Le);break}else{switch(Mo){case"video":case"object":case"embed":case"img":case"iframe":we.height!==void 0&&we.width!==void 0&&(Le.attr("width",we.width),Le.attr("height",we.height));break}if(ht)switch(Mo){case"video":Le.attr("poster",we.poster),Le.attr("src",null);for(let Be=oo;Be<2;Be++)if(we[U[Be]]){const Qt=new Vt("source",1);Qt.attr("src",we[U[Be]]),Qt.attr("type",we[U[Be]+"mime"]||null),Le.append(Qt)}break;case"iframe":Le.attr("src",we.source);break;case"object":const ze=Le.getAll("img").length>0;if(we.poster&&!ze){Le.attr("src",we.poster);const Be=new Vt("img",1);Be.attr("src",we.poster),Be.attr("width",we.width),Be.attr("height",we.height),Le.append(Be)}break;case"source":if(Eo<2&&(Le.attr("src",we[U[Eo]]),Le.attr("type",we[U[Eo]+"mime"]||null),!we[U[Eo]])){Le.remove();continue}Eo++;break;case"img":we.poster||Le.remove();break}}}return En({},Mt).serialize(ir)},wt=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Yt=xe=>{const we=xe.match(/^(https?:\/\/|www\.)(.+)$/i);return we&&we.length>1?we[1]==="www."?"https://":we[1]:"https://"},st=(xe,we)=>{const ht=Yt(we),Mt=xe.regex.exec(we);let oo=ht+xe.url;if(Re(Mt))for(let Eo=0;Eo<Mt.length;Eo++)oo=oo.replace("$"+Eo,()=>Mt[Eo]?Mt[Eo]:"");return oo.replace(/\?$/,"")},Dt=xe=>{const we=wt.filter(ht=>ht.regex.test(xe));return we.length>0?We.extend({},we[0],{url:st(we[0],xe)}):null},re=(xe,we)=>{if(we)return we(xe);{const ht=xe.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+xe.source+'" width="'+xe.width+'" height="'+xe.height+'"'+ht+"></iframe>"}},de=xe=>{let we='<object data="'+xe.source+'" width="'+xe.width+'" height="'+xe.height+'" type="application/x-shockwave-flash">';return xe.poster&&(we+='<img src="'+xe.poster+'" width="'+xe.width+'" height="'+xe.height+'" />'),we+="</object>",we},De=(xe,we)=>we?we(xe):'<audio controls="controls" src="'+xe.source+'">'+(xe.altsource?`
<source src="`+xe.altsource+'"'+(xe.altsourcemime?' type="'+xe.altsourcemime+'"':"")+` />
`:"")+"</audio>",G=(xe,we)=>we?we(xe):'<video width="'+xe.width+'" height="'+xe.height+'"'+(xe.poster?' poster="'+xe.poster+'"':"")+` controls="controls">
<source src="`+xe.source+'"'+(xe.sourcemime?' type="'+xe.sourcemime+'"':"")+` />
`+(xe.altsource?'<source src="'+xe.altsource+'"'+(xe.altsourcemime?' type="'+xe.altsourcemime+'"':"")+` />
`:"")+"</video>",pe=(xe,we)=>{var ht;const Mt=We.extend({},we);if(!Mt.source&&(We.extend(Mt,Gt((ht=Mt.embed)!==null&&ht!==void 0?ht:"",xe.schema)),!Mt.source))return"";Mt.altsource||(Mt.altsource=""),Mt.poster||(Mt.poster=""),Mt.source=xe.convertURL(Mt.source,"source"),Mt.altsource=xe.convertURL(Mt.altsource,"source"),Mt.sourcemime=Te(Mt.source),Mt.altsourcemime=Te(Mt.altsource),Mt.poster=xe.convertURL(Mt.poster,"poster");const oo=Dt(Mt.source);if(oo&&(Mt.source=oo.url,Mt.type=oo.type,Mt.allowfullscreen=oo.allowFullscreen,Mt.width=Mt.width||String(oo.w),Mt.height=Mt.height||String(oo.h)),Mt.embed)return ko(Mt.embed,Mt,!0,xe.schema);{const Eo=Pn(xe),Bo=Nt(xe),ir=J(xe);return Mt.width=Mt.width||"300",Mt.height=Mt.height||"150",We.each(Mt,(Le,Mo)=>{Mt[Mo]=xe.dom.encode(""+Le)}),Mt.type==="iframe"?re(Mt,ir):Mt.sourcemime==="application/x-shockwave-flash"?de(Mt):Mt.sourcemime.indexOf("audio")!==-1?De(Mt,Eo):G(Mt,Bo)}},Ce=xe=>xe.hasAttribute("data-mce-object")||xe.hasAttribute("data-ephox-embed-iri"),Oe=xe=>{xe.on("mousedown",we=>{const ht=xe.dom.getParent(we.target,".mce-preview-object");ht&&xe.dom.getAttrib(ht,"data-mce-selected")==="2"&&we.stopImmediatePropagation()}),xe.on("click keyup touchend",()=>{const we=xe.selection.getNode();we&&xe.dom.hasClass(we,"mce-preview-object")&&xe.dom.getAttrib(we,"data-mce-selected")&&we.setAttribute("data-mce-selected","2")}),xe.on("ObjectResized",we=>{const ht=we.target;if(ht.getAttribute("data-mce-object")){let Mt=ht.getAttribute("data-mce-html");Mt&&(Mt=unescape(Mt),ht.setAttribute("data-mce-html",escape(ko(Mt,{width:String(we.width),height:String(we.height)},!1,xe.schema))))}})},Tt={},Ie=(xe,we,ht)=>new Promise((Mt,oo)=>{const Eo=Bo=>(Bo.html&&(Tt[xe.source]=Bo),Mt({url:xe.source,html:Bo.html?Bo.html:we(xe)}));Tt[xe.source]?Eo(Tt[xe.source]):ht({url:xe.source}).then(Eo).catch(oo)}),ut=(xe,we)=>Promise.resolve({html:we(xe),url:xe.source}),Lt=xe=>we=>pe(xe,we),Sn=(xe,we)=>{const ht=gn(xe);return ht?Ie(we,Lt(xe),ht):ut(we,Lt(xe))},rt=xe=>qe(Tt,xe),ft=(xe,we)=>tt(we,xe).bind(ht=>tt(ht,"meta")),an=(xe,we,ht)=>Mt=>{const oo=()=>tt(xe,Mt),Eo=()=>tt(we,Mt),Bo=Mo=>tt(Mo,"value").bind(ze=>ze.length>0?Ue.some(ze):Ue.none()),ir=()=>oo().bind(Mo=>H(Mo)?Bo(Mo).orThunk(Eo):Eo().orThunk(()=>Ue.from(Mo))),Le=()=>Eo().orThunk(()=>oo().bind(Mo=>H(Mo)?Bo(Mo):Ue.from(Mo)));return{[Mt]:(Mt===ht?ir():Le()).getOr("")}},pn=(xe,we)=>{const ht={};return tt(xe,"dimensions").each(Mt=>{$t(["width","height"],oo=>{tt(we,oo).orThunk(()=>tt(Mt,oo)).each(Eo=>ht[oo]=Eo)})}),ht},po=(xe,we)=>{const ht=we&&we!=="dimensions"?ft(we,xe).getOr({}):{},Mt=an(xe,ht,we);return ie(ie(ie(ie(ie({},Mt("source")),Mt("altsource")),Mt("poster")),Mt("embed")),pn(xe,ht))},Un=xe=>{const we=Pt(ie({},xe),{source:{value:tt(xe,"source").getOr("")},altsource:{value:tt(xe,"altsource").getOr("")},poster:{value:tt(xe,"poster").getOr("")}});return $t(["width","height"],ht=>{tt(xe,ht).each(Mt=>{const oo=we.dimensions||{};oo[ht]=Mt,we.dimensions=oo})}),we},Vn=xe=>we=>{const ht=we&&we.msg?"Media embed handler error: "+we.msg:"Media embed handler threw unknown error.";xe.notificationManager.open({type:"error",text:ht})},Ho=xe=>{const we=xe.selection.getNode(),ht=Ce(we)?xe.serializer.serialize(we,{selection:!0}):"",Mt=Gt(ht,xe.schema),Eo=(()=>{if(es(Mt.source,Mt.type)){const Bo=xe.dom.getRect(we);return{width:Bo.w.toString().replace(/px$/,""),height:Bo.h.toString().replace(/px$/,"")}}else return{}})();return ie(ie({embed:ht},Mt),Eo)},Ln=(xe,we)=>ht=>{if(F(ht.url)&&ht.url.trim().length>0){const Mt=ht.html,oo=Gt(Mt,we.schema),Eo=Pt(ie({},oo),{source:ht.url,embed:Mt});xe.setData(Un(Eo))}},Wo=(xe,we)=>{const ht=xe.dom.select("*[data-mce-object]");for(let Mt=0;Mt<we.length;Mt++)for(let oo=ht.length-1;oo>=0;oo--)we[Mt]===ht[oo]&&ht.splice(oo,1);xe.selection.select(ht[0])},_s=(xe,we)=>{const ht=xe.dom.select("*[data-mce-object]");xe.insertContent(we),Wo(xe,ht),xe.nodeChanged()},es=(xe,we)=>Re(we)&&we==="ephox-embed-iri"&&Re(Dt(xe)),Gs=(xe,we)=>((Mt,oo)=>Mt.width!==oo.width||Mt.height!==oo.height)(xe,we)&&es(we.source,xe.type),_o=(xe,we,ht)=>{var Mt;we.embed=Gs(xe,we)&&bo(ht)?pe(ht,Pt(ie({},we),{embed:""})):ko((Mt=we.embed)!==null&&Mt!==void 0?Mt:"",we,!1,ht.schema),we.embed&&(xe.source===we.source||rt(we.source))?_s(ht,we.embed):Sn(ht,we).then(oo=>{_s(ht,oo.html)}).catch(Vn(ht))},Ir=xe=>{const we=Ho(xe),ht=Bt(we),Mt=Un(we),oo=(Gn,io)=>{const Co=po(io.getData(),"source");Gn.source!==Co.source&&(Ln(no,xe)({url:Co.source,html:""}),Sn(xe,Co).then(Ln(no,xe)).catch(Vn(xe)))},Eo=Gn=>{var io;const Co=po(Gn.getData()),ds=Gt((io=Co.embed)!==null&&io!==void 0?io:"",xe.schema);Gn.setData(Un(ds))},Bo=(Gn,io,Co)=>{const ds=po(Gn.getData(),io),Ds=Gs(Co,ds)&&bo(xe)?Pt(ie({},ds),{embed:""}):ds,Is=pe(xe,Ds);Gn.setData(Un(Pt(ie({},Ds),{embed:Is})))},ir=[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],Le=bo(xe)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],Mo={title:"General",name:"general",items:zt([ir,Le])},Be={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},Qt=[];at(xe)&&Qt.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),ke(xe)&&Qt.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const cn={title:"Advanced",name:"advanced",items:Qt},zn=[Mo,Be];Qt.length>0&&zn.push(cn);const Qn={type:"tabpanel",tabs:zn},no=xe.windowManager.open({title:"Insert/Edit Media",size:"normal",body:Qn,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Gn=>{const io=po(Gn.getData());_o(ht.get(),io,xe),Gn.close()},onChange:(Gn,io)=>{switch(io.name){case"source":oo(ht.get(),Gn);break;case"embed":Eo(Gn);break;case"dimensions":case"altsource":case"poster":Bo(Gn,io.name,ht.get());break}ht.set(po(Gn.getData()))},initialData:Mt})},on=xe=>({showDialog:()=>{Ir(xe)}}),Go=xe=>{const we=()=>{Ir(xe)};xe.addCommand("mceMedia",we)},ur=(xe,we,ht)=>xe.length>=we.length&&xe.substr(ht,ht+we.length)===we,Qs=(xe,we)=>ur(xe,we,0);var Ar=tinymce.util.Tools.resolve("tinymce.Env");const _r=xe=>{const we=xe.name;return we==="iframe"||we==="video"||we==="audio"},Cs=(xe,we,ht,Mt=null)=>{const oo=xe.attr(ht);return Re(oo)?oo:qe(we,ht)?null:Mt},Jr=(xe,we,ht)=>{const Mt=we.name==="img"||xe.name==="video",oo=Mt?"300":null,Eo=xe.name==="audio"?"30":"150",Bo=Mt?Eo:null;we.attr({width:Cs(xe,ht,"width",oo),height:Cs(xe,ht,"height",Bo)})},Zr=(xe,we,ht,Mt)=>{const oo=et(xe.schema).parse(Mt,{context:we});for(;oo.firstChild;)ht.append(oo.firstChild)},ys=(xe,we)=>{const ht=we.name,Mt=new Vt("img",1);return Ps(xe,we,Mt),Jr(we,Mt,{}),Mt.attr({style:we.attr("style"),src:Ar.transparentSrc,"data-mce-object":ht,class:"mce-object mce-object-"+ht}),Mt},ao=(xe,we)=>{var ht;const Mt=we.name,oo=new Vt("span",1);oo.attr({contentEditable:"false",style:we.attr("style"),"data-mce-object":Mt,class:"mce-preview-object mce-object-"+Mt}),Ps(xe,we,oo);const Eo=xe.dom.parseStyle((ht=we.attr("style"))!==null&&ht!==void 0?ht:""),Bo=new Vt(Mt,1);if(Jr(we,Bo,Eo),Bo.attr({src:we.attr("src"),style:we.attr("style"),class:we.attr("class")}),Mt==="iframe")Bo.attr({allowfullscreen:we.attr("allowfullscreen"),frameborder:"0",sandbox:we.attr("sandbox"),referrerpolicy:we.attr("referrerpolicy")});else{$t(["controls","crossorigin","currentTime","loop","muted","poster","preload"],ze=>{Bo.attr(ze,we.attr(ze))});const Mo=oo.attr("data-mce-html");Re(Mo)&&Zr(xe,Mt,Bo,unescape(Mo))}const ir=new Vt("span",1);return ir.attr("class","mce-shim"),oo.append(Bo),oo.append(ir),oo},Ps=(xe,we,ht)=>{var Mt;const oo=(Mt=we.attributes)!==null&&Mt!==void 0?Mt:[];let Eo=oo.length;for(;Eo--;){const Mo=oo[Eo].name;let ze=oo[Eo].value;Mo!=="width"&&Mo!=="height"&&Mo!=="style"&&!Qs(Mo,"data-mce-")&&((Mo==="data"||Mo==="src")&&(ze=xe.convertURL(ze,Mo)),ht.attr("data-mce-p-"+Mo,ze))}const Bo=En({inner:!0},xe.schema),ir=new Vt("div",1);$t(we.children(),Mo=>ir.append(Mo));const Le=Bo.serialize(ir);Le&&(ht.attr("data-mce-html",escape(Le)),ht.empty())},Qe=xe=>{const we=xe.attr("class");return F(we)&&/\btiny-pageembed\b/.test(we)},Ct=xe=>{let we=xe;for(;we=we.parent;)if(we.attr("data-ephox-embed-iri")||Qe(we))return!0;return!1},An=xe=>we=>{let ht=we.length,Mt;for(;ht--;)Mt=we[ht],Mt.parent&&(Mt.parent.attr("data-mce-object")||(_r(Mt)&&Zt(xe)?Ct(Mt)||Mt.replace(ao(xe,Mt)):Ct(Mt)||Mt.replace(ys(xe,Mt))))},Fn=(xe,we,ht)=>{const Mt=xe.options.get,oo=Mt("xss_sanitization"),Eo=Tn(xe);return et(xe.schema,{sanitize:oo,validate:Eo}).parse(ht,{context:we})},jo=xe=>{xe.on("PreInit",()=>{const{schema:we,serializer:ht,parser:Mt}=xe,oo=we.getBoolAttrs();$t("webkitallowfullscreen mozallowfullscreen".split(" "),Eo=>{oo[Eo]={}}),Me({embed:["wmode"]},(Eo,Bo)=>{const ir=we.getElementRule(Bo);ir&&$t(Eo,Le=>{ir.attributes[Le]={},ir.attributesOrder.push(Le)})}),Mt.addNodeFilter("iframe,video,audio,object,embed",An(xe)),ht.addAttributeFilter("data-mce-object",(Eo,Bo)=>{var ir;let Le=Eo.length;for(;Le--;){const Mo=Eo[Le];if(!Mo.parent)continue;const ze=Mo.attr(Bo),Be=new Vt(ze,1);if(ze!=="audio"){const Qn=Mo.attr("class");Qn&&Qn.indexOf("mce-preview-object")!==-1&&Mo.firstChild?Be.attr({width:Mo.firstChild.attr("width"),height:Mo.firstChild.attr("height")}):Be.attr({width:Mo.attr("width"),height:Mo.attr("height")})}Be.attr({style:Mo.attr("style")});const Qt=(ir=Mo.attributes)!==null&&ir!==void 0?ir:[];let cn=Qt.length;for(;cn--;){const Qn=Qt[cn].name;Qn.indexOf("data-mce-p-")===0&&Be.attr(Qn.substr(11),Qt[cn].value)}const zn=Mo.attr("data-mce-html");if(zn){const Qn=Fn(xe,ze,unescape(zn));$t(Qn.children(),no=>Be.append(no))}Mo.replace(Be)}})}),xe.on("SetContent",()=>{const we=xe.dom;$t(we.select("span.mce-preview-object"),ht=>{we.select("span.mce-shim",ht).length===0&&we.add(ht,"span",{class:"mce-shim"})})})},ss=xe=>{xe.on("ResolveName",we=>{let ht;we.target.nodeType===1&&(ht=we.target.getAttribute("data-mce-object"))&&(we.name=ht)})},mr=xe=>we=>{const ht=()=>{we.setEnabled(xe.selection.isEditable())};return xe.on("NodeChange",ht),ht(),()=>{xe.off("NodeChange",ht)}},yr=xe=>{const we=()=>xe.execCommand("mceMedia");xe.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:we,onSetup:ht=>{const Mt=xe.selection;ht.setActive(Ce(Mt.getNode()));const oo=Mt.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",ht.setActive).unbind,Eo=mr(xe)(ht);return()=>{oo(),Eo()}}}),xe.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:we,onSetup:mr(xe)})};var cr=()=>{p.add("media",xe=>(vt(xe),Go(xe),yr(xe),ss(xe),jo(xe),Oe(xe),on(xe)))};cr()})();(function(){var p=tinymce.util.Tools.resolve("tinymce.PluginManager");const v=x=>x==null,E=x=>!v(x),z=()=>{},F=x=>()=>x;class H{constructor(bt,_e){this.tag=bt,this.value=_e}static some(bt){return new H(!0,bt)}static none(){return H.singletonNone}fold(bt,_e){return this.tag?_e(this.value):bt()}isSome(){return this.tag}isNone(){return!this.tag}map(bt){return this.tag?H.some(bt(this.value)):H.none()}bind(bt){return this.tag?bt(this.value):H.none()}exists(bt){return this.tag&&bt(this.value)}forall(bt){return!this.tag||bt(this.value)}filter(bt){return!this.tag||bt(this.value)?this:H.none()}getOr(bt){return this.tag?this.value:bt}or(bt){return this.tag?this:bt}getOrThunk(bt){return this.tag?this.value:bt()}orThunk(bt){return this.tag?this:bt()}getOrDie(bt){if(this.tag)return this.value;throw new Error(bt!=null?bt:"Called getOrDie on None")}static from(bt){return E(bt)?H.some(bt):H.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(bt){this.tag&&bt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}H.singletonNone=new H(!1);const q=(x,bt)=>bt>=0&&bt<x.length?H.some(x[bt]):H.none(),Y=x=>q(x,0);var Re=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const Ue=typeof window!="undefined"?window:Function("return this;")(),Xe=function(x,bt,_e){const Ht=window.Prism;window.Prism={manual:!0};var Gt=typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope?self:{},Te=function(Vt){var En=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,et=0,rn={},Pe={manual:Vt.Prism&&Vt.Prism.manual,disableWorkerMessageHandler:Vt.Prism&&Vt.Prism.disableWorkerMessageHandler,util:{encode:function G(pe){return pe instanceof gt?new gt(pe.type,G(pe.content),pe.alias):Array.isArray(pe)?pe.map(G):pe.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(G){return Object.prototype.toString.call(G).slice(8,-1)},objId:function(G){return G.__id||Object.defineProperty(G,"__id",{value:++et}),G.__id},clone:function G(pe,Ce){Ce=Ce||{};var Oe,Tt;switch(Pe.util.type(pe)){case"Object":if(Tt=Pe.util.objId(pe),Ce[Tt])return Ce[Tt];Oe={},Ce[Tt]=Oe;for(var Ie in pe)pe.hasOwnProperty(Ie)&&(Oe[Ie]=G(pe[Ie],Ce));return Oe;case"Array":return Tt=Pe.util.objId(pe),Ce[Tt]?Ce[Tt]:(Oe=[],Ce[Tt]=Oe,pe.forEach(function(ut,Lt){Oe[Lt]=G(ut,Ce)}),Oe);default:return pe}},getLanguage:function(G){for(;G;){var pe=En.exec(G.className);if(pe)return pe[1].toLowerCase();G=G.parentElement}return"none"},setLanguage:function(G,pe){G.className=G.className.replace(RegExp(En,"gi"),""),G.classList.add("language-"+pe)},currentScript:function(){if(typeof document=="undefined")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(Oe){var G=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(Oe.stack)||[])[1];if(G){var pe=document.getElementsByTagName("script");for(var Ce in pe)if(pe[Ce].src==G)return pe[Ce]}return null}},isActive:function(G,pe,Ce){for(var Oe="no-"+pe;G;){var Tt=G.classList;if(Tt.contains(pe))return!0;if(Tt.contains(Oe))return!1;G=G.parentElement}return!!Ce}},languages:{plain:rn,plaintext:rn,text:rn,txt:rn,extend:function(G,pe){var Ce=Pe.util.clone(Pe.languages[G]);for(var Oe in pe)Ce[Oe]=pe[Oe];return Ce},insertBefore:function(G,pe,Ce,Oe){Oe=Oe||Pe.languages;var Tt=Oe[G],Ie={};for(var ut in Tt)if(Tt.hasOwnProperty(ut)){if(ut==pe)for(var Lt in Ce)Ce.hasOwnProperty(Lt)&&(Ie[Lt]=Ce[Lt]);Ce.hasOwnProperty(ut)||(Ie[ut]=Tt[ut])}var Sn=Oe[G];return Oe[G]=Ie,Pe.languages.DFS(Pe.languages,function(rt,ft){ft===Sn&&rt!=G&&(this[rt]=Ie)}),Ie},DFS:function G(pe,Ce,Oe,Tt){Tt=Tt||{};var Ie=Pe.util.objId;for(var ut in pe)if(pe.hasOwnProperty(ut)){Ce.call(pe,ut,pe[ut],Oe||ut);var Lt=pe[ut],Sn=Pe.util.type(Lt);Sn==="Object"&&!Tt[Ie(Lt)]?(Tt[Ie(Lt)]=!0,G(Lt,Ce,null,Tt)):Sn==="Array"&&!Tt[Ie(Lt)]&&(Tt[Ie(Lt)]=!0,G(Lt,Ce,ut,Tt))}}},plugins:{},highlightAll:function(G,pe){Pe.highlightAllUnder(document,G,pe)},highlightAllUnder:function(G,pe,Ce){var Oe={callback:Ce,container:G,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};Pe.hooks.run("before-highlightall",Oe),Oe.elements=Array.prototype.slice.apply(Oe.container.querySelectorAll(Oe.selector)),Pe.hooks.run("before-all-elements-highlight",Oe);for(var Tt=0,Ie;Ie=Oe.elements[Tt++];)Pe.highlightElement(Ie,pe===!0,Oe.callback)},highlightElement:function(G,pe,Ce){var Oe=Pe.util.getLanguage(G),Tt=Pe.languages[Oe];Pe.util.setLanguage(G,Oe);var Ie=G.parentElement;Ie&&Ie.nodeName.toLowerCase()==="pre"&&Pe.util.setLanguage(Ie,Oe);var ut=G.textContent,Lt={element:G,language:Oe,grammar:Tt,code:ut};function Sn(ft){Lt.highlightedCode=ft,Pe.hooks.run("before-insert",Lt),Lt.element.innerHTML=Lt.highlightedCode,Pe.hooks.run("after-highlight",Lt),Pe.hooks.run("complete",Lt),Ce&&Ce.call(Lt.element)}if(Pe.hooks.run("before-sanity-check",Lt),Ie=Lt.element.parentElement,Ie&&Ie.nodeName.toLowerCase()==="pre"&&!Ie.hasAttribute("tabindex")&&Ie.setAttribute("tabindex","0"),!Lt.code){Pe.hooks.run("complete",Lt),Ce&&Ce.call(Lt.element);return}if(Pe.hooks.run("before-highlight",Lt),!Lt.grammar){Sn(Pe.util.encode(Lt.code));return}if(pe&&Vt.Worker){var rt=new Worker(Pe.filename);rt.onmessage=function(ft){Sn(ft.data)},rt.postMessage(JSON.stringify({language:Lt.language,code:Lt.code,immediateClose:!0}))}else Sn(Pe.highlight(Lt.code,Lt.grammar,Lt.language))},highlight:function(G,pe,Ce){var Oe={code:G,grammar:pe,language:Ce};if(Pe.hooks.run("before-tokenize",Oe),!Oe.grammar)throw new Error('The language "'+Oe.language+'" has no grammar.');return Oe.tokens=Pe.tokenize(Oe.code,Oe.grammar),Pe.hooks.run("after-tokenize",Oe),gt.stringify(Pe.util.encode(Oe.tokens),Oe.language)},tokenize:function(G,pe){var Ce=pe.rest;if(Ce){for(var Oe in Ce)pe[Oe]=Ce[Oe];delete pe.rest}var Tt=new wt;return Yt(Tt,Tt.head,G),ko(G,Tt,pe,Tt.head,0),Dt(Tt)},hooks:{all:{},add:function(G,pe){var Ce=Pe.hooks.all;Ce[G]=Ce[G]||[],Ce[G].push(pe)},run:function(G,pe){var Ce=Pe.hooks.all[G];if(!(!Ce||!Ce.length))for(var Oe=0,Tt;Tt=Ce[Oe++];)Tt(pe)}},Token:gt};Vt.Prism=Pe;function gt(G,pe,Ce,Oe){this.type=G,this.content=pe,this.alias=Ce,this.length=(Oe||"").length|0}gt.stringify=function G(pe,Ce){if(typeof pe=="string")return pe;if(Array.isArray(pe)){var Oe="";return pe.forEach(function(Sn){Oe+=G(Sn,Ce)}),Oe}var Tt={type:pe.type,content:G(pe.content,Ce),tag:"span",classes:["token",pe.type],attributes:{},language:Ce},Ie=pe.alias;Ie&&(Array.isArray(Ie)?Array.prototype.push.apply(Tt.classes,Ie):Tt.classes.push(Ie)),Pe.hooks.run("wrap",Tt);var ut="";for(var Lt in Tt.attributes)ut+=" "+Lt+'="'+(Tt.attributes[Lt]||"").replace(/"/g,"&quot;")+'"';return"<"+Tt.tag+' class="'+Tt.classes.join(" ")+'"'+ut+">"+Tt.content+"</"+Tt.tag+">"};function U(G,pe,Ce,Oe){G.lastIndex=pe;var Tt=G.exec(Ce);if(Tt&&Oe&&Tt[1]){var Ie=Tt[1].length;Tt.index+=Ie,Tt[0]=Tt[0].slice(Ie)}return Tt}function ko(G,pe,Ce,Oe,Tt,Ie){for(var ut in Ce)if(!(!Ce.hasOwnProperty(ut)||!Ce[ut])){var Lt=Ce[ut];Lt=Array.isArray(Lt)?Lt:[Lt];for(var Sn=0;Sn<Lt.length;++Sn){if(Ie&&Ie.cause==ut+","+Sn)return;var rt=Lt[Sn],ft=rt.inside,an=!!rt.lookbehind,pn=!!rt.greedy,po=rt.alias;if(pn&&!rt.pattern.global){var Un=rt.pattern.toString().match(/[imsuy]*$/)[0];rt.pattern=RegExp(rt.pattern.source,Un+"g")}for(var Vn=rt.pattern||rt,Ho=Oe.next,Ln=Tt;Ho!==pe.tail&&!(Ie&&Ln>=Ie.reach);Ln+=Ho.value.length,Ho=Ho.next){var Wo=Ho.value;if(pe.length>G.length)return;if(!(Wo instanceof gt)){var _s=1,es;if(pn){if(es=U(Vn,Ln,G,an),!es||es.index>=G.length)break;var on=es.index,Gs=es.index+es[0].length,_o=Ln;for(_o+=Ho.value.length;on>=_o;)Ho=Ho.next,_o+=Ho.value.length;if(_o-=Ho.value.length,Ln=_o,Ho.value instanceof gt)continue;for(var Ir=Ho;Ir!==pe.tail&&(_o<Gs||typeof Ir.value=="string");Ir=Ir.next)_s++,_o+=Ir.value.length;_s--,Wo=G.slice(Ln,_o),es.index-=Ln}else if(es=U(Vn,0,Wo,an),!es)continue;var on=es.index,Go=es[0],ur=Wo.slice(0,on),Qs=Wo.slice(on+Go.length),Ar=Ln+Wo.length;Ie&&Ar>Ie.reach&&(Ie.reach=Ar);var _r=Ho.prev;ur&&(_r=Yt(pe,_r,ur),Ln+=ur.length),st(pe,_r,_s);var Cs=new gt(ut,ft?Pe.tokenize(Go,ft):Go,po,Go);if(Ho=Yt(pe,_r,Cs),Qs&&Yt(pe,Ho,Qs),_s>1){var Jr={cause:ut+","+Sn,reach:Ar};ko(G,pe,Ce,Ho.prev,Ln,Jr),Ie&&Jr.reach>Ie.reach&&(Ie.reach=Jr.reach)}}}}}}function wt(){var G={value:null,prev:null,next:null},pe={value:null,prev:G,next:null};G.next=pe,this.head=G,this.tail=pe,this.length=0}function Yt(G,pe,Ce){var Oe=pe.next,Tt={value:Ce,prev:pe,next:Oe};return pe.next=Tt,Oe.prev=Tt,G.length++,Tt}function st(G,pe,Ce){for(var Oe=pe.next,Tt=0;Tt<Ce&&Oe!==G.tail;Tt++)Oe=Oe.next;pe.next=Oe,Oe.prev=pe,G.length-=Tt}function Dt(G){for(var pe=[],Ce=G.head.next;Ce!==G.tail;)pe.push(Ce.value),Ce=Ce.next;return pe}if(!Vt.document)return Vt.addEventListener&&(Pe.disableWorkerMessageHandler||Vt.addEventListener("message",function(G){var pe=JSON.parse(G.data),Ce=pe.language,Oe=pe.code,Tt=pe.immediateClose;Vt.postMessage(Pe.highlight(Oe,Pe.languages[Ce],Ce)),Tt&&Vt.close()},!1)),Pe;var re=Pe.util.currentScript();re&&(Pe.filename=re.src,re.hasAttribute("data-manual")&&(Pe.manual=!0));function de(){Pe.manual||Pe.highlightAll()}if(!Pe.manual){var De=document.readyState;De==="loading"||De==="interactive"&&re&&re.defer?document.addEventListener("DOMContentLoaded",de):window.requestAnimationFrame?window.requestAnimationFrame(de):window.setTimeout(de,16)}return Pe}(Gt);return Te.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(Vt){function En(et,rn){return"___"+et.toUpperCase()+rn+"___"}Object.defineProperties(Vt.languages["markup-templating"]={},{buildPlaceholders:{value:function(et,rn,Pe,gt){if(et.language===rn){var U=et.tokenStack=[];et.code=et.code.replace(Pe,function(ko){if(typeof gt=="function"&&!gt(ko))return ko;for(var wt=U.length,Yt;et.code.indexOf(Yt=En(rn,wt))!==-1;)++wt;return U[wt]=ko,Yt}),et.grammar=Vt.languages.markup}}},tokenizePlaceholders:{value:function(et,rn){if(et.language!==rn||!et.tokenStack)return;et.grammar=Vt.languages[rn];var Pe=0,gt=Object.keys(et.tokenStack);function U(ko){for(var wt=0;wt<ko.length&&!(Pe>=gt.length);wt++){var Yt=ko[wt];if(typeof Yt=="string"||Yt.content&&typeof Yt.content=="string"){var st=gt[Pe],Dt=et.tokenStack[st],re=typeof Yt=="string"?Yt:Yt.content,de=En(rn,st),De=re.indexOf(de);if(De>-1){++Pe;var G=re.substring(0,De),pe=new Vt.Token(rn,Vt.tokenize(Dt,et.grammar),"language-"+rn,Dt),Ce=re.substring(De+de.length),Oe=[];G&&Oe.push.apply(Oe,U([G])),Oe.push(pe),Ce&&Oe.push.apply(Oe,U([Ce])),typeof Yt=="string"?ko.splice.apply(ko,[wt,1].concat(Oe)):Yt.content=Oe}}else Yt.content&&U(Yt.content)}return ko}U(et.tokens)}}})}(Te),Te.languages.c=Te.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Te.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Te.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Te.languages.c.string],char:Te.languages.c.char,comment:Te.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Te.languages.c}}}}),Te.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Te.languages.c.boolean,function(Vt){var En=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,et=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return En.source});Vt.languages.cpp=Vt.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return En.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:En,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),Vt.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return et})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),Vt.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:Vt.languages.cpp}}}}),Vt.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),Vt.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:Vt.languages.extend("cpp",{})}}),Vt.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},Vt.languages.cpp["base-clause"])}(Te),function(Vt){function En(es,Gs){return es.replace(/<<(\d+)>>/g,function(_o,Ir){return"(?:"+Gs[+Ir]+")"})}function et(es,Gs,_o){return RegExp(En(es,Gs),"")}function rn(es,Gs){for(var _o=0;_o<Gs;_o++)es=es.replace(/<<self>>/g,function(){return"(?:"+es+")"});return es.replace(/<<self>>/g,"[^\\s\\S]")}var Pe={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function gt(es){return"\\b(?:"+es.trim().replace(/ /g,"|")+")\\b"}var U=gt(Pe.typeDeclaration),ko=RegExp(gt(Pe.type+" "+Pe.typeDeclaration+" "+Pe.contextual+" "+Pe.other)),wt=gt(Pe.typeDeclaration+" "+Pe.contextual+" "+Pe.other),Yt=gt(Pe.type+" "+Pe.typeDeclaration+" "+Pe.other),st=rn(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),Dt=rn(/\((?:[^()]|<<self>>)*\)/.source,2),re=/@?\b[A-Za-z_]\w*\b/.source,de=En(/<<0>>(?:\s*<<1>>)?/.source,[re,st]),De=En(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[wt,de]),G=/\[\s*(?:,\s*)*\]/.source,pe=En(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[De,G]),Ce=En(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[st,Dt,G]),Oe=En(/\(<<0>>+(?:,<<0>>+)+\)/.source,[Ce]),Tt=En(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[Oe,De,G]),Ie={keyword:ko,punctuation:/[<>()?,.:[\]]/},ut=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,Lt=/"(?:\\.|[^\\"\r\n])*"/.source,Sn=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;Vt.languages.csharp=Vt.languages.extend("clike",{string:[{pattern:et(/(^|[^$\\])<<0>>/.source,[Sn]),lookbehind:!0,greedy:!0},{pattern:et(/(^|[^@$\\])<<0>>/.source,[Lt]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:et(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[De]),lookbehind:!0,inside:Ie},{pattern:et(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[re,Tt]),lookbehind:!0,inside:Ie},{pattern:et(/(\busing\s+)<<0>>(?=\s*=)/.source,[re]),lookbehind:!0},{pattern:et(/(\b<<0>>\s+)<<1>>/.source,[U,de]),lookbehind:!0,inside:Ie},{pattern:et(/(\bcatch\s*\(\s*)<<0>>/.source,[De]),lookbehind:!0,inside:Ie},{pattern:et(/(\bwhere\s+)<<0>>/.source,[re]),lookbehind:!0},{pattern:et(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[pe]),lookbehind:!0,inside:Ie},{pattern:et(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[Tt,Yt,re]),inside:Ie}],keyword:ko,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),Vt.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),Vt.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:et(/([(,]\s*)<<0>>(?=\s*:)/.source,[re]),lookbehind:!0,alias:"punctuation"}}),Vt.languages.insertBefore("csharp","class-name",{namespace:{pattern:et(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[re]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:et(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[Dt]),lookbehind:!0,alias:"class-name",inside:Ie},"return-type":{pattern:et(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[Tt,De]),inside:Ie,alias:"class-name"},"constructor-invocation":{pattern:et(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[Tt]),lookbehind:!0,inside:Ie,alias:"class-name"},"generic-method":{pattern:et(/<<0>>\s*<<1>>(?=\s*\()/.source,[re,st]),inside:{function:et(/^<<0>>/.source,[re]),generic:{pattern:RegExp(st),alias:"class-name",inside:Ie}}},"type-list":{pattern:et(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[U,de,re,Tt,ko.source,Dt,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:et(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[de,Dt]),lookbehind:!0,greedy:!0,inside:Vt.languages.csharp},keyword:ko,"class-name":{pattern:RegExp(Tt),greedy:!0,inside:Ie},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var rt=Lt+"|"+ut,ft=En(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[rt]),an=rn(En(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[ft]),2),pn=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,po=En(/<<0>>(?:\s*\(<<1>>*\))?/.source,[De,an]);Vt.languages.insertBefore("csharp","class-name",{attribute:{pattern:et(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[pn,po]),lookbehind:!0,greedy:!0,inside:{target:{pattern:et(/^<<0>>(?=\s*:)/.source,[pn]),alias:"keyword"},"attribute-arguments":{pattern:et(/\(<<0>>*\)/.source,[an]),inside:Vt.languages.csharp},"class-name":{pattern:RegExp(De),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var Un=/:[^}\r\n]+/.source,Vn=rn(En(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[ft]),2),Ho=En(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Vn,Un]),Ln=rn(En(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[rt]),2),Wo=En(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Ln,Un]);function _s(es,Gs){return{interpolation:{pattern:et(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[es]),lookbehind:!0,inside:{"format-string":{pattern:et(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[Gs,Un]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:Vt.languages.csharp}}},string:/[\s\S]+/}}Vt.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:et(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[Ho]),lookbehind:!0,greedy:!0,inside:_s(Ho,Vn)},{pattern:et(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[Wo]),lookbehind:!0,greedy:!0,inside:_s(Wo,Ln)}],char:{pattern:RegExp(ut),greedy:!0}}),Vt.languages.dotnet=Vt.languages.cs=Vt.languages.csharp}(Te),function(Vt){var En=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;Vt.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+En.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+En.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+En.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+En.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:En,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},Vt.languages.css.atrule.inside.rest=Vt.languages.css;var et=Vt.languages.markup;et&&(et.tag.addInlined("style","css"),et.tag.addAttribute("style","css"))}(Te),function(Vt){var En=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,et=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,rn={pattern:RegExp(/(^|[^\w.])/.source+et+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};Vt.languages.java=Vt.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[rn,{pattern:RegExp(/(^|[^\w.])/.source+et+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:rn.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+et+/[A-Z]\w*\b/.source),lookbehind:!0,inside:rn.inside}],keyword:En,function:[Vt.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),Vt.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),Vt.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":rn,keyword:En,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+et+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:rn.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+et+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:rn.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return En.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Te),Te.languages.javascript=Te.languages.extend("clike",{"class-name":[Te.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Te.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Te.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Te.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Te.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Te.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Te.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Te.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Te.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Te.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Te.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Te.languages.markup&&(Te.languages.markup.tag.addInlined("script","javascript"),Te.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Te.languages.js=Te.languages.javascript,Te.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Te.languages.markup.tag.inside["attr-value"].inside.entity=Te.languages.markup.entity,Te.languages.markup.doctype.inside["internal-subset"].inside=Te.languages.markup,Te.hooks.add("wrap",function(Vt){Vt.type==="entity"&&(Vt.attributes.title=Vt.content.replace(/&amp;/,"&"))}),Object.defineProperty(Te.languages.markup.tag,"addInlined",{value:function(En,et){var rn={};rn["language-"+et]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Te.languages[et]},rn.cdata=/^<!\[CDATA\[|\]\]>$/i;var Pe={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:rn}};Pe["language-"+et]={pattern:/[\s\S]+/,inside:Te.languages[et]};var gt={};gt[En]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return En}),"i"),lookbehind:!0,greedy:!0,inside:Pe},Te.languages.insertBefore("markup","cdata",gt)}}),Object.defineProperty(Te.languages.markup.tag,"addAttribute",{value:function(Vt,En){Te.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+Vt+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[En,"language-"+En],inside:Te.languages[En]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Te.languages.html=Te.languages.markup,Te.languages.mathml=Te.languages.markup,Te.languages.svg=Te.languages.markup,Te.languages.xml=Te.languages.extend("markup",{}),Te.languages.ssml=Te.languages.xml,Te.languages.atom=Te.languages.xml,Te.languages.rss=Te.languages.xml,function(Vt){var En=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,et=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],rn=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,Pe=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,gt=/[{}\[\](),:;]/;Vt.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:En,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:et,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:rn,operator:Pe,punctuation:gt};var U={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:Vt.languages.php},ko=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:U}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:U}}];Vt.languages.insertBefore("php","variable",{string:ko,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:En,string:ko,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:et,number:rn,operator:Pe,punctuation:gt}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),Vt.hooks.add("before-tokenize",function(wt){if(/<\?/.test(wt.code)){var Yt=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;Vt.languages["markup-templating"].buildPlaceholders(wt,"php",Yt)}}),Vt.hooks.add("after-tokenize",function(wt){Vt.languages["markup-templating"].tokenizePlaceholders(wt,"php")})}(Te),Te.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Te.languages.python["string-interpolation"].inside.interpolation.inside.rest=Te.languages.python,Te.languages.py=Te.languages.python,function(Vt){Vt.languages.ruby=Vt.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),Vt.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var En={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:Vt.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete Vt.languages.ruby.function;var et="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",rn=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;Vt.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+et+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:En,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:En,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+rn),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+rn+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),Vt.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+et),greedy:!0,inside:{interpolation:En,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:En,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:En,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+et),greedy:!0,inside:{interpolation:En,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:En,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete Vt.languages.ruby.string,Vt.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),Vt.languages.rb=Vt.languages.ruby}(Te),window.Prism=Ht,Te}(),$t=x=>bt=>bt.options.get(x),zt=x=>{const bt=x.options.register;bt("codesample_languages",{processor:"object[]"}),bt("codesample_global_prismjs",{processor:"boolean",default:!1})},Bt=$t("codesample_languages"),lt=$t("codesample_global_prismjs"),It=x=>Ue.Prism&&lt(x)?Ue.Prism:Xe,Me=x=>E(x)&&x.nodeName==="PRE"&&x.className.indexOf("language-")!==-1,tt=x=>{const bt=x.selection?x.selection.getNode():null;return Me(bt)?H.some(bt):H.none()},qe=(x,bt,_e)=>{const Ht=x.dom;x.undoManager.transact(()=>{const Gt=tt(x);return _e=Re.DOM.encode(_e),Gt.fold(()=>{x.insertContent('<pre id="__new" class="language-'+bt+'">'+_e+"</pre>");const Te=Ht.select("#__new")[0];Ht.setAttrib(Te,"id",null),x.selection.select(Te)},Te=>{Ht.setAttrib(Te,"class","language-"+bt),Te.innerHTML=_e,It(x).highlightElement(Te),x.selection.select(Te)})})},ae=x=>tt(x).bind(_e=>H.from(_e.textContent)).getOr(""),vt=x=>{const bt=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],_e=Bt(x);return _e||bt},Pn=(x,bt)=>tt(x).fold(()=>bt,Ht=>{const Gt=Ht.className.match(/language-(\w+)/);return Gt?Gt[1]:bt}),Nt=x=>{const bt=vt(x),_e=Y(bt).fold(F(""),Te=>Te.value),Ht=Pn(x,_e),Gt=ae(x);x.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"listbox",name:"language",label:"Language",items:bt},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:Ht,code:Gt},onSubmit:Te=>{const Vt=Te.getData();qe(x,Vt.language,Vt.code),Te.close()}})},J=x=>{x.addCommand("codesample",()=>{const bt=x.selection.getNode();x.selection.isCollapsed()||Me(bt)?Nt(x):x.formatter.toggle("code")})},Tn=(x=>bt=>bt.replace(x,""))(/^\s+|\s+$/g);var gn=tinymce.util.Tools.resolve("tinymce.util.Tools");const at=x=>{x.on("PreProcess",bt=>{const _e=x.dom,Ht=_e.select("pre[contenteditable=false]",bt.node);gn.each(gn.grep(Ht,Me),Gt=>{const Te=Gt.textContent;_e.setAttrib(Gt,"class",Tn(_e.getAttrib(Gt,"class"))),_e.setAttrib(Gt,"contentEditable",null),_e.setAttrib(Gt,"data-mce-highlighted",null);let Vt;for(;Vt=Gt.firstChild;)Gt.removeChild(Vt);const En=_e.add(Gt,"code");En.textContent=Te})}),x.on("SetContent",()=>{const bt=x.dom,_e=gn.grep(bt.select("pre"),Ht=>Me(Ht)&&bt.getAttrib(Ht,"data-mce-highlighted")!=="true");_e.length&&x.undoManager.transact(()=>{gn.each(_e,Ht=>{var Gt;gn.each(bt.select("br",Ht),Te=>{bt.replace(x.getDoc().createTextNode(`
`),Te)}),Ht.innerHTML=bt.encode((Gt=Ht.textContent)!==null&&Gt!==void 0?Gt:""),It(x).highlightElement(Ht),bt.setAttrib(Ht,"data-mce-highlighted",!0),Ht.className=Tn(Ht.className)})})}),x.on("PreInit",()=>{x.parser.addNodeFilter("pre",bt=>{var _e;for(let Ht=0,Gt=bt.length;Ht<Gt;Ht++){const Te=bt[Ht];((_e=Te.attr("class"))!==null&&_e!==void 0?_e:"").indexOf("language-")!==-1&&(Te.attr("contenteditable","false"),Te.attr("data-mce-highlighted","false"))}})})},ke=(x,bt=z)=>_e=>{const Ht=()=>{_e.setEnabled(x.selection.isEditable()),bt(_e)};return x.on("NodeChange",Ht),Ht(),()=>{x.off("NodeChange",Ht)}},bo=x=>{const bt=x.selection.getStart();return x.dom.is(bt,'pre[class*="language-"]')},We=x=>{const bt=()=>x.execCommand("codesample");x.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:bt,onSetup:ke(x,_e=>{_e.setActive(bo(x))})}),x.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:bt,onSetup:ke(x)})};var Ye=()=>{p.add("codesample",x=>{zt(x),at(x),We(x),J(x),x.on("dblclick",bt=>{Me(bt.target)&&Nt(x)})})};Ye()})();(function(){var p=tinymce.util.Tools.resolve("tinymce.PluginManager");const v=(C,R,Z)=>{var le;return Z(C,R.prototype)?!0:((le=C.constructor)===null||le===void 0?void 0:le.name)===R.name},E=C=>{const R=typeof C;return C===null?"null":R==="object"&&Array.isArray(C)?"array":R==="object"&&v(C,String,(Z,le)=>le.isPrototypeOf(Z))?"string":R},z=C=>R=>E(R)===C,F=C=>R=>typeof R===C,H=C=>R=>C===R,q=z("string"),Y=z("array"),Re=F("boolean"),Ue=H(void 0),Xe=C=>C==null,$t=C=>!Xe(C),zt=F("function"),Bt=F("number"),lt=()=>{},It=(C,R)=>Z=>C(R(Z)),Me=C=>()=>C,tt=C=>C,qe=(C,R)=>C===R;function ae(C,...R){return(...Z)=>{const le=R.concat(Z);return C.apply(null,le)}}const vt=C=>{C()},Pn=Me(!1),Nt=Me(!0);class J{constructor(R,Z){this.tag=R,this.value=Z}static some(R){return new J(!0,R)}static none(){return J.singletonNone}fold(R,Z){return this.tag?Z(this.value):R()}isSome(){return this.tag}isNone(){return!this.tag}map(R){return this.tag?J.some(R(this.value)):J.none()}bind(R){return this.tag?R(this.value):J.none()}exists(R){return this.tag&&R(this.value)}forall(R){return!this.tag||R(this.value)}filter(R){return!this.tag||R(this.value)?this:J.none()}getOr(R){return this.tag?this.value:R}or(R){return this.tag?this:R}getOrThunk(R){return this.tag?this.value:R()}orThunk(R){return this.tag?this:R()}getOrDie(R){if(this.tag)return this.value;throw new Error(R!=null?R:"Called getOrDie on None")}static from(R){return $t(R)?J.some(R):J.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(R){this.tag&&R(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}J.singletonNone=new J(!1);const Zt=Object.keys,Tn=Object.hasOwnProperty,gn=(C,R)=>{const Z=Zt(C);for(let le=0,je=Z.length;le<je;le++){const Kt=Z[le],vn=C[Kt];R(vn,Kt)}},at=C=>(R,Z)=>{C[Z]=R},ke=(C,R,Z,le)=>{gn(C,(je,Kt)=>{(R(je,Kt)?Z:le)(je,Kt)})},bo=(C,R)=>{const Z={};return ke(C,R,at(Z),lt),Z},We=(C,R)=>{const Z=[];return gn(C,(le,je)=>{Z.push(R(le,je))}),Z},Ye=C=>We(C,tt),x=C=>Zt(C).length,bt=(C,R)=>_e(C,R)?J.from(C[R]):J.none(),_e=(C,R)=>Tn.call(C,R),Ht=(C,R)=>_e(C,R)&&C[R]!==void 0&&C[R]!==null,Gt=C=>{for(const R in C)if(Tn.call(C,R))return!1;return!0},Te=Array.prototype.indexOf,Vt=Array.prototype.push,En=(C,R)=>Te.call(C,R),et=(C,R)=>En(C,R)>-1,rn=(C,R)=>{for(let Z=0,le=C.length;Z<le;Z++){const je=C[Z];if(R(je,Z))return!0}return!1},Pe=(C,R)=>{const Z=[];for(let le=0;le<C;le++)Z.push(R(le));return Z},gt=(C,R)=>{const Z=C.length,le=new Array(Z);for(let je=0;je<Z;je++){const Kt=C[je];le[je]=R(Kt,je)}return le},U=(C,R)=>{for(let Z=0,le=C.length;Z<le;Z++){const je=C[Z];R(je,Z)}},ko=(C,R)=>{for(let Z=C.length-1;Z>=0;Z--){const le=C[Z];R(le,Z)}},wt=(C,R)=>{const Z=[],le=[];for(let je=0,Kt=C.length;je<Kt;je++){const vn=C[je];(R(vn,je)?Z:le).push(vn)}return{pass:Z,fail:le}},Yt=(C,R)=>{const Z=[];for(let le=0,je=C.length;le<je;le++){const Kt=C[le];R(Kt,le)&&Z.push(Kt)}return Z},st=(C,R,Z)=>(ko(C,(le,je)=>{Z=R(Z,le,je)}),Z),Dt=(C,R,Z)=>(U(C,(le,je)=>{Z=R(Z,le,je)}),Z),re=(C,R,Z)=>{for(let le=0,je=C.length;le<je;le++){const Kt=C[le];if(R(Kt,le))return J.some(Kt);if(Z(Kt,le))break}return J.none()},de=(C,R)=>re(C,R,Pn),De=C=>{const R=[];for(let Z=0,le=C.length;Z<le;++Z){if(!Y(C[Z]))throw new Error("Arr.flatten item "+Z+" was not an array, input: "+C);Vt.apply(R,C[Z])}return R},G=(C,R)=>De(gt(C,R)),pe=(C,R)=>{for(let Z=0,le=C.length;Z<le;++Z){const je=C[Z];if(R(je,Z)!==!0)return!1}return!0},Ce=(C,R)=>{const Z={};for(let le=0,je=C.length;le<je;le++){const Kt=C[le];Z[String(Kt)]=R(Kt,le)}return Z},Oe=(C,R)=>R>=0&&R<C.length?J.some(C[R]):J.none(),Tt=C=>Oe(C,0),Ie=C=>Oe(C,C.length-1),ut=(C,R)=>{for(let Z=0;Z<C.length;Z++){const le=R(C[Z],Z);if(le.isSome())return le}return J.none()},Lt=8,Sn=9,rt=11,ft=1,an=3,pn=(C,R)=>{const le=(R||document).createElement("div");if(le.innerHTML=C,!le.hasChildNodes()||le.childNodes.length>1){const je="HTML does not have a single root node";throw console.error(je,C),new Error(je)}return Vn(le.childNodes[0])},po=(C,R)=>{const le=(R||document).createElement(C);return Vn(le)},Un=(C,R)=>{const le=(R||document).createTextNode(C);return Vn(le)},Vn=C=>{if(C==null)throw new Error("Node cannot be null or undefined");return{dom:C}},Ln={fromHtml:pn,fromTag:po,fromText:Un,fromDom:Vn,fromPoint:(C,R,Z)=>J.from(C.dom.elementFromPoint(R,Z)).map(Vn)},Wo=(C,R)=>{const Z=C.dom;if(Z.nodeType!==ft)return!1;{const le=Z;if(le.matches!==void 0)return le.matches(R);if(le.msMatchesSelector!==void 0)return le.msMatchesSelector(R);if(le.webkitMatchesSelector!==void 0)return le.webkitMatchesSelector(R);if(le.mozMatchesSelector!==void 0)return le.mozMatchesSelector(R);throw new Error("Browser lacks native selectors")}},_s=C=>C.nodeType!==ft&&C.nodeType!==Sn&&C.nodeType!==rt||C.childElementCount===0,es=(C,R)=>{const Z=R===void 0?document:R.dom;return _s(Z)?[]:gt(Z.querySelectorAll(C),Ln.fromDom)},Gs=(C,R)=>{const Z=R===void 0?document:R.dom;return _s(Z)?J.none():J.from(Z.querySelector(C)).map(Ln.fromDom)},_o=(C,R)=>C.dom===R.dom,Ir=Wo;typeof window!="undefined"||Function("return this;")();const on=C=>C.dom.nodeName.toLowerCase(),Go=C=>C.dom.nodeType,ur=C=>R=>Go(R)===C,Qs=C=>Go(C)===Lt||on(C)==="#comment",Ar=ur(ft),_r=ur(an),Cs=ur(Sn),Jr=ur(rt),Zr=C=>R=>Ar(R)&&on(R)===C,ys=C=>Ln.fromDom(C.dom.ownerDocument),ao=C=>Cs(C)?C:ys(C),Ps=C=>J.from(C.dom.parentNode).map(Ln.fromDom),Qe=(C,R)=>{const Z=zt(R)?R:Pn;let le=C.dom;const je=[];for(;le.parentNode!==null&&le.parentNode!==void 0;){const Kt=le.parentNode,vn=Ln.fromDom(Kt);if(je.push(vn),Z(vn)===!0)break;le=Kt}return je},Ct=C=>J.from(C.dom.previousSibling).map(Ln.fromDom),An=C=>J.from(C.dom.nextSibling).map(Ln.fromDom),Fn=C=>gt(C.dom.childNodes,Ln.fromDom),jo=(C,R)=>{const Z=C.dom.childNodes;return J.from(Z[R]).map(Ln.fromDom)},ss=C=>jo(C,0),mr=C=>Jr(C)&&$t(C.dom.host),yr=C=>Ln.fromDom(C.dom.getRootNode()),cr=C=>{const R=yr(C);return mr(R)?J.some(R):J.none()},xe=C=>Ln.fromDom(C.dom.host),we=C=>{const R=_r(C)?C.dom.parentNode:C.dom;if(R==null||R.ownerDocument===null)return!1;const Z=R.ownerDocument;return cr(Ln.fromDom(R)).fold(()=>Z.body.contains(R),It(we,xe))};var ht=(C,R,Z,le,je)=>C(Z,le)?J.some(Z):zt(je)&&je(Z)?J.none():R(Z,le,je);const Mt=(C,R,Z)=>{let le=C.dom;const je=zt(Z)?Z:Pn;for(;le.parentNode;){le=le.parentNode;const Kt=Ln.fromDom(le);if(R(Kt))return J.some(Kt);if(je(Kt))break}return J.none()},oo=(C,R,Z)=>ht((je,Kt)=>Kt(je),Mt,C,R,Z),Eo=(C,R)=>{const Z=je=>R(Ln.fromDom(je));return de(C.dom.childNodes,Z).map(Ln.fromDom)},Bo=(C,R,Z)=>Mt(C,le=>Wo(le,R),Z),ir=(C,R)=>Eo(C,Z=>Wo(Z,R)),Le=(C,R)=>Gs(R,C),Mo=(C,R,Z)=>ht((je,Kt)=>Wo(je,Kt),Bo,C,R,Z),ze=C=>Mo(C,"[contenteditable]"),Be=(C,R=!1)=>we(C)?C.dom.isContentEditable:ze(C).fold(Me(R),Z=>Qt(Z)==="true"),Qt=C=>C.dom.contentEditable,cn=C=>C.nodeName.toLowerCase(),zn=C=>Ln.fromDom(C.getBody()),Qn=C=>R=>_o(R,zn(C)),no=C=>C?C.replace(/px$/,""):"",Gn=C=>/^\d+(\.\d+)?$/.test(C)?C+"px":C,io=C=>Ln.fromDom(C.selection.getStart()),Co=C=>Ln.fromDom(C.selection.getEnd()),ds=C=>oo(C,Zr("table")).forall(Be),Ds=(C,R)=>Yt(Fn(C),R),Is=(C,R)=>{let Z=[];return U(Fn(C),le=>{R(le)&&(Z=Z.concat([le])),Z=Z.concat(Is(le,R))}),Z},_a=(C,R)=>Ds(C,Z=>Wo(Z,R)),ua=(C,R)=>es(R,C),vo=(C,R,Z)=>{if(q(Z)||Re(Z)||Bt(Z))C.setAttribute(R,Z+"");else throw console.error("Invalid call to Attribute.set. Key ",R,":: Value ",Z,":: Element ",C),new Error("Attribute value was not simple")},cs=(C,R,Z)=>{vo(C.dom,R,Z)},is=(C,R)=>{const Z=C.dom;gn(R,(le,je)=>{vo(Z,je,le)})},aa=(C,R)=>{const Z=C.dom.getAttribute(R);return Z===null?void 0:Z},Qr=(C,R)=>J.from(aa(C,R)),Or=(C,R)=>{C.dom.removeAttribute(R)},er=C=>Dt(C.dom.attributes,(R,Z)=>(R[Z.name]=Z.value,R),{}),El=(C,R,Z=qe)=>C.exists(le=>Z(le,R)),Xa=C=>{const R=[],Z=le=>{R.push(le)};for(let le=0;le<C.length;le++)C[le].each(Z);return R},Rs=(C,R,Z)=>C.isSome()&&R.isSome()?J.some(Z(C.getOrDie(),R.getOrDie())):J.none(),pa=C=>C.bind(tt),ha=(C,R)=>C?J.some(R):J.none(),qr=(C,R)=>C.substring(R),yi=(C,R,Z)=>R===""||C.length>=R.length&&C.substr(Z,Z+R.length)===R,Ba=(C,R)=>Oa(C,R)?qr(C,R.length):C,Oa=(C,R)=>yi(C,R,0),Qa=(C=>R=>R.replace(C,""))(/^\s+|\s+$/g),Mi=C=>C.length>0,Pi=C=>!Mi(C),ei=(C,R=10)=>{const Z=parseInt(C,R);return isNaN(Z)?J.none():J.some(Z)},Da=C=>{const R=parseFloat(C);return isNaN(R)?J.none():J.some(R)},Gr=C=>C.style!==void 0&&zt(C.style.getPropertyValue),ti=(C,R,Z)=>{if(!q(Z))throw console.error("Invalid call to CSS.set. Property ",R,":: Value ",Z,":: Element ",C),new Error("CSS value must be a string: "+Z);Gr(C)&&C.style.setProperty(R,Z)},bi=(C,R)=>{Gr(C)&&C.style.removeProperty(R)},Bi=(C,R,Z)=>{const le=C.dom;ti(le,R,Z)},qc=(C,R)=>{const Z=C.dom,je=window.getComputedStyle(Z).getPropertyValue(R);return je===""&&!we(C)?Lr(Z,R):je},Lr=(C,R)=>Gr(C)?C.style.getPropertyValue(R):"",Va=(C,R)=>{const Z=C.dom,le=Lr(Z,R);return J.from(le).filter(je=>je.length>0)},ya=(C,R)=>{const Z=C.dom;bi(Z,R),El(Qr(C,"style").map(Qa),"")&&Or(C,"style")},Ra=(C,R,Z=0)=>Qr(C,R).map(le=>parseInt(le,10)).getOr(Z),Xi=(C,R)=>Ji(C,R,Nt),Ji=(C,R,Z)=>G(Fn(C),le=>Wo(le,R)?Z(le)?[le]:[]:Ji(le,R,Z)),ee=["tfoot","thead","tbody","colgroup"],ve=C=>et(ee,C),Ze=(C,R)=>({rows:C,columns:R}),Ut=(C,R,Z)=>({element:C,rowspan:R,colspan:Z}),mn=(C,R,Z,le,je,Kt)=>({element:C,rowspan:R,colspan:Z,row:le,column:je,isLocked:Kt}),V=(C,R,Z)=>({element:C,cells:R,section:Z}),be=(C,R,Z,le)=>({startRow:C,startCol:R,finishRow:Z,finishCol:le}),$e=(C,R,Z)=>({element:C,colspan:R,column:Z}),kt=(C,R)=>({element:C,columns:R}),lo=(C,R,Z=Pn)=>{if(Z(R))return J.none();if(et(C,on(R)))return J.some(R);const le=je=>Wo(je,"table")||Z(je);return Bo(R,C.join(","),le)},$=(C,R)=>lo(["td","th"],C,R),oe=C=>Xi(C,"th,td"),Ee=C=>Wo(C,"colgroup")?_a(C,"col"):G(Ro(C),R=>_a(R,"col")),ct=(C,R)=>Mo(C,"table",R),yt=C=>Xi(C,"tr"),Ro=C=>ct(C).fold(Me([]),R=>_a(R,"colgroup")),bs=(C,R)=>gt(C,Z=>{if(on(Z)==="colgroup"){const le=gt(Ee(Z),je=>{const Kt=Ra(je,"span",1);return Ut(je,1,Kt)});return V(Z,le,"colgroup")}else{const le=gt(oe(Z),je=>{const Kt=Ra(je,"rowspan",1),vn=Ra(je,"colspan",1);return Ut(je,Kt,vn)});return V(Z,le,R(Z))}}),Ls=C=>Ps(C).map(R=>{const Z=on(R);return ve(Z)?Z:"tbody"}).getOr("tbody"),nn=C=>{const R=yt(C),le=[...Ro(C),...R];return bs(le,Ls)},Bs="data-snooker-locked-cols",ba=C=>Qr(C,Bs).bind(R=>J.from(R.match(/\d+/g))).map(R=>Ce(R,Nt)),$i=(C,R)=>C+","+R,Vo=(C,R,Z)=>J.from(C.access[$i(R,Z)]),Mc=(C,R,Z)=>{const le=ni(C,je=>Z(R,je.element));return le.length>0?J.some(le[0]):J.none()},ni=(C,R)=>{const Z=G(C.all,le=>le.cells);return Yt(Z,R)},va=C=>{const R={};let Z=0;return U(C.cells,le=>{const je=le.colspan;Pe(je,Kt=>{const vn=Z+Kt;R[vn]=$e(le.element,je,vn)}),Z+=je}),R},Ys=C=>{const R={},Z=[],je=Tt(C).map(Si=>Si.element).bind(ct).bind(ba).getOr({});let Kt=0,vn=0,eo=0;const{pass:$o,fail:Qo}=wt(C,Si=>Si.section==="colgroup");U(Qo,Si=>{const ml=[];U(Si.cells,Sc=>{let Pu=0;for(;R[$i(eo,Pu)]!==void 0;)Pu++;const gd=Ht(je,Pu.toString()),pd=mn(Sc.element,Sc.rowspan,Sc.colspan,eo,Pu,gd);for(let af=0;af<Sc.colspan;af++)for(let Mm=0;Mm<Sc.rowspan;Mm++){const Lg=eo+Mm,sh=Pu+af,Fa=$i(Lg,sh);R[Fa]=pd,vn=Math.max(vn,sh+1)}ml.push(pd)}),Kt++,Z.push(V(Si.element,ml,Si.section)),eo++});const{columns:xr,colgroups:qs}=Ie($o).map(Si=>{const ml=va(Si);return{colgroups:[kt(Si.element,Ye(ml))],columns:ml}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Ze(Kt,vn),access:R,all:Z,columns:xr,colgroups:qs}},vi={fromTable:C=>{const R=nn(C);return Ys(R)},generate:Ys,getAt:Vo,findItem:Mc,filterItems:ni,justCells:C=>G(C.all,R=>R.cells),justColumns:C=>Ye(C.columns),hasColumns:C=>Zt(C.columns).length>0,getColumnAt:(C,R)=>J.from(C.columns[R])};var Cr=tinymce.util.Tools.resolve("tinymce.util.Tools");const wi=(C,R,Z)=>{const le=C.select("td,th",R);let je;for(let Kt=0;Kt<le.length;Kt++){const vn=C.getStyle(le[Kt],Z);if(Ue(je)&&(je=vn),je!==vn)return""}return je},wc=(C,R,Z)=>{Cr.each("left center right".split(" "),le=>{le!==Z&&C.formatter.remove("align"+le,{},R)}),Z&&C.formatter.apply("align"+Z,{},R)},sd=(C,R,Z)=>{Cr.each("top middle bottom".split(" "),le=>{le!==Z&&C.formatter.remove("valign"+le,{},R)}),Z&&C.formatter.apply("valign"+Z,{},R)},ce=(C,R,Z)=>{C.dispatch("TableModified",Pt(ie({},Z),{table:R}))},me=(C,R)=>Da(C).getOr(R),dt=(C,R,Z)=>me(qc(C,R),Z),jt=(C,R,Z,le)=>{const je=dt(C,`padding-${Z}`,0),Kt=dt(C,`padding-${le}`,0),vn=dt(C,`border-${Z}-width`,0),eo=dt(C,`border-${le}-width`,0);return R-je-Kt-vn-eo},ho=(C,R)=>{const Z=C.dom,le=Z.getBoundingClientRect().width||Z.offsetWidth;return R==="border-box"?le:jt(C,le,"left","right")},ts=C=>ho(C,"content-box");var tr=tinymce.util.Tools.resolve("tinymce.Env");const ca="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",kc=Pe(5,C=>{const R=`${C+1}px`;return{title:R,value:R}}),ec=gt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],C=>({title:C,value:C.toLowerCase()})),ea="100%",ta=C=>{var R;const Z=C.dom,le=(R=Z.getParent(C.selection.getStart(),Z.isBlock))!==null&&R!==void 0?R:C.getBody();return ts(Ln.fromDom(le))+"px"},Ca=(C,R)=>id(C)||!ki(C)?R:Bf(C)?Pt(ie({},R),{width:ta(C)}):Pt(ie({},R),{width:ea}),tc=(C,R)=>id(C)||ki(C)?R:Bf(C)?Pt(ie({},R),{width:ta(C)}):Pt(ie({},R),{width:ea}),Rr=C=>R=>R.options.get(C),na=C=>{const R=C.options.register;R("table_border_widths",{processor:"object[]",default:kc}),R("table_border_styles",{processor:"object[]",default:ec}),R("table_cell_advtab",{processor:"boolean",default:!0}),R("table_row_advtab",{processor:"boolean",default:!0}),R("table_advtab",{processor:"boolean",default:!0}),R("table_appearance_options",{processor:"boolean",default:!0}),R("table_grid",{processor:"boolean",default:!tr.deviceType.isTouch()}),R("table_cell_class_list",{processor:"object[]",default:[]}),R("table_row_class_list",{processor:"object[]",default:[]}),R("table_class_list",{processor:"object[]",default:[]}),R("table_toolbar",{processor:"string",default:ca}),R("table_background_color_map",{processor:"object[]",default:[]}),R("table_border_color_map",{processor:"object[]",default:[]})},Sr=Rr("table_sizing_mode"),il=Rr("table_border_widths"),Gd=Rr("table_border_styles"),Gl=Rr("table_cell_advtab"),rd=Rr("table_row_advtab"),ad=Rr("table_advtab"),ku=Rr("table_appearance_options"),_u=Rr("table_grid"),ki=Rr("table_style_by_css"),Pc=Rr("table_cell_class_list"),Sg=Rr("table_row_class_list"),Tl=Rr("table_class_list"),xm=Rr("table_toolbar"),cd=Rr("table_background_color_map"),Em=Rr("table_border_color_map"),Bf=C=>Sr(C)==="fixed",id=C=>Sr(C)==="responsive",$f=C=>{const R=C.options,Z=R.get("table_default_styles");return R.isSet("table_default_styles")?Z:Ca(C,Z)},Tm=C=>{const R=C.options,Z=R.get("table_default_attributes");return R.isSet("table_default_attributes")?Z:tc(C,Z)},Cu=(C,R)=>R.column>=C.startCol&&R.column+R.colspan-1<=C.finishCol&&R.row>=C.startRow&&R.row+R.rowspan-1<=C.finishRow,xg=(C,R)=>{let Z=!0;const le=ae(Cu,R);for(let je=R.startRow;je<=R.finishRow;je++)for(let Kt=R.startCol;Kt<=R.finishCol;Kt++)Z=Z&&vi.getAt(C,je,Kt).exists(le);return Z?J.some(R):J.none()},Ne=(C,R)=>be(Math.min(C.row,R.row),Math.min(C.column,R.column),Math.max(C.row+C.rowspan-1,R.row+R.rowspan-1),Math.max(C.column+C.colspan-1,R.column+R.colspan-1)),ld=(C,R,Z)=>{const le=vi.findItem(C,R,_o),je=vi.findItem(C,Z,_o);return le.bind(Kt=>je.map(vn=>Ne(Kt,vn)))},_i=(C,R,Z)=>ld(C,R,Z).bind(le=>xg(C,le)),qp=(C,R,Z)=>{const le=Gp(C);return _i(le,R,Z)},Gp=vi.fromTable,Su=(C,R)=>{Ps(C).each(le=>{le.dom.insertBefore(R.dom,C.dom)})},rs=(C,R)=>{An(C).fold(()=>{Ps(C).each(je=>{nc(je,R)})},le=>{Su(le,R)})},_c=(C,R)=>{ss(C).fold(()=>{nc(C,R)},le=>{C.dom.insertBefore(R.dom,le.dom)})},nc=(C,R)=>{C.dom.appendChild(R.dom)},xu=(C,R)=>{Su(C,R),nc(R,C)},Am=(C,R)=>{U(R,(Z,le)=>{const je=le===0?C:R[le-1];rs(je,Z)})},Kd=(C,R)=>{U(R,Z=>{nc(C,Z)})},Cc=C=>{const R=C.dom;R.parentNode!==null&&R.parentNode.removeChild(R)},Ff=C=>{const R=Fn(C);R.length>0&&Am(C,R),Cc(C)},If=((C,R)=>{const Z=Kt=>{if(!C(Kt))throw new Error("Can only get "+R+" value of a "+R+" node");return le(Kt).getOr("")},le=Kt=>C(Kt)?J.from(Kt.dom.nodeValue):J.none();return{get:Z,getOption:le,set:(Kt,vn)=>{if(!C(Kt))throw new Error("Can only set raw "+R+" value of a "+R+" node");Kt.dom.nodeValue=vn}}})(_r,"text"),Yl=C=>If.get(C),Bc=(C,R)=>If.set(C,R);var Kp=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Yd=()=>{const C=Qo=>Ln.fromDom(Qo.dom.cloneNode(!1)),R=Qo=>ao(Qo).dom,Z=Qo=>Ar(Qo)?on(Qo)==="body"?!0:et(Kp,on(Qo)):!1,le=Qo=>Ar(Qo)?et(["br","img","hr","input"],on(Qo)):!1,je=Qo=>Ar(Qo)&&aa(Qo,"contenteditable")==="false",Kt=(Qo,xr)=>Qo.dom.compareDocumentPosition(xr.dom),vn=(Qo,xr)=>{const qs=er(Qo);is(xr,qs)},eo=Qo=>{const xr=on(Qo);return et(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],xr)},$o=Qo=>Ar(Qo)?Qr(Qo,"lang"):J.none();return{up:Me({selector:Bo,closest:Mo,predicate:Mt,all:Qe}),down:Me({selector:ua,predicate:Is}),styles:Me({get:qc,getRaw:Va,set:Bi,remove:ya}),attrs:Me({get:aa,set:cs,remove:Or,copyTo:vn}),insert:Me({before:Su,after:rs,afterAll:Am,append:nc,appendAll:Kd,prepend:_c,wrap:xu}),remove:Me({unwrap:Ff,remove:Cc}),create:Me({nu:Ln.fromTag,clone:C,text:Ln.fromText}),query:Me({comparePosition:Kt,prevSibling:Ct,nextSibling:An}),property:Me({children:Fn,name:on,parent:Ps,document:R,isText:_r,isComment:Qs,isElement:Ar,isSpecial:eo,getLanguage:$o,getText:Yl,setText:Bc,isBoundary:Z,isEmptyTag:le,isNonEditable:je}),eq:_o,is:Ir}};const Ua=(C,R,Z,le)=>{const je=Z[0],Kt=Z.slice(1);return le(C,R,je,Kt)},oi=(C,R,Z)=>Z.length>0?Ua(C,R,Z,$c):J.none(),$c=(C,R,Z,le)=>{const je=R(C,Z);return st(le,(Kt,vn)=>{const eo=R(C,vn);return ud(C,Kt,eo)},je)},ud=(C,R,Z)=>R.bind(le=>Z.filter(ae(C.eq,le))),Xd=oi,Eg=Yd(),Jd=(C,R)=>Xd(Eg,(Z,le)=>C(le),R),ll=C=>Bo(C,"table"),Qd=(C,R)=>{const Z=ua(C,R);return Z.length>0?J.some(Z):J.none()},Ay=(C,R,Z)=>Le(C,R).bind(le=>Le(C,Z).bind(je=>Jd(ll,[le,je]).map(Kt=>({first:le,last:je,table:Kt})))),Tg=(C,R)=>Qd(C,R),Yp=(C,R,Z)=>Ay(C,R,Z).bind(le=>{const je=$o=>_o(C,$o),Kt="thead,tfoot,tbody,table",vn=Bo(le.first,Kt,je),eo=Bo(le.last,Kt,je);return vn.bind($o=>eo.bind(Qo=>_o($o,Qo)?qp(le.table,le.first,le.last):J.none()))}),Ag=C=>gt(C,Ln.fromDom),ef="data-mce-selected",dd="td["+ef+"],th["+ef+"]",Lf="data-mce-first-selected",Hr="td["+Lf+"],th["+Lf+"]",Vr="data-mce-last-selected",Eu="td["+Vr+"],th["+Vr+"]",Qi={selected:ef,selectedSelector:dd,firstSelected:Lf,firstSelectedSelector:Hr,lastSelected:Vr,lastSelectedSelector:Eu},Og=C=>ct(C).bind(R=>Tg(R,Qi.firstSelectedSelector)).fold(Me(C),R=>R[0]),za=C=>(R,Z)=>{const le=on(R),je=le==="col"||le==="colgroup"?Og(R):R;return Mo(je,C,Z)},uo=za("th,td,caption"),Xl=za("th,td"),Dg=C=>Ag(C.model.table.getSelectedCells()),Ii=(C,R)=>{const Z=Xl(C),le=Z.bind(je=>ct(je)).map(je=>yt(je));return Rs(Z,le,(je,Kt)=>Yt(Kt,vn=>rn(Ag(vn.dom.cells),eo=>aa(eo,R)==="1"||_o(eo,je)))).getOr([])},$s=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Tu=C=>({value:Jo(C)}),Hf=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Om=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Rg=C=>Hf.test(C)||Om.test(C),Jo=C=>Ba(C,"#").toUpperCase(),da=C=>Rg(C)?J.some({value:Jo(C)}):J.none(),Au=C=>{const R=C.toString(16);return(R.length===1?"0"+R:R).toUpperCase()},Ou=C=>{const R=Au(C.red)+Au(C.green)+Au(C.blue);return Tu(R)},Ci=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,si=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Li=(C,R,Z,le)=>({red:C,green:R,blue:Z,alpha:le}),dr=(C,R,Z,le)=>{const je=parseInt(C,10),Kt=parseInt(R,10),vn=parseInt(Z,10),eo=parseFloat(le);return Li(je,Kt,vn,eo)},el=C=>{const R=Ci.exec(C);if(R!==null)return J.some(dr(R[1],R[2],R[3],"1"));const Z=si.exec(C);return Z!==null?J.some(dr(Z[1],Z[2],Z[3],Z[4])):J.none()},fd=C=>da(C).orThunk(()=>el(C).map(Ou)).getOrThunk(()=>{const R=document.createElement("canvas");R.height=1,R.width=1;const Z=R.getContext("2d");Z.clearRect(0,0,R.width,R.height),Z.fillStyle="#FFFFFF",Z.fillStyle=C,Z.fillRect(0,0,1,1);const le=Z.getImageData(0,0,1,1).data,je=le[0],Kt=le[1],vn=le[2],eo=le[3];return Ou(Li(je,Kt,vn,eo))}),$a=C=>el(C).map(Ou).map(R=>"#"+R.value).getOr(C),ul=C=>{let R=C;return{get:()=>R,set:je=>{R=je}}},oa=C=>{const R=ul(J.none()),Z=()=>R.get().each(C);return{clear:()=>{Z(),R.set(J.none())},isSet:()=>R.get().isSome(),get:()=>R.get(),set:eo=>{Z(),R.set(J.some(eo))}}},Du=()=>oa(C=>C.unbind()),tf=(C,R,Z)=>le=>{const je=Du(),Kt=Pi(Z),vn=()=>{const eo=Dg(C),$o=Qo=>C.formatter.match(R,{value:Z},Qo.dom,Kt);Kt?(le.setActive(!rn(eo,$o)),je.set(C.formatter.formatChanged(R,Qo=>le.setActive(!Qo),!0))):(le.setActive(pe(eo,$o)),je.set(C.formatter.formatChanged(R,le.setActive,!1,{value:Z})))};return C.initialized?vn():C.on("init",vn),je.clear},nr=C=>Ht(C,"menu"),dl=C=>gt(C,R=>{const Z=R.text||R.title||"";return nr(R)?{text:Z,items:dl(R.menu)}:{text:Z,value:R.value}}),Dm=C=>C.length?J.some(dl([{text:"Select...",value:"mce-no-match"},...C])):J.none(),Jl=(C,R,Z,le)=>gt(R,je=>{const Kt=je.text||je.title;return nr(je)?{type:"nestedmenuitem",text:Kt,getSubmenuItems:()=>Jl(C,je.menu,Z,le)}:{text:Kt,type:"togglemenuitem",onAction:()=>le(je.value),onSetup:tf(C,Z,je.value)}}),br=(C,R)=>Z=>{C.execCommand("mceTableApplyCellStyle",!1,{[R]:Z})},Ru=C=>G(C,R=>nr(R)?[Pt(ie({},R),{menu:Ru(R.menu)})]:Mi(R.value)?[R]:[]),ri=(C,R,Z,le)=>je=>je(Jl(C,R,Z,le)),nf=(C,R,Z)=>{const le=gt(R,je=>({text:je.title,value:"#"+fd(je.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:le.length>0?le:void 0,allowCustomColors:!1},onAction:je=>{const Kt=je.value==="remove"?"":je.value;C.execCommand("mceTableApplyCellStyle",!1,{[Z]:Kt})}}]},fs=C=>()=>{const Z=C.queryCommandValue("mceTableRowType")==="header"?"body":"header";C.execCommand("mceTableRowType",!1,{type:Z})},of=C=>()=>{const Z=C.queryCommandValue("mceTableColType")==="th"?"td":"th";C.execCommand("mceTableColType",!1,{type:Z})},Rm=C=>Dm(Pc(C)).map(R=>({name:"class",type:"listbox",label:"Class",items:R})),T=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:$s}],P=C=>T.concat(Rm(C).toArray()),K=(C,R)=>{const le=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(dl(Gd(C)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:R==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(le):le}},Ve={normal:(C,R)=>{const Z=C.dom;return{setAttrib:(vn,eo)=>{Z.setAttrib(R,vn,eo)},setStyle:(vn,eo)=>{Z.setStyle(R,vn,eo)},setFormat:(vn,eo)=>{eo===""?C.formatter.remove(vn,{value:null},R,!0):C.formatter.apply(vn,{value:eo},R)}}}},tn=Zr("th"),Ao=(C,R)=>C&&R?"sectionCells":C?"section":"cells",Xo=C=>{const R=C.section==="thead",Z=El(Uo(C.cells),"th");return C.section==="tfoot"?{type:"footer"}:R||Z?{type:"header",subType:Ao(R,Z)}:{type:"body"}},Uo=C=>{const R=Yt(C,Z=>tn(Z.element));return R.length===0?J.some("td"):R.length===C.length?J.some("th"):J.none()},fo=C=>{const R=gt(C,je=>Xo(je).type),Z=et(R,"header"),le=et(R,"footer");if(!Z&&!le)return J.some("body");{const je=et(R,"body");return Z&&!je&&!le?J.some("header"):!Z&&!je&&le?J.some("footer"):J.none()}},Ur=C=>{let R=!1,Z;return(...le)=>(R||(R=!0,Z=C.apply(null,le)),Z)},Sa=(C,R)=>ut(C.all,Z=>de(Z.cells,le=>_o(R,le.element))),Fc=(C,R,Z)=>{const le=gt(R.selection,Kt=>$(Kt).bind(vn=>Sa(C,vn)).filter(Z)),je=Xa(le);return ha(je.length>0,je)},zu=(C,R)=>R.mergable,Vf=(C,R)=>R.unmergable,zg=(C,R)=>Fc(C,R,Nt),ai=(C,R)=>Sa(C,R).exists(Z=>!Z.isLocked),Ng=(C,R)=>pe(R,Z=>ai(C,Z)),E1=(C,R)=>zu(C,R).filter(Z=>Ng(C,Z.cells)),Oy=(C,R)=>Vf(C,R).filter(Z=>Ng(C,Z)),ja={generate:C=>{if(!Y(C))throw new Error("cases must be an array");if(C.length===0)throw new Error("there must be at least one case");const R=[],Z={};return U(C,(le,je)=>{const Kt=Zt(le);if(Kt.length!==1)throw new Error("one and only one name per case");const vn=Kt[0],eo=le[vn];if(Z[vn]!==void 0)throw new Error("duplicate key detected:"+vn);if(vn==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Y(eo))throw new Error("case arguments must be an array");R.push(vn),Z[vn]=(...$o)=>{const Qo=$o.length;if(Qo!==eo.length)throw new Error("Wrong number of arguments to case "+vn+". Expected "+eo.length+" ("+eo+"), got "+Qo);return{fold:(...qs)=>{if(qs.length!==C.length)throw new Error("Wrong number of arguments to fold. Expected "+C.length+", got "+qs.length);return qs[je].apply(null,$o)},match:qs=>{const jr=Zt(qs);if(R.length!==jr.length)throw new Error("Wrong number of arguments to match. Expected: "+R.join(",")+`
Actual: `+jr.join(","));if(!pe(R,ml=>et(jr,ml)))throw new Error("Not all branches were specified when using match. Specified: "+jr.join(", ")+`
Required: `+R.join(", "));return qs[vn].apply(null,$o)},log:qs=>{console.log(qs,{constructors:R,constructor:vn,params:$o})}}}}),Z}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]);ie({},ja);const tl=(C,R)=>{const Z=vi.fromTable(C);return zg(Z,R).bind(je=>{const Kt=je[je.length-1],vn=je[0].row,eo=Kt.row+Kt.rowspan,$o=Z.all.slice(vn,eo);return fo($o)}).getOr("")},To=C=>Oa(C,"rgb")?$a(C):C,nl=C=>{const R=Ln.fromDom(C);return{borderwidth:Va(R,"border-width").getOr(""),borderstyle:Va(R,"border-style").getOr(""),bordercolor:Va(R,"border-color").map(To).getOr(""),backgroundcolor:Va(R,"background-color").map(To).getOr("")}},Dy=C=>{const R=C[0],Z=C.slice(1);return U(Z,le=>{U(Zt(R),je=>{gn(le,(Kt,vn)=>{const eo=R[je];eo!==""&&je===vn&&eo!==Kt&&(R[je]=je==="class"?"mce-no-match":"")})})}),R},Qp=(C,R,Z,le)=>de(C,je=>!Ue(Z.formatter.matchNode(le,R+je))).getOr(""),Uf=ae(Qp,["left","center","right"],"align"),Ry=ae(Qp,["top","middle","bottom"],"valign"),Al=(C,R)=>{const Z=$f(C),le=Tm(C),je=()=>({borderstyle:bt(Z,"border-style").getOr(""),bordercolor:To(bt(Z,"border-color").getOr("")),backgroundcolor:To(bt(Z,"background-color").getOr(""))}),Kt={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},vn=()=>{const xr=Z["border-width"];return ki(C)&&xr?{border:xr}:bt(le,"border").fold(()=>({}),qs=>({border:qs}))},eo=R?je():{},$o=()=>{const xr=bt(Z,"border-spacing").or(bt(le,"cellspacing")).fold(()=>({}),jr=>({cellspacing:jr})),qs=bt(Z,"border-padding").or(bt(le,"cellpadding")).fold(()=>({}),jr=>({cellpadding:jr}));return ie(ie({},xr),qs)};return ie(ie(ie(ie(ie(ie({},Kt),Z),le),eo),vn()),$o())},Nu=C=>ct(Ln.fromDom(C)).map(R=>{const Z={selection:Ag(C.cells)};return tl(R,Z)}).getOr(""),jf=(C,R,Z)=>{const le=(eo,$o)=>{const Qo=Va(Ln.fromDom($o),"border-width");return ki(C)&&Qo.isSome()?Qo.getOr(""):eo.getAttrib($o,"border")||wi(C.dom,$o,"border-width")||wi(C.dom,$o,"border")||""},je=C.dom,Kt=ki(C)?je.getStyle(R,"border-spacing")||je.getAttrib(R,"cellspacing"):je.getAttrib(R,"cellspacing")||je.getStyle(R,"border-spacing"),vn=ki(C)?wi(je,R,"padding")||je.getAttrib(R,"cellpadding"):je.getAttrib(R,"cellpadding")||wi(je,R,"padding");return ie({width:je.getStyle(R,"width")||je.getAttrib(R,"width"),height:je.getStyle(R,"height")||je.getAttrib(R,"height"),cellspacing:Kt!=null?Kt:"",cellpadding:vn!=null?vn:"",border:le(je,R),caption:!!je.select("caption",R)[0],class:je.getAttrib(R,"class",""),align:Uf(C,R)},Z?nl(R):{})},In=(C,R,Z)=>{const le=C.dom;return ie({height:le.getStyle(R,"height")||le.getAttrib(R,"height"),class:le.getAttrib(R,"class",""),type:Nu(R),align:Uf(C,R)},Z?nl(R):{})},Ol=(C,R,Z,le)=>{const je=C.dom,Kt=le.getOr(R);return ie({width:((eo,$o)=>je.getStyle(eo,$o)||je.getAttrib(eo,$o))(Kt,"width"),scope:je.getAttrib(R,"scope"),celltype:cn(R),class:je.getAttrib(R,"class",""),halign:Uf(C,R),valign:Ry(C,R)},Z?nl(R):{})},eh=(C,R)=>{const Z=vi.fromTable(C),le=vi.justCells(Z),je=Yt(le,Kt=>rn(R,vn=>_o(Kt.element,vn)));return gt(je,Kt=>({element:Kt.element.dom,column:vi.getColumnAt(Z,Kt.column).map(vn=>vn.element.dom)}))},zm=(C,R,Z,le)=>{le("scope")&&C.setAttrib("scope",Z.scope),le("class")&&Z.class!=="mce-no-match"&&C.setAttrib("class",Z.class),le("width")&&R.setStyle("width",Gn(Z.width))},Dl=(C,R,Z)=>{Z("backgroundcolor")&&C.setFormat("tablecellbackgroundcolor",R.backgroundcolor),Z("bordercolor")&&C.setFormat("tablecellbordercolor",R.bordercolor),Z("borderstyle")&&C.setFormat("tablecellborderstyle",R.borderstyle),Z("borderwidth")&&C.setFormat("tablecellborderwidth",Gn(R.borderwidth))},Mg=(C,R,Z,le)=>{const je=R.length===1;U(R,Kt=>{const vn=Kt.element,eo=je?Nt:le,$o=Ve.normal(C,vn),Qo=Kt.column.map(xr=>Ve.normal(C,xr)).getOr($o);zm($o,Qo,Z,eo),Gl(C)&&Dl($o,Z,eo),le("halign")&&wc(C,vn,Z.halign),le("valign")&&sd(C,vn,Z.valign)})},Wf=(C,R)=>{C.execCommand("mceTableCellType",!1,{type:R.celltype,no_events:!0})},md=(C,R,Z,le)=>{const je=bo(le,(Kt,vn)=>Z[vn]!==Kt);x(je)>0&&R.length>=1&&ct(R[0]).each(Kt=>{const vn=eh(Kt,R),eo=x(bo(je,(Qo,xr)=>xr!=="scope"&&xr!=="celltype"))>0,$o=_e(je,"celltype");(eo||_e(je,"scope"))&&Mg(C,vn,le,ae(_e,je)),$o&&Wf(C,le),ce(C,Kt.dom,{structure:$o,style:eo})})},Pg=(C,R,Z,le)=>{const je=le.getData();le.close(),C.undoManager.transact(()=>{md(C,R,Z,je),C.focus()})},Ql=(C,R)=>{const Z=ct(R[0]).map(le=>gt(eh(le,R),je=>Ol(C,je.element,Gl(C),je.column)));return Dy(Z.getOrDie())},T1=C=>{const R=Dg(C);if(R.length===0)return;const Z=Ql(C,R),le={type:"tabpanel",tabs:[{title:"General",name:"general",items:P(C)},K(C,"cell")]},je={type:"panel",items:[{type:"grid",columns:2,items:P(C)}]};C.windowManager.open({title:"Cell Properties",size:"normal",body:Gl(C)?le:je,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Z,onSubmit:ae(Pg,C,R,Z)})},sa=C=>Dm(Sg(C)).map(R=>({name:"class",type:"listbox",label:"Class",items:R})),dn=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],ci=C=>dn.concat(sa(C).toArray()),Zf=(C,R,Z)=>{Z("class")&&R.class!=="mce-no-match"&&C.setAttrib("class",R.class),Z("height")&&C.setStyle("height",Gn(R.height))},wa=(C,R,Z)=>{Z("backgroundcolor")&&C.setStyle("background-color",R.backgroundcolor),Z("bordercolor")&&C.setStyle("border-color",R.bordercolor),Z("borderstyle")&&C.setStyle("border-style",R.borderstyle)},Nm=(C,R,Z,le)=>{const Kt=R.length===1?Nt:le;U(R,vn=>{const eo=_a(Ln.fromDom(vn),"td,th"),$o=Ve.normal(C,vn);Zf($o,Z,Kt),rd(C)&&wa($o,Z,Kt),le("height")&&U(eo,Qo=>{C.dom.setStyle(Qo.dom,"height",null)}),le("align")&&wc(C,vn,Z.align)})},sc=(C,R)=>{C.execCommand("mceTableRowType",!1,{type:R.type,no_events:!0})},Hs=(C,R,Z,le)=>{const je=bo(le,(Kt,vn)=>Z[vn]!==Kt);if(x(je)>0){const Kt=_e(je,"type"),vn=Kt?x(je)>1:!0;vn&&Nm(C,R,le,ae(_e,je)),Kt&&sc(C,le),ct(Ln.fromDom(R[0])).each(eo=>ce(C,eo.dom,{structure:Kt,style:vn}))}},Bg=(C,R,Z,le)=>{const je=le.getData();le.close(),C.undoManager.transact(()=>{Hs(C,R,Z,je),C.focus()})},Xt=C=>{const R=Ii(io(C),Qi.selected);if(R.length===0)return;const Z=gt(R,vn=>In(C,vn.dom,rd(C))),le=Dy(Z),je={type:"tabpanel",tabs:[{title:"General",name:"general",items:ci(C)},K(C,"row")]},Kt={type:"panel",items:[{type:"grid",columns:2,items:ci(C)}]};C.windowManager.open({title:"Row Properties",size:"normal",body:rd(C)?je:Kt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:le,onSubmit:ae(Bg,C,gt(R,vn=>vn.dom),le)})},Vs=(C,R,Z)=>{const le=Z?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],je=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Kt=ku(C)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],vn=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],eo=R.length>0?[{name:"class",type:"listbox",label:"Class",items:R}]:[];return le.concat(je).concat(Kt).concat(vn).concat(eo)},$g=(C,R,Z,le)=>{if(R.tagName==="TD"||R.tagName==="TH")q(Z)&&$t(le)?C.setStyle(R,Z,le):C.setStyles(R,Z);else if(R.children)for(let je=0;je<R.children.length;je++)$g(C,R.children[je],Z,le)},Wa=(C,R,Z,le)=>{const je=C.dom,Kt={},vn={},eo=ki(C),$o=ad(C),Qo=parseFloat(Z.border)===0;if(!Ue(Z.class)&&Z.class!=="mce-no-match"&&(Kt.class=Z.class),vn.height=Gn(Z.height),eo?vn.width=Gn(Z.width):je.getAttrib(R,"width")&&(Kt.width=no(Z.width)),eo?(Qo?(Kt.border=0,vn["border-width"]=""):(vn["border-width"]=Gn(Z.border),Kt.border=1),vn["border-spacing"]=Gn(Z.cellspacing)):(Kt.border=Qo?0:Z.border,Kt.cellpadding=Z.cellpadding,Kt.cellspacing=Z.cellspacing),eo&&R.children){const xr={};if(Qo?xr["border-width"]="":le.border&&(xr["border-width"]=Gn(Z.border)),le.cellpadding&&(xr.padding=Gn(Z.cellpadding)),$o&&le.bordercolor&&(xr["border-color"]=Z.bordercolor),!Gt(xr))for(let qs=0;qs<R.children.length;qs++)$g(je,R.children[qs],xr)}if($o){const xr=Z;vn["background-color"]=xr.backgroundcolor,vn["border-color"]=xr.bordercolor,vn["border-style"]=xr.borderstyle}je.setStyles(R,ie(ie({},$f(C)),vn)),je.setAttribs(R,ie(ie({},Tm(C)),Kt))},Ic=(C,R,Z,le)=>{const je=C.dom,Kt=le.getData(),vn=bo(Kt,(eo,$o)=>Z[$o]!==eo);le.close(),C.undoManager.transact(()=>{if(!R){const eo=ei(Kt.cols).getOr(1),$o=ei(Kt.rows).getOr(1);C.execCommand("mceInsertTable",!1,{rows:$o,columns:eo}),R=Xl(io(C),Qn(C)).bind(Qo=>ct(Qo,Qn(C))).map(Qo=>Qo.dom).getOrDie()}if(x(vn)>0){const eo={border:_e(vn,"border"),bordercolor:_e(vn,"bordercolor"),cellpadding:_e(vn,"cellpadding")};Wa(C,R,Kt,eo);const $o=je.select("caption",R)[0];($o&&!Kt.caption||!$o&&Kt.caption)&&C.execCommand("mceTableToggleCaption"),wc(C,R,Kt.align)}if(C.focus(),C.addVisual(),x(vn)>0){const eo=_e(vn,"caption"),$o=eo?x(vn)>1:!0;ce(C,R,{structure:eo,style:$o})}})},fl=(C,R)=>{const Z=C.dom;let le,je=Al(C,ad(C));R?(je.cols="1",je.rows="1",ad(C)&&(je.borderstyle="",je.bordercolor="",je.backgroundcolor="")):(le=Z.getParent(C.selection.getStart(),"table",C.getBody()),le?je=jf(C,le,ad(C)):ad(C)&&(je.borderstyle="",je.bordercolor="",je.backgroundcolor=""));const Kt=Dm(Tl(C));Kt.isSome()&&je.class&&(je.class=je.class.replace(/\s*mce\-item\-table\s*/g,""));const vn={type:"grid",columns:2,items:Vs(C,Kt.getOr([]),R)},eo=()=>({type:"panel",items:[vn]}),$o=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[vn]},K(C,"table")]}),Qo=ad(C)?$o():eo();C.windowManager.open({title:"Table Properties",size:"normal",body:Qo,onSubmit:ae(Ic,C,le,je),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:je})},zy=C=>{const R=Z=>{ds(io(C))&&Z()};gn({mceTableProps:ae(fl,C,!1),mceTableRowProps:ae(Xt,C),mceTableCellProps:ae(T1,C),mceInsertTableDialog:ae(fl,C,!0)},(Z,le)=>C.addCommand(le,()=>R(Z)))},sf=(C,R)=>ir(C,R).isSome(),Ny=tt,ol=C=>{const R=(le,je)=>Qr(le,je).exists(Kt=>parseInt(Kt,10)>1),Z=le=>R(le,"rowspan")||R(le,"colspan");return C.length>0&&pe(C,Z)?J.some(C):J.none()},Fs=(C,R,Z)=>R.length<=1?J.none():Yp(C,Z.firstSelectedSelector,Z.lastSelectedSelector).map(le=>({bounds:le,cells:R})),Mu=C=>({element:C,mergable:J.none(),unmergable:J.none(),selection:[C]}),Fg=(C,R,Z)=>({element:Z,mergable:Fs(R,C,Qi),unmergable:ol(C),selection:Ny(C)}),Za=C=>{const R=ul(J.none()),Z=ul([]);let le=J.none();const je=Zr("caption"),Kt=zs=>le.forall(Kr=>!Kr[zs]),vn=()=>uo(io(C),Qn(C)),eo=()=>uo(Co(C),Qn(C)),$o=()=>vn().bind(zs=>pa(Rs(ct(zs),eo().bind(ct),(Kr,ia)=>_o(Kr,ia)?je(zs)?J.some(Mu(zs)):J.some(Fg(Dg(C),Kr,zs)):J.none()))),Qo=zs=>ct(zs.element).map(ia=>{const ii=vi.fromTable(ia),rh=zg(ii,zs).getOr([]),ah=Dt(rh,(Hi,Vi)=>(Vi.isLocked&&(Hi.onAny=!0,Vi.column===0?Hi.onFirst=!0:Vi.column+Vi.colspan>=ii.grid.columns&&(Hi.onLast=!0)),Hi),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:E1(ii,zs).isSome(),unmergeable:Oy(ii,zs).isSome(),locked:ah}}),xr=()=>{R.set(Ur($o)()),le=R.get().bind(Qo),U(Z.get(),vt)},qs=zs=>(zs(),Z.set(Z.get().concat([zs])),()=>{Z.set(Yt(Z.get(),Kr=>Kr!==zs))}),jr=(zs,Kr)=>qs(()=>R.get().fold(()=>{zs.setEnabled(!1)},ia=>{zs.setEnabled(!Kr(ia)&&C.selection.isEditable())})),Si=(zs,Kr,ia)=>qs(()=>R.get().fold(()=>{zs.setEnabled(!1),zs.setActive(!1)},ii=>{zs.setEnabled(!Kr(ii)&&C.selection.isEditable()),zs.setActive(ia(ii))})),ml=zs=>le.exists(Kr=>Kr.locked[zs]),Sc=zs=>jr(zs,Kr=>!1),Pu=zs=>jr(zs,Kr=>je(Kr.element)),gd=zs=>Kr=>jr(Kr,ia=>je(ia.element)||ml(zs)),pd=zs=>Kr=>jr(Kr,ia=>je(ia.element)||zs().isNone()),af=(zs,Kr)=>ia=>jr(ia,ii=>je(ii.element)||zs().isNone()||ml(Kr)),Mm=zs=>jr(zs,Kr=>Kt("mergeable")),Lg=zs=>jr(zs,Kr=>Kt("unmergeable")),sh=zs=>Si(zs,Pn,Kr=>ct(Kr.element,Qn(C)).exists(ii=>sf(ii,"caption"))),Fa=(zs,Kr)=>ia=>Si(ia,ii=>je(ii.element),()=>C.queryCommandValue(zs)===Kr),tu=Fa("mceTableRowType","header"),cf=Fa("mceTableColType","th");return C.on("NodeChange ExecCommand TableSelectorChange",xr),{onSetupTable:Sc,onSetupCellOrRow:Pu,onSetupColumn:gd,onSetupPasteable:pd,onSetupPasteableColumn:af,onSetupMergeable:Mm,onSetupUnmergeable:Lg,resetTargets:xr,onSetupTableWithCaption:sh,onSetupTableRowHeaders:tu,onSetupTableColumnHeaders:cf,targets:R.get}};var th=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const eu="x-tinymce/dom-table-",Ig=eu+"rows",rc=eu+"columns",Lc=C=>{var R;const Z=(R=th.read())!==null&&R!==void 0?R:[];return ut(Z,le=>J.from(le.getType(C)))},it=()=>Lc(Ig),fr=()=>Lc(rc),nh=C=>R=>{const Z=()=>{R.setEnabled(C.selection.isEditable())};return C.on("NodeChange",Z),Z(),()=>{C.off("NodeChange",Z)}},xa=(C,R)=>{C.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:nh(C),fetch:eo=>eo("inserttable | cell row column | advtablesort | tableprops deletetable")});const Z=eo=>()=>C.execCommand(eo),le=(eo,$o)=>{C.queryCommandSupported($o.command)&&C.ui.registry.addButton(eo,Pt(ie({},$o),{onAction:zt($o.onAction)?$o.onAction:Z($o.command)}))},je=(eo,$o)=>{C.queryCommandSupported($o.command)&&C.ui.registry.addToggleButton(eo,Pt(ie({},$o),{onAction:zt($o.onAction)?$o.onAction:Z($o.command)}))};le("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:R.onSetupTable}),le("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:R.onSetupTable}),le("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:R.onSetupCellOrRow}),le("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:R.onSetupMergeable}),le("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:R.onSetupUnmergeable}),le("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:R.onSetupCellOrRow}),le("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:R.onSetupCellOrRow}),le("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:R.onSetupCellOrRow}),le("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:R.onSetupCellOrRow}),le("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:R.onSetupColumn("onFirst")}),le("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:R.onSetupColumn("onLast")}),le("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:R.onSetupColumn("onAny")}),le("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:R.onSetupCellOrRow}),le("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:R.onSetupCellOrRow}),le("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:R.onSetupPasteable(it)}),le("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:R.onSetupPasteable(it)}),le("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:R.onSetupColumn("onAny")}),le("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:R.onSetupColumn("onAny")}),le("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:R.onSetupPasteableColumn(fr,"onFirst")}),le("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:R.onSetupPasteableColumn(fr,"onLast")}),le("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:nh(C)});const Kt=Ru(Tl(C));Kt.length!==0&&C.queryCommandSupported("mceTableToggleClass")&&C.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:ri(C,Kt,"tableclass",eo=>C.execCommand("mceTableToggleClass",!1,eo)),onSetup:R.onSetupTable});const vn=Ru(Pc(C));vn.length!==0&&C.queryCommandSupported("mceTableCellToggleClass")&&C.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:ri(C,vn,"tablecellclass",eo=>C.execCommand("mceTableCellToggleClass",!1,eo)),onSetup:R.onSetupCellOrRow}),C.queryCommandSupported("mceTableApplyCellStyle")&&(C.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:ri(C,$s,"tablecellverticalalign",br(C,"vertical-align")),onSetup:R.onSetupCellOrRow}),C.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:ri(C,il(C),"tablecellborderwidth",br(C,"border-width")),onSetup:R.onSetupCellOrRow}),C.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:ri(C,Gd(C),"tablecellborderstyle",br(C,"border-style")),onSetup:R.onSetupCellOrRow}),C.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:eo=>eo(nf(C,cd(C),"background-color")),onSetup:R.onSetupCellOrRow}),C.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:eo=>eo(nf(C,Em(C),"border-color")),onSetup:R.onSetupCellOrRow})),je("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:R.onSetupTableWithCaption}),je("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:fs(C),onSetup:R.onSetupTableRowHeaders}),je("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:of(C),onSetup:R.onSetupTableColumnHeaders})},gc=C=>{const R=le=>C.dom.is(le,"table")&&C.getBody().contains(le)&&C.dom.isEditable(le.parentNode),Z=xm(C);Z.length>0&&C.ui.registry.addContextToolbar("table",{predicate:R,items:Z,scope:"node",position:"node"})},qa=C=>R=>{const Z=()=>{R.setEnabled(C.selection.isEditable())};return C.on("NodeChange",Z),Z(),()=>{C.off("NodeChange",Z)}},zr=(C,R)=>{const Z=qs=>()=>C.execCommand(qs),le=(qs,jr)=>C.queryCommandSupported(jr.command)?(C.ui.registry.addMenuItem(qs,Pt(ie({},jr),{onAction:zt(jr.onAction)?jr.onAction:Z(jr.command)})),!0):!1,je=(qs,jr)=>{C.queryCommandSupported(jr.command)&&C.ui.registry.addToggleMenuItem(qs,Pt(ie({},jr),{onAction:zt(jr.onAction)?jr.onAction:Z(jr.command)}))},Kt=qs=>{C.execCommand("mceInsertTable",!1,{rows:qs.numRows,columns:qs.numColumns})},vn=[le("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:R.onSetupCellOrRow}),le("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:R.onSetupCellOrRow}),le("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:R.onSetupCellOrRow}),le("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:R.onSetupCellOrRow}),le("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:R.onSetupCellOrRow}),le("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:R.onSetupCellOrRow}),le("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:R.onSetupPasteable(it)}),le("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:R.onSetupPasteable(it)})],eo=[le("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:R.onSetupColumn("onFirst")}),le("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:R.onSetupColumn("onLast")}),le("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:R.onSetupColumn("onAny")}),le("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:R.onSetupColumn("onAny")}),le("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:R.onSetupColumn("onAny")}),le("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:R.onSetupPasteableColumn(fr,"onFirst")}),le("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:R.onSetupPasteableColumn(fr,"onLast")})],$o=[le("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:R.onSetupCellOrRow}),le("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:R.onSetupMergeable}),le("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:R.onSetupUnmergeable})];_u(C)?C.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Kt}],onSetup:qa(C)}):C.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:Z("mceInsertTableDialog"),onSetup:qa(C)}),C.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:Z("mceInsertTableDialog"),onSetup:qa(C)}),le("tableprops",{text:"Table properties",onSetup:R.onSetupTable,command:"mceTableProps"}),le("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:R.onSetupTable,command:"mceTableDelete"}),et(vn,!0)&&C.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:Me("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),et(eo,!0)&&C.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:Me("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),et($o,!0)&&C.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:Me("tablecellprops tablemergecells tablesplitcells")}),C.ui.registry.addContextMenu("table",{update:()=>(R.resetTargets(),R.targets().fold(Me(""),qs=>on(qs.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Qo=Ru(Tl(C));Qo.length!==0&&C.queryCommandSupported("mceTableToggleClass")&&C.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Jl(C,Qo,"tableclass",qs=>C.execCommand("mceTableToggleClass",!1,qs)),onSetup:R.onSetupTable});const xr=Ru(Pc(C));xr.length!==0&&C.queryCommandSupported("mceTableCellToggleClass")&&C.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Jl(C,xr,"tablecellclass",qs=>C.execCommand("mceTableCellToggleClass",!1,qs)),onSetup:R.onSetupCellOrRow}),C.queryCommandSupported("mceTableApplyCellStyle")&&(C.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Jl(C,$s,"tablecellverticalalign",br(C,"vertical-align")),onSetup:R.onSetupCellOrRow}),C.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Jl(C,il(C),"tablecellborderwidth",br(C,"border-width")),onSetup:R.onSetupCellOrRow}),C.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Jl(C,Gd(C),"tablecellborderstyle",br(C,"border-style")),onSetup:R.onSetupCellOrRow}),C.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>nf(C,cd(C),"background-color"),onSetup:R.onSetupCellOrRow}),C.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>nf(C,Em(C),"border-color"),onSetup:R.onSetupCellOrRow})),je("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:R.onSetupTableWithCaption}),je("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:fs(C),onSetup:R.onSetupTableRowHeaders}),je("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:of(C),onSetup:R.onSetupTableRowHeaders})},oh=C=>{const R=Za(C);na(C),zy(C),zr(C,R),xa(C,R),gc(C)};var rf=()=>{p.add("table",oh)};rf()})();(function(){var p=tinymce.util.Tools.resolve("tinymce.PluginManager");const v=(re,de)=>re.dispatch("insertCustomChar",{chr:de}),E=(re,de)=>{const De=v(re,de).chr;re.execCommand("mceInsertContent",!1,De)},z=(re,de,De)=>{var G;return De(re,de.prototype)?!0:((G=re.constructor)===null||G===void 0?void 0:G.name)===de.name},F=re=>{const de=typeof re;return re===null?"null":de==="object"&&Array.isArray(re)?"array":de==="object"&&z(re,String,(De,G)=>G.isPrototypeOf(De))?"string":de},H=re=>de=>F(de)===re,q=re=>de=>typeof de===re,Y=re=>de=>re===de,Re=H("array"),Ue=Y(null),Xe=Y(void 0),$t=re=>re==null,zt=re=>!$t(re),Bt=q("function"),It=(re=>()=>re)(!1);class Me{constructor(de,De){this.tag=de,this.value=De}static some(de){return new Me(!0,de)}static none(){return Me.singletonNone}fold(de,De){return this.tag?De(this.value):de()}isSome(){return this.tag}isNone(){return!this.tag}map(de){return this.tag?Me.some(de(this.value)):Me.none()}bind(de){return this.tag?de(this.value):Me.none()}exists(de){return this.tag&&de(this.value)}forall(de){return!this.tag||de(this.value)}filter(de){return!this.tag||de(this.value)?this:Me.none()}getOr(de){return this.tag?this.value:de}or(de){return this.tag?this:de}getOrThunk(de){return this.tag?this.value:de()}orThunk(de){return this.tag?this:de()}getOrDie(de){if(this.tag)return this.value;throw new Error(de!=null?de:"Called getOrDie on None")}static from(de){return zt(de)?Me.some(de):Me.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(de){this.tag&&de(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Me.singletonNone=new Me(!1);const tt=Array.prototype.push,qe=(re,de)=>{const De=re.length,G=new Array(De);for(let pe=0;pe<De;pe++){const Ce=re[pe];G[pe]=de(Ce,pe)}return G},ae=(re,de)=>{for(let De=0,G=re.length;De<G;De++){const pe=re[De];de(pe,De)}},vt=(re,de,De)=>{for(let G=0,pe=re.length;G<pe;G++){const Ce=re[G];if(de(Ce,G))return Me.some(Ce);if(De(Ce,G))break}return Me.none()},Pn=(re,de)=>vt(re,de,It),Nt=re=>{const de=[];for(let De=0,G=re.length;De<G;++De){if(!Re(re[De]))throw new Error("Arr.flatten item "+De+" was not an array, input: "+re);tt.apply(de,re[De])}return de},J=(re,de)=>Nt(qe(re,de));var Zt=tinymce.util.Tools.resolve("tinymce.util.Tools");const Tn=re=>de=>de.options.get(re),gn=re=>{const de=re.options.register,De=G=>Bt(G)||Re(G);de("charmap",{processor:De}),de("charmap_append",{processor:De})},at=Tn("charmap"),ke=Tn("charmap_append"),bo=Zt.isArray,We="User Defined",Ye=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],x=re=>Zt.grep(re,de=>bo(de)&&de.length===2),bt=re=>bo(re)?x(re):typeof re=="function"?re():[],_e=(re,de)=>{const De=at(re);De&&(de=[{name:We,characters:bt(De)}]);const G=ke(re);if(G){const pe=Zt.grep(de,Ce=>Ce.name===We);return pe.length?(pe[0].characters=[...pe[0].characters,...bt(G)],de):de.concat({name:We,characters:bt(G)})}return de},Ht=re=>{const de=_e(re,Ye());return de.length>1?[{name:"All",characters:J(de,De=>De.characters)}].concat(de):de},Gt=re=>({getCharMap:()=>Ht(re),insertChar:G=>{E(re,G)}}),Te=re=>{let de=re;return{get:()=>de,set:pe=>{de=pe}}},Vt=(re,de)=>{let De=null;const G=()=>{Ue(De)||(clearTimeout(De),De=null)};return{cancel:G,throttle:(...Ce)=>{G(),De=setTimeout(()=>{De=null,re.apply(null,Ce)},de)}}},En=(re,de,De=0,G)=>{const pe=re.indexOf(de,De);return pe!==-1?Xe(G)?!0:pe+de.length<=G:!1},et=String.fromCodePoint,rn=(re,de,De)=>En(et(re).toLowerCase(),De)?!0:En(de.toLowerCase(),De)||En(de.toLowerCase().replace(/\s+/g,""),De),Pe=(re,de)=>{const De=[],G=de.toLowerCase();return ae(re.characters,pe=>{rn(pe[0],pe[1],G)&&De.push(pe)}),qe(De,pe=>({text:pe[1],value:et(pe[0]),icon:et(pe[0])}))},gt="pattern",U=(re,de)=>{const De=()=>[{label:"Search",type:"input",name:gt},{type:"collection",name:"results"}],G=()=>qe(de,an=>({title:an.name,name:an.name,items:De()})),pe=()=>({type:"panel",items:De()}),Ce=()=>({type:"tabpanel",tabs:G()}),Oe=de.length===1?Te(We):Te("All"),Tt=(an,pn)=>{Pn(de,po=>po.name===Oe.get()).each(po=>{const Un=Pe(po,pn);an.setData({results:Un})})},ut=Vt(an=>{const pn=an.getData().pattern;Tt(an,pn)},40),Lt=de.length===1?pe():Ce(),Sn={pattern:"",results:Pe(de[0],"")},rt={title:"Special Character",size:"normal",body:Lt,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:Sn,onAction:(an,pn)=>{pn.name==="results"&&(E(re,pn.value),an.close())},onTabChange:(an,pn)=>{Oe.set(pn.newTabName),ut.throttle(an)},onChange:(an,pn)=>{pn.name===gt&&ut.throttle(an)}};re.windowManager.open(rt).focus(gt)},ko=(re,de)=>{re.addCommand("mceShowCharmap",()=>{U(re,de)})},wt=(re,de)=>{re.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(De,G)=>new Promise((pe,Ce)=>{pe(Pe(de,De))}),onAction:(De,G,pe)=>{re.selection.setRng(G),re.insertContent(pe),De.hide()}})},Yt=re=>de=>{const De=()=>{de.setEnabled(re.selection.isEditable())};return re.on("NodeChange",De),De(),()=>{re.off("NodeChange",De)}},st=re=>{const de=()=>re.execCommand("mceShowCharmap");re.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:de,onSetup:Yt(re)}),re.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:de,onSetup:Yt(re)})};var Dt=()=>{p.add("charmap",re=>{gn(re);const de=Ht(re);return ko(re,de),st(re),wt(re,de[0]),Gt(re)})};Dt()})();(function(){var p=tinymce.util.Tools.resolve("tinymce.PluginManager"),v=tinymce.util.Tools.resolve("tinymce.Env");const E=lt=>It=>It.options.get(lt),z=lt=>{const It=lt.options.register;It("pagebreak_separator",{processor:"string",default:"<!-- pagebreak -->"}),It("pagebreak_split_block",{processor:"boolean",default:!1})},F=E("pagebreak_separator"),H=E("pagebreak_split_block"),q="mce-pagebreak",Y=lt=>{const It=`<img src="${v.transparentSrc}" class="${q}" data-mce-resize="false" data-mce-placeholder />`;return lt?`<p>${It}</p>`:It},Re=lt=>{const It=F(lt),Me=()=>H(lt),tt=new RegExp(It.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,qe=>"\\"+qe),"gi");lt.on("BeforeSetContent",qe=>{qe.content=qe.content.replace(tt,Y(Me()))}),lt.on("PreInit",()=>{lt.serializer.addNodeFilter("img",qe=>{let ae=qe.length,vt,Pn;for(;ae--;)if(vt=qe[ae],Pn=vt.attr("class"),Pn&&Pn.indexOf(q)!==-1){const Nt=vt.parent;if(Nt&&lt.schema.getBlockElements()[Nt.name]&&Me()){Nt.type=3,Nt.value=It,Nt.raw=!0,vt.remove();continue}vt.type=3,vt.value=It,vt.raw=!0}})})},Ue=lt=>{lt.addCommand("mcePageBreak",()=>{lt.insertContent(Y(H(lt)))})},Xe=lt=>{lt.on("ResolveName",It=>{It.target.nodeName==="IMG"&&lt.dom.hasClass(It.target,q)&&(It.name="pagebreak")})},$t=lt=>It=>{const Me=()=>{It.setEnabled(lt.selection.isEditable())};return lt.on("NodeChange",Me),Me(),()=>{lt.off("NodeChange",Me)}},zt=lt=>{const It=()=>lt.execCommand("mcePageBreak");lt.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:It,onSetup:$t(lt)}),lt.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:It,onSetup:$t(lt)})};var Bt=()=>{p.add("pagebreak",lt=>{z(lt),Ue(lt),zt(lt),Re(lt),Xe(lt)})};Bt()})();(function(){var p=tinymce.util.Tools.resolve("tinymce.PluginManager");const v=tt=>qe=>typeof qe===tt,E=v("boolean"),z=v("number"),F=tt=>qe=>qe.options.get(tt),H=tt=>{const qe=tt.options.register;qe("nonbreaking_force_tab",{processor:ae=>E(ae)?{value:ae?3:0,valid:!0}:z(ae)?{value:ae,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),qe("nonbreaking_wrap",{processor:"boolean",default:!0})},q=F("nonbreaking_force_tab"),Y=F("nonbreaking_wrap"),Re=(tt,qe)=>{let ae="";for(let vt=0;vt<qe;vt++)ae+=tt;return ae},Ue=tt=>tt.plugins.visualchars?tt.plugins.visualchars.isEnabled():!1,Xe=(tt,qe)=>{const ae=()=>Ue(tt)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap",vt=()=>`<span class="${ae()}" contenteditable="false">${Re("&nbsp;",qe)}</span>`,Nt=Y(tt)||tt.plugins.visualchars?vt():Re("&nbsp;",qe);tt.undoManager.transact(()=>tt.insertContent(Nt))},$t=tt=>{tt.addCommand("mceNonBreaking",()=>{Xe(tt,1)})};var zt=tinymce.util.Tools.resolve("tinymce.util.VK");const Bt=tt=>{const qe=q(tt);qe>0&&tt.on("keydown",ae=>{if(ae.keyCode===zt.TAB&&!ae.isDefaultPrevented()){if(ae.shiftKey)return;ae.preventDefault(),ae.stopImmediatePropagation(),Xe(tt,qe)}})},lt=tt=>qe=>{const ae=()=>{qe.setEnabled(tt.selection.isEditable())};return tt.on("NodeChange",ae),ae(),()=>{tt.off("NodeChange",ae)}},It=tt=>{const qe=()=>tt.execCommand("mceNonBreaking");tt.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:qe,onSetup:lt(tt)}),tt.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:qe,onSetup:lt(tt)})};var Me=()=>{p.add("nonbreaking",tt=>{H(tt),$t(tt),It(tt),Bt(tt)})};Me()})();(function(){var p=tinymce.util.Tools.resolve("tinymce.PluginManager"),v=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),E=tinymce.util.Tools.resolve("tinymce.util.Tools");const z=We=>Ye=>Ye.options.get(We),F=We=>{const Ye=We.options.register;Ye("allow_html_in_named_anchor",{processor:"boolean",default:!1})},H=z("allow_html_in_named_anchor"),q="a:not([href])",Y=We=>!We,Re=We=>We.getAttribute("id")||We.getAttribute("name")||"",Ue=We=>We.nodeName.toLowerCase()==="a",Xe=We=>Ue(We)&&!We.getAttribute("href")&&Re(We)!=="",$t=We=>Xe(We)&&!We.firstChild,zt=We=>{const Ye=We.dom;v(Ye).walk(We.selection.getRng(),x=>{E.each(x,bt=>{$t(bt)&&Ye.remove(bt,!1)})})},Bt=We=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(We),lt=We=>We.dom.getParent(We.selection.getStart(),q),It=We=>{const Ye=lt(We);return Ye?Re(Ye):""},Me=(We,Ye)=>{We.undoManager.transact(()=>{H(We)||We.selection.collapse(!0),We.selection.isCollapsed()?We.insertContent(We.dom.createHTML("a",{id:Ye})):(zt(We),We.formatter.remove("namedAnchor",void 0,void 0,!0),We.formatter.apply("namedAnchor",{value:Ye}),We.addVisual())})},tt=(We,Ye,x)=>{x.removeAttribute("name"),x.id=Ye,We.addVisual(),We.undoManager.add()},qe=(We,Ye)=>{const x=lt(We);x?tt(We,Ye,x):Me(We,Ye),We.focus()},ae=(We,Ye)=>Bt(Ye)?(qe(We,Ye),!0):(We.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1),vt=We=>{const Ye=It(We);We.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:Ye},onSubmit:x=>{ae(We,x.getData().id)&&x.close()}})},Pn=We=>{We.addCommand("mceAnchor",()=>{vt(We)})},Nt=We=>Y(We.attr("href"))&&!Y(We.attr("id")||We.attr("name")),J=We=>Nt(We)&&!We.firstChild,Zt=We=>Ye=>{for(let x=0;x<Ye.length;x++){const bt=Ye[x];J(bt)&&bt.attr("contenteditable",We)}},Tn=We=>{We.on("PreInit",()=>{We.parser.addNodeFilter("a",Zt("false")),We.serializer.addNodeFilter("a",Zt(null))})},gn=We=>{We.formatter.register("namedAnchor",{inline:"a",selector:q,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:(Ye,x,bt)=>Xe(Ye)})},at=We=>Ye=>{const x=()=>{Ye.setEnabled(We.selection.isEditable())};return We.on("NodeChange",x),x(),()=>{We.off("NodeChange",x)}},ke=We=>{const Ye=()=>We.execCommand("mceAnchor");We.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:Ye,onSetup:x=>{const bt=We.selection.selectorChangedWithUnbind("a:not([href])",x.setActive).unbind,_e=at(We)(x);return()=>{bt(),_e()}}}),We.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:Ye,onSetup:at(We)})};var bo=()=>{p.add("anchor",We=>{F(We),Tn(We),Pn(We),ke(We),We.on("PreInit",()=>{gn(We)})})};bo()})();(function(){var p=tinymce.util.Tools.resolve("tinymce.PluginManager");const v=Nt=>J=>J.options.get(Nt),E=Nt=>{const J=Nt.options.register;J("insertdatetime_dateformat",{processor:"string",default:Nt.translate("%Y-%m-%d")}),J("insertdatetime_timeformat",{processor:"string",default:Nt.translate("%H:%M:%S")}),J("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),J("insertdatetime_element",{processor:"boolean",default:!1})},z=v("insertdatetime_dateformat"),F=v("insertdatetime_timeformat"),H=v("insertdatetime_formats"),q=v("insertdatetime_element"),Y=Nt=>{const J=H(Nt);return J.length>0?J[0]:F(Nt)},Re="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),Ue="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Xe="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),$t="January February March April May June July August September October November December".split(" "),zt=(Nt,J)=>{if(Nt=""+Nt,Nt.length<J)for(let Zt=0;Zt<J-Nt.length;Zt++)Nt="0"+Nt;return Nt},Bt=(Nt,J,Zt=new Date)=>(J=J.replace("%D","%m/%d/%Y"),J=J.replace("%r","%I:%M:%S %p"),J=J.replace("%Y",""+Zt.getFullYear()),J=J.replace("%y",""+Zt.getYear()),J=J.replace("%m",zt(Zt.getMonth()+1,2)),J=J.replace("%d",zt(Zt.getDate(),2)),J=J.replace("%H",""+zt(Zt.getHours(),2)),J=J.replace("%M",""+zt(Zt.getMinutes(),2)),J=J.replace("%S",""+zt(Zt.getSeconds(),2)),J=J.replace("%I",""+((Zt.getHours()+11)%12+1)),J=J.replace("%p",Zt.getHours()<12?"AM":"PM"),J=J.replace("%B",""+Nt.translate($t[Zt.getMonth()])),J=J.replace("%b",""+Nt.translate(Xe[Zt.getMonth()])),J=J.replace("%A",""+Nt.translate(Ue[Zt.getDay()])),J=J.replace("%a",""+Nt.translate(Re[Zt.getDay()])),J=J.replace("%%","%"),J),lt=(Nt,J,Zt,Tn)=>{const gn=Nt.dom.create("time",{datetime:Zt},Tn);Nt.dom.replace(gn,J),Nt.selection.select(gn,!0),Nt.selection.collapse(!1)},It=(Nt,J)=>{if(q(Nt)&&Nt.selection.isEditable()){const Zt=Bt(Nt,J);let Tn;/%[HMSIp]/.test(J)?Tn=Bt(Nt,"%Y-%m-%dT%H:%M"):Tn=Bt(Nt,"%Y-%m-%d");const gn=Nt.dom.getParent(Nt.selection.getStart(),"time");gn?lt(Nt,gn,Tn,Zt):Nt.insertContent('<time datetime="'+Tn+'">'+Zt+"</time>")}else Nt.insertContent(Bt(Nt,J))},Me=Nt=>{Nt.addCommand("mceInsertDate",(J,Zt)=>{It(Nt,Zt!=null?Zt:z(Nt))}),Nt.addCommand("mceInsertTime",(J,Zt)=>{It(Nt,Zt!=null?Zt:F(Nt))})},tt=Nt=>{let J=Nt;return{get:()=>J,set:gn=>{J=gn}}};var qe=tinymce.util.Tools.resolve("tinymce.util.Tools");const ae=Nt=>J=>{const Zt=()=>{J.setEnabled(Nt.selection.isEditable())};return Nt.on("NodeChange",Zt),Zt(),()=>{Nt.off("NodeChange",Zt)}},vt=Nt=>{const J=H(Nt),Zt=tt(Y(Nt)),Tn=at=>Nt.execCommand("mceInsertDate",!1,at);Nt.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:at=>at===Zt.get(),fetch:at=>{at(qe.map(J,ke=>({type:"choiceitem",text:Bt(Nt,ke),value:ke})))},onAction:at=>{Tn(Zt.get())},onItemAction:(at,ke)=>{Zt.set(ke),Tn(ke)},onSetup:ae(Nt)});const gn=at=>()=>{Zt.set(at),Tn(at)};Nt.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:()=>qe.map(J,at=>({type:"menuitem",text:Bt(Nt,at),onAction:gn(at)})),onSetup:ae(Nt)})};var Pn=()=>{p.add("insertdatetime",Nt=>{E(Nt),Me(Nt),vt(Nt)})};Pn()})();(function(){var p=tinymce.util.Tools.resolve("tinymce.PluginManager");const v=(We,Ye,x)=>{const bt=Ye==="UL"?"InsertUnorderedList":"InsertOrderedList";We.execCommand(bt,!1,x===!1?null:{"list-style-type":x})},E=We=>{We.addCommand("ApplyUnorderedListStyle",(Ye,x)=>{v(We,"UL",x["list-style-type"])}),We.addCommand("ApplyOrderedListStyle",(Ye,x)=>{v(We,"OL",x["list-style-type"])})},z=We=>Ye=>Ye.options.get(We),F=We=>{const Ye=We.options.register;Ye("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),Ye("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},H=z("advlist_number_styles"),q=z("advlist_bullet_styles"),Y=We=>We==null,Re=We=>!Y(We);var Ue=tinymce.util.Tools.resolve("tinymce.util.Tools");class Xe{constructor(Ye,x){this.tag=Ye,this.value=x}static some(Ye){return new Xe(!0,Ye)}static none(){return Xe.singletonNone}fold(Ye,x){return this.tag?x(this.value):Ye()}isSome(){return this.tag}isNone(){return!this.tag}map(Ye){return this.tag?Xe.some(Ye(this.value)):Xe.none()}bind(Ye){return this.tag?Ye(this.value):Xe.none()}exists(Ye){return this.tag&&Ye(this.value)}forall(Ye){return!this.tag||Ye(this.value)}filter(Ye){return!this.tag||Ye(this.value)?this:Xe.none()}getOr(Ye){return this.tag?this.value:Ye}or(Ye){return this.tag?this:Ye}getOrThunk(Ye){return this.tag?this.value:Ye()}orThunk(Ye){return this.tag?this:Ye()}getOrDie(Ye){if(this.tag)return this.value;throw new Error(Ye!=null?Ye:"Called getOrDie on None")}static from(Ye){return Re(Ye)?Xe.some(Ye):Xe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ye){this.tag&&Ye(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Xe.singletonNone=new Xe(!1);const $t=(We,Ye,x)=>{for(let bt=0,_e=We.length;bt<_e;bt++){const Ht=We[bt];if(Ye(Ht,bt))return Xe.some(Ht);if(x(Ht,bt))break}return Xe.none()},zt=We=>/\btox\-/.test(We.className),Bt=(We,Ye)=>We.dom.isChildOf(Ye,We.getBody()),lt=We=>Ye=>Re(Ye)&&We.test(Ye.nodeName),It=lt(/^(OL|UL|DL)$/),Me=lt(/^(TH|TD)$/),tt=(We,Ye,x)=>$t(Ye,bt=>It(bt)&&!zt(bt),Me).exists(bt=>bt.nodeName===x&&Bt(We,bt)),qe=We=>{const Ye=We.dom.getParent(We.selection.getNode(),"ol,ul"),x=We.dom.getStyle(Ye,"listStyleType");return Xe.from(x)},ae=(We,Ye)=>Ye!==null&&!We.dom.isEditable(Ye),vt=(We,Ye)=>{const x=We.dom.getParent(Ye,"ol,ul,dl");return ae(We,x)||!We.selection.isEditable()},Pn=(We,Ye)=>{const x=We.selection.getNode();return Ye({parents:We.dom.getParents(x),element:x}),We.on("NodeChange",Ye),()=>We.off("NodeChange",Ye)},Nt=We=>We.replace(/\-/g," ").replace(/\b\w/g,Ye=>Ye.toUpperCase()),J=We=>Y(We)||We==="default"?"":We,Zt=(We,Ye)=>x=>{const bt=(Ht,Gt)=>{const Te=Ht.selection.getStart(!0);x.setActive(tt(Ht,Gt,Ye)),x.setEnabled(!vt(Ht,Te))};return Pn(We,Ht=>bt(We,Ht.parents))},Tn=(We,Ye,x,bt,_e,Ht)=>{We.ui.registry.addSplitButton(Ye,{tooltip:x,icon:_e==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:Gt=>{const Te=Ue.map(Ht,Vt=>{const En=_e==="OL"?"num":"bull",et=Vt==="disc"||Vt==="decimal"?"default":Vt,rn=J(Vt),Pe=Nt(Vt);return{type:"choiceitem",value:rn,icon:"list-"+En+"-"+et,text:Pe}});Gt(Te)},onAction:()=>We.execCommand(bt),onItemAction:(Gt,Te)=>{v(We,_e,Te)},select:Gt=>qe(We).map(Vt=>Gt===Vt).getOr(!1),onSetup:Zt(We,_e)})},gn=(We,Ye,x,bt,_e,Ht)=>{We.ui.registry.addToggleButton(Ye,{active:!1,tooltip:x,icon:_e==="OL"?"ordered-list":"unordered-list",onSetup:Zt(We,_e),onAction:()=>We.queryCommandState(bt)||Ht===""?We.execCommand(bt):v(We,_e,Ht)})},at=(We,Ye,x,bt,_e,Ht)=>{Ht.length>1?Tn(We,Ye,x,bt,_e,Ht):gn(We,Ye,x,bt,_e,J(Ht[0]))},ke=We=>{at(We,"numlist","Numbered list","InsertOrderedList","OL",H(We)),at(We,"bullist","Bullet list","InsertUnorderedList","UL",q(We))};var bo=()=>{p.add("advlist",We=>{We.hasPlugin("lists")?(F(We),ke(We),E(We)):console.error("Please use the Lists plugin together with the List Styles plugin.")})};bo()})();(function(){var p=tinymce.util.Tools.resolve("tinymce.PluginManager");const v=(T,P,K)=>{var Se;return K(T,P.prototype)?!0:((Se=T.constructor)===null||Se===void 0?void 0:Se.name)===P.name},E=T=>{const P=typeof T;return T===null?"null":P==="object"&&Array.isArray(T)?"array":P==="object"&&v(T,String,(K,Se)=>Se.isPrototypeOf(K))?"string":P},z=T=>P=>E(P)===T,F=T=>P=>typeof P===T,H=z("string"),q=z("object"),Y=z("array"),Re=F("boolean"),Ue=T=>T==null,Xe=T=>!Ue(T),$t=F("function"),zt=F("number"),Bt=()=>{},lt=(T,P)=>K=>T(P(K)),It=T=>()=>T,Me=(T,P)=>T===P;function tt(T,...P){return(...K)=>{const Se=P.concat(K);return T.apply(null,Se)}}const qe=T=>P=>!T(P),ae=It(!1);class vt{constructor(P,K){this.tag=P,this.value=K}static some(P){return new vt(!0,P)}static none(){return vt.singletonNone}fold(P,K){return this.tag?K(this.value):P()}isSome(){return this.tag}isNone(){return!this.tag}map(P){return this.tag?vt.some(P(this.value)):vt.none()}bind(P){return this.tag?P(this.value):vt.none()}exists(P){return this.tag&&P(this.value)}forall(P){return!this.tag||P(this.value)}filter(P){return!this.tag||P(this.value)?this:vt.none()}getOr(P){return this.tag?this.value:P}or(P){return this.tag?this:P}getOrThunk(P){return this.tag?this.value:P()}orThunk(P){return this.tag?this:P()}getOrDie(P){if(this.tag)return this.value;throw new Error(P!=null?P:"Called getOrDie on None")}static from(P){return Xe(P)?vt.some(P):vt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(P){this.tag&&P(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}vt.singletonNone=new vt(!1);const Pn=Array.prototype.slice,Nt=Array.prototype.indexOf,J=Array.prototype.push,Zt=(T,P)=>Nt.call(T,P),Tn=(T,P)=>Zt(T,P)>-1,gn=(T,P)=>{for(let K=0,Se=T.length;K<Se;K++){const Ve=T[K];if(P(Ve,K))return!0}return!1},at=(T,P)=>{const K=T.length,Se=new Array(K);for(let Ve=0;Ve<K;Ve++){const tn=T[Ve];Se[Ve]=P(tn,Ve)}return Se},ke=(T,P)=>{for(let K=0,Se=T.length;K<Se;K++){const Ve=T[K];P(Ve,K)}},bo=(T,P)=>{const K=[];for(let Se=0,Ve=T.length;Se<Ve;Se++){const tn=T[Se];P(tn,Se)&&K.push(tn)}return K},We=(T,P)=>{if(T.length===0)return[];{let K=P(T[0]);const Se=[];let Ve=[];for(let tn=0,Ao=T.length;tn<Ao;tn++){const Xo=T[tn],Uo=P(Xo);Uo!==K&&(Se.push(Ve),Ve=[]),K=Uo,Ve.push(Xo)}return Ve.length!==0&&Se.push(Ve),Se}},Ye=(T,P,K)=>(ke(T,(Se,Ve)=>{K=P(K,Se,Ve)}),K),x=(T,P,K)=>{for(let Se=0,Ve=T.length;Se<Ve;Se++){const tn=T[Se];if(P(tn,Se))return vt.some(tn);if(K(tn,Se))break}return vt.none()},bt=(T,P)=>x(T,P,ae),_e=T=>{const P=[];for(let K=0,Se=T.length;K<Se;++K){if(!Y(T[K]))throw new Error("Arr.flatten item "+K+" was not an array, input: "+T);J.apply(P,T[K])}return P},Ht=(T,P)=>_e(at(T,P)),Gt=T=>{const P=Pn.call(T,0);return P.reverse(),P},Te=(T,P)=>P>=0&&P<T.length?vt.some(T[P]):vt.none(),Vt=T=>Te(T,0),En=T=>Te(T,T.length-1),et=(T,P)=>{const K=[],Se=$t(P)?Ve=>gn(K,tn=>P(tn,Ve)):Ve=>Tn(K,Ve);for(let Ve=0,tn=T.length;Ve<tn;Ve++){const Ao=T[Ve];Se(Ao)||K.push(Ao)}return K},rn=(T,P,K=Me)=>T.exists(Se=>K(Se,P)),Pe=(T,P,K=Me)=>gt(T,P,K).getOr(T.isNone()&&P.isNone()),gt=(T,P,K)=>T.isSome()&&P.isSome()?vt.some(K(T.getOrDie(),P.getOrDie())):vt.none(),U=8,ko=11,wt=1,Yt=3,st=(T,P)=>{const Se=(P||document).createElement("div");if(Se.innerHTML=T,!Se.hasChildNodes()||Se.childNodes.length>1){const Ve="HTML does not have a single root node";throw console.error(Ve,T),new Error(Ve)}return de(Se.childNodes[0])},Dt=(T,P)=>{const Se=(P||document).createElement(T);return de(Se)},re=(T,P)=>{const Se=(P||document).createTextNode(T);return de(Se)},de=T=>{if(T==null)throw new Error("Node cannot be null or undefined");return{dom:T}},G={fromHtml:st,fromTag:Dt,fromText:re,fromDom:de,fromPoint:(T,P,K)=>vt.from(T.dom.elementFromPoint(P,K)).map(de)},pe=(T,P)=>{const K=T.dom;if(K.nodeType!==wt)return!1;{const Se=K;if(Se.matches!==void 0)return Se.matches(P);if(Se.msMatchesSelector!==void 0)return Se.msMatchesSelector(P);if(Se.webkitMatchesSelector!==void 0)return Se.webkitMatchesSelector(P);if(Se.mozMatchesSelector!==void 0)return Se.mozMatchesSelector(P);throw new Error("Browser lacks native selectors")}},Ce=(T,P)=>T.dom===P.dom,Oe=(T,P)=>{const K=T.dom,Se=P.dom;return K===Se?!1:K.contains(Se)},Tt=pe,Ie=typeof window!="undefined"?window:Function("return this;")(),ut=(T,P)=>{let K=P!=null?P:Ie;for(let Se=0;Se<T.length&&K!==void 0&&K!==null;++Se)K=K[T[Se]];return K},Lt=(T,P)=>{const K=T.split(".");return ut(K,P)},Sn=(T,P)=>Lt(T,P),rt=(T,P)=>{const K=Sn(T,P);if(K==null)throw new Error(T+" not available on this browser");return K},ft=Object.getPrototypeOf,an=T=>rt("HTMLElement",T),pn=T=>{const P=Lt("ownerDocument.defaultView",T);return q(T)&&(an(P).prototype.isPrototypeOf(T)||/^HTML\w*Element$/.test(ft(T).constructor.name))},po=T=>T.dom.nodeName.toLowerCase(),Un=T=>T.dom.nodeType,Vn=T=>P=>Un(P)===T,Ho=T=>Un(T)===U||po(T)==="#comment",Ln=T=>Wo(T)&&pn(T.dom),Wo=Vn(wt),_s=Vn(Yt),es=Vn(ko),Gs=T=>P=>Wo(P)&&po(P)===T,_o=T=>vt.from(T.dom.parentNode).map(G.fromDom),Ir=T=>vt.from(T.dom.parentElement).map(G.fromDom),on=T=>vt.from(T.dom.nextSibling).map(G.fromDom),Go=T=>at(T.dom.childNodes,G.fromDom),ur=(T,P)=>{const K=T.dom.childNodes;return vt.from(K[P]).map(G.fromDom)},Qs=T=>ur(T,0),Ar=T=>ur(T,T.dom.childNodes.length-1),_r=T=>es(T)&&Xe(T.dom.host),Cs=T=>G.fromDom(T.dom.getRootNode()),Jr=T=>{const P=Cs(T);return _r(P)?vt.some(P):vt.none()},Zr=T=>G.fromDom(T.dom.host),ys=T=>{const P=_s(T)?T.dom.parentNode:T.dom;if(P==null||P.ownerDocument===null)return!1;const K=P.ownerDocument;return Jr(G.fromDom(P)).fold(()=>K.body.contains(P),lt(ys,Zr))};var ao=(T,P,K,Se,Ve)=>T(K,Se)?vt.some(K):$t(Ve)&&Ve(K)?vt.none():P(K,Se,Ve);const Ps=(T,P,K)=>{let Se=T.dom;const Ve=$t(K)?K:ae;for(;Se.parentNode;){Se=Se.parentNode;const tn=G.fromDom(Se);if(P(tn))return vt.some(tn);if(Ve(tn))break}return vt.none()},Qe=(T,P,K)=>ao((Ve,tn)=>tn(Ve),Ps,T,P,K),Ct=(T,P,K)=>Ps(T,Se=>pe(Se,P),K),An=(T,P,K)=>ao((Ve,tn)=>pe(Ve,tn),Ct,T,P,K),Fn=T=>An(T,"[contenteditable]"),jo=(T,P=!1)=>ys(T)?T.dom.isContentEditable:Fn(T).fold(It(P),K=>ss(K)==="true"),ss=T=>T.dom.contentEditable,mr=(T,P)=>{_o(T).each(Se=>{Se.dom.insertBefore(P.dom,T.dom)})},yr=(T,P)=>{on(T).fold(()=>{_o(T).each(Ve=>{xe(Ve,P)})},Se=>{mr(Se,P)})},cr=(T,P)=>{Qs(T).fold(()=>{xe(T,P)},Se=>{T.dom.insertBefore(P.dom,Se.dom)})},xe=(T,P)=>{T.dom.appendChild(P.dom)},we=(T,P)=>{ke(P,K=>{mr(T,K)})},ht=(T,P)=>{ke(P,K=>{xe(T,K)})},Mt=T=>{T.dom.textContent="",ke(Go(T),P=>{oo(P)})},oo=T=>{const P=T.dom;P.parentNode!==null&&P.parentNode.removeChild(P)};var Eo=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Bo=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ir=tinymce.util.Tools.resolve("tinymce.util.VK");const Le=T=>at(T,G.fromDom),Mo=Object.keys,ze=(T,P)=>{const K=Mo(T);for(let Se=0,Ve=K.length;Se<Ve;Se++){const tn=K[Se],Ao=T[tn];P(Ao,tn)}},Be=T=>(P,K)=>{T[K]=P},Qt=(T,P,K,Se)=>{ze(T,(Ve,tn)=>{(P(Ve,tn)?K:Se)(Ve,tn)})},cn=(T,P)=>{const K={};return Qt(T,P,Be(K),Bt),K},zn=(T,P,K)=>{if(H(K)||Re(K)||zt(K))T.setAttribute(P,K+"");else throw console.error("Invalid call to Attribute.set. Key ",P,":: Value ",K,":: Element ",T),new Error("Attribute value was not simple")},Qn=(T,P)=>{const K=T.dom;ze(P,(Se,Ve)=>{zn(K,Ve,Se)})},no=T=>Ye(T.dom.attributes,(P,K)=>(P[K.name]=K.value,P),{}),Gn=(T,P)=>G.fromDom(T.dom.cloneNode(P)),io=T=>Gn(T,!0),Co=(T,P)=>{const K=G.fromTag(P),Se=no(T);return Qn(K,Se),K},ds=(T,P)=>{const K=Co(T,P);yr(T,K);const Se=Go(T);return ht(K,Se),oo(T),K};var Ds=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Is=tinymce.util.Tools.resolve("tinymce.util.Tools");const _a=T=>P=>Xe(P)&&P.nodeName.toLowerCase()===T,ua=T=>P=>Xe(P)&&T.test(P.nodeName),vo=T=>Xe(T)&&T.nodeType===3,cs=T=>Xe(T)&&T.nodeType===1,is=ua(/^(OL|UL|DL)$/),aa=ua(/^(OL|UL)$/),Qr=_a("ol"),Or=ua(/^(LI|DT|DD)$/),er=ua(/^(DT|DD)$/),El=ua(/^(TH|TD)$/),Xa=_a("br"),Rs=T=>{var P;return((P=T.parentNode)===null||P===void 0?void 0:P.firstChild)===T},pa=(T,P)=>Xe(P)&&P.nodeName in T.schema.getTextBlockElements(),ha=(T,P)=>Xe(T)&&T.nodeName in P,qr=(T,P)=>Xe(P)&&P.nodeName in T.schema.getVoidElements(),yi=(T,P)=>Xa(P)?T.isBlock(P.nextSibling)&&!Xa(P.previousSibling):!1,Ba=(T,P,K)=>{const Se=T.isEmpty(P);return K&&T.select("span[data-mce-type=bookmark]",P).length>0?!1:Se},Oa=(T,P)=>T.isChildOf(P,T.getRoot()),Ja=T=>P=>P.options.get(T),Qa=T=>{const P=T.options.register;P("lists_indent_on_tab",{processor:"boolean",default:!0})},Mi=Ja("lists_indent_on_tab"),Pi=Ja("forced_root_block"),ei=Ja("forced_root_block_attrs"),Da=(T,P,K={})=>{const Se=T.dom,Ve=T.schema.getBlockElements(),tn=Se.createFragment(),Ao=Pi(T),Xo=ei(T);let Uo,fo,Ur=!1;for(fo=Se.create(Ao,ie(ie({},Xo),K.style?{style:K.style}:{})),ha(P.firstChild,Ve)||tn.appendChild(fo);Uo=P.firstChild;){const Sa=Uo.nodeName;!Ur&&(Sa!=="SPAN"||Uo.getAttribute("data-mce-type")!=="bookmark")&&(Ur=!0),ha(Uo,Ve)?(tn.appendChild(Uo),fo=null):(fo||(fo=Se.create(Ao,Xo),tn.appendChild(fo)),fo.appendChild(Uo))}return!Ur&&fo&&fo.appendChild(Se.create("br",{"data-mce-bogus":"1"})),tn},Gr=Ds.DOM,ti=(T,P,K)=>{const Se=fo=>{const Ur=fo.parentNode;Ur&&Is.each(Ve,Sa=>{Ur.insertBefore(Sa,K.parentNode)}),Gr.remove(fo)},Ve=Gr.select('span[data-mce-type="bookmark"]',P),tn=Da(T,K),Ao=Gr.createRng();Ao.setStartAfter(K),Ao.setEndAfter(P);const Xo=Ao.extractContents();for(let fo=Xo.firstChild;fo;fo=fo.firstChild)if(fo.nodeName==="LI"&&T.dom.isEmpty(fo)){Gr.remove(fo);break}T.dom.isEmpty(Xo)||Gr.insertAfter(Xo,P),Gr.insertAfter(tn,P);const Uo=K.parentElement;Uo&&Ba(T.dom,Uo)&&Se(Uo),Gr.remove(K),Ba(T.dom,P)&&Gr.remove(P)},bi=Gs("dd"),Bi=Gs("dt"),qc=(T,P)=>{bi(P)?ds(P,"dt"):Bi(P)&&Ir(P).each(K=>ti(T,K.dom,P.dom))},Lr=T=>{Bi(T)&&ds(T,"dd")},Va=(T,P,K)=>{P==="Indent"?ke(K,Lr):ke(K,Se=>qc(T,Se))},ya=(T,P)=>{if(vo(T))return{container:T,offset:P};const K=Eo.getNode(T,P);return vo(K)?{container:K,offset:P>=T.childNodes.length?K.data.length:0}:K.previousSibling&&vo(K.previousSibling)?{container:K.previousSibling,offset:K.previousSibling.data.length}:K.nextSibling&&vo(K.nextSibling)?{container:K.nextSibling,offset:0}:{container:T,offset:P}},Ra=T=>{const P=T.cloneRange(),K=ya(T.startContainer,T.startOffset);P.setStart(K.container,K.offset);const Se=ya(T.endContainer,T.endOffset);return P.setEnd(Se.container,Se.offset),P},Xi=["OL","UL","DL"],Ji=Xi.join(","),ee=(T,P)=>{const K=P||T.selection.getStart(!0);return T.dom.getParent(K,Ji,lo(T,K))},ve=(T,P)=>Xe(T)&&P.length===1&&P[0]===T,Ze=T=>bo(T.querySelectorAll(Ji),is),Ut=T=>{const P=ee(T),K=T.selection.getSelectedBlocks();return ve(P,K)?Ze(P):bo(K,Se=>is(Se)&&P!==Se)},mn=(T,P)=>{const K=Is.map(P,Se=>{const Ve=T.dom.getParent(Se,"li,dd,dt",lo(T,Se));return Ve||Se});return et(K)},V=T=>{const P=T.selection.getSelectedBlocks();return bo(mn(T,P),Or)},be=T=>bo(V(T),er),$e=(T,P)=>{const K=T.dom.getParents(P,"TD,TH");return K.length>0?K[0]:T.getBody()},kt=(T,P)=>!is(P)&&!Or(P)&&gn(Xi,K=>T.isValidChild(P.nodeName,K)),lo=(T,P)=>{const K=T.dom.getParents(P,T.dom.isBlock),Se=tn=>tn.nodeName.toLowerCase()!==Pi(T);return bt(K,tn=>Se(tn)&&kt(T.schema,tn)).getOr(T.getBody())},$=T=>_o(T).exists(P=>Or(P.dom)&&Qs(P).exists(K=>!is(K.dom))&&Ar(P).exists(K=>!is(K.dom))),oe=(T,P)=>{const K=T.dom.getParents(P,"ol,ul",lo(T,P));return En(K)},Ee=T=>{const P=oe(T,T.selection.getStart()),K=bo(T.selection.getSelectedBlocks(),aa);return P.toArray().concat(K)},ct=T=>{const P=T.selection.getStart();return T.dom.getParents(P,"ol,ul",lo(T,P))},yt=T=>{const P=Ee(T),K=ct(T);return bt(K,Se=>$(G.fromDom(Se))).fold(()=>Ro(T,P),Se=>[Se])},Ro=(T,P)=>{const K=at(P,Se=>oe(T,Se).getOr(Se));return et(K)},bs=T=>/\btox\-/.test(T.className),Ls=(T,P)=>x(T,is,El).exists(K=>K.nodeName===P&&!bs(K)),nn=(T,P)=>P!==null&&!T.dom.isEditable(P),Bs=T=>{const P=ee(T);return nn(T,P)||!T.selection.isEditable()},ba=(T,P)=>{const K=T.dom.getParent(P,"ol,ul,dl");return nn(T,K)||!T.selection.isEditable()},$i=(T,P)=>{const K=T.selection.getNode();return P({parents:T.dom.getParents(K),element:K}),T.on("NodeChange",P),()=>T.off("NodeChange",P)},Vo=(T,P)=>{const Se=document.createDocumentFragment();return ke(T,Ve=>{Se.appendChild(Ve.dom)}),G.fromDom(Se)},Mc=(T,P,K)=>T.dispatch("ListMutation",{action:P,element:K}),va=(T=>P=>P.replace(T,""))(/^\s+|\s+$/g),Ys=T=>T.length>0,Fi=T=>!Ys(T),Sm=T=>T.style!==void 0&&$t(T.style.getPropertyValue),qd=(T,P,K)=>{if(!H(K))throw console.error("Invalid call to CSS.set. Property ",P,":: Value ",K,":: Element ",T),new Error("CSS value must be a string: "+K);Sm(T)&&T.style.setProperty(P,K)},Dr=(T,P,K)=>{const Se=T.dom;qd(Se,P,K)},od=T=>Tt(T,"OL,UL"),vi=T=>Tt(T,"LI"),Cr=T=>Qs(T).exists(od),wi=T=>Ar(T).exists(od),wc=T=>"listAttributes"in T,sd=T=>"isComment"in T,ce=T=>"isFragment"in T,me=T=>T.depth>0,dt=T=>T.isSelected,jt=T=>{const P=Go(T),K=wi(T)?P.slice(0,-1):P;return at(K,io)},ho=(T,P,K)=>_o(T).filter(Wo).map(Se=>({depth:P,dirty:!1,isSelected:K,content:jt(T),itemAttributes:no(T),listAttributes:no(Se),listType:po(Se),isInPreviousLi:!1})),vs=(T,P)=>{xe(T.item,P.list)},ts=T=>{for(let P=1;P<T.length;P++)vs(T[P-1],T[P])},tr=(T,P)=>{gt(En(T),Vt(P),vs)},ca=(T,P)=>{const K={list:G.fromTag(P,T),item:G.fromTag("li",T)};return xe(K.list,K.item),K},kc=(T,P,K)=>{const Se=[];for(let Ve=0;Ve<K;Ve++)Se.push(ca(T,wc(P)?P.listType:P.parentListType));return Se},ec=(T,P)=>{for(let K=0;K<T.length-1;K++)Dr(T[K].item,"list-style-type","none");En(T).each(K=>{wc(P)&&(Qn(K.list,P.listAttributes),Qn(K.item,P.itemAttributes)),ht(K.item,P.content)})},ea=(T,P)=>{po(T.list)!==P.listType&&(T.list=ds(T.list,P.listType)),Qn(T.list,P.listAttributes)},ta=(T,P,K)=>{const Se=G.fromTag("li",T);return Qn(Se,P),ht(Se,K),Se},Ca=(T,P)=>{xe(T.list,P),T.item=P},tc=(T,P,K)=>{const Se=P.slice(0,K.depth);return En(Se).each(Ve=>{if(wc(K)){const tn=ta(T,K.itemAttributes,K.content);Ca(Ve,tn),ea(Ve,K)}else if(ce(K))ht(Ve.item,K.content);else{const tn=G.fromHtml(`<!--${K.content}-->`);xe(Ve.list,tn)}}),Se},Rr=(T,P,K)=>{const Se=kc(T,K,K.depth-P.length);return ts(Se),ec(Se,K),tr(P,Se),P.concat(Se)},na=(T,P)=>{let K=vt.none();const Se=Ye(P,(Ve,tn,Ao)=>sd(tn)?Ao===0?(K=vt.some(tn),Ve):tc(T,Ve,tn):tn.depth>Ve.length?Rr(T,Ve,tn):tc(T,Ve,tn),[]);return K.each(Ve=>{const tn=G.fromHtml(`<!--${Ve.content}-->`);Vt(Se).each(Ao=>{cr(Ao.list,tn)})}),Vt(Se).map(Ve=>Ve.list)},Sr=(T,P)=>{switch(T){case"Indent":P.depth++;break;case"Outdent":P.depth--;break;case"Flatten":P.depth=0}P.dirty=!0},il=(T,P)=>{wc(T)&&wc(P)&&(T.listType=P.listType,T.listAttributes=ie({},P.listAttributes))},Gd=T=>{T.listAttributes=cn(T.listAttributes,(P,K)=>K!=="start")},Gl=(T,P)=>{const K=T[P].depth,Se=tn=>tn.depth===K&&!tn.dirty,Ve=tn=>tn.depth<K;return x(Gt(T.slice(0,P)),Se,Ve).orThunk(()=>x(T.slice(P+1),Se,Ve))},rd=T=>(ke(T,(P,K)=>{Gl(T,K).fold(()=>{P.dirty&&wc(P)&&Gd(P)},Se=>il(P,Se))}),T),ad=T=>{let P=T;return{get:()=>P,set:Ve=>{P=Ve}}},ku=(T,P,K,Se)=>{var Ve;if(Ho(Se))return[{depth:T+1,content:(Ve=Se.dom.nodeValue)!==null&&Ve!==void 0?Ve:"",dirty:!1,isSelected:!1,isComment:!0}];P.each(Xo=>{Ce(Xo.start,Se)&&K.set(!0)});const tn=ho(Se,T,K.get());P.each(Xo=>{Ce(Xo.end,Se)&&K.set(!1)});const Ao=Ar(Se).filter(od).map(Xo=>ki(T,P,K,Xo)).getOr([]);return tn.toArray().concat(Ao)},_u=(T,P,K,Se)=>Qs(Se).filter(od).fold(()=>ku(T,P,K,Se),Ve=>{const tn=Ye(Go(Se),(Ao,Xo,Uo)=>{if(Uo===0)return Ao;if(vi(Xo))return Ao.concat(ku(T,P,K,Xo));{const fo={isFragment:!0,depth:T,content:[Xo],isSelected:!1,dirty:!1,parentListType:po(Ve)};return Ao.concat(fo)}},[]);return ki(T,P,K,Ve).concat(tn)}),ki=(T,P,K,Se)=>Ht(Go(Se),Ve=>{const tn=od(Ve)?ki:_u,Ao=T+1;return tn(Ao,P,K,Ve)}),Pc=(T,P)=>{const K=ad(!1),Se=0;return at(T,Ve=>({sourceList:Ve,entries:ki(Se,P,K,Ve)}))},Sg=(T,P)=>{const K=rd(P);return at(K,Se=>{const Ve=sd(Se)?Vo([G.fromHtml(`<!--${Se.content}-->`)]):Vo(Se.content),tn=wc(Se)?Se.itemAttributes:{};return G.fromDom(Da(T,Ve.dom,tn))})},Tl=(T,P)=>{const K=rd(P);return na(T.contentDocument,K).toArray()},xm=(T,P)=>Ht(We(P,me),K=>Vt(K).exists(me)?Tl(T,K):Sg(T,K)),cd=(T,P)=>{ke(bo(T,dt),K=>Sr(P,K))},Em=T=>{const P=at(V(T),G.fromDom);return gt(bt(P,qe(Cr)),bt(Gt(P),qe(Cr)),(K,Se)=>({start:K,end:Se}))},Bf=(T,P,K)=>{const Se=Pc(P,Em(T));ke(Se,Ve=>{cd(Ve.entries,K);const tn=xm(T,Ve.entries);ke(tn,Ao=>{Mc(T,K==="Indent"?"IndentList":"OutdentList",Ao.dom)}),we(Ve.sourceList,tn),oo(Ve.sourceList)})},id=(T,P)=>{const K=Le(yt(T)),Se=Le(be(T));let Ve=!1;if(K.length||Se.length){const tn=T.selection.getBookmark();Bf(T,K,P),Va(T,P,Se),T.selection.moveToBookmark(tn),T.selection.setRng(Ra(T.selection.getRng())),T.nodeChanged(),Ve=!0}return Ve},$f=(T,P)=>!Bs(T)&&id(T,P),Tm=T=>$f(T,"Indent"),Cu=T=>$f(T,"Outdent"),xg=T=>$f(T,"Flatten"),Ne="\uFEFF",ld=T=>T===Ne,_i=(T,P,K)=>Ps(T,P,K).isSome(),qp=(T,P)=>_i(T,tt(Ce,P));var Gp=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Su=Ds.DOM,rs=T=>{const P={},K=Se=>{let Ve=T[Se?"startContainer":"endContainer"],tn=T[Se?"startOffset":"endOffset"];if(cs(Ve)){const Ao=Su.create("span",{"data-mce-type":"bookmark"});Ve.hasChildNodes()?(tn=Math.min(tn,Ve.childNodes.length-1),Se?Ve.insertBefore(Ao,Ve.childNodes[tn]):Su.insertAfter(Ao,Ve.childNodes[tn])):Ve.appendChild(Ao),Ve=Ao,tn=0}P[Se?"startContainer":"endContainer"]=Ve,P[Se?"startOffset":"endOffset"]=tn};return K(!0),T.collapsed||K(),P},_c=T=>{const P=Se=>{const Ve=Xo=>{var Uo;let fo=(Uo=Xo.parentNode)===null||Uo===void 0?void 0:Uo.firstChild,Ur=0;for(;fo;){if(fo===Xo)return Ur;(!cs(fo)||fo.getAttribute("data-mce-type")!=="bookmark")&&Ur++,fo=fo.nextSibling}return-1};let tn=T[Se?"startContainer":"endContainer"],Ao=T[Se?"startOffset":"endOffset"];if(tn){if(cs(tn)&&tn.parentNode){const Xo=tn;Ao=Ve(tn),tn=tn.parentNode,Su.remove(Xo),!tn.hasChildNodes()&&Su.isBlock(tn)&&tn.appendChild(Su.create("br"))}T[Se?"startContainer":"endContainer"]=tn,T[Se?"startOffset":"endOffset"]=Ao}};P(!0),P();const K=Su.createRng();return K.setStart(T.startContainer,T.startOffset),T.endContainer&&K.setEnd(T.endContainer,T.endOffset),Ra(K)},nc=T=>{switch(T){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},xu=(T,P,K)=>{const Se=K["list-style-type"]?K["list-style-type"]:null;T.setStyle(P,"list-style-type",Se)},Am=(T,P)=>{Is.each(P,(K,Se)=>{T.setAttribute(Se,K)})},Kd=(T,P,K)=>{Am(P,K["list-attributes"]),Is.each(T.select("li",P),Se=>{Am(Se,K["list-item-attributes"])})},Cc=(T,P,K)=>{xu(T,P,K),Kd(T,P,K)},Ff=(T,P,K)=>{Is.each(K,Se=>T.setStyle(P,Se,""))},Kl=(T,P)=>Xe(P)&&!ha(P,T.schema.getBlockElements()),If=(T,P,K,Se)=>{let Ve=P[K?"startContainer":"endContainer"];const tn=P[K?"startOffset":"endOffset"];cs(Ve)&&(Ve=Ve.childNodes[Math.min(tn,Ve.childNodes.length-1)]||Ve),!K&&Xa(Ve.nextSibling)&&(Ve=Ve.nextSibling);const Ao=Uo=>{for(;!T.dom.isBlock(Uo)&&Uo.parentNode&&Se!==Uo;)Uo=Uo.parentNode;return Uo},Xo=(Uo,fo)=>{var Ur;const Sa=new Bo(Uo,Ao(Uo)),Fc=fo?"next":"prev";let zu;for(;zu=Sa[Fc]();)if(!(qr(T,zu)||ld(zu.textContent)||((Ur=zu.textContent)===null||Ur===void 0?void 0:Ur.length)===0))return vt.some(zu);return vt.none()};if(K&&vo(Ve))if(ld(Ve.textContent))Ve=Xo(Ve,!1).getOr(Ve);else for(Ve.parentNode!==null&&Kl(T,Ve.parentNode)&&(Ve=Ve.parentNode);Ve.previousSibling!==null&&(Kl(T,Ve.previousSibling)||vo(Ve.previousSibling));)Ve=Ve.previousSibling;if(!K&&vo(Ve))if(ld(Ve.textContent))Ve=Xo(Ve,!0).getOr(Ve);else for(Ve.parentNode!==null&&Kl(T,Ve.parentNode)&&(Ve=Ve.parentNode);Ve.nextSibling!==null&&(Kl(T,Ve.nextSibling)||vo(Ve.nextSibling));)Ve=Ve.nextSibling;for(;Ve.parentNode!==Se;){const Uo=Ve.parentNode;if(pa(T,Ve)||/^(TD|TH)$/.test(Uo.nodeName))return Ve;Ve=Uo}return Ve},Yl=(T,P,K)=>{const Se=[],Ve=T.dom,tn=If(T,P,!0,K),Ao=If(T,P,!1,K);let Xo;const Uo=[];for(let fo=tn;fo&&(Uo.push(fo),fo!==Ao);fo=fo.nextSibling);return Is.each(Uo,fo=>{var Ur;if(pa(T,fo)){Se.push(fo),Xo=null;return}if(Ve.isBlock(fo)||Xa(fo)){Xa(fo)&&Ve.remove(fo),Xo=null;return}const Sa=fo.nextSibling;if(Gp.isBookmarkNode(fo)&&(is(Sa)||pa(T,Sa)||!Sa&&fo.parentNode===K)){Xo=null;return}Xo||(Xo=Ve.create("p"),(Ur=fo.parentNode)===null||Ur===void 0||Ur.insertBefore(Xo,fo),Se.push(Xo)),Xo.appendChild(fo)}),Se},Bc=(T,P,K)=>{const Se=T.getStyle(P,"list-style-type");let Ve=K?K["list-style-type"]:"";return Ve=Ve===null?"":Ve,Se===Ve},Kp=(T,P)=>{const K=T.selection.getStart(!0),Se=If(T,P,!0,T.getBody());return qp(G.fromDom(Se),G.fromDom(P.commonAncestorContainer))?P.commonAncestorContainer:K},Yd=(T,P,K)=>{const Se=T.selection.getRng();let Ve="LI";const tn=lo(T,Kp(T,Se)),Ao=T.dom;if(Ao.getContentEditable(T.selection.getNode())==="false")return;P=P.toUpperCase(),P==="DL"&&(Ve="DT");const Xo=rs(Se),Uo=bo(Yl(T,Se,tn),T.dom.isEditable);Is.each(Uo,fo=>{let Ur;const Sa=fo.previousSibling,Fc=fo.parentNode;Or(Fc)||(Sa&&is(Sa)&&Sa.nodeName===P&&Bc(Ao,Sa,K)?(Ur=Sa,fo=Ao.rename(fo,Ve),Sa.appendChild(fo)):(Ur=Ao.create(P),Fc.insertBefore(Ur,fo),Ur.appendChild(fo),fo=Ao.rename(fo,Ve)),Ff(Ao,fo,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Cc(Ao,Ur,K),Xd(T.dom,Ur))}),T.selection.setRng(_c(Xo))},Ua=(T,P)=>is(T)&&T.nodeName===(P==null?void 0:P.nodeName),oi=(T,P,K)=>{const Se=T.getStyle(P,"list-style-type",!0),Ve=T.getStyle(K,"list-style-type",!0);return Se===Ve},$c=(T,P)=>T.className===P.className,ud=(T,P,K)=>Ua(P,K)&&oi(T,P,K)&&$c(P,K),Xd=(T,P)=>{let K,Se=P.nextSibling;if(ud(T,P,Se)){const Ve=Se;for(;K=Ve.firstChild;)P.appendChild(K);T.remove(Ve)}if(Se=P.previousSibling,ud(T,P,Se)){const Ve=Se;for(;K=Ve.lastChild;)P.insertBefore(K,P.firstChild);T.remove(Ve)}},Eg=(T,P,K,Se)=>{if(P.nodeName!==K){const Ve=T.dom.rename(P,K);Cc(T.dom,Ve,Se),Mc(T,nc(K),Ve)}else Cc(T.dom,P,Se),Mc(T,nc(K),P)},Jd=(T,P,K,Se)=>{if(P.classList.forEach((Ve,tn,Ao)=>{Ve.startsWith("tox-")&&(Ao.remove(Ve),Ao.length===0&&P.removeAttribute("class"))}),P.nodeName!==K){const Ve=T.dom.rename(P,K);Cc(T.dom,Ve,Se),Mc(T,nc(K),Ve)}else Cc(T.dom,P,Se),Mc(T,nc(K),P)},ll=(T,P,K,Se,Ve)=>{const tn=is(P);if(tn&&P.nodeName===Se&&!Qd(Ve)&&!bs(P))xg(T);else{Yd(T,Se,Ve);const Ao=rs(T.selection.getRng()),Xo=tn?[P,...K]:K,Uo=tn&&bs(P)?Jd:Eg;Is.each(Xo,fo=>{Uo(T,fo,Se,Ve)}),T.selection.setRng(_c(Ao))}},Qd=T=>"list-style-type"in T,Ay=(T,P,K,Se)=>{if(P!==T.getBody())if(P)if(P.nodeName===K&&!Qd(Se)&&!bs(P))xg(T);else{const Ve=rs(T.selection.getRng());bs(P)&&P.classList.forEach((Ao,Xo,Uo)=>{Ao.startsWith("tox-")&&(Uo.remove(Ao),Uo.length===0&&P.removeAttribute("class"))}),Cc(T.dom,P,Se);const tn=T.dom.rename(P,K);Xd(T.dom,tn),T.selection.setRng(_c(Ve)),Yd(T,K,Se),Mc(T,nc(K),tn)}else Yd(T,K,Se),Mc(T,nc(K),P)},Tg=(T,P,K)=>{const Se=ee(T);if(ba(T,Se))return;const Ve=Ut(T),tn=q(K)?K:{};Ve.length>0?ll(T,Se,Ve,P,tn):Ay(T,Se,P,tn)},Yp=Ds.DOM,Ag=(T,P)=>{const K=P.parentElement;if(K&&K.nodeName==="LI"&&K.firstChild===P){const Se=K.previousSibling;Se&&Se.nodeName==="LI"?(Se.appendChild(P),Ba(T,K)&&Yp.remove(K)):Yp.setStyle(K,"listStyleType","none")}if(is(K)){const Se=K.previousSibling;Se&&Se.nodeName==="LI"&&Se.appendChild(P)}},ef=(T,P)=>{const K=Is.grep(T.select("ol,ul",P));Is.each(K,Se=>{Ag(T,Se)})},dd=(T,P,K,Se)=>{let Ve=P.startContainer;const tn=P.startOffset;if(vo(Ve)&&(K?tn<Ve.data.length:tn>0))return Ve;const Ao=T.schema.getNonEmptyElements();cs(Ve)&&(Ve=Eo.getNode(Ve,tn));const Xo=new Bo(Ve,Se);K&&yi(T.dom,Ve)&&Xo.next();const Uo=K?Xo.next.bind(Xo):Xo.prev2.bind(Xo);for(;Ve=Uo();)if(Ve.nodeName==="LI"&&!Ve.hasChildNodes()||Ao[Ve.nodeName]||vo(Ve)&&Ve.data.length>0)return Ve;return null},Lf=(T,P)=>{const K=P.childNodes;return K.length===1&&!is(K[0])&&T.isBlock(K[0])},Hr=T=>vt.from(T).map(G.fromDom).filter(Ln).exists(P=>jo(P)&&!Tn(["details"],po(P))),Vr=(T,P)=>{Lf(T,P)&&Hr(P.firstChild)&&T.remove(P.firstChild,!0)},Eu=(T,P,K)=>{let Se;const Ve=Lf(T,K)?K.firstChild:K;if(Vr(T,P),!Ba(T,P,!0))for(;Se=P.firstChild;)Ve.appendChild(Se)},Qi=(T,P,K)=>{let Se;const Ve=P.parentNode;if(!Oa(T,P)||!Oa(T,K))return;is(K.lastChild)&&(Se=K.lastChild),Ve===K.lastChild&&Xa(Ve.previousSibling)&&T.remove(Ve.previousSibling);const tn=K.lastChild;tn&&Xa(tn)&&P.hasChildNodes()&&T.remove(tn),Ba(T,K,!0)&&Mt(G.fromDom(K)),Eu(T,P,K),Se&&K.appendChild(Se);const Xo=Oe(G.fromDom(K),G.fromDom(P))?T.getParents(P,is,K):[];T.remove(P),ke(Xo,Uo=>{Ba(T,Uo)&&Uo!==T.getRoot()&&T.remove(Uo)})},Og=(T,P,K)=>{Mt(G.fromDom(K)),Qi(T.dom,P,K),T.selection.setCursorLocation(K,0)},za=(T,P,K,Se)=>{const Ve=T.dom;if(Ve.isEmpty(Se))Og(T,K,Se);else{const tn=rs(P);Qi(Ve,K,Se),T.selection.setRng(_c(tn))}},uo=(T,P,K,Se)=>{const Ve=rs(P);Qi(T.dom,K,Se);const tn=_c(Ve);T.selection.setRng(tn)},Xl=(T,P)=>{const K=T.dom,Se=T.selection,Ve=Se.getStart(),tn=$e(T,Ve),Ao=K.getParent(Se.getStart(),"LI",tn);if(Ao){const Xo=Ao.parentElement;if(Xo===T.getBody()&&Ba(K,Xo))return!0;const Uo=Ra(Se.getRng()),fo=K.getParent(dd(T,Uo,P,tn),"LI",tn),Ur=fo&&(P?K.isChildOf(Ao,fo):K.isChildOf(fo,Ao));if(fo&&fo!==Ao&&!Ur)return T.undoManager.transact(()=>{P?za(T,Uo,fo,Ao):Rs(Ao)?Cu(T):uo(T,Uo,Ao,fo)}),!0;if(Ur&&!P&&fo!==Ao)return T.undoManager.transact(()=>{if(Uo.commonAncestorContainer.parentElement){const Sa=rs(Uo),Fc=Uo.commonAncestorContainer.parentElement;Eu(K,Uo.commonAncestorContainer.parentElement,fo),Fc.remove();const zu=_c(Sa);T.selection.setRng(zu)}}),!0;if(!fo&&!P&&Uo.startOffset===0&&Uo.endOffset===0)return T.undoManager.transact(()=>{xg(T)}),!0}return!1},Dg=(T,P,K)=>{const Se=T.getParent(P.parentNode,T.isBlock,K);T.remove(P),Se&&T.isEmpty(Se)&&T.remove(Se)},Ii=(T,P)=>{const K=T.dom,Se=T.selection.getStart(),Ve=$e(T,Se),tn=K.getParent(Se,K.isBlock,Ve);if(tn&&K.isEmpty(tn,void 0,{checkRootAsContent:!0})){const Ao=Ra(T.selection.getRng()),Xo=K.getParent(dd(T,Ao,P,Ve),"LI",Ve);if(Xo){const Uo=Fc=>Tn(["td","th","caption"],po(Fc)),fo=Fc=>Fc.dom===Ve,Ur=Qe(G.fromDom(Xo),Uo,fo),Sa=Qe(G.fromDom(Ao.startContainer),Uo,fo);return Pe(Ur,Sa,Ce)?(T.undoManager.transact(()=>{const Fc=Xo.parentNode;Dg(K,tn,Ve),Xd(K,Fc),T.selection.select(Xo,!0),T.selection.collapse(P)}),!0):!1}}return!1},$s=(T,P)=>Xl(T,P)||Ii(T,P),Tu=T=>{const P=T.selection.getStart(),K=$e(T,P);return T.dom.getParent(P,"LI,DT,DD",K)||V(T).length>0},Hf=T=>Tu(T)?(T.undoManager.transact(()=>{let P=!0;const K=()=>P=!1;T.on("input",K),T.execCommand("Delete"),T.off("input",K),P&&T.dispatch("input"),ef(T.dom,T.getBody())}),!0):!1,Om=(T,P)=>{const K=T.selection;return!ba(T,K.getNode())&&(K.isCollapsed()?$s(T,P):Hf(T))},Rg=T=>{T.on("ExecCommand",P=>{const K=P.command.toLowerCase();(K==="delete"||K==="forwarddelete")&&Tu(T)&&ef(T.dom,T.getBody())}),T.on("keydown",P=>{P.keyCode===ir.BACKSPACE?Om(T,!1)&&P.preventDefault():P.keyCode===ir.DELETE&&Om(T,!0)&&P.preventDefault()})},Jo=T=>({backspaceDelete:P=>{Om(T,P)}}),da=(T,P)=>{const K=ee(T);K===null||ba(T,K)||T.undoManager.transact(()=>{q(P.styles)&&T.dom.setStyles(K,P.styles),q(P.attrs)&&ze(P.attrs,(Se,Ve)=>T.dom.setAttrib(K,Ve,Se))})},Au=T=>{const P=Gt(va(T).split("")),K=at(P,(Se,Ve)=>{const tn=Se.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,Ve)*tn});return Ye(K,(Se,Ve)=>Se+Ve,0)},Ou=T=>{if(T--,T<0)return"";{const P=T%26,K=Math.floor(T/26),Se=Ou(K),Ve=String.fromCharCode(65+P);return Se+Ve}},Ci=T=>/^[A-Z]+$/.test(T),si=T=>/^[a-z]+$/.test(T),Li=T=>/^[0-9]+$/.test(T),dr=T=>Li(T)?2:Ci(T)?0:si(T)?1:Fi(T)?3:4,el=T=>{switch(dr(T)){case 2:return vt.some({listStyleType:vt.none(),start:T});case 0:return vt.some({listStyleType:vt.some("upper-alpha"),start:Au(T).toString()});case 1:return vt.some({listStyleType:vt.some("lower-alpha"),start:Au(T).toString()});case 3:return vt.some({listStyleType:vt.none(),start:""});case 4:return vt.none()}},fd=T=>{const P=parseInt(T.start,10);return rn(T.listStyleType,"upper-alpha")?Ou(P):rn(T.listStyleType,"lower-alpha")?Ou(P).toLowerCase():T.start},$a=T=>{const P=ee(T);!Qr(P)||ba(T,P)||T.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:fd({start:T.dom.getAttrib(P,"start","1"),listStyleType:vt.from(T.dom.getStyle(P,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:K=>{const Se=K.getData();el(Se.start).each(Ve=>{T.execCommand("mceListUpdate",!1,{attrs:{start:Ve.start==="1"?"":Ve.start},styles:{"list-style-type":Ve.listStyleType.getOr("")}})}),K.close()}})},ul=(T,P)=>()=>{const K=ee(T);return Xe(K)&&K.nodeName===P},oa=T=>{T.addCommand("mceListProps",()=>{$a(T)})},Du=T=>{T.on("BeforeExecCommand",P=>{const K=P.command.toLowerCase();K==="indent"?Tm(T):K==="outdent"&&Cu(T)}),T.addCommand("InsertUnorderedList",(P,K)=>{Tg(T,"UL",K)}),T.addCommand("InsertOrderedList",(P,K)=>{Tg(T,"OL",K)}),T.addCommand("InsertDefinitionList",(P,K)=>{Tg(T,"DL",K)}),T.addCommand("RemoveList",()=>{xg(T)}),oa(T),T.addCommand("mceListUpdate",(P,K)=>{q(K)&&da(T,K)}),T.addQueryStateHandler("InsertUnorderedList",ul(T,"UL")),T.addQueryStateHandler("InsertOrderedList",ul(T,"OL")),T.addQueryStateHandler("InsertDefinitionList",ul(T,"DL"))};var tf=tinymce.util.Tools.resolve("tinymce.html.Node");const nr=T=>T.type===3,dl=T=>T.length===0,Dm=T=>{const P=(Ve,tn)=>{const Ao=tf.create("li");ke(Ve,Xo=>Ao.append(Xo)),tn?T.insert(Ao,tn,!0):T.append(Ao)},K=(Ve,tn)=>nr(tn)?[...Ve,tn]:!dl(Ve)&&!nr(tn)?(P(Ve,tn),[]):Ve,Se=Ye(T.children(),K,[]);dl(Se)||P(Se)},Jl=T=>{T.on("PreInit",()=>{const{parser:P}=T;P.addNodeFilter("ul,ol",K=>ke(K,Dm))})},br=T=>{T.on("keydown",P=>{P.keyCode!==ir.TAB||ir.metaKeyPressed(P)||T.undoManager.transact(()=>{(P.shiftKey?Cu(T):Tm(T))&&P.preventDefault()})})},Ru=T=>{Mi(T)&&br(T),Rg(T)},ri=(T,P)=>K=>{const Se=Ve=>{K.setActive(Ls(Ve.parents,P)),K.setEnabled(!ba(T,Ve.element)&&T.selection.isEditable())};return K.setEnabled(T.selection.isEditable()),$i(T,Se)},nf=T=>{const P=K=>()=>T.execCommand(K);T.hasPlugin("advlist")||(T.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:P("InsertOrderedList"),onSetup:ri(T,"OL")}),T.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:P("InsertUnorderedList"),onSetup:ri(T,"UL")}))},fs=(T,P)=>K=>$i(T,Ve=>K.setEnabled(Ls(Ve.parents,P)&&!ba(T,Ve.element))),of=T=>{const P={text:"List properties...",icon:"ordered-list",onAction:()=>T.execCommand("mceListProps"),onSetup:fs(T,"OL")};T.ui.registry.addMenuItem("listprops",P),T.ui.registry.addContextMenu("lists",{update:K=>{const Se=ee(T,K);return Qr(Se)?["listprops"]:[]}})};var Rm=()=>{p.add("lists",T=>(Qa(T),Jl(T),T.hasPlugin("rtc",!0)?oa(T):(Ru(T),Du(T)),nf(T),of(T),Jo(T)))};Rm()})();(function(){var p=tinymce.util.Tools.resolve("tinymce.PluginManager");const E=(re=>de=>re===de)(null),z=re=>re,F=(re,de)=>{const De=re.length,G=new Array(De);for(let pe=0;pe<De;pe++){const Ce=re[pe];G[pe]=de(Ce,pe)}return G},q={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\uFEFF￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:"[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"},Y={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},Re=[new RegExp(q.aletter),new RegExp(q.midnumlet),new RegExp(q.midletter),new RegExp(q.midnum),new RegExp(q.numeric),new RegExp(q.cr),new RegExp(q.lf),new RegExp(q.newline),new RegExp(q.extend),new RegExp(q.format),new RegExp(q.katakana),new RegExp(q.extendnumlet),new RegExp("@")],Ue="",Xe=new RegExp("^"+q.punctuation+"$"),$t=/^\s+$/,zt=Re,Bt=Y.OTHER,lt=re=>{let de=Bt;const De=zt.length;for(let G=0;G<De;++G){const pe=zt[G];if(pe&&pe.test(re)){de=G;break}}return de},It=re=>{const de={};return De=>{if(de[De])return de[De];{const G=re(De);return de[De]=G,G}}},Me=re=>{const de=It(lt);return F(re,de)},tt=(re,de)=>{const De=re[de],G=re[de+1];if(de<0||de>re.length-1&&de!==0||De===Y.ALETTER&&G===Y.ALETTER)return!1;const pe=re[de+2];if(De===Y.ALETTER&&(G===Y.MIDLETTER||G===Y.MIDNUMLET||G===Y.AT)&&pe===Y.ALETTER)return!1;const Ce=re[de-1];return(De===Y.MIDLETTER||De===Y.MIDNUMLET||G===Y.AT)&&G===Y.ALETTER&&Ce===Y.ALETTER||(De===Y.NUMERIC||De===Y.ALETTER)&&(G===Y.NUMERIC||G===Y.ALETTER)||(De===Y.MIDNUM||De===Y.MIDNUMLET)&&G===Y.NUMERIC&&Ce===Y.NUMERIC||De===Y.NUMERIC&&(G===Y.MIDNUM||G===Y.MIDNUMLET)&&pe===Y.NUMERIC||(De===Y.EXTEND||De===Y.FORMAT)&&(G===Y.ALETTER||G===Y.NUMERIC||G===Y.KATAKANA||G===Y.EXTEND||G===Y.FORMAT)||(G===Y.EXTEND||G===Y.FORMAT&&(pe===Y.ALETTER||pe===Y.NUMERIC||pe===Y.KATAKANA||pe===Y.EXTEND||pe===Y.FORMAT))&&(De===Y.ALETTER||De===Y.NUMERIC||De===Y.KATAKANA||De===Y.EXTEND||De===Y.FORMAT)||De===Y.CR&&G===Y.LF?!1:De===Y.NEWLINE||De===Y.CR||De===Y.LF||G===Y.NEWLINE||G===Y.CR||G===Y.LF?!0:!(De===Y.KATAKANA&&G===Y.KATAKANA||G===Y.EXTENDNUMLET&&(De===Y.ALETTER||De===Y.NUMERIC||De===Y.KATAKANA||De===Y.EXTENDNUMLET)||De===Y.EXTENDNUMLET&&(G===Y.ALETTER||G===Y.NUMERIC||G===Y.KATAKANA)||De===Y.AT)},qe=Ue,ae=$t,vt=Xe,Pn=re=>re==="http"||re==="https",Nt=(re,de)=>{let De;for(De=de;De<re.length&&!ae.test(re[De]);De++);return De},J=(re,de)=>{const De=Nt(re,de+1);return re.slice(de+1,De).join(qe).substr(0,3)==="://"?De:de},Zt=(re,de,De,G)=>{const pe=[],Ce=[];let Oe=[];for(let Tt=0;Tt<De.length;++Tt)if(Oe.push(re[Tt]),tt(De,Tt)){const Ie=de[Tt];if((G.includeWhitespace||!ae.test(Ie))&&(G.includePunctuation||!vt.test(Ie))){const ut=Tt-Oe.length+1,Lt=Tt+1,Sn=de.slice(ut,Lt).join(qe);if(Pn(Sn)){const rt=J(de,Tt),ft=re.slice(Lt,rt);Array.prototype.push.apply(Oe,ft),Tt=rt}de[Tt+1]==="."&&/^([a-zA-Z]\.)+$/.test(Sn+".")?(Oe.push(re[Tt+1]),Ce.push({start:ut,end:Lt+1})):Ce.push({start:ut,end:Lt}),pe.push(Oe)}Oe=[]}return{words:pe,indices:Ce}},Tn=()=>({includeWhitespace:!1,includePunctuation:!1}),gn=(re,de,De)=>{De=ie(ie({},Tn()),De);const G=F(re,de),pe=Me(G);return Zt(re,G,pe,De)},ke=(re,de,De)=>gn(re,de,De).words,bo=re=>re.replace(/\uFEFF/g,"");var We=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Ye=(re,de)=>{const De=de.getBlockElements(),G=de.getVoidElements(),pe=ut=>De[ut.nodeName]||G[ut.nodeName],Ce=[];let Oe="";const Tt=new We(re,re);let Ie;for(;Ie=Tt.next();)Ie.nodeType===3?Oe+=bo(Ie.data):pe(Ie)&&Oe.length&&(Ce.push(Oe),Oe="");return Oe.length&&Ce.push(Oe),Ce},x=re=>re.replace(/\u200B/g,""),bt=re=>re.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,_e=(re,de)=>{const De=x(Ye(re,de).join(`
`));return ke(De.split(""),z).length},Ht=(re,de)=>{const De=Ye(re,de).join("");return bt(De)},Gt=(re,de)=>{const De=Ye(re,de).join("").replace(/\s/g,"");return bt(De)},Te=(re,de)=>()=>de(re.getBody(),re.schema),Vt=(re,de)=>()=>de(re.selection.getRng().cloneContents(),re.schema),En=re=>Te(re,_e),et=re=>({body:{getWordCount:En(re),getCharacterCount:Te(re,Ht),getCharacterCountWithoutSpaces:Te(re,Gt)},selection:{getWordCount:Vt(re,_e),getCharacterCount:Vt(re,Ht),getCharacterCountWithoutSpaces:Vt(re,Gt)},getCount:En(re)}),rn=(re,de)=>{re.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(de.body.getWordCount()),String(de.selection.getWordCount())],["Characters (no spaces)",String(de.body.getCharacterCountWithoutSpaces()),String(de.selection.getCharacterCountWithoutSpaces())],["Characters",String(de.body.getCharacterCount()),String(de.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},Pe=(re,de)=>{re.addCommand("mceWordCount",()=>rn(re,de))},gt=(re,de)=>{let De=null;return{cancel:()=>{E(De)||(clearTimeout(De),De=null)},throttle:(...Ce)=>{E(De)&&(De=setTimeout(()=>{De=null,re.apply(null,Ce)},de))}}};var U=tinymce.util.Tools.resolve("tinymce.util.Delay");const ko=(re,de)=>{re.dispatch("wordCountUpdate",{wordCount:{words:de.body.getWordCount(),characters:de.body.getCharacterCount(),charactersWithoutSpaces:de.body.getCharacterCountWithoutSpaces()}})},wt=(re,de)=>{ko(re,de)},Yt=(re,de,De)=>{const G=gt(()=>wt(re,de),De);re.on("init",()=>{wt(re,de),U.setEditorTimeout(re,()=>{re.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",G.throttle)},0),re.on("remove",G.cancel)})},st=re=>{const de=()=>re.execCommand("mceWordCount");re.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:de,context:"any"}),re.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:de,context:"any"})};var Dt=(re=300)=>{p.add("wordcount",de=>{const De=et(de);return Pe(de,De),st(de),Yt(de,De,re),De})};Dt()})();(function(){const p=Ie=>{let ut=Ie;return{get:()=>ut,set:rt=>{ut=rt}}};var v=tinymce.util.Tools.resolve("tinymce.PluginManager");const E=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let z=0;const F=Ie=>{const Lt=new Date().getTime(),Sn=Math.floor(E()*1e9);return z++,Ie+"_"+Sn+z+String(Lt)},H=Ie=>({addTab:Lt=>{var Sn;const rt=(Sn=Lt.name)!==null&&Sn!==void 0?Sn:F("tab-name"),ft=Ie.get();ft[rt]=Lt,Ie.set(ft)}}),q=(Ie,ut)=>{Ie.addCommand("mceHelp",ut)},Y=Ie=>ut=>ut.options.get(Ie),Re=Ie=>{const ut=Ie.options.register;ut("help_tabs",{processor:"array"})},Ue=Y("help_tabs"),Xe=Y("forced_plugins"),$t=(Ie,ut)=>{Ie.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:ut,context:"any"}),Ie.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:ut,context:"any"})},zt=(Ie,ut,Lt)=>{var Sn;return Lt(Ie,ut.prototype)?!0:((Sn=Ie.constructor)===null||Sn===void 0?void 0:Sn.name)===ut.name},Bt=Ie=>{const ut=typeof Ie;return Ie===null?"null":ut==="object"&&Array.isArray(Ie)?"array":ut==="object"&&zt(Ie,String,(Lt,Sn)=>Sn.isPrototypeOf(Lt))?"string":ut},lt=Ie=>ut=>Bt(ut)===Ie,It=Ie=>ut=>typeof ut===Ie,Me=Ie=>ut=>Ie===ut,tt=lt("string"),qe=Me(void 0),ae=Ie=>Ie==null,vt=Ie=>!ae(Ie),Pn=It("function"),J=(Ie=>()=>Ie)(!1);class Zt{constructor(ut,Lt){this.tag=ut,this.value=Lt}static some(ut){return new Zt(!0,ut)}static none(){return Zt.singletonNone}fold(ut,Lt){return this.tag?Lt(this.value):ut()}isSome(){return this.tag}isNone(){return!this.tag}map(ut){return this.tag?Zt.some(ut(this.value)):Zt.none()}bind(ut){return this.tag?ut(this.value):Zt.none()}exists(ut){return this.tag&&ut(this.value)}forall(ut){return!this.tag||ut(this.value)}filter(ut){return!this.tag||ut(this.value)?this:Zt.none()}getOr(ut){return this.tag?this.value:ut}or(ut){return this.tag?this:ut}getOrThunk(ut){return this.tag?this.value:ut()}orThunk(ut){return this.tag?this:ut()}getOrDie(ut){if(this.tag)return this.value;throw new Error(ut!=null?ut:"Called getOrDie on None")}static from(ut){return vt(ut)?Zt.some(ut):Zt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ut){this.tag&&ut(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Zt.singletonNone=new Zt(!1);const Tn=Array.prototype.slice,gn=Array.prototype.indexOf,at=(Ie,ut)=>gn.call(Ie,ut),ke=(Ie,ut)=>at(Ie,ut)>-1,bo=(Ie,ut)=>{const Lt=Ie.length,Sn=new Array(Lt);for(let rt=0;rt<Lt;rt++){const ft=Ie[rt];Sn[rt]=ut(ft,rt)}return Sn},We=(Ie,ut)=>{const Lt=[];for(let Sn=0,rt=Ie.length;Sn<rt;Sn++){const ft=Ie[Sn];ut(ft,Sn)&&Lt.push(ft)}return Lt},Ye=(Ie,ut,Lt)=>{for(let Sn=0,rt=Ie.length;Sn<rt;Sn++){const ft=Ie[Sn];if(ut(ft,Sn))return Zt.some(ft);if(Lt(ft,Sn))break}return Zt.none()},x=(Ie,ut)=>Ye(Ie,ut,J),bt=(Ie,ut)=>{const Lt=Tn.call(Ie,0);return Lt.sort(ut),Lt},_e=Object.keys,Ht=Object.hasOwnProperty,Gt=(Ie,ut)=>Te(Ie,ut)?Zt.from(Ie[ut]):Zt.none(),Te=(Ie,ut)=>Ht.call(Ie,ut),Vt=Ie=>{const ut=[],Lt=Sn=>{ut.push(Sn)};for(let Sn=0;Sn<Ie.length;Sn++)Ie[Sn].each(Lt);return ut};var En=tinymce.util.Tools.resolve("tinymce.Resource"),et=tinymce.util.Tools.resolve("tinymce.util.I18n");const rn=(Ie,ut)=>En.load(`tinymce.html-i18n.help-keynav.${ut}`,`${Ie}/js/i18n/keynav/${ut}.js`),Pe=Ie=>rn(Ie,et.getCode()).catch(()=>rn(Ie,"en")),gt=(Ie,ut)=>{Ie.on("init",()=>{Pe(ut)})},U=Ie=>Nf(this,null,function*(){return{name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:yield Pe(Ie)}]}});var ko=tinymce.util.Tools.resolve("tinymce.Env");const wt=Ie=>{const ut=ko.os.isMacOS()||ko.os.isiOS(),rt=ut?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl ",access:"Shift + Alt "},ft=Ie.split("+"),an=bo(ft,pn=>{const po=pn.toLowerCase().trim();return Te(rt,po)?rt[po]:pn});return ut?an.join("").replace(/\s/,""):an.join("+")},Yt=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Alt + F12"],action:"Focus to notification"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],st=()=>{const Ie=bo(Yt,Lt=>{const Sn=bo(Lt.shortcuts,wt).join(" or ");return[Lt.action,Sn]});return{name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:Ie}]}},Dt=bo([{key:"accordion",name:"Accordion"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"image",name:"Image"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"advlist",name:"List Styles"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"pagebreak",name:"Page Break"},{key:"preview",name:"Preview"},{key:"quickbars",name:"Quick Toolbars"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"table",name:"Table"},{key:"textcolor",name:"Text Color"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"a11ychecker",name:"Accessibility Checker",type:"premium"},{key:"typography",name:"Advanced Typography",type:"premium",slug:"advanced-typography"},{key:"ai",name:"AI Assistant",type:"premium"},{key:"casechange",name:"Case Change",type:"premium"},{key:"checklist",name:"Checklist",type:"premium"},{key:"advcode",name:"Enhanced Code Editor",type:"premium"},{key:"mediaembed",name:"Enhanced Media Embed",type:"premium",slug:"introduction-to-mediaembed"},{key:"advtable",name:"Enhanced Tables",type:"premium"},{key:"exportpdf",name:"Export to PDF",type:"premium"},{key:"exportword",name:"Export to Word",type:"premium"},{key:"footnotes",name:"Footnotes",type:"premium"},{key:"formatpainter",name:"Format Painter",type:"premium"},{key:"editimage",name:"Image Editing",type:"premium"},{key:"importword",name:"Import from Word",type:"premium"},{key:"inlinecss",name:"Inline CSS",type:"premium",slug:"inline-css"},{key:"linkchecker",name:"Link Checker",type:"premium"},{key:"math",name:"Math",type:"premium"},{key:"markdown",name:"Markdown",type:"premium"},{key:"mentions",name:"Mentions",type:"premium"},{key:"mergetags",name:"Merge Tags",type:"premium"},{key:"pageembed",name:"Page Embed",type:"premium"},{key:"permanentpen",name:"Permanent Pen",type:"premium"},{key:"powerpaste",name:"PowerPaste",type:"premium",slug:"introduction-to-powerpaste"},{key:"revisionhistory",name:"Revision History",type:"premium"},{key:"tinymcespellchecker",name:"Spell Checker",type:"premium",slug:"introduction-to-tiny-spellchecker"},{key:"autocorrect",name:"Spelling Autocorrect",type:"premium"},{key:"tableofcontents",name:"Table of Contents",type:"premium"},{key:"advtemplate",name:"Templates",type:"premium",slug:"advanced-templates"},{key:"tinycomments",name:"Tiny Comments",type:"premium",slug:"introduction-to-tiny-comments"},{key:"tinydrive",name:"Tiny Drive",type:"premium",slug:"tinydrive-introduction"}],Ie=>Pt(ie({},Ie),{type:Ie.type||"opensource",slug:Ie.slug||Ie.key})),re=Ie=>{const ut=()=>{const Un=We(Dt,({type:Ln})=>Ln==="premium"),Vn=bt(bo(Un,Ln=>Ln.name),(Ln,Wo)=>Ln.localeCompare(Wo)),Ho=bo(Vn,Ln=>`<li>${Ln}</li>`).join("");return"<div><p><b>"+et.translate("Premium plugins:")+"</b></p><ul>"+Ho+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=help_dialog_plugin_tab&utm_source=tiny&utm_medium=referral&utm_term=read_more&utm_content=premium_plugin_heading" rel="noopener" target="_blank" data-alloy-tabstop="true" tabindex="-1">'+et.translate("Learn more...")+"</a></li></ul></div>"},Lt=Un=>`<a data-alloy-tabstop="true" tabindex="-1" href="${Un.url}" target="_blank" rel="noopener">${Un.name}</a>`,Sn=(Un,Vn)=>{const Ho=Un.plugins[Vn].getMetadata;if(Pn(Ho)){const Ln=Ho();return{name:Ln.name,html:Lt(Ln)}}else return{name:Vn,html:Vn}},rt=(Un,Vn)=>x(Dt,Ho=>Ho.key===Vn).fold(()=>Sn(Un,Vn),Ho=>{const Ln=Ho.type==="premium"?`${Ho.name}*`:Ho.name,Wo=Lt({name:Ln,url:`https://www.tiny.cloud/docs/tinymce/7/${Ho.slug}/`});return{name:Ln,html:Wo}}),ft=Un=>{const Vn=_e(Un.plugins),Ho=Xe(Un);return qe(Ho)?Vn:We(Vn,Ln=>!ke(Ho,Ln))},an=Un=>{const Vn=ft(Un),Ho=bt(bo(Vn,Gs=>rt(Un,Gs)),(Gs,_o)=>Gs.name.localeCompare(_o.name)),Ln=bo(Ho,Gs=>"<li>"+Gs.html+"</li>"),Wo=Ln.length,_s=Ln.join("");return"<p><b>"+et.translate(["Plugins installed ({0}):",Wo])+"</b></p><ul>"+_s+"</ul>"};return{name:"plugins",title:"Plugins",items:[{type:"htmlpanel",presets:"document",html:[(Un=>Un==null?"":"<div>"+an(Un)+"</div>")(Ie),ut()].join("")}]}};var de=tinymce.util.Tools.resolve("tinymce.EditorManager");const De=()=>{const Lt='<a data-alloy-tabstop="true" tabindex="-1" href="https://www.tiny.cloud/docs/tinymce/7/changelog/?utm_campaign=help_dialog_version_tab&utm_source=tiny&utm_medium=referral" rel="noopener" target="_blank">TinyMCE '+((rt,ft)=>rt.indexOf("@")===0?"X.X.X":rt+"."+ft)(de.majorVersion,de.minorVersion)+"</a>";return{name:"versions",title:"Version",items:[{type:"htmlpanel",html:"<p>"+et.translate(["You are using {0}",Lt])+"</p>",presets:"document"}]}},G=(Ie,ut)=>{const Lt={},Sn=bo(Ie,rt=>{var ft;if(tt(rt))return Te(ut,rt)&&(Lt[rt]=ut[rt]),rt;{const an=(ft=rt.name)!==null&&ft!==void 0?ft:F("tab-name");return Lt[an]=rt,an}});return{tabs:Lt,names:Sn}},pe=Ie=>{const ut=_e(Ie),Lt=ut.indexOf("versions");return Lt!==-1&&(ut.splice(Lt,1),ut.push("versions")),{tabs:Ie,names:ut}},Ce=(Ie,ut,Lt)=>Nf(this,null,function*(){const Sn=st(),rt=yield U(Lt),ft=re(Ie),an=De(),pn=ie({[Sn.name]:Sn,[rt.name]:rt,[ft.name]:ft,[an.name]:an},ut.get());return Zt.from(Ue(Ie)).fold(()=>pe(pn),po=>G(po,pn))}),Oe=(Ie,ut,Lt)=>()=>{Ce(Ie,ut,Lt).then(({tabs:Sn,names:rt})=>{const ft=bo(rt,po=>Gt(Sn,po)),pn={type:"tabpanel",tabs:Vt(ft)};Ie.windowManager.open({title:"Help",size:"medium",body:pn,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})})};var Tt=()=>{v.add("help",(Ie,ut)=>{const Lt=p({}),Sn=H(Lt);Re(Ie);const rt=Oe(Ie,Lt,ut);return $t(Ie,rt),q(Ie,rt),Ie.shortcuts.add("Alt+0","Open help dialog","mceHelp"),gt(Ie,ut),Sn})};Tt()})();tinymce.Resource.add("tinymce.html-i18n.help-keynav.en",`<h1>Begin keyboard navigation</h1>

<dl>
  <dt>Focus the Menu bar</dt>
  <dd>Windows or Linux: Alt+F9</dd>
  <dd>macOS: &#x2325;F9</dd>
  <dt>Focus the Toolbar</dt>
  <dd>Windows or Linux: Alt+F10</dd>
  <dd>macOS: &#x2325;F10</dd>
  <dt>Focus the footer</dt>
  <dd>Windows or Linux: Alt+F11</dd>
  <dd>macOS: &#x2325;F11</dd>
  <dt>Focus the notification</dt>
  <dd>Windows or Linux: Alt+F12</dd>
  <dd>macOS: &#x2325;F12</dd>
  <dt>Focus a contextual toolbar</dt>
  <dd>Windows, Linux or macOS: Ctrl+F9</dd>
</dl>

<p>Navigation will start at the first UI item, which will be highlighted, or underlined in the case of the first item in
  the Footer element path.</p>

<h1>Navigate between UI sections</h1>

<p>To move from one UI section to the next, press <strong>Tab</strong>.</p>

<p>To move from one UI section to the previous, press <strong>Shift+Tab</strong>.</p>

<p>The <strong>Tab</strong> order of these UI sections is:</p>

<ol>
  <li>Menu bar</li>
  <li>Each toolbar group</li>
  <li>Sidebar</li>
  <li>Element path in the footer</li>
  <li>Word count toggle button in the footer</li>
  <li>Branding link in the footer</li>
  <li>Editor resize handle in the footer</li>
</ol>

<p>If a UI section is not present, it is skipped.</p>

<p>If the footer has keyboard navigation focus, and there is no visible sidebar, pressing <strong>Shift+Tab</strong>
  moves focus to the first toolbar group, not the last.</p>

<h1>Navigate within UI sections</h1>

<p>To move from one UI element to the next, press the appropriate <strong>Arrow</strong> key.</p>

<p>The <strong>Left</strong> and <strong>Right</strong> arrow keys</p>

<ul>
  <li>move between menus in the menu bar.</li>
  <li>open a sub-menu in a menu.</li>
  <li>move between buttons in a toolbar group.</li>
  <li>move between items in the footer’s element path.</li>
</ul>

<p>The <strong>Down</strong> and <strong>Up</strong> arrow keys</p>

<ul>
  <li>move between menu items in a menu.</li>
  <li>move between items in a toolbar pop-up menu.</li>
</ul>

<p><strong>Arrow</strong> keys cycle within the focused UI section.</p>

<p>To close an open menu, an open sub-menu, or an open pop-up menu, press the <strong>Esc</strong> key.</p>

<p>If the current focus is at the ‘top’ of a particular UI section, pressing the <strong>Esc</strong> key also exits
  keyboard navigation entirely.</p>

<h1>Execute a menu item or toolbar button</h1>

<p>When the desired menu item or toolbar button is highlighted, press <strong>Return</strong>, <strong>Enter</strong>,
  or the <strong>Space bar</strong> to execute the item.</p>

<h1>Navigate non-tabbed dialogs</h1>

<p>In non-tabbed dialogs, the first interactive component takes focus when the dialog opens.</p>

<p>Navigate between interactive dialog components by pressing <strong>Tab</strong> or <strong>Shift+Tab</strong>.</p>

<h1>Navigate tabbed dialogs</h1>

<p>In tabbed dialogs, the first button in the tab menu takes focus when the dialog opens.</p>

<p>Navigate between interactive components of this dialog tab by pressing <strong>Tab</strong> or
  <strong>Shift+Tab</strong>.</p>

<p>Switch to another dialog tab by giving the tab menu focus and then pressing the appropriate <strong>Arrow</strong>
  key to cycle through the available tabs.</p>
`);(function(){var p=tinymce.util.Tools.resolve("tinymce.PluginManager");const v=(st,Dt,re)=>{var de;return re(st,Dt.prototype)?!0:((de=st.constructor)===null||de===void 0?void 0:de.name)===Dt.name},E=st=>{const Dt=typeof st;return st===null?"null":Dt==="object"&&Array.isArray(st)?"array":Dt==="object"&&v(st,String,(re,de)=>de.isPrototypeOf(re))?"string":Dt},z=st=>Dt=>E(Dt)===st,F=st=>Dt=>typeof Dt===st,H=z("string"),q=F("boolean"),Y=st=>st==null,Re=st=>!Y(st),Ue=F("function"),Xe=st=>Dt=>Dt.options.get(st),$t=st=>{const Dt=st.options.register,re=pe=>Ce=>{const Oe=q(Ce)||H(Ce);return Oe?q(Ce)?{value:Ce?pe:"",valid:Oe}:{value:Ce.trim(),valid:Oe}:{valid:!1,message:"Must be a boolean or string."}},de="bold italic | quicklink h2 h3 blockquote";Dt("quickbars_selection_toolbar",{processor:re(de),default:de});const De="quickimage quicktable";Dt("quickbars_insert_toolbar",{processor:re(De),default:De});const G="alignleft aligncenter alignright";Dt("quickbars_image_toolbar",{processor:re(G),default:G})},zt=Xe("quickbars_selection_toolbar"),Bt=Xe("quickbars_insert_toolbar"),lt=Xe("quickbars_image_toolbar"),It=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Me=0;const tt=st=>{const re=new Date().getTime(),de=Math.floor(It()*1e9);return Me++,st+"_"+de+Me+String(re)},qe=(st,Dt,re)=>{st.execCommand("mceInsertTable",!1,{rows:re,columns:Dt})},ae=(st,Dt,re)=>{const de=st.editorUpload.blobCache,De=de.create(tt("mceu"),re,Dt);de.add(De),st.insertContent(st.dom.createHTML("img",{src:De.blobUri()}))},vt=st=>new Promise(Dt=>{const re=new FileReader;re.onloadend=()=>{Dt(re.result.split(",")[1])},re.readAsDataURL(st)});var Pn=tinymce.util.Tools.resolve("tinymce.util.Delay");const Nt=st=>new Promise(Dt=>{let re=!1;const de=document.createElement("input");de.type="file",de.accept="image/*",de.style.position="fixed",de.style.left="0",de.style.top="0",de.style.opacity="0.001",document.body.appendChild(de);const De=Ce=>{var Oe;re||((Oe=de.parentNode)===null||Oe===void 0||Oe.removeChild(de),re=!0,Dt(Ce))},G=Ce=>{De(Array.prototype.slice.call(Ce.target.files))};de.addEventListener("input",G),de.addEventListener("change",G);const pe=Ce=>{const Oe=()=>{De([])};re||(Ce.type==="focusin"?Pn.setEditorTimeout(st,Oe,1e3):Oe()),st.off("focusin remove",pe)};st.on("focusin remove",pe),de.click()}),J=st=>{st.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:()=>{Nt(st).then(Dt=>{if(Dt.length>0){const re=Dt[0];vt(re).then(de=>{ae(st,de,re)})}})}}),st.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:()=>{qe(st,2,2)}})},Tn=(st=>()=>st)(!1);class gn{constructor(Dt,re){this.tag=Dt,this.value=re}static some(Dt){return new gn(!0,Dt)}static none(){return gn.singletonNone}fold(Dt,re){return this.tag?re(this.value):Dt()}isSome(){return this.tag}isNone(){return!this.tag}map(Dt){return this.tag?gn.some(Dt(this.value)):gn.none()}bind(Dt){return this.tag?Dt(this.value):gn.none()}exists(Dt){return this.tag&&Dt(this.value)}forall(Dt){return!this.tag||Dt(this.value)}filter(Dt){return!this.tag||Dt(this.value)?this:gn.none()}getOr(Dt){return this.tag?this.value:Dt}or(Dt){return this.tag?this:Dt}getOrThunk(Dt){return this.tag?this.value:Dt()}orThunk(Dt){return this.tag?this:Dt()}getOrDie(Dt){if(this.tag)return this.value;throw new Error(Dt!=null?Dt:"Called getOrDie on None")}static from(Dt){return Re(Dt)?gn.some(Dt):gn.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Dt){this.tag&&Dt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}gn.singletonNone=new gn(!1),typeof window!="undefined"||Function("return this;")();const at=1,ke=st=>st.dom.nodeName.toLowerCase(),bo=(st,Dt)=>{const re=st.dom;return re&&re.hasAttribute?re.hasAttribute(Dt):!1};var We=(st,Dt,re,de,De)=>st(re,de)?gn.some(re):Ue(De)&&De(re)?gn.none():Dt(re,de,De);const Ye=(st,Dt)=>{const de=(Dt||document).createElement("div");if(de.innerHTML=st,!de.hasChildNodes()||de.childNodes.length>1){const De="HTML does not have a single root node";throw console.error(De,st),new Error(De)}return _e(de.childNodes[0])},x=(st,Dt)=>{const de=(Dt||document).createElement(st);return _e(de)},bt=(st,Dt)=>{const de=(Dt||document).createTextNode(st);return _e(de)},_e=st=>{if(st==null)throw new Error("Node cannot be null or undefined");return{dom:st}},Gt={fromHtml:Ye,fromTag:x,fromText:bt,fromDom:_e,fromPoint:(st,Dt,re)=>gn.from(st.dom.elementFromPoint(Dt,re)).map(_e)},Te=(st,Dt)=>{const re=st.dom;if(re.nodeType!==at)return!1;{const de=re;if(de.matches!==void 0)return de.matches(Dt);if(de.msMatchesSelector!==void 0)return de.msMatchesSelector(Dt);if(de.webkitMatchesSelector!==void 0)return de.webkitMatchesSelector(Dt);if(de.mozMatchesSelector!==void 0)return de.mozMatchesSelector(Dt);throw new Error("Browser lacks native selectors")}},Vt=(st,Dt,re)=>{let de=st.dom;const De=Ue(re)?re:Tn;for(;de.parentNode;){de=de.parentNode;const G=Gt.fromDom(de);if(Dt(G))return gn.some(G);if(De(G))break}return gn.none()},En=(st,Dt,re)=>We((De,G)=>G(De),Vt,st,Dt,re),et=(st,Dt,re)=>En(st,Dt,re).isSome(),rn=(st,Dt,re)=>Vt(st,de=>Te(de,Dt),re),Pe=(st,Dt,re)=>We((De,G)=>Te(De,G),rn,st,Dt,re),gt=st=>{const Dt=Bt(st);Dt.length>0&&st.ui.registry.addContextToolbar("quickblock",{predicate:re=>{const de=Gt.fromDom(re),De=st.schema.getTextBlockElements(),G=pe=>pe.dom===st.getBody();return!bo(de,"data-mce-bogus")&&Pe(de,'table,[data-mce-bogus="all"]',G).fold(()=>et(de,pe=>ke(pe)in De&&st.dom.isEmpty(pe.dom),G),Tn)},items:Dt,position:"line",scope:"editor"})},U=st=>st.dom.classList!==void 0,ko=(st,Dt)=>U(st)&&st.dom.classList.contains(Dt),wt=st=>{const Dt=pe=>st.dom.isEditable(pe),re=pe=>Dt(pe.parentElement),de=pe=>{const Ce=pe.nodeName==="FIGURE"&&/image/i.test(pe.className),Oe=pe.nodeName==="IMG"||Ce,Tt=ko(Gt.fromDom(pe),"mce-pagebreak");return Oe&&re(pe)&&!Tt},De=lt(st);De.length>0&&st.ui.registry.addContextToolbar("imageselection",{predicate:de,items:De,position:"node"});const G=zt(st);G.length>0&&st.ui.registry.addContextToolbar("textselection",{predicate:pe=>!de(pe)&&!st.selection.isCollapsed()&&Dt(pe),items:G,position:"selection",scope:"editor"})};var Yt=()=>{p.add("quickbars",st=>{$t(st),J(st),gt(st),wt(st)})};Yt()})();(function(){var p=tinymce.util.Tools.resolve("tinymce.PluginManager");const v=pe=>Ce=>pe===Ce,E=v(null),z=v(void 0),F=pe=>pe==null,H=pe=>!F(pe),q=()=>{},Re=(pe=>()=>pe)(!1);class Ue{constructor(Ce,Oe){this.tag=Ce,this.value=Oe}static some(Ce){return new Ue(!0,Ce)}static none(){return Ue.singletonNone}fold(Ce,Oe){return this.tag?Oe(this.value):Ce()}isSome(){return this.tag}isNone(){return!this.tag}map(Ce){return this.tag?Ue.some(Ce(this.value)):Ue.none()}bind(Ce){return this.tag?Ce(this.value):Ue.none()}exists(Ce){return this.tag&&Ce(this.value)}forall(Ce){return!this.tag||Ce(this.value)}filter(Ce){return!this.tag||Ce(this.value)?this:Ue.none()}getOr(Ce){return this.tag?this.value:Ce}or(Ce){return this.tag?this:Ce}getOrThunk(Ce){return this.tag?this.value:Ce()}orThunk(Ce){return this.tag?this:Ce()}getOrDie(Ce){if(this.tag)return this.value;throw new Error(Ce!=null?Ce:"Called getOrDie on None")}static from(Ce){return H(Ce)?Ue.some(Ce):Ue.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ce){this.tag&&Ce(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ue.singletonNone=new Ue(!1);const Xe=(pe,Ce)=>{for(let Oe=0,Tt=pe.length;Oe<Tt;Oe++){const Ie=pe[Oe];if(Ce(Ie,Oe))return!0}return!1},$t=(pe,Ce)=>{const Oe=pe.length,Tt=new Array(Oe);for(let Ie=0;Ie<Oe;Ie++){const ut=pe[Ie];Tt[Ie]=Ce(ut,Ie)}return Tt},zt=(pe,Ce)=>{for(let Oe=0,Tt=pe.length;Oe<Tt;Oe++){const Ie=pe[Oe];Ce(Ie,Oe)}},Bt=pe=>{let Ce=pe;return{get:()=>Ce,set:Ie=>{Ce=Ie}}},lt=(pe,Ce)=>{let Oe=null;const Tt=()=>{E(Oe)||(clearTimeout(Oe),Oe=null)};return{cancel:Tt,throttle:(...ut)=>{Tt(),Oe=setTimeout(()=>{Oe=null,pe.apply(null,ut)},Ce)}}},It=(pe,Ce)=>{pe.insertContent(Ce)},Me=Object.keys,tt=Object.hasOwnProperty,qe=(pe,Ce)=>{const Oe=Me(pe);for(let Tt=0,Ie=Oe.length;Tt<Ie;Tt++){const ut=Oe[Tt],Lt=pe[ut];Ce(Lt,ut)}},ae=(pe,Ce)=>vt(pe,(Oe,Tt)=>({k:Tt,v:Ce(Oe,Tt)})),vt=(pe,Ce)=>{const Oe={};return qe(pe,(Tt,Ie)=>{const ut=Ce(Tt,Ie);Oe[ut.k]=ut.v}),Oe},Pn=(pe,Ce)=>tt.call(pe,Ce),Zt=(pe=>(...Ce)=>{if(Ce.length===0)throw new Error("Can't merge zero objects");const Oe={};for(let Tt=0;Tt<Ce.length;Tt++){const Ie=Ce[Tt];for(const ut in Ie)Pn(Ie,ut)&&(Oe[ut]=pe(Oe[ut],Ie[ut]))}return Oe})((pe,Ce)=>Ce),Tn=pe=>{const Ce=Bt(Ue.none()),Oe=()=>Ce.get().each(pe);return{clear:()=>{Oe(),Ce.set(Ue.none())},isSet:()=>Ce.get().isSome(),get:()=>Ce.get(),set:Sn=>{Oe(),Ce.set(Ue.some(Sn))}}},gn=()=>{const pe=Tn(q),Ce=Oe=>pe.get().each(Oe);return Pt(ie({},pe),{on:Ce})},at=(pe,Ce,Oe)=>Ce===""||pe.length>=Ce.length&&pe.substr(Oe,Oe+Ce.length)===Ce,ke=(pe,Ce,Oe=0,Tt)=>{const Ie=pe.indexOf(Ce,Oe);return Ie!==-1?z(Tt)?!0:Ie+Ce.length<=Tt:!1},bo=(pe,Ce)=>at(pe,Ce,0);var We=tinymce.util.Tools.resolve("tinymce.Resource");const Ye="tinymce.plugins.emoticons",x=pe=>Ce=>Ce.options.get(pe),bt=(pe,Ce)=>{const Oe=pe.options.register;Oe("emoticons_database",{processor:"string",default:"emojis"}),Oe("emoticons_database_url",{processor:"string",default:`${Ce}/js/${_e(pe)}${pe.suffix}.js`}),Oe("emoticons_database_id",{processor:"string",default:Ye}),Oe("emoticons_append",{processor:"object",default:{}}),Oe("emoticons_images_url",{processor:"string",default:"https://cdnjs.cloudflare.com/ajax/libs/twemoji/15.1.0/72x72/"})},_e=x("emoticons_database"),Ht=x("emoticons_database_url"),Gt=x("emoticons_database_id"),Te=x("emoticons_append"),Vt=x("emoticons_images_url"),En="All",et={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},rn=(pe,Ce)=>Pn(pe,Ce)?pe[Ce]:Ce,Pe=pe=>{const Ce=Te(pe);return ae(Ce,Oe=>ie({keywords:[],category:"user"},Oe))},gt=(pe,Ce,Oe)=>{const Tt=gn(),Ie=gn(),ut=Vt(pe),Lt=Un=>bo(Un.char,"<img")?Un.char.replace(/src="([^"]+)"/,(Vn,Ho)=>`src="${ut}${Ho}"`):Un.char,Sn=Un=>{const Vn={},Ho=[];qe(Un,(Ln,Wo)=>{const _s={title:Wo,keywords:Ln.keywords,char:Lt(Ln),category:rn(et,Ln.category)},es=Vn[_s.category]!==void 0?Vn[_s.category]:[];Vn[_s.category]=es.concat([_s]),Ho.push(_s)}),Tt.set(Vn),Ie.set(Ho)};pe.on("init",()=>{We.load(Oe,Ce).then(Un=>{const Vn=Pe(pe);Sn(Zt(Un,Vn))},Un=>{console.log(`Failed to load emojis: ${Un}`),Tt.set({}),Ie.set([])})});const rt=Un=>Un===En?ft():Tt.get().bind(Vn=>Ue.from(Vn[Un])).getOr([]),ft=()=>Ie.get().getOr([]),an=()=>[En].concat(Me(Tt.get().getOr({}))),pn=()=>po()?Promise.resolve(!0):new Promise((Un,Vn)=>{let Ho=15;const Ln=setInterval(()=>{po()?(clearInterval(Ln),Un(!0)):(Ho--,Ho<0&&(console.log("Could not load emojis from url: "+Ce),clearInterval(Ln),Vn(!1)))},100)}),po=()=>Tt.isSet()&&Ie.isSet();return{listCategories:an,hasLoaded:po,waitForLoad:pn,listAll:ft,listCategory:rt}},U=(pe,Ce)=>ke(pe.title.toLowerCase(),Ce)||Xe(pe.keywords,Oe=>ke(Oe.toLowerCase(),Ce)),ko=(pe,Ce,Oe)=>{const Tt=[],Ie=Ce.toLowerCase(),ut=Oe.fold(()=>Re,Lt=>Sn=>Sn>=Lt);for(let Lt=0;Lt<pe.length&&!((Ce.length===0||U(pe[Lt],Ie))&&(Tt.push({value:pe[Lt].char,text:pe[Lt].title,icon:pe[Lt].char}),ut(Tt.length)));Lt++);return Tt},wt="pattern",Yt=(pe,Ce)=>{const Oe={pattern:"",results:ko(Ce.listAll(),"",Ue.some(300))},Tt=Bt(En),Ie=an=>{const pn=an.getData(),po=Tt.get(),Un=Ce.listCategory(po),Vn=ko(Un,pn[wt],po===En?Ue.some(300):Ue.none());an.setData({results:Vn})},ut=lt(an=>{Ie(an)},200),Lt={label:"Search",type:"input",name:wt},Sn={type:"collection",name:"results"},rt=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:$t(Ce.listCategories(),pn=>({title:pn,name:pn,items:[Lt,Sn]}))},initialData:Oe,onTabChange:(pn,po)=>{Tt.set(po.newTabName),ut.throttle(pn)},onChange:ut.throttle,onAction:(pn,po)=>{po.name==="results"&&(It(pe,po.value),pn.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),ft=pe.windowManager.open(rt());ft.focus(wt),Ce.hasLoaded()||(ft.block("Loading emojis..."),Ce.waitForLoad().then(()=>{ft.redial(rt()),ut.throttle(ft),ft.focus(wt),ft.unblock()}).catch(an=>{ft.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),ft.focus(wt),ft.unblock()}))},st=(pe,Ce)=>{pe.addCommand("mceEmoticons",()=>Yt(pe,Ce))},Dt=pe=>{pe.on("PreInit",()=>{pe.parser.addAttributeFilter("data-emoticon",Ce=>{zt(Ce,Oe=>{Oe.attr("data-mce-resize","false"),Oe.attr("data-mce-placeholder","1")})})})},re=(pe,Ce)=>{pe.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(Oe,Tt)=>Ce.waitForLoad().then(()=>{const Ie=Ce.listAll();return ko(Ie,Oe,Ue.some(Tt))}),onAction:(Oe,Tt,Ie)=>{pe.selection.setRng(Tt),pe.insertContent(Ie),Oe.hide()}})},de=pe=>Ce=>{const Oe=()=>{Ce.setEnabled(pe.selection.isEditable())};return pe.on("NodeChange",Oe),Oe(),()=>{pe.off("NodeChange",Oe)}},De=pe=>{const Ce=()=>pe.execCommand("mceEmoticons");pe.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:Ce,onSetup:de(pe)}),pe.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:Ce,onSetup:de(pe)})};var G=()=>{p.add("emoticons",(pe,Ce)=>{bt(pe,Ce);const Oe=Ht(pe),Tt=Gt(pe),Ie=gt(pe,Oe,Tt);return st(pe,Ie),De(pe),re(pe,Ie),Dt(pe),{getAllEmojis:()=>Ie.waitForLoad().then(()=>Ie.listAll())}})};G()})();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:!1,category:"flags"}});(function(){var p=tinymce.util.Tools.resolve("tinymce.PluginManager");const v=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let E=0;const z=V=>{const $e=new Date().getTime(),kt=Math.floor(v()*1e9);return E++,V+"_"+kt+E+String($e)},F=(V,be,$e)=>{var kt;return $e(V,be.prototype)?!0:((kt=V.constructor)===null||kt===void 0?void 0:kt.name)===be.name},H=V=>{const be=typeof V;return V===null?"null":be==="object"&&Array.isArray(V)?"array":be==="object"&&F(V,String,($e,kt)=>kt.isPrototypeOf($e))?"string":be},q=V=>be=>H(be)===V,Y=V=>be=>typeof be===V,Re=q("string"),Ue=Y("boolean"),Xe=V=>V==null,$t=V=>!Xe(V),zt=Y("function"),Bt=Y("number"),lt=(V,be)=>$e=>V(be($e)),It=V=>()=>V,Me=(V,be)=>V===be,tt=It(!1);class qe{constructor(be,$e){this.tag=be,this.value=$e}static some(be){return new qe(!0,be)}static none(){return qe.singletonNone}fold(be,$e){return this.tag?$e(this.value):be()}isSome(){return this.tag}isNone(){return!this.tag}map(be){return this.tag?qe.some(be(this.value)):qe.none()}bind(be){return this.tag?be(this.value):qe.none()}exists(be){return this.tag&&be(this.value)}forall(be){return!this.tag||be(this.value)}filter(be){return!this.tag||be(this.value)?this:qe.none()}getOr(be){return this.tag?this.value:be}or(be){return this.tag?this:be}getOrThunk(be){return this.tag?this.value:be()}orThunk(be){return this.tag?this:be()}getOrDie(be){if(this.tag)return this.value;throw new Error(be!=null?be:"Called getOrDie on None")}static from(be){return $t(be)?qe.some(be):qe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(be){this.tag&&be(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}qe.singletonNone=new qe(!1);const ae=Array.prototype.indexOf,vt=(V,be)=>ae.call(V,be),Pn=(V,be)=>vt(V,be)>-1,Nt=(V,be)=>{const $e=V.length,kt=new Array($e);for(let lo=0;lo<$e;lo++){const $=V[lo];kt[lo]=be($,lo)}return kt},J=(V,be)=>{for(let $e=0,kt=V.length;$e<kt;$e++){const lo=V[$e];be(lo,$e)}},Zt=(V,be)=>{const $e=[];for(let kt=0,lo=V.length;kt<lo;kt++){const $=V[kt];be($,kt)&&$e.push($)}return $e},Tn=(V,be,$e)=>(J(V,(kt,lo)=>{$e=be($e,kt,lo)}),$e),gn=Object.keys,at=(V,be)=>{const $e=gn(V);for(let kt=0,lo=$e.length;kt<lo;kt++){const $=$e[kt],oe=V[$];be(oe,$)}};typeof window!="undefined"||Function("return this;")();const ke=8,bo=9,We=11,Ye=1,x=3,bt=V=>V.dom.nodeName.toLowerCase(),_e=V=>V.dom.nodeType,Ht=V=>be=>_e(be)===V,Gt=V=>_e(V)===ke||bt(V)==="#comment",Te=Ht(Ye),Vt=Ht(x),En=Ht(bo),et=Ht(We),rn=(V,be,$e)=>{if(Re($e)||Ue($e)||Bt($e))V.setAttribute(be,$e+"");else throw console.error("Invalid call to Attribute.set. Key ",be,":: Value ",$e,":: Element ",V),new Error("Attribute value was not simple")},Pe=(V,be,$e)=>{rn(V.dom,be,$e)},gt=(V,be)=>{const $e=V.dom;at(be,(kt,lo)=>{rn($e,lo,kt)})},U=(V,be)=>{const $e=V.dom.getAttribute(be);return $e===null?void 0:$e},ko=(V,be)=>qe.from(U(V,be)),wt=(V,be)=>{V.dom.removeAttribute(be)},Yt=V=>Tn(V.dom.attributes,(be,$e)=>(be[$e.name]=$e.value,be),{}),st=(V,be)=>{const kt=(be||document).createElement("div");if(kt.innerHTML=V,!kt.hasChildNodes()||kt.childNodes.length>1){const lo="HTML does not have a single root node";throw console.error(lo,V),new Error(lo)}return de(kt.childNodes[0])},Dt=(V,be)=>{const kt=(be||document).createElement(V);return de(kt)},re=(V,be)=>{const kt=(be||document).createTextNode(V);return de(kt)},de=V=>{if(V==null)throw new Error("Node cannot be null or undefined");return{dom:V}},G={fromHtml:st,fromTag:Dt,fromText:re,fromDom:de,fromPoint:(V,be,$e)=>qe.from(V.dom.elementFromPoint(be,$e)).map(de)},pe=(V,be)=>{const $e=V.dom;if($e.nodeType!==Ye)return!1;{const kt=$e;if(kt.matches!==void 0)return kt.matches(be);if(kt.msMatchesSelector!==void 0)return kt.msMatchesSelector(be);if(kt.webkitMatchesSelector!==void 0)return kt.webkitMatchesSelector(be);if(kt.mozMatchesSelector!==void 0)return kt.mozMatchesSelector(be);throw new Error("Browser lacks native selectors")}},Ce=V=>V.nodeType!==Ye&&V.nodeType!==bo&&V.nodeType!==We||V.childElementCount===0,Oe=(V,be)=>{const $e=be===void 0?document:be.dom;return Ce($e)?[]:Nt($e.querySelectorAll(V),G.fromDom)},Tt=(V,be)=>{const $e=be===void 0?document:be.dom;return Ce($e)?qe.none():qe.from($e.querySelector(V)).map(G.fromDom)},Ie=(V,be)=>V.dom===be.dom,ut=pe,Lt=(V,be,$e=Me)=>V.exists(kt=>$e(kt,be)),rt=(V=>be=>be.replace(V,""))(/^\s+|\s+$/g),ft=V=>V.style!==void 0&&zt(V.style.getPropertyValue),an=V=>G.fromDom(V.dom.ownerDocument),pn=V=>En(V)?V:an(V),po=V=>qe.from(V.dom.parentNode).map(G.fromDom),Un=(V,be)=>{const $e=zt(be)?be:tt;let kt=V.dom;const lo=[];for(;kt.parentNode!==null&&kt.parentNode!==void 0;){const $=kt.parentNode,oe=G.fromDom($);if(lo.push(oe),$e(oe)===!0)break;kt=$}return lo},Vn=V=>qe.from(V.dom.previousSibling).map(G.fromDom),Ho=V=>qe.from(V.dom.nextSibling).map(G.fromDom),Ln=V=>Nt(V.dom.childNodes,G.fromDom),Wo=(V,be)=>{const $e=V.dom.childNodes;return qe.from($e[be]).map(G.fromDom)},_s=V=>Wo(V,0),es=V=>et(V)&&$t(V.dom.host),Gs=V=>G.fromDom(V.dom.getRootNode()),_o=V=>{const be=Gs(V);return es(be)?qe.some(be):qe.none()},Ir=V=>G.fromDom(V.dom.host),on=V=>{const be=Vt(V)?V.dom.parentNode:V.dom;if(be==null||be.ownerDocument===null)return!1;const $e=be.ownerDocument;return _o(G.fromDom(be)).fold(()=>$e.body.contains(be),lt(on,Ir))},Go=(V,be,$e)=>{if(!Re($e))throw console.error("Invalid call to CSS.set. Property ",be,":: Value ",$e,":: Element ",V),new Error("CSS value must be a string: "+$e);ft(V)&&V.style.setProperty(be,$e)},ur=(V,be)=>{ft(V)&&V.style.removeProperty(be)},Qs=(V,be,$e)=>{const kt=V.dom;Go(kt,be,$e)},Ar=(V,be)=>{const $e=V.dom,lo=window.getComputedStyle($e).getPropertyValue(be);return lo===""&&!on(V)?_r($e,be):lo},_r=(V,be)=>ft(V)?V.style.getPropertyValue(be):"",Cs=(V,be)=>{const $e=V.dom,kt=_r($e,be);return qe.from(kt).filter(lo=>lo.length>0)},Jr=(V,be)=>{const $e=V.dom;ur($e,be),Lt(ko(V,"style").map(rt),"")&&wt(V,"style")},Zr=(V,be)=>{po(V).each(kt=>{kt.dom.insertBefore(be.dom,V.dom)})},ys=(V,be)=>{Ho(V).fold(()=>{po(V).each(lo=>{Ps(lo,be)})},kt=>{Zr(kt,be)})},ao=(V,be)=>{_s(V).fold(()=>{Ps(V,be)},kt=>{V.dom.insertBefore(be.dom,kt.dom)})},Ps=(V,be)=>{V.dom.appendChild(be.dom)},Qe=(V,be)=>{Zr(V,be),Ps(be,V)},Ct=(V,be)=>{J(be,($e,kt)=>{const lo=kt===0?V:be[kt-1];ys(lo,$e)})},An=(V,be)=>{J(be,$e=>{Ps(V,$e)})},Fn=(V,be)=>{let $e=[];return J(Ln(V),kt=>{be(kt)&&($e=$e.concat([kt])),$e=$e.concat(Fn(kt,be))}),$e};var jo=(V,be,$e,kt,lo)=>V($e,kt)?qe.some($e):zt(lo)&&lo($e)?qe.none():be($e,kt,lo);const ss=(V,be,$e)=>{let kt=V.dom;const lo=zt($e)?$e:tt;for(;kt.parentNode;){kt=kt.parentNode;const $=G.fromDom(kt);if(be($))return qe.some($);if(lo($))break}return qe.none()},mr=V=>{const be=V.dom;be.parentNode!==null&&be.parentNode.removeChild(be)},yr=V=>{const be=Ln(V);be.length>0&&Ct(V,be),mr(V)},cr=(V,be)=>Oe(be,V),xe=(V,be,$e)=>ss(V,kt=>pe(kt,be),$e),we=(V,be)=>Tt(be,V),ht=(V,be,$e)=>jo((lo,$)=>pe(lo,$),xe,V,be,$e),oo=((V,be)=>{const $e=$=>{if(!V($))throw new Error("Can only get "+be+" value of a "+be+" node");return kt($).getOr("")},kt=$=>V($)?qe.from($.dom.nodeValue):qe.none();return{get:$e,getOption:kt,set:($,oe)=>{if(!V($))throw new Error("Can only set raw "+be+" value of a "+be+" node");$.dom.nodeValue=oe}}})(Vt,"text"),Eo=V=>oo.get(V),Bo=(V,be)=>oo.set(V,be);var ir=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Le=()=>{const V=yt=>G.fromDom(yt.dom.cloneNode(!1)),be=yt=>pn(yt).dom,$e=yt=>Te(yt)?bt(yt)==="body"?!0:Pn(ir,bt(yt)):!1,kt=yt=>Te(yt)?Pn(["br","img","hr","input"],bt(yt)):!1,lo=yt=>Te(yt)&&U(yt,"contenteditable")==="false",$=(yt,Ro)=>yt.dom.compareDocumentPosition(Ro.dom),oe=(yt,Ro)=>{const bs=Yt(yt);gt(Ro,bs)},Ee=yt=>{const Ro=bt(yt);return Pn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Ro)},ct=yt=>Te(yt)?ko(yt,"lang"):qe.none();return{up:It({selector:xe,closest:ht,predicate:ss,all:Un}),down:It({selector:cr,predicate:Fn}),styles:It({get:Ar,getRaw:Cs,set:Qs,remove:Jr}),attrs:It({get:U,set:Pe,remove:wt,copyTo:oe}),insert:It({before:Zr,after:ys,afterAll:Ct,append:Ps,appendAll:An,prepend:ao,wrap:Qe}),remove:It({unwrap:yr,remove:mr}),create:It({nu:G.fromTag,clone:V,text:G.fromText}),query:It({comparePosition:$,prevSibling:Vn,nextSibling:Ho}),property:It({children:Ln,name:bt,parent:po,document:be,isText:Vt,isComment:Gt,isElement:Te,isSpecial:Ee,getLanguage:ct,getText:Eo,setText:Bo,isBoundary:$e,isEmptyTag:kt,isNonEditable:lo}),eq:Ie,is:ut}};const Mo=(V,be)=>({element:V,offset:be}),ze=(V,be,$e)=>V.property().isText(be)&&V.property().getText(be).trim().length===0||V.property().isComment(be)?$e(be).bind(kt=>ze(V,kt,$e).orThunk(()=>qe.some(kt))):qe.none(),Be=(V,be)=>V.property().isText(be)?V.property().getText(be).length:V.property().children(be).length,Qt=(V,be)=>{const $e=ze(V,be,V.query().prevSibling).getOr(be);if(V.property().isText($e))return Mo($e,Be(V,$e));const kt=V.property().children($e);return kt.length>0?Qt(V,kt[kt.length-1]):Mo($e,Be(V,$e))},cn=Qt,zn=Le(),Qn=V=>cn(zn,V),no=(V,be,$e)=>V.dispatch("ToggledAccordion",{element:be,state:$e}),Gn=(V,be,$e)=>V.dispatch("ToggledAllAccordions",{elements:be,state:$e}),io="details",Co="mce-accordion",ds="mce-accordion-summary",Ds="mce-accordion-body",Is="div";var _a=tinymce.util.Tools.resolve("tinymce.util.Tools");const ua=V=>(V==null?void 0:V.nodeName)==="SUMMARY",vo=V=>(V==null?void 0:V.nodeName)==="DETAILS",cs=V=>V.hasAttribute("open"),is=V=>{const be=V.selection.getNode();return ua(be)||!!V.dom.getParent(be,ua)},aa=V=>{const be=V.selection.getRng();return vo(be.startContainer)&&be.collapsed&&be.startOffset===0},Qr=V=>!is(V)&&V.dom.isEditable(V.selection.getNode())&&!V.mode.isReadOnly(),Or=V=>qe.from(V.dom.getParent(V.selection.getNode(),vo)),er=V=>Or(V).isSome(),El=V=>(V.innerHTML='<br data-mce-bogus="1" />',V),Xa=V=>El(V.dom.create("p")),Rs=V=>El(V.dom.create("summary")),pa=(V,be)=>{const $e=Xa(V);be.insertAdjacentElement("afterend",$e),V.selection.setCursorLocation($e,0)},ha=(V,be)=>{if(ua(be==null?void 0:be.lastChild)){const $e=Xa(V);be.appendChild($e),V.selection.setCursorLocation($e,0)}},qr=(V,be)=>{if(!ua(be==null?void 0:be.firstChild)){const $e=Rs(V);be.prepend($e),V.selection.setCursorLocation($e,0)}},yi=V=>be=>{ha(V,be),qr(V,be)},Ba=V=>{_a.each(_a.grep(V.dom.select("details",V.getBody())),yi(V))},Oa=V=>{if(!Qr(V))return;const be=G.fromDom(V.getBody()),$e=z("acc"),kt=V.dom.encode(V.selection.getRng().toString()||V.translate("Accordion summary...")),lo=V.dom.encode(V.translate("Accordion body...")),$=`<summary class="${ds}">${kt}</summary>`,oe=`<${Is} class="${Ds}"><p>${lo}</p></${Is}>`;V.undoManager.transact(()=>{V.insertContent([`<details data-mce-id="${$e}" class="${Co}" open="open">`,$,oe,"</details>"].join("")),we(be,`[data-mce-id="${$e}"]`).each(Ee=>{wt(Ee,"data-mce-id"),we(Ee,"summary").each(ct=>{const yt=V.dom.createRng(),Ro=Qn(ct);yt.setStart(Ro.element.dom,Ro.offset),yt.setEnd(Ro.element.dom,Ro.offset),V.selection.setRng(yt)})})})},Ja=(V,be)=>{const $e=be!=null?be:!cs(V);return $e?V.setAttribute("open","open"):V.removeAttribute("open"),$e},Qa=(V,be)=>{Or(V).each($e=>{no(V,$e,Ja($e,be))})},Mi=V=>{V.mode.isReadOnly()||Or(V).each(be=>{const{nextSibling:$e}=be;$e?(V.selection.select($e,!0),V.selection.collapse(!0)):pa(V,be),be.remove()})},Pi=(V,be)=>{const $e=Array.from(V.getBody().querySelectorAll("details"));$e.length!==0&&(J($e,kt=>Ja(kt,be!=null?be:!cs(kt))),Gn(V,$e,be))},ei=V=>{V.addCommand("InsertAccordion",()=>Oa(V)),V.addCommand("ToggleAccordion",(be,$e)=>Qa(V,$e)),V.addCommand("ToggleAllAccordions",(be,$e)=>Pi(V,$e)),V.addCommand("RemoveAccordion",()=>Mi(V))};var Da=tinymce.util.Tools.resolve("tinymce.html.Node");const Gr=V=>{var be,$e;return($e=(be=V.attr("class"))===null||be===void 0?void 0:be.split(" "))!==null&&$e!==void 0?$e:[]},ti=(V,be)=>{const $e=new Set([...Gr(V),...be]),kt=Array.from($e);kt.length>0&&V.attr("class",kt.join(" "))},bi=(V,be)=>{const $e=Zt(Gr(V),kt=>!be.has(kt));V.attr("class",$e.length>0?$e.join(" "):null)},Bi=V=>V.name===io&&Pn(Gr(V),Co),qc=V=>V.name===Is&&Pn(Gr(V),Ds),Lr=V=>{const be=V.children();let $e,kt;const lo=[];for(let $=0;$<be.length;$++){const oe=be[$];oe.name==="summary"&&Xe($e)?$e=oe:qc(oe)&&Xe(kt)?kt=oe:lo.push(oe)}return{summaryNode:$e,wrapperNode:kt,otherNodes:lo}},Va=V=>{const be=new Da("br",1);be.attr("data-mce-bogus","1"),V.empty(),V.append(be)},ya=V=>{V.on("PreInit",()=>{const{serializer:be,parser:$e}=V;$e.addNodeFilter(io,kt=>{for(let lo=0;lo<kt.length;lo++){const $=kt[lo];if(Bi($)){const oe=$,{summaryNode:Ee,wrapperNode:ct,otherNodes:yt}=Lr(oe),Ro=$t(Ee),bs=Ro?Ee:new Da("summary",1);Xe(bs.firstChild)&&Va(bs),ti(bs,[ds]),Ro||($t(oe.firstChild)?oe.insert(bs,oe.firstChild,!0):oe.append(bs));const Ls=$t(ct),nn=Ls?ct:new Da(Is,1);if(nn.attr("data-mce-bogus","1"),ti(nn,[Ds]),yt.length>0)for(let Bs=0;Bs<yt.length;Bs++){const ba=yt[Bs];nn.append(ba)}if(Xe(nn.firstChild)){const Bs=new Da("p",1);Va(Bs),nn.append(Bs)}Ls||oe.append(nn)}}}),be.addNodeFilter(io,kt=>{const lo=new Set([ds]);for(let $=0;$<kt.length;$++){const oe=kt[$];if(Bi(oe)){const Ee=oe,{summaryNode:ct,wrapperNode:yt}=Lr(Ee);$t(ct)&&bi(ct,lo),$t(yt)&&yt.unwrap()}}})})};var Ra=tinymce.util.Tools.resolve("tinymce.util.VK");const Xi=V=>{V.on("keydown",be=>{(!be.shiftKey&&be.keyCode===Ra.ENTER&&is(V)||aa(V))&&(be.preventDefault(),V.execCommand("ToggleAccordion"))})},Ji=V=>{Xi(V),V.on("ExecCommand",be=>{const $e=be.command.toLowerCase();($e==="delete"||$e==="forwarddelete")&&er(V)&&Ba(V)})};var ee=tinymce.util.Tools.resolve("tinymce.Env");const ve=V=>{ee.browser.isSafari()&&V.on("click",be=>{if(ua(be.target)){const $e=be.target,kt=V.selection.getRng();kt.collapsed&&kt.startContainer===$e.parentNode&&kt.startOffset===0&&V.selection.setCursorLocation($e,0)}})},Ze=V=>be=>{const $e=()=>be.setEnabled(Qr(V));return V.on("NodeChange",$e),()=>V.off("NodeChange",$e)},Ut=V=>{const be=()=>V.execCommand("InsertAccordion");V.ui.registry.addButton("accordion",{icon:"accordion",tooltip:"Insert accordion",onSetup:Ze(V),onAction:be}),V.ui.registry.addMenuItem("accordion",{icon:"accordion",text:"Accordion",onSetup:Ze(V),onAction:be}),V.ui.registry.addToggleButton("accordiontoggle",{icon:"accordion-toggle",tooltip:"Toggle accordion",onAction:()=>V.execCommand("ToggleAccordion")}),V.ui.registry.addToggleButton("accordionremove",{icon:"remove",tooltip:"Delete accordion",onAction:()=>V.execCommand("RemoveAccordion")}),V.ui.registry.addContextToolbar("accordion",{predicate:$e=>V.dom.is($e,"details")&&V.getBody().contains($e)&&V.dom.isEditable($e.parentNode),items:"accordiontoggle accordionremove",scope:"node",position:"node"})};var mn=()=>{p.add("accordion",V=>{Ut(V),ei(V),Ji(V),ya(V),ve(V)})};mn()})();window.Alpine=rQ;rQ.start();tinymce.init({selector:"textarea",license_key:"gpl",skin:!1,content_css:!1,plugins:["preview","importcss","searchreplace","autolink","autosave","save","directionality","code","visualblocks","visualchars","fullscreen","image","link","media","codesample","table","charmap","pagebreak","nonbreaking","anchor","insertdatetime","advlist","lists","wordcount","help","quickbars","emoticons","accordion"],menubar:["file","edit","view","insert","format","tools","table","help"],toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table mergetags | addcomment showcomments | spellcheckdialog a11ycheck typography | align lineheight | checklist numlist bullist indent outdent | emoticons charmap | removeformat"})});export default roe();
